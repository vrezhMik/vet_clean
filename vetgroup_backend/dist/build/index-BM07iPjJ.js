const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ListView-BL7cU63G.js","strapi-D25h1bXE.js","strapi-D6821bIJ.css","sortable.esm-smdJ416b.js","index-CfyMhGIF.js","groupBy-DlmCyHEI.js","_baseEach-DOQRExlN.js","sortBy-CHKj9jF9.js","_baseMap-C5glgzDn.js","index-CBHqY7pY.js","index-BRVyLNfZ.js"])))=>i.map(i=>d[i]);
import{j as g,$ as ze,f as Te,q as yv,T as Fe,l as vt,r as K,L as hd,dH as yE,cX as ji,db as bE,bB as md,fY as gd,hv as Di,da as xE,I as dr,k as vd,h5 as Wn,bU as hi,hw as wE,cH as Vr,bX as _E,cz as pn,D as gt,w as Sa,hx as xs,hy as bv,a as mt,hz as xv,di as kE,hA as CE,fN as SE,hB as wv,dk as EE,dl as TE,dm as AE,dh as jE,bV as ol,aX as qr,H as ur,gX as xa,gD as Ds,cr as po,b8 as $i,fq as Ls,b as Li,cq as _v,bw as yd,bE as sl,fz as IE,a3 as kv,E as Cv,cW as RE,hC as Sv,hD as Ev,cC as Tn,el as OE,aJ as li,bK as bd,ct as ll,hE as Tv,dZ as Av,h0 as FE,hF as xd,hG as ci,a6 as ws,e7 as ME,bi as zE,b7 as Mi,cJ as ai,bm as cl,dP as NE,bF as jv,c$ as wd,c as Iv,bI as Pi,bJ as Co,cd as Rv,hH as $E,eZ as Kt,hI as PE,p as ul,o as Ov,hJ as DE,hK as LE,al as fo,a4 as BE,hL as Gt,hM as Oh,bL as UE,hN as ZE,M as tt,gE as Fv,ap as HE,ar as _s,as as Fh,hO as qE,hP as WE,at as VE,au as GE,aw as Ja,av as Hc,aq as Mh,ax as zh,ay as KE,an as JE,hQ as Nh,ao as YE,az as XE,am as QE,hR as _d,s as Mv,aH as eT,aQ as tT,d8 as lr,aV as Wr,aW as qn,hS as zv,hT as Nv,eD as $v,cO as nT,cP as rT,hU as $h,hV as iT,hW as aT,hX as oT,hY as sT,ab as lT,hZ as cT,h_ as uT,h$ as dT,i0 as pT,i1 as fT,i2 as hT,i3 as mT,i4 as gT,g_ as vT,i5 as yT,i6 as bT,hq as xT,i7 as wT,i8 as _T,i9 as kT,ia as CT,F as Pv,ib as ST,dJ as ET,ic as TT,id as AT,ie as jT,ig as IT,ft as RT,ih as OT,eU as FT,ii as MT,ij as zT,ik as NT,il as $T,im as PT,h as DT,cw as LT,io as qc,ip as Dv,iq as Lv,ir as Bv,is as BT,it as UT,iu as ZT,iv as HT,iw as qT,ix as WT,iy as Uv,iz as Zv,iA as Hv,iB as VT,cZ as GT,iC as KT,iD as JT,ae as YT,fg as XT,af as QT,a9 as eA,iE as tA,fA as nA,hp as rA,iF as iA,iG as aA,iH as oA,iI as sA,gb as lA,iJ as cA,iK as uA,iL as dA,f$ as pA,iM as fA,iN as hA,iO as mA,iP as gA,iQ as vA,ah as qv,iR as yA,bZ as bA,iS as xA,iT as wA,ac as _A,iU as kA,iV as CA,iW as SA,iX as EA,iY as TA,iZ as AA,i_ as jA,i$ as IA,j0 as RA,j1 as OA,j2 as FA,cD as MA,j3 as zA,j4 as NA,j5 as $A,j6 as PA,j7 as DA,j8 as LA,j9 as BA,ja as UA,jb as ZA,jc as HA,jd as qA,je as WA,jf as VA,jg as GA,jh as KA,ji as JA,jj as YA,jk as XA,bn as dl,jl as Wv,d2 as QA,f3 as ej,d1 as tj,jm as nj,cu as rj,eL as ij,jn as rn,jo as aj,jp as oj,dB as sj,jq as lj,jr as cj,js as Vv,gu as uj,gT as dj,jt as pj,ju as fj,jv as hj,jw as mj,fy as kd,N as gj,O as vj,jx as Gv,eB as Kv,jy as yj,jz as bj,jA as xj,bM as sr,bf as ho,b2 as Ft,b3 as Yt,jB as Wc,b1 as Ht,eV as wj,bd as Ph,jC as to,jD as Jv,jE as _j,jF as kj,V as Cj,cn as Sj,bA as Ej,cm as Tj,gC as Aj,P as Vc,jG as jj,jH as Ij,C as Rj,R as Oj,Q as ks,_ as Fj}from"./strapi-D25h1bXE.js";import{P as It}from"./index-CfyMhGIF.js";import{g as Mj}from"./groupBy-DlmCyHEI.js";import{s as zj}from"./sortBy-CHKj9jF9.js";import{f as Nj}from"./index-CBHqY7pY.js";const Cs={danger:{background:"danger100",borderColor:"danger200",textColor:"danger700"},warning:{background:"warning100",borderColor:"warning200",textColor:"warning600"}},Ya=({title:e,variant:t="danger"})=>g.jsx(ze,{padding:3,background:Cs[t].background,borderColor:Cs[t].borderColor,hasRadius:!0,width:"100%",children:g.jsxs(Te,{gap:2,children:[g.jsx(yv,{style:{minWidth:"16px"},fill:Cs[t].textColor}),g.jsx(Fe,{variant:"omega",textColor:Cs[t].textColor,children:e})]})}),Yv=vt(ze)`
  opacity: 0;
  transform: ${({$direction:e="up"})=>e==="up"?"translateY(10px)":"translateX(-10px)"};

  @media (prefers-reduced-motion: no-preference) {
    animation: ${({$direction:e="up"})=>e==="up"?"appearUp":"appearLeft"}
      ${({theme:e})=>e.motion.timings[200]}
      ${({theme:e})=>e.motion.easings.easeOutQuad} forwards;
  }

  @keyframes appearUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes appearLeft {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
`;var $j={STRAPI_AI_URL:"https://strapi-ai.apps.strapi.io"};const Xv="application/vnd.strapi.code",Gc=15,Pj=15*1024*1024,Qv=$j.STRAPI_AI_URL?.replace(/\/+$/,"")??"https://strapi-ai.apps.strapi.io",Dj=`${Qv}/schemas/chat`,Lj=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),Bj=e=>e.startsWith("data:image/"),Cd=({src:e,alt:t,inferSize:n=!1,onLoad:r,onError:a,...s})=>{const[o,c]=K.useState(null),[u,p]=K.useState({}),[d,h]=K.useState(!0),[v,y]=K.useState(!1);K.useEffect(()=>{(async()=>{if(h(!0),y(!1),Bj(e)){c(e),h(!1);return}try{const k=new URL(e);if(["strapi-ai-staging.s3.us-east-1.amazonaws.com","strapi-ai-production.s3.us-east-1.amazonaws.com"].includes(k.hostname)){c(e),h(!1);return}}catch{}try{const k=await fetch(e);if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const C=await k.blob(),T=await Lj(C);c(T),h(!1)}catch(k){console.error("Error converting image to base64:",k),y(!0),h(!1)}})()},[e,a]);const m=b=>{if(n){const{naturalWidth:k,naturalHeight:C}=b.currentTarget;p({width:k,height:C})}r&&r(b)};if(d)return g.jsx(Te,{direction:"column",gap:2,alignItems:"center",width:"100%",children:g.jsx(hd,{small:!0})});if(v)return g.jsx(Te,{direction:"column",gap:2,alignItems:"center",width:"100%",children:g.jsx(yE,{width:24,height:24,fill:"danger600"})});const x={src:o||"",alt:t,onLoad:m,...s};return n&&!s.width&&!s.height&&u.width&&u.height&&(x.width=u.width,x.height=u.height),o?g.jsx("img",{...x}):null},pa={fadeIn:ji`
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  `,scaleIn:ji`
    from {
      opacity: 0;
      transform: scale(0.7);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  `,slideUpIn:ji`
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideUpOut:ji`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  `,slideDownIn:ji`
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideDownOut:ji`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  `},ey=K.createContext(void 0),Uj=(e,t)=>`${e}${Math.floor(t*255).toString(16).padStart(2,"0")}`,Zj=vt.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 500;
  pointer-events: auto; /* Explicitly enable pointer events */
  background: ${e=>Uj(e.theme.colors.neutral800,.2)};
`,Hj=vt.div`
  max-width: 80vw;
  max-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto; /* Explicitly enable pointer events */
  position: relative;
  animation: ${pa.scaleIn} 0.3s ease;
`,qj=vt(Cd)`
  max-width: 100%;
  max-height: 90vh;
  object-fit: contain;
  pointer-events: auto; /* Explicitly enable pointer events */
`,Wj=({src:e,alt:t,onClose:n})=>{const r=K.useRef(null),a=K.useRef(null);return K.useEffect(()=>{const s=o=>{if(o.key==="Escape")return o.preventDefault(),o.stopPropagation(),n?.(),o.stopImmediatePropagation(),o.cancelBubble=!0,!1};return window.addEventListener("keydown",s,!0),()=>window.removeEventListener("keydown",s,!0)},[n]),K.useEffect(()=>{const s=p=>{p.target===r.current&&(p.preventDefault(),p.stopPropagation(),n?.())},o=p=>{p.stopPropagation()},c=r.current,u=a.current;return c&&c.addEventListener("click",s),u&&u.addEventListener("click",o),()=>{c&&c.removeEventListener("click",s),u&&u.removeEventListener("click",o)}},[n]),bE.createPortal(g.jsx(Zj,{ref:r,children:g.jsx(Hj,{ref:a,children:g.jsx(qj,{src:e,alt:t})})}),document.body)},Vj=({children:e,src:t,alt:n,onClose:r,defaultOpen:a=!1})=>{const[s,o]=K.useState(a),c=()=>o(!0),u=()=>{o(!1),r?.()};return g.jsxs(ey.Provider,{value:{isOpen:s,open:c,close:u,src:t,alt:n},children:[e,s&&g.jsx(Wj,{src:t,alt:n,onClose:u})]})},Gj=()=>{const e=K.useContext(ey);if(!e)throw new Error("useFullScreenImage must be used within a FullScreenImage.Root");return e},Kj=({children:e,asChild:t=!1})=>{const{open:n}=Gj(),r=a=>{a.stopPropagation(),n()};return t?g.jsx("div",{onClick:r,style:{cursor:"pointer",display:"contents"},children:e}):g.jsx("div",{onClick:r,style:{cursor:"pointer"},children:e})},Bs={Root:Vj,Trigger:Kj},ty=K.createContext({error:null}),Jj=()=>K.useContext(ty),Yj=vt(ze)`
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.neutral100};
  }
`,Xj=({children:e,error:t=null,minWidth:n,maxWidth:r})=>g.jsx(ty.Provider,{value:{error:t},children:g.jsxs(Te,{direction:"column",alignItems:"flex-start",gap:2,minWidth:n,maxWidth:r,children:[g.jsx(Yj,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px",padding:2,width:"100%",children:g.jsx(Te,{gap:2,children:e})}),t&&g.jsx(Fe,{variant:"pi",textColor:"danger500",children:t})]})}),Qj=({children:e})=>{const{error:t}=Jj();return g.jsx(Te,{alignItems:"center",justifyContent:"center",children:t?g.jsx(yv,{fill:"danger500"}):e})},eI=({children:e})=>g.jsx(ze,{grow:1,children:g.jsx(Fe,{variant:"omega",ellipsis:!0,style:{userSelect:"none",maxWidth:"100px"},children:e})}),tI=({onClick:e})=>g.jsx(Te,{alignItems:"center",justifyContent:"center",shrink:0,onClick:e,children:g.jsx(md,{fill:"neutral500"})}),ui={Root:Xj,Preview:Qj,Title:eI,Remove:tI},nI=vt(Cd)`
  width: 24px;
  height: 24px;
  object-fit: cover;
  border-radius: ${({theme:e})=>e.borderRadius};
`,rI=({attachment:e,onRemove:t,...n})=>g.jsx(Bs.Root,{src:e.url,alt:e.filename||"image",children:g.jsx(Bs.Trigger,{asChild:!0,children:g.jsxs(ui.Root,{...n,children:[g.jsx(ui.Preview,{children:e.status==="loading"?g.jsx(hd,{small:!0}):g.jsx(nI,{src:e.url,alt:e.filename})}),g.jsx(ui.Title,{children:e.filename||"unknown"}),t&&g.jsx(ui.Remove,{onClick:t})]})})}),iI=({attachment:e,onRemove:t,...n})=>g.jsxs(ui.Root,{...n,children:[g.jsx(ui.Preview,{children:e.status==="loading"?g.jsx(hd,{small:!0}):g.jsx(gd,{height:24,width:24})}),g.jsx(ui.Title,{children:e.filename||"unknown"}),t&&g.jsx(ui.Remove,{onClick:t})]}),Sd=({attachment:e,onRemove:t,...n})=>e.mediaType?.startsWith("image/")?g.jsx(rI,{attachment:e,onRemove:t,...n}):e.mediaType===Xv?g.jsx(iI,{attachment:e,onRemove:t,...n}):null,aI=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function wa(e,t,n){const r=oI(e),{webkitRelativePath:a}=e,s=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof r.path!="string"&&Dh(r,"path",s),Dh(r,"relativePath",s),r}function oI(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),a=aI.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function Dh(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const sI=[".DS_Store","Thumbs.db"];function lI(e){return Di(this,void 0,void 0,function*(){return Us(e)&&cI(e.dataTransfer)?fI(e.dataTransfer,e.type):uI(e)?dI(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?pI(e):[]})}function cI(e){return Us(e)}function uI(e){return Us(e)&&Us(e.target)}function Us(e){return typeof e=="object"&&e!==null}function dI(e){return Ru(e.target.files).map(t=>wa(t))}function pI(e){return Di(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>wa(n))})}function fI(e,t){return Di(this,void 0,void 0,function*(){if(e.items){const n=Ru(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(hI));return Lh(ny(r))}return Lh(Ru(e.files).map(n=>wa(n)))})}function Lh(e){return e.filter(t=>sI.indexOf(t.name)===-1)}function Ru(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function hI(e){if(typeof e.webkitGetAsEntry!="function")return Bh(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?ry(t):Bh(e,t)}function ny(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?ny(n):[n]],[])}function Bh(e,t){return Di(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,wa(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return wa(r,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function mI(e){return Di(this,void 0,void 0,function*(){return e.isDirectory?ry(e):gI(e)})}function ry(e){const t=e.createReader();return new Promise((n,r)=>{const a=[];function s(){t.readEntries(o=>Di(this,void 0,void 0,function*(){if(o.length){const c=Promise.all(o.map(mI));a.push(c),s()}else try{const c=yield Promise.all(a);n(c)}catch(c){r(c)}}),o=>{r(o)})}s()})}function gI(e){return Di(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const a=wa(r,e.fullPath);t(a)},r=>{n(r)})})})}var Kc=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",a=(e.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return n.some(function(o){var c=o.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?s===c.replace(/\/.*$/,""):a===c})}return!0};function Uh(e){return bI(e)||yI(e)||ay(e)||vI()}function vI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bI(e){if(Array.isArray(e))return Ou(e)}function Zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zh(Object(n),!0).forEach(function(r){iy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mo(e,t){return _I(e)||wI(e,t)||ay(e,t)||xI()}function xI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ay(e,t){if(e){if(typeof e=="string")return Ou(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ou(e,t)}}function Ou(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wI(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,s=!1,o,c;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(u){s=!0,c=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(s)throw c}}return r}}function _I(e){if(Array.isArray(e))return e}var kI=typeof Kc=="function"?Kc:Kc.default,CI="file-invalid-type",SI="file-too-large",EI="file-too-small",TI="too-many-files",AI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:CI,message:"File type must be ".concat(r)}},qh=function(t){return{code:SI,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Wh=function(t){return{code:EI,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},jI={code:TI,message:"Too many files"};function oy(e,t){var n=e.type==="application/x-moz-file"||kI(e,t);return[n,n?null:AI(t)]}function sy(e,t,n){if(Ri(e.size))if(Ri(t)&&Ri(n)){if(e.size>n)return[!1,qh(n)];if(e.size<t)return[!1,Wh(t)]}else{if(Ri(t)&&e.size<t)return[!1,Wh(t)];if(Ri(n)&&e.size>n)return[!1,qh(n)]}return[!0,null]}function Ri(e){return e!=null}function II(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,s=e.multiple,o=e.maxFiles,c=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(u){var p=oy(u,n),d=mo(p,1),h=d[0],v=sy(u,r,a),y=mo(v,1),m=y[0],x=c?c(u):null;return h&&m&&!x})}function Zs(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ss(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Vh(e){e.preventDefault()}function RI(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function OI(e){return e.indexOf("Edge/")!==-1}function FI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return RI(e)||OI(e)}function kr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return t.some(function(c){return!Zs(r)&&c&&c.apply(void 0,[r].concat(s)),Zs(r)})}}function MI(){return"showOpenFilePicker"in window}function zI(e){if(Ri(e)){var t=Object.entries(e).filter(function(n){var r=mo(n,2),a=r[0],s=r[1],o=!0;return ly(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(cy))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var a=mo(r,2),s=a[0],o=a[1];return Hh(Hh({},n),{},iy({},s,o))},{});return[{description:"Files",accept:t}]}return e}function NI(e){if(Ri(e))return Object.entries(e).reduce(function(t,n){var r=mo(n,2),a=r[0],s=r[1];return[].concat(Uh(t),[a],Uh(s))},[]).filter(function(t){return ly(t)||cy(t)}).join(",")}function $I(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function PI(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ly(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function cy(e){return/^.*\.[\w]+$/.test(e)}var DI=["children"],LI=["open"],BI=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],UI=["refKey","onChange","onClick"];function ZI(e){return WI(e)||qI(e)||uy(e)||HI()}function HI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WI(e){if(Array.isArray(e))return Fu(e)}function Jc(e,t){return KI(e)||GI(e,t)||uy(e,t)||VI()}function VI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uy(e,t){if(e){if(typeof e=="string")return Fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fu(e,t)}}function Fu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GI(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,s=!1,o,c;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(u){s=!0,c=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(s)throw c}}return r}}function KI(e){if(Array.isArray(e))return e}function Gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gh(Object(n),!0).forEach(function(r){Mu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hs(e,t){if(e==null)return{};var n=JI(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JI(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var Ed=K.forwardRef(function(e,t){var n=e.children,r=Hs(e,DI),a=py(r),s=a.open,o=Hs(a,LI);return K.useImperativeHandle(t,function(){return{open:s}},[s]),xE.createElement(K.Fragment,null,n(Jt(Jt({},o),{},{open:s})))});Ed.displayName="Dropzone";var dy={disabled:!1,getFilesFromEvent:lI,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Ed.defaultProps=dy;Ed.propTypes={children:It.func,accept:It.objectOf(It.arrayOf(It.string)),multiple:It.bool,preventDropOnDocument:It.bool,noClick:It.bool,noKeyboard:It.bool,noDrag:It.bool,noDragEventsBubbling:It.bool,minSize:It.number,maxSize:It.number,maxFiles:It.number,disabled:It.bool,getFilesFromEvent:It.func,onFileDialogCancel:It.func,onFileDialogOpen:It.func,useFsAccessApi:It.bool,autoFocus:It.bool,onDragEnter:It.func,onDragLeave:It.func,onDragOver:It.func,onDrop:It.func,onDropAccepted:It.func,onDropRejected:It.func,onError:It.func,validator:It.func};var zu={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function py(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Jt(Jt({},dy),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,c=t.multiple,u=t.maxFiles,p=t.onDragEnter,d=t.onDragLeave,h=t.onDragOver,v=t.onDrop,y=t.onDropAccepted,m=t.onDropRejected,x=t.onFileDialogCancel,b=t.onFileDialogOpen,k=t.useFsAccessApi,C=t.autoFocus,T=t.preventDropOnDocument,I=t.noClick,$=t.noKeyboard,M=t.noDrag,B=t.noDragEventsBubbling,U=t.onError,X=t.validator,Y=K.useMemo(function(){return NI(n)},[n]),q=K.useMemo(function(){return zI(n)},[n]),se=K.useMemo(function(){return typeof b=="function"?b:Kh},[b]),R=K.useMemo(function(){return typeof x=="function"?x:Kh},[x]),G=K.useRef(null),_=K.useRef(null),L=K.useReducer(YI,zu),Ce=Jc(L,2),le=Ce[0],de=Ce[1],N=le.isFocused,ce=le.isFileDialogActive,ne=K.useRef(typeof window<"u"&&window.isSecureContext&&k&&MI()),O=function(){!ne.current&&ce&&setTimeout(function(){if(_.current){var he=_.current.files;he.length||(de({type:"closeDialog"}),R())}},300)};K.useEffect(function(){return window.addEventListener("focus",O,!1),function(){window.removeEventListener("focus",O,!1)}},[_,ce,R,ne]);var Re=K.useRef([]),Ee=function(he){G.current&&G.current.contains(he.target)||(he.preventDefault(),Re.current=[])};K.useEffect(function(){return T&&(document.addEventListener("dragover",Vh,!1),document.addEventListener("drop",Ee,!1)),function(){T&&(document.removeEventListener("dragover",Vh),document.removeEventListener("drop",Ee))}},[G,T]),K.useEffect(function(){return!r&&C&&G.current&&G.current.focus(),function(){}},[G,C,r]);var ue=K.useCallback(function(oe){U?U(oe):console.error(oe)},[U]),at=K.useCallback(function(oe){oe.preventDefault(),oe.persist(),ee(oe),Re.current=[].concat(ZI(Re.current),[oe.target]),Ss(oe)&&Promise.resolve(a(oe)).then(function(he){if(!(Zs(oe)&&!B)){var Z=he.length,V=Z>0&&II({files:he,accept:Y,minSize:o,maxSize:s,multiple:c,maxFiles:u,validator:X}),ye=Z>0&&!V;de({isDragAccept:V,isDragReject:ye,isDragActive:!0,type:"setDraggedFiles"}),p&&p(oe)}}).catch(function(he){return ue(he)})},[a,p,ue,B,Y,o,s,c,u,X]),Ve=K.useCallback(function(oe){oe.preventDefault(),oe.persist(),ee(oe);var he=Ss(oe);if(he&&oe.dataTransfer)try{oe.dataTransfer.dropEffect="copy"}catch{}return he&&h&&h(oe),!1},[h,B]),ve=K.useCallback(function(oe){oe.preventDefault(),oe.persist(),ee(oe);var he=Re.current.filter(function(V){return G.current&&G.current.contains(V)}),Z=he.indexOf(oe.target);Z!==-1&&he.splice(Z,1),Re.current=he,!(he.length>0)&&(de({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ss(oe)&&d&&d(oe))},[G,d,B]),Me=K.useCallback(function(oe,he){var Z=[],V=[];oe.forEach(function(ye){var Ie=oy(ye,Y),Be=Jc(Ie,2),ut=Be[0],St=Be[1],yt=sy(ye,o,s),nt=Jc(yt,2),cn=nt[0],bt=nt[1],Tt=X?X(ye):null;if(ut&&cn&&!Tt)Z.push(ye);else{var dt=[St,bt];Tt&&(dt=dt.concat(Tt)),V.push({file:ye,errors:dt.filter(function(hr){return hr})})}}),(!c&&Z.length>1||c&&u>=1&&Z.length>u)&&(Z.forEach(function(ye){V.push({file:ye,errors:[jI]})}),Z.splice(0)),de({acceptedFiles:Z,fileRejections:V,isDragReject:V.length>0,type:"setFiles"}),v&&v(Z,V,he),V.length>0&&m&&m(V,he),Z.length>0&&y&&y(Z,he)},[de,c,Y,o,s,u,v,y,m,X]),xe=K.useCallback(function(oe){oe.preventDefault(),oe.persist(),ee(oe),Re.current=[],Ss(oe)&&Promise.resolve(a(oe)).then(function(he){Zs(oe)&&!B||Me(he,oe)}).catch(function(he){return ue(he)}),de({type:"reset"})},[a,Me,ue,B]),Oe=K.useCallback(function(){if(ne.current){de({type:"openDialog"}),se();var oe={multiple:c,types:q};window.showOpenFilePicker(oe).then(function(he){return a(he)}).then(function(he){Me(he,null),de({type:"closeDialog"})}).catch(function(he){$I(he)?(R(he),de({type:"closeDialog"})):PI(he)?(ne.current=!1,_.current?(_.current.value=null,_.current.click()):ue(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ue(he)});return}_.current&&(de({type:"openDialog"}),se(),_.current.value=null,_.current.click())},[de,se,R,k,Me,ue,q,c]),Ye=K.useCallback(function(oe){!G.current||!G.current.isEqualNode(oe.target)||(oe.key===" "||oe.key==="Enter"||oe.keyCode===32||oe.keyCode===13)&&(oe.preventDefault(),Oe())},[G,Oe]),Xe=K.useCallback(function(){de({type:"focus"})},[]),E=K.useCallback(function(){de({type:"blur"})},[]),pe=K.useCallback(function(){I||(FI()?setTimeout(Oe,0):Oe())},[I,Oe]),W=function(he){return r?null:he},D=function(he){return $?null:W(he)},S=function(he){return M?null:W(he)},ee=function(he){B&&he.stopPropagation()},be=K.useMemo(function(){return function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=oe.refKey,Z=he===void 0?"ref":he,V=oe.role,ye=oe.onKeyDown,Ie=oe.onFocus,Be=oe.onBlur,ut=oe.onClick,St=oe.onDragEnter,yt=oe.onDragOver,nt=oe.onDragLeave,cn=oe.onDrop,bt=Hs(oe,BI);return Jt(Jt(Mu({onKeyDown:D(kr(ye,Ye)),onFocus:D(kr(Ie,Xe)),onBlur:D(kr(Be,E)),onClick:W(kr(ut,pe)),onDragEnter:S(kr(St,at)),onDragOver:S(kr(yt,Ve)),onDragLeave:S(kr(nt,ve)),onDrop:S(kr(cn,xe)),role:typeof V=="string"&&V!==""?V:"presentation"},Z,G),!r&&!$?{tabIndex:0}:{}),bt)}},[G,Ye,Xe,E,pe,at,Ve,ve,xe,$,M,r]),_e=K.useCallback(function(oe){oe.stopPropagation()},[]),ie=K.useMemo(function(){return function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=oe.refKey,Z=he===void 0?"ref":he,V=oe.onChange,ye=oe.onClick,Ie=Hs(oe,UI),Be=Mu({accept:Y,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:W(kr(V,xe)),onClick:W(kr(ye,_e)),tabIndex:-1},Z,_);return Jt(Jt({},Be),Ie)}},[_,n,c,xe,r]);return Jt(Jt({},le),{},{isFocused:N&&!r,getRootProps:be,getInputProps:ie,rootRef:G,inputRef:_,open:W(Oe)})}function YI(e,t){switch(t.type){case"focus":return Jt(Jt({},e),{},{isFocused:!0});case"blur":return Jt(Jt({},e),{},{isFocused:!1});case"openDialog":return Jt(Jt({},zu),{},{isFileDialogActive:!0});case"closeDialog":return Jt(Jt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Jt(Jt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Jt(Jt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Jt({},zu);default:return e}}function Kh(){}const XI=({onAddFiles:e,isEnabled:t=!1})=>{const n=K.useCallback(async r=>{if(!t)return;const a=r.clipboardData?.items;if(!a||a.length===0)return;const s=[];for(const o of a)if(o.kind==="file"){const c=o.getAsFile();c&&c.type.startsWith("image/")&&s.push(c)}s.length>0&&(e(s),r.preventDefault())},[t,e]);K.useEffect(()=>(document.addEventListener("paste",n),()=>{document.removeEventListener("paste",n)}),[n])},fy=K.createContext({}),QI=()=>K.useContext(fy),eR=({children:e,isEnabled:t=!0,onAddFiles:n=()=>{},accept:r={"image/*":[]},...a})=>{XI({onAddFiles:n,isEnabled:t});const{getRootProps:s,isDragActive:o}=py({onDrop:n,noClick:!0,noKeyboard:!0,accept:r});return g.jsx(fy.Provider,{value:{isEnabled:t,isDragActive:o,onAddFiles:n},children:g.jsx(Te,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...s(),...a,children:e})})},tR=({error:e,title:t,...n})=>{const{isEnabled:r,isDragActive:a}=QI();if(!a)return null;const s=t||"Drop images here";return g.jsxs(Te,{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2,cursor:r?"pointer":"not-allowed",width:"100%",height:"100%",borderStyle:"dashed",borderColor:e?"danger600":"primary500",background:e?"danger100":"primary100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,...n,children:[g.jsx(ze,{width:"24px",height:"24px",children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M19.5 13.572L12 6.072L4.5 13.572",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M12 6.072V20.072",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M3.9998 20.072H20.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),g.jsxs(Te,{direction:"column",alignItems:"center",gap:2,children:[g.jsx(Fe,{variant:"omega",textColor:"neutral600",textAlign:"center",children:s}),e&&g.jsx(Fe,{variant:"pi",textColor:"danger600",children:e})]})]})},hy={Root:eR,Area:tR},my=K.createContext({size:"md",position:"bottom-right",isOpen:!1,onToggle:()=>{}}),Jh={sm:{width:"350px",height:"500px"},md:{width:"480px",height:"600px"},lg:{width:"600px",height:"700px"}},nR={"bottom-right":{bottom:4,right:4},"bottom-left":{bottom:4,left:4},"top-right":{top:4,right:4},"top-left":{top:4,left:4}},rR=vt(ze)`
  position: fixed;
  display: flex;
  flex-direction: column;
  z-index: 11;
  align-items: ${({$position:e})=>e.includes("right")?"flex-end":"flex-start"};
  ${({$position:e,theme:t})=>Object.entries(nR[e]).reduce((n,[r,a])=>({...n,[r]:t.spaces[a]}),{})}
`,iR=vt(ze)`
  width: ${({$size:e})=>Jh[e].width};
  max-height: 85vh;
  max-width: 85vw;
  display: flex;
  flex-direction: column;
  height: ${({$size:e})=>Jh[e].height};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: 200ms;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);

    &[data-state='open'] {
      animation-name: ${({$position:e})=>e.startsWith("top")?pa.slideDownIn:pa.slideUpIn};
    }

    &[data-state='closed'] {
      animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
      animation-name: ${({$position:e})=>e.startsWith("top")?pa.slideDownOut:pa.slideUpOut};
    }
  }
`,aR=({children:e,size:t="md",position:n="bottom-right",isOpen:r=!1,onToggle:a=()=>{},toggleIcon:s})=>g.jsx(my.Provider,{value:{size:t,position:n,isOpen:r,onToggle:a},children:g.jsxs(rR,{$position:n,children:[r?g.jsx(iR,{$size:t,$position:n,background:"neutral0",shadow:"popupShadow",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px","data-state":r?"open":"closed",children:e}):null,s&&!r&&s]})}),oR=({children:e})=>g.jsx(ze,{padding:[2,2,2,4],borderColor:"neutral150",borderStyle:"solid",borderWidth:"0 0 1px 0",children:g.jsx(Te,{justifyContent:"space-between",alignItems:"center",children:e})}),sR=({children:e})=>g.jsx(ze,{padding:4,flex:"1",overflow:"auto",children:e}),lR=({children:e})=>g.jsx(ze,{padding:4,children:e}),cR=({label:e})=>{const{onToggle:t}=uR();return g.jsx(dr,{onClick:t,variant:"ghost",label:e||"Close",children:g.jsx(vd,{})})},Xa={Root:aR,Header:oR,Body:sR,Footer:lR,Close:cR},uR=()=>K.useContext(my),gy=e=>g.jsxs("svg",{width:e.width||16,height:e.height||16,viewBox:"0 0 200 300",xmlns:"http://www.w3.org/2000/svg","aria-label":"Figma logo",style:{display:"block",margin:"0 auto",...e.style},...e,children:[g.jsx("title",{children:"Figma.logo"}),g.jsx("desc",{children:"Created using Figma"}),g.jsx("path",{d:"M50 300c27.6 0 50-22.4 50-50v-50H50c-27.6 0-50 22.4-50 50s22.4 50 50 50z",fill:"#0acf83"}),g.jsx("path",{d:"M50 200c-27.6 0-50-22.4-50-50s22.4-50 50-50h50v100H50z",fill:"#a259ff"}),g.jsx("path",{d:"M0 50C0 22.4 22.4 0 50 0h50v100H50C22.4 100 0 77.6 0 50z",fill:"#f24e1e"}),g.jsx("path",{d:"M100 0h50c27.6 0 50 22.4 50 50s-22.4 50-50 50h-50V0z",fill:"#ff7262"}),g.jsx("path",{d:"M200 150c0 27.6-22.4 50-50 50s-50-22.4-50-50 22.4-50 50-50 50 22.4 50 50z",fill:"#1abcfe"})]}),dR=e=>g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:g.jsx("rect",{x:"2",y:"2",width:"11",height:"11",rx:"2",fill:"white"})}),pR=K.createContext({}),fR=({children:e,isLoading:t=!1,...n})=>g.jsx(pR.Provider,{value:{isLoading:t},children:g.jsx(Te,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...n,children:e})}),hR=({children:e,...t})=>g.jsx(ze,{position:"absolute",bottom:"102%",left:0,right:0,background:"neutral0",width:"100%",...t,children:e}),mR=vt(ze)`
  padding: ${({theme:e})=>e.spaces[3]} 0};
`,gR=({children:e,gap:t=2,...n})=>g.jsx(Te,{gap:t,wrap:"wrap",paddingBottom:2,maxHeight:"150px",overflow:"auto",...n,children:e}),vR=vt(ze)`
  outline: none;
  box-shadow: none;
  transition-property: border-color, box-shadow, fill;
  transition-duration: 0.2s;

  &:focus-within {
    border: 1px solid
      ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600};
    box-shadow: ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600}
      0px 0px 0px 2px;
  }
`,yR=({children:e,disclaimer:t,error:n=!1,...r})=>g.jsxs(vR,{background:"neutral0",hasRadius:!0,borderColor:n?"danger600":"neutral200",borderWidth:"1px",borderStyle:"solid",width:"100%",$hasError:n,...r,children:[g.jsx(ze,{padding:3,children:e}),t&&g.jsx(ze,{background:"neutral100",padding:[2,3],borderColor:"neutral200",borderWidth:"1px 0 0 0",borderStyle:"solid",borderRadius:"0 0 4px 4px",children:g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:t})})]}),bR=({children:e})=>g.jsx(Te,{justifyContent:"flex-end",alignItems:"center",gap:2,children:e}),Ii={Root:fR,Header:hR,HeaderItem:mR,Attachments:gR,Content:yR,Actions:bR};class xR extends Error{name="Assertion";code="ERR_ASSERTION";constructor(t,n,r,a,s){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.actual=n,this.expected=r,this.generated=s,this.operator=a}}function Q(e,t){vy(!!e,!1,!0,"ok","Expected value to be truthy",t)}function Nu(e){vy(!1,!1,!0,"ok","Unreachable",e)}function vy(e,t,n,r,a,s){if(!e)throw s instanceof Error?s:new xR(s||a,t,n,r,!s)}function wR(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const _R=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CR={};function Yh(e,t){return(CR.jsx?kR:_R).test(e)}const SR=/[ \t\n\f\r]/g;function ER(e){return typeof e=="object"?e.type==="text"?Xh(e.value):!1:Xh(e)}function Xh(e){return e.replace(SR,"")===""}class So{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}So.prototype.normal={};So.prototype.property={};So.prototype.space=void 0;function yy(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new So(n,r,t)}function $u(e){return e.toLowerCase()}class Pn{constructor(t,n){this.attribute=n,this.property=t}}Pn.prototype.attribute="";Pn.prototype.booleanish=!1;Pn.prototype.boolean=!1;Pn.prototype.commaOrSpaceSeparated=!1;Pn.prototype.commaSeparated=!1;Pn.prototype.defined=!1;Pn.prototype.mustUseProperty=!1;Pn.prototype.number=!1;Pn.prototype.overloadedBoolean=!1;Pn.prototype.property="";Pn.prototype.spaceSeparated=!1;Pn.prototype.space=void 0;let TR=0;const lt=Bi(),sn=Bi(),Pu=Bi(),Ae=Bi(),Ot=Bi(),va=Bi(),Zn=Bi();function Bi(){return 2**++TR}const Du=Object.freeze(Object.defineProperty({__proto__:null,boolean:lt,booleanish:sn,commaOrSpaceSeparated:Zn,commaSeparated:va,number:Ae,overloadedBoolean:Pu,spaceSeparated:Ot},Symbol.toStringTag,{value:"Module"})),Yc=Object.keys(Du);class Td extends Pn{constructor(t,n,r,a){let s=-1;if(super(t,n),Qh(this,"space",a),typeof r=="number")for(;++s<Yc.length;){const o=Yc[s];Qh(this,Yc[s],(r&Du[o])===Du[o])}}}Td.prototype.defined=!0;function Qh(e,t,n){n&&(e[t]=n)}function Ea(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const s=new Td(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[$u(r)]=r,n[$u(s.attribute)]=r}return new So(t,n,e.space)}const by=Ea({properties:{ariaActiveDescendant:null,ariaAtomic:sn,ariaAutoComplete:null,ariaBusy:sn,ariaChecked:sn,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:Ot,ariaCurrent:null,ariaDescribedBy:Ot,ariaDetails:null,ariaDisabled:sn,ariaDropEffect:Ot,ariaErrorMessage:null,ariaExpanded:sn,ariaFlowTo:Ot,ariaGrabbed:sn,ariaHasPopup:null,ariaHidden:sn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ot,ariaLevel:Ae,ariaLive:null,ariaModal:sn,ariaMultiLine:sn,ariaMultiSelectable:sn,ariaOrientation:null,ariaOwns:Ot,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:sn,ariaReadOnly:sn,ariaRelevant:null,ariaRequired:sn,ariaRoleDescription:Ot,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:sn,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function xy(e,t){return t in e?e[t]:t}function wy(e,t){return xy(e,t.toLowerCase())}const AR=Ea({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:va,acceptCharset:Ot,accessKey:Ot,action:null,allow:null,allowFullScreen:lt,allowPaymentRequest:lt,allowUserMedia:lt,alt:null,as:null,async:lt,autoCapitalize:null,autoComplete:Ot,autoFocus:lt,autoPlay:lt,blocking:Ot,capture:null,charSet:null,checked:lt,cite:null,className:Ot,cols:Ae,colSpan:null,content:null,contentEditable:sn,controls:lt,controlsList:Ot,coords:Ae|va,crossOrigin:null,data:null,dateTime:null,decoding:null,default:lt,defer:lt,dir:null,dirName:null,disabled:lt,download:Pu,draggable:sn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:lt,formTarget:null,headers:Ot,height:Ae,hidden:Pu,high:Ae,href:null,hrefLang:null,htmlFor:Ot,httpEquiv:Ot,id:null,imageSizes:null,imageSrcSet:null,inert:lt,inputMode:null,integrity:null,is:null,isMap:lt,itemId:null,itemProp:Ot,itemRef:Ot,itemScope:lt,itemType:Ot,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:lt,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:lt,muted:lt,name:null,nonce:null,noModule:lt,noValidate:lt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:lt,optimum:Ae,pattern:null,ping:Ot,placeholder:null,playsInline:lt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:lt,referrerPolicy:null,rel:Ot,required:lt,reversed:lt,rows:Ae,rowSpan:Ae,sandbox:Ot,scope:null,scoped:lt,seamless:lt,selected:lt,shadowRootClonable:lt,shadowRootDelegatesFocus:lt,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:sn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:lt,useMap:null,value:sn,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ot,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:lt,declare:lt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:lt,noHref:lt,noShade:lt,noWrap:lt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:sn,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:lt,disableRemotePlayback:lt,prefix:null,property:null,results:Ae,security:null,unselectable:null},space:"html",transform:wy}),jR=Ea({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zn,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:Ot,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:lt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:va,g2:va,glyphName:va,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:Zn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ot,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zn,rev:Zn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zn,requiredFeatures:Zn,requiredFonts:Zn,requiredFormats:Zn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:Zn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zn,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:xy}),_y=Ea({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),ky=Ea({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:wy}),Cy=Ea({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),IR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},RR=/[A-Z]/g,em=/-[a-z]/g,OR=/^data[-\w.:]+$/i;function FR(e,t){const n=$u(t);let r=t,a=Pn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&OR.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(em,zR);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!em.test(s)){let o=s.replace(RR,MR);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=Td}return new a(r,t)}function MR(e){return"-"+e.toLowerCase()}function zR(e){return e.charAt(1).toUpperCase()}const NR=yy([by,AR,_y,ky,Cy],"html"),Ad=yy([by,jR,_y,ky,Cy],"svg");function $R(e){return e.join(" ").trim()}var jd={},tm=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,PR=/\n/g,DR=/^\s*/,LR=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,BR=/^:\s*/,UR=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ZR=/^[;\s]*/,HR=/^\s+|\s+$/g,qR=`
`,nm="/",rm="*",Oi="",WR="comment",VR="declaration";function GR(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(m){var x=m.match(PR);x&&(n+=x.length);var b=m.lastIndexOf(qR);r=~b?m.length-b:r+m.length}function s(){var m={line:n,column:r};return function(x){return x.position=new o(m),p(),x}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function c(m){var x=new Error(t.source+":"+n+":"+r+": "+m);if(x.reason=m,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function u(m){var x=m.exec(e);if(x){var b=x[0];return a(b),e=e.slice(b.length),x}}function p(){u(DR)}function d(m){var x;for(m=m||[];x=h();)x!==!1&&m.push(x);return m}function h(){var m=s();if(!(nm!=e.charAt(0)||rm!=e.charAt(1))){for(var x=2;Oi!=e.charAt(x)&&(rm!=e.charAt(x)||nm!=e.charAt(x+1));)++x;if(x+=2,Oi===e.charAt(x-1))return c("End of comment missing");var b=e.slice(2,x-2);return r+=2,a(b),e=e.slice(x),r+=2,m({type:WR,comment:b})}}function v(){var m=s(),x=u(LR);if(x){if(h(),!u(BR))return c("property missing ':'");var b=u(UR),k=m({type:VR,property:im(x[0].replace(tm,Oi)),value:b?im(b[0].replace(tm,Oi)):Oi});return u(ZR),k}}function y(){var m=[];d(m);for(var x;x=v();)x!==!1&&(m.push(x),d(m));return m}return p(),y()}function im(e){return e?e.replace(HR,Oi):Oi}var KR=GR,JR=Wn&&Wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jd,"__esModule",{value:!0});jd.default=XR;const YR=JR(KR);function XR(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,YR.default)(e),a=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:c}=s;a?t(o,c,s):c&&(n=n||{},n[o]=c)}),n}var pl={};Object.defineProperty(pl,"__esModule",{value:!0});pl.camelCase=void 0;var QR=/^--[a-zA-Z0-9_-]+$/,eO=/-([a-z])/g,tO=/^[^-]+$/,nO=/^-(webkit|moz|ms|o|khtml)-/,rO=/^-(ms)-/,iO=function(e){return!e||tO.test(e)||QR.test(e)},aO=function(e,t){return t.toUpperCase()},am=function(e,t){return"".concat(t,"-")},oO=function(e,t){return t===void 0&&(t={}),iO(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(rO,am):e=e.replace(nO,am),e.replace(eO,aO))};pl.camelCase=oO;var sO=Wn&&Wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},lO=sO(jd),cO=pl;function Lu(e,t){var n={};return!e||typeof e!="string"||(0,lO.default)(e,function(r,a){r&&a&&(n[(0,cO.camelCase)(r,t)]=a)}),n}Lu.default=Lu;var uO=Lu;const dO=hi(uO),Sy=Ey("end"),Id=Ey("start");function Ey(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function pO(e){const t=Id(e),n=Sy(e);if(t&&n)return{start:t,end:n}}function so(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?om(e.position):"start"in e||"end"in e?om(e):"line"in e||"column"in e?Bu(e):""}function Bu(e){return sm(e&&e.line)+":"+sm(e&&e.column)}function om(e){return Bu(e&&e.start)+"-"+Bu(e&&e.end)}function sm(e){return e&&typeof e=="number"?e:1}class _n extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?a=t:!s.cause&&t&&(o=!0,a=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const c=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=c?c.line:void 0,this.name=so(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}_n.prototype.file="";_n.prototype.name="";_n.prototype.reason="";_n.prototype.message="";_n.prototype.stack="";_n.prototype.column=void 0;_n.prototype.line=void 0;_n.prototype.ancestors=void 0;_n.prototype.cause=void 0;_n.prototype.fatal=void 0;_n.prototype.place=void 0;_n.prototype.ruleId=void 0;_n.prototype.source=void 0;const Rd={}.hasOwnProperty,fO=new Map,hO=/[A-Z]/g,mO=new Set(["table","tbody","thead","tfoot","tr"]),gO=new Set(["td","th"]),Ty="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vO(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=SO(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=CO(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ad:NR,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Ay(a,e,void 0);return s&&typeof s!="string"?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function Ay(e,t,n){if(t.type==="element")return yO(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return bO(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return wO(e,t,n);if(t.type==="mdxjsEsm")return xO(e,t);if(t.type==="root")return _O(e,t,n);if(t.type==="text")return kO(e,t)}function yO(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Ad,e.schema=a),e.ancestors.push(t);const s=Iy(e,t.tagName,!1),o=EO(e,t);let c=Fd(e,t);return mO.has(t.tagName)&&(c=c.filter(function(u){return typeof u=="string"?!ER(u):!0})),jy(e,o,s,t),Od(o,c),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function bO(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return Q(r.type==="ExpressionStatement"),e.evaluater.evaluateExpression(r.expression)}go(e,t.position)}function xO(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);go(e,t.position)}function wO(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=Ad,e.schema=a),e.ancestors.push(t);const s=t.name===null?e.Fragment:Iy(e,t.name,!0),o=TO(e,t),c=Fd(e,t);return jy(e,o,s,t),Od(o,c),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function _O(e,t,n){const r={};return Od(r,Fd(e,t)),e.create(t,e.Fragment,r,n)}function kO(e,t){return t.value}function jy(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Od(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function CO(e,t,n){return r;function r(a,s,o,c){const p=Array.isArray(o.children)?n:t;return c?p(s,o,c):p(s,o)}}function SO(e,t){return n;function n(r,a,s,o){const c=Array.isArray(s.children),u=Id(r);return t(a,s,o,c,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function EO(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&Rd.call(t.properties,a)){const s=AO(e,a,t.properties[a]);if(s){const[o,c]=s;e.tableCellAlignToStyle&&o==="align"&&typeof c=="string"&&gO.has(t.tagName)?r=c:n[o]=c}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function TO(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];Q(s.type==="ExpressionStatement");const o=s.expression;Q(o.type==="ObjectExpression");const c=o.properties[0];Q(c.type==="SpreadElement"),Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else go(e,t.position);else{const a=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];Q(c.type==="ExpressionStatement"),s=e.evaluater.evaluateExpression(c.expression)}else go(e,t.position);else s=r.value===null?!0:r.value;n[a]=s}return n}function Fd(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:fO;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const p=a.get(u)||0;o=u+"-"+p,a.set(u,p+1)}}const c=Ay(e,s,o);c!==void 0&&n.push(c)}return n}function AO(e,t,n){const r=FR(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?wR(n):$R(n)),r.property==="style"){let a=typeof n=="object"?n:jO(e,String(n));return e.stylePropertyNameCase==="css"&&(a=IO(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?IR[r.property]||r.property:r.attribute,n]}}function jO(e,t){try{return dO(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new _n("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=Ty+"#cannot-parse-style-attribute",a}}function Iy(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let s=-1,o;for(;++s<a.length;){const c=Yh(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};o=o?{type:"MemberExpression",object:o,property:c,computed:!!(s&&c.type==="Literal"),optional:!1}:c}Q(o,"always a result"),r=o}else r=Yh(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return Rd.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);go(e)}function go(e,t){const n=new _n("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Ty+"#cannot-handle-mdx-estrees-without-createevaluater",n}function IO(e){const t={};let n;for(n in e)Rd.call(e,n)&&(t[RO(n)]=e[n]);return t}function RO(e){let t=e.replace(hO,OO);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function OO(e){return"-"+e.toLowerCase()}const Xc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},FO={};function MO(e,t){const n=FO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ry(e,r,a)}function Ry(e,t,n){if(zO(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return lm(e.children,t,n)}return Array.isArray(e)?lm(e,t,n):""}function lm(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=Ry(e[a],t,n);return r.join("")}function zO(e){return!!(e&&typeof e=="object")}const cm=document.createElement("i");function Md(e){const t="&"+e+";";cm.innerHTML=t;const n=cm.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const z={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,ht:9,lf:10,vt:11,cr:13,space:32,exclamationMark:33,quotationMark:34,numberSign:35,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseX:88,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseX:120,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},$e={atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupPunctuation:2,characterGroupWhitespace:1,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeContent:"content",contentTypeFlow:"flow",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlBasic:6,htmlCdata:5,htmlComment:2,htmlComplete:7,htmlDeclaration:4,htmlInstruction:3,htmlRawSizeMax:8,htmlRaw:1,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4},F={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},Ar={ht:"	",lf:`
`,cr:"\r",space:" ",replacementCharacter:""};function Ir(e,t,n,r){const a=e.length;let s=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<$e.v8MaxSafeChunkSize)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+$e.v8MaxSafeChunkSize),o.unshift(t,0),e.splice(...o),s+=$e.v8MaxSafeChunkSize,t+=$e.v8MaxSafeChunkSize}function cr(e,t){return e.length>0?(Ir(e,e.length,0,t),e):t}const um={}.hasOwnProperty;function NO(e){const t={};let n=-1;for(;++n<e.length;)$O(t,e[n]);return t}function $O(e,t){let n;for(n in t){const a=(um.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){um.call(a,o)||(a[o]=[]);const c=s[o];PO(a[o],Array.isArray(c)?c:c?[c]:[])}}}function PO(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ir(e,0,0,r)}function Oy(e,t){const n=Number.parseInt(e,t);return n<z.ht||n===z.vt||n>z.cr&&n<z.space||n>z.tilde&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?Ar.replacementCharacter:String.fromCodePoint(n)}function ya(e){return e.replace(/[\t\n\r ]+/g,Ar.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const jr=mi(/[A-Za-z]/),Vn=mi(/[\dA-Za-z]/),DO=mi(/[#-'*+\--9=?A-Z^-~]/);function Uu(e){return e!==null&&(e<z.space||e===z.del)}const Zu=mi(/\d/),LO=mi(/[\dA-Fa-f]/),BO=mi(/[!-/:-@[-`{-~]/);function Ze(e){return e!==null&&e<z.horizontalTab}function $n(e){return e!==null&&(e<z.nul||e===z.space)}function kt(e){return e===z.horizontalTab||e===z.virtualSpace||e===z.space}const UO=mi(new RegExp("\\p{P}|\\p{S}","u")),ZO=mi(/\s/);function mi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ta(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===z.percentSign&&Vn(e.charCodeAt(n+1))&&Vn(e.charCodeAt(n+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const c=e.charCodeAt(n+1);s<56320&&c>56319&&c<57344?(o=String.fromCharCode(s,c),a=1):o=Ar.replacementCharacter}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Mt(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return kt(u)?(e.enter(n),c(u)):t(u)}function c(u){return kt(u)&&s++<a?(e.consume(u),c):(e.exit(n),t(u))}}const HO={tokenize:qO};function qO(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(c){if(Q(c===z.eof||Ze(c),"expected eol or eof"),c===z.eof){e.consume(c);return}return e.enter(F.lineEnding),e.consume(c),e.exit(F.lineEnding),Mt(e,t,F.linePrefix)}function a(c){return Q(c!==z.eof&&!Ze(c),"expected anything other than a line ending or EOF"),e.enter(F.paragraph),s(c)}function s(c){const u=e.enter(F.chunkText,{contentType:$e.contentTypeText,previous:n});return n&&(n.next=u),n=u,o(c)}function o(c){if(c===z.eof){e.exit(F.chunkText),e.exit(F.paragraph),e.consume(c);return}return Ze(c)?(e.consume(c),e.exit(F.chunkText),s):(e.consume(c),o)}}const WO={tokenize:VO},dm={tokenize:GO};function VO(e){const t=this,n=[];let r=0,a,s,o;return c;function c(T){if(r<n.length){const I=n[r];return t.containerState=I[1],Q(I[0].continuation,"expected `continuation` to be defined on container construct"),e.attempt(I[0].continuation,u,p)(T)}return p(T)}function u(T){if(Q(t.containerState,"expected `containerState` to be defined after continuation"),r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&C();const I=t.events.length;let $=I,M;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type===F.chunkFlow){M=t.events[$][1].end;break}Q(M,"could not find previous flow chunk"),k(r);let B=I;for(;B<t.events.length;)t.events[B][1].end={...M},B++;return Ir(t.events,$+1,0,t.events.slice(I)),t.events.length=B,p(T)}return c(T)}function p(T){if(r===n.length){if(!a)return v(T);if(a.currentConstruct&&a.currentConstruct.concrete)return m(T);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(dm,d,h)(T)}function d(T){return a&&C(),k(r),v(T)}function h(T){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(T)}function v(T){return t.containerState={},e.attempt(dm,y,m)(T)}function y(T){return Q(t.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),Q(t.containerState,"expected `containerState` to be defined on tokenizer"),r++,n.push([t.currentConstruct,t.containerState]),v(T)}function m(T){if(T===z.eof){a&&C(),k(0),e.consume(T);return}return a=a||t.parser.flow(t.now()),e.enter(F.chunkFlow,{_tokenizer:a,contentType:$e.contentTypeFlow,previous:s}),x(T)}function x(T){if(T===z.eof){b(e.exit(F.chunkFlow),!0),k(0),e.consume(T);return}return Ze(T)?(e.consume(T),b(e.exit(F.chunkFlow)),r=0,t.interrupt=void 0,c):(e.consume(T),x)}function b(T,I){Q(a,"expected `childFlow` to be defined when continuing");const $=t.sliceStream(T);if(I&&$.push(null),T.previous=s,s&&(s.next=T),s=T,a.defineSkip(T.start),a.write($),t.parser.lazy[T.start.line]){let M=a.events.length;for(;M--;)if(a.events[M][1].start.offset<o&&(!a.events[M][1].end||a.events[M][1].end.offset>o))return;const B=t.events.length;let U=B,X,Y;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type===F.chunkFlow){if(X){Y=t.events[U][1].end;break}X=!0}for(Q(Y,"could not find previous flow chunk"),k(r),M=B;M<t.events.length;)t.events[M][1].end={...Y},M++;Ir(t.events,U+1,0,t.events.slice(B)),t.events.length=M}}function k(T){let I=n.length;for(;I-- >T;){const $=n[I];t.containerState=$[1],Q($[0].exit,"expected `exit` to be defined on container construct"),$[0].exit.call(t,e)}n.length=T}function C(){Q(t.containerState,"expected `containerState` to be defined when closing flow"),Q(a,"expected `childFlow` to be defined when closing it"),a.write([z.eof]),s=void 0,a=void 0,t.containerState._closeFlow=void 0}}function GO(e,t,n){return Q(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),Mt(e,e.attempt(this.parser.constructs.document,t,n),F.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:$e.tabSize)}function pm(e){if(e===z.eof||$n(e)||ZO(e))return $e.characterGroupWhitespace;if(UO(e))return $e.characterGroupPunctuation}function zd(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Hu={name:"attention",resolveAll:KO,tokenize:JO};function KO(e,t){let n=-1,r,a,s,o,c,u,p,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},v={...e[n][1].start};fm(h,-u),fm(v,u),o={type:u>1?F.strongSequence:F.emphasisSequence,start:h,end:{...e[r][1].end}},c={type:u>1?F.strongSequence:F.emphasisSequence,start:{...e[n][1].start},end:v},s={type:u>1?F.strongText:F.emphasisText,start:{...e[r][1].end},end:{...e[n][1].start}},a={type:u>1?F.strong:F.emphasis,start:{...o.start},end:{...c.end}},e[r][1].end={...o.start},e[n][1].start={...c.end},p=[],e[r][1].end.offset-e[r][1].start.offset&&(p=cr(p,[["enter",e[r][1],t],["exit",e[r][1],t]])),p=cr(p,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",s,t]]),Q(t.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),p=cr(p,zd(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),p=cr(p,[["exit",s,t],["enter",c,t],["exit",c,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,p=cr(p,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ir(e,r-1,n-r+3,p),n=r+p.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function JO(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=pm(r);let s;return o;function o(u){return Q(u===z.asterisk||u===z.underscore,"expected asterisk or underscore"),s=u,e.enter("attentionSequence"),c(u)}function c(u){if(u===s)return e.consume(u),c;const p=e.exit("attentionSequence"),d=pm(u);Q(n,"expected `attentionMarkers` to be populated");const h=!d||d===$e.characterGroupPunctuation&&a||n.includes(u),v=!a||a===$e.characterGroupPunctuation&&d||n.includes(r);return p._open=!!(s===z.asterisk?h:h&&(a||!v)),p._close=!!(s===z.asterisk?v:v&&(d||!h)),t(u)}}function fm(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const YO={name:"autolink",tokenize:XO};function XO(e,t,n){let r=0;return a;function a(y){return Q(y===z.lessThan,"expected `<`"),e.enter(F.autolink),e.enter(F.autolinkMarker),e.consume(y),e.exit(F.autolinkMarker),e.enter(F.autolinkProtocol),s}function s(y){return jr(y)?(e.consume(y),o):y===z.atSign?n(y):p(y)}function o(y){return y===z.plusSign||y===z.dash||y===z.dot||Vn(y)?(r=1,c(y)):p(y)}function c(y){return y===z.colon?(e.consume(y),r=0,u):(y===z.plusSign||y===z.dash||y===z.dot||Vn(y))&&r++<$e.autolinkSchemeSizeMax?(e.consume(y),c):(r=0,p(y))}function u(y){return y===z.greaterThan?(e.exit(F.autolinkProtocol),e.enter(F.autolinkMarker),e.consume(y),e.exit(F.autolinkMarker),e.exit(F.autolink),t):y===z.eof||y===z.space||y===z.lessThan||Uu(y)?n(y):(e.consume(y),u)}function p(y){return y===z.atSign?(e.consume(y),d):DO(y)?(e.consume(y),p):n(y)}function d(y){return Vn(y)?h(y):n(y)}function h(y){return y===z.dot?(e.consume(y),r=0,d):y===z.greaterThan?(e.exit(F.autolinkProtocol).type=F.autolinkEmail,e.enter(F.autolinkMarker),e.consume(y),e.exit(F.autolinkMarker),e.exit(F.autolink),t):v(y)}function v(y){if((y===z.dash||Vn(y))&&r++<$e.autolinkDomainSizeMax){const m=y===z.dash?v:h;return e.consume(y),m}return n(y)}}const fl={partial:!0,tokenize:QO};function QO(e,t,n){return r;function r(s){return kt(s)?Mt(e,a,F.linePrefix)(s):a(s)}function a(s){return s===z.eof||Ze(s)?t(s):n(s)}}const Fy={continuation:{tokenize:tF},exit:nF,name:"blockQuote",tokenize:eF};function eF(e,t,n){const r=this;return a;function a(o){if(o===z.greaterThan){const c=r.containerState;return Q(c,"expected `containerState` to be defined in container"),c.open||(e.enter(F.blockQuote,{_container:!0}),c.open=!0),e.enter(F.blockQuotePrefix),e.enter(F.blockQuoteMarker),e.consume(o),e.exit(F.blockQuoteMarker),s}return n(o)}function s(o){return kt(o)?(e.enter(F.blockQuotePrefixWhitespace),e.consume(o),e.exit(F.blockQuotePrefixWhitespace),e.exit(F.blockQuotePrefix),t):(e.exit(F.blockQuotePrefix),t(o))}}function tF(e,t,n){const r=this;return a;function a(o){return kt(o)?(Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Mt(e,s,F.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:$e.tabSize)(o)):s(o)}function s(o){return e.attempt(Fy,t,n)(o)}}function nF(e){e.exit(F.blockQuote)}const My={name:"characterEscape",tokenize:rF};function rF(e,t,n){return r;function r(s){return Q(s===z.backslash,"expected `\\`"),e.enter(F.characterEscape),e.enter(F.escapeMarker),e.consume(s),e.exit(F.escapeMarker),a}function a(s){return BO(s)?(e.enter(F.characterEscapeValue),e.consume(s),e.exit(F.characterEscapeValue),e.exit(F.characterEscape),t):n(s)}}const zy={name:"characterReference",tokenize:iF};function iF(e,t,n){const r=this;let a=0,s,o;return c;function c(h){return Q(h===z.ampersand,"expected `&`"),e.enter(F.characterReference),e.enter(F.characterReferenceMarker),e.consume(h),e.exit(F.characterReferenceMarker),u}function u(h){return h===z.numberSign?(e.enter(F.characterReferenceMarkerNumeric),e.consume(h),e.exit(F.characterReferenceMarkerNumeric),p):(e.enter(F.characterReferenceValue),s=$e.characterReferenceNamedSizeMax,o=Vn,d(h))}function p(h){return h===z.uppercaseX||h===z.lowercaseX?(e.enter(F.characterReferenceMarkerHexadecimal),e.consume(h),e.exit(F.characterReferenceMarkerHexadecimal),e.enter(F.characterReferenceValue),s=$e.characterReferenceHexadecimalSizeMax,o=LO,d):(e.enter(F.characterReferenceValue),s=$e.characterReferenceDecimalSizeMax,o=Zu,d(h))}function d(h){if(h===z.semicolon&&a){const v=e.exit(F.characterReferenceValue);return o===Vn&&!Md(r.sliceSerialize(v))?n(h):(e.enter(F.characterReferenceMarker),e.consume(h),e.exit(F.characterReferenceMarker),e.exit(F.characterReference),t)}return o(h)&&a++<s?(e.consume(h),d):n(h)}}const hm={partial:!0,tokenize:oF},mm={concrete:!0,name:"codeFenced",tokenize:aF};function aF(e,t,n){const r=this,a={partial:!0,tokenize:$};let s=0,o=0,c;return u;function u(M){return p(M)}function p(M){Q(M===z.graveAccent||M===z.tilde,"expected `` ` `` or `~`");const B=r.events[r.events.length-1];return s=B&&B[1].type===F.linePrefix?B[2].sliceSerialize(B[1],!0).length:0,c=M,e.enter(F.codeFenced),e.enter(F.codeFencedFence),e.enter(F.codeFencedFenceSequence),d(M)}function d(M){return M===c?(o++,e.consume(M),d):o<$e.codeFencedSequenceSizeMin?n(M):(e.exit(F.codeFencedFenceSequence),kt(M)?Mt(e,h,F.whitespace)(M):h(M))}function h(M){return M===z.eof||Ze(M)?(e.exit(F.codeFencedFence),r.interrupt?t(M):e.check(hm,x,I)(M)):(e.enter(F.codeFencedFenceInfo),e.enter(F.chunkString,{contentType:$e.contentTypeString}),v(M))}function v(M){return M===z.eof||Ze(M)?(e.exit(F.chunkString),e.exit(F.codeFencedFenceInfo),h(M)):kt(M)?(e.exit(F.chunkString),e.exit(F.codeFencedFenceInfo),Mt(e,y,F.whitespace)(M)):M===z.graveAccent&&M===c?n(M):(e.consume(M),v)}function y(M){return M===z.eof||Ze(M)?h(M):(e.enter(F.codeFencedFenceMeta),e.enter(F.chunkString,{contentType:$e.contentTypeString}),m(M))}function m(M){return M===z.eof||Ze(M)?(e.exit(F.chunkString),e.exit(F.codeFencedFenceMeta),h(M)):M===z.graveAccent&&M===c?n(M):(e.consume(M),m)}function x(M){return Q(Ze(M),"expected eol"),e.attempt(a,I,b)(M)}function b(M){return Q(Ze(M),"expected eol"),e.enter(F.lineEnding),e.consume(M),e.exit(F.lineEnding),k}function k(M){return s>0&&kt(M)?Mt(e,C,F.linePrefix,s+1)(M):C(M)}function C(M){return M===z.eof||Ze(M)?e.check(hm,x,I)(M):(e.enter(F.codeFlowValue),T(M))}function T(M){return M===z.eof||Ze(M)?(e.exit(F.codeFlowValue),C(M)):(e.consume(M),T)}function I(M){return e.exit(F.codeFenced),t(M)}function $(M,B,U){let X=0;return Y;function Y(_){return Q(Ze(_),"expected eol"),M.enter(F.lineEnding),M.consume(_),M.exit(F.lineEnding),q}function q(_){return Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),M.enter(F.codeFencedFence),kt(_)?Mt(M,se,F.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:$e.tabSize)(_):se(_)}function se(_){return _===c?(M.enter(F.codeFencedFenceSequence),R(_)):U(_)}function R(_){return _===c?(X++,M.consume(_),R):X>=o?(M.exit(F.codeFencedFenceSequence),kt(_)?Mt(M,G,F.whitespace)(_):G(_)):U(_)}function G(_){return _===z.eof||Ze(_)?(M.exit(F.codeFencedFence),B(_)):U(_)}}}function oF(e,t,n){const r=this;return a;function a(o){return o===z.eof?n(o):(Q(Ze(o),"expected eol"),e.enter(F.lineEnding),e.consume(o),e.exit(F.lineEnding),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Qc={name:"codeIndented",tokenize:lF},sF={partial:!0,tokenize:cF};function lF(e,t,n){const r=this;return a;function a(p){return Q(kt(p)),e.enter(F.codeIndented),Mt(e,s,F.linePrefix,$e.tabSize+1)(p)}function s(p){const d=r.events[r.events.length-1];return d&&d[1].type===F.linePrefix&&d[2].sliceSerialize(d[1],!0).length>=$e.tabSize?o(p):n(p)}function o(p){return p===z.eof?u(p):Ze(p)?e.attempt(sF,o,u)(p):(e.enter(F.codeFlowValue),c(p))}function c(p){return p===z.eof||Ze(p)?(e.exit(F.codeFlowValue),o(p)):(e.consume(p),c)}function u(p){return e.exit(F.codeIndented),t(p)}}function cF(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Ze(o)?(e.enter(F.lineEnding),e.consume(o),e.exit(F.lineEnding),a):Mt(e,s,F.linePrefix,$e.tabSize+1)(o)}function s(o){const c=r.events[r.events.length-1];return c&&c[1].type===F.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=$e.tabSize?t(o):Ze(o)?a(o):n(o)}}const uF={name:"codeText",previous:Ny,resolve:dF,tokenize:pF};function dF(e){let t=e.length-4,n=3,r,a;if((e[n][1].type===F.lineEnding||e[n][1].type==="space")&&(e[t][1].type===F.lineEnding||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type===F.codeTextData){e[n][1].type=F.codeTextPadding,e[t][1].type=F.codeTextPadding,n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!==F.lineEnding&&(a=r):(r===t||e[r][1].type===F.lineEnding)&&(e[a][1].type=F.codeTextData,r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Ny(e){return e!==z.graveAccent||this.events[this.events.length-1][1].type===F.characterEscape}function pF(e,t,n){const r=this;let a=0,s,o;return c;function c(v){return Q(v===z.graveAccent,"expected `` ` ``"),Q(Ny.call(r,r.previous),"expected correct previous"),e.enter(F.codeText),e.enter(F.codeTextSequence),u(v)}function u(v){return v===z.graveAccent?(e.consume(v),a++,u):(e.exit(F.codeTextSequence),p(v))}function p(v){return v===z.eof?n(v):v===z.space?(e.enter("space"),e.consume(v),e.exit("space"),p):v===z.graveAccent?(o=e.enter(F.codeTextSequence),s=0,h(v)):Ze(v)?(e.enter(F.lineEnding),e.consume(v),e.exit(F.lineEnding),p):(e.enter(F.codeTextData),d(v))}function d(v){return v===z.eof||v===z.space||v===z.graveAccent||Ze(v)?(e.exit(F.codeTextData),p(v)):(e.consume(v),d)}function h(v){return v===z.graveAccent?(e.consume(v),s++,h):s===a?(e.exit(F.codeTextSequence),e.exit(F.codeText),t(v)):(o.type=F.codeTextData,d(v))}}class fF{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Qa(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Qa(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Qa(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Qa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Qa(this.left,n.reverse())}}}function Qa(e,t){let n=0;if(t.length<$e.v8MaxSafeChunkSize)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+$e.v8MaxSafeChunkSize)),n+=$e.v8MaxSafeChunkSize}function $y(e){const t={};let n=-1,r,a,s,o,c,u,p;const d=new fF(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type===F.chunkFlow&&d.get(n-1)[1].type===F.listItemPrefix&&(Q(r[1]._tokenizer,"expected `_tokenizer` on subtokens"),u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type===F.lineEndingBlank&&(s+=2),s<u.length&&u[s][1].type===F.content))for(;++s<u.length&&u[s][1].type!==F.content;)u[s][1].type===F.chunkText&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,hF(d,n)),n=t[n],p=!0);else if(r[1]._container){for(s=n,a=void 0;s--;)if(o=d.get(s),o[1].type===F.lineEnding||o[1].type===F.lineEndingBlank)o[0]==="enter"&&(a&&(d.get(a)[1].type=F.lineEndingBlank),o[1].type=F.lineEnding,a=s);else if(!(o[1].type===F.linePrefix||o[1].type===F.listItemIndent))break;a&&(r[1].end={...d.get(a)[1].start},c=d.slice(a,n),c.unshift(r),d.splice(a,n-a+1,c))}}return Ir(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!p}function hF(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const s=[];Q(n.contentType,"expected `contentType` on subtokens");let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const c=o.events,u=[],p={};let d,h,v=-1,y=n,m=0,x=0;const b=[x];for(;y;){for(;e.get(++a)[1]!==y;);Q(!h||y.previous===h,"expected previous to match"),Q(!h||h.next===y,"expected next to match"),s.push(a),y._tokenizer||(d=r.sliceStream(y),y.next||d.push(z.eof),h&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=y,y=y.next}for(y=n;++v<c.length;)c[v][0]==="exit"&&c[v-1][0]==="enter"&&c[v][1].type===c[v-1][1].type&&c[v][1].start.line!==c[v][1].end.line&&(Q(y,"expected a current token"),x=v+1,b.push(x),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0,Q(!y.next,"expected no next token")):b.pop(),v=b.length;v--;){const k=c.slice(b[v],b[v+1]),C=s.pop();Q(C!==void 0,"expected a start position when splicing"),u.push([C,C+k.length-1]),e.splice(C,2,k)}for(u.reverse(),v=-1;++v<u.length;)p[m+u[v][0]]=m+u[v][1],m+=u[v][1]-u[v][0]-1;return p}const mF={resolve:vF,tokenize:yF},gF={partial:!0,tokenize:bF};function vF(e){return $y(e),e}function yF(e,t){let n;return r;function r(c){return Q(c!==z.eof&&!Ze(c),"expected no eof or eol"),e.enter(F.content),n=e.enter(F.chunkContent,{contentType:$e.contentTypeContent}),a(c)}function a(c){return c===z.eof?s(c):Ze(c)?e.check(gF,o,s)(c):(e.consume(c),a)}function s(c){return e.exit(F.chunkContent),e.exit(F.content),t(c)}function o(c){return Q(Ze(c),"expected eol"),e.consume(c),e.exit(F.chunkContent),Q(n,"expected previous token"),n.next=e.enter(F.chunkContent,{contentType:$e.contentTypeContent,previous:n}),n=n.next,a}}function bF(e,t,n){const r=this;return a;function a(o){return Q(Ze(o),"expected a line ending"),e.exit(F.chunkContent),e.enter(F.lineEnding),e.consume(o),e.exit(F.lineEnding),Mt(e,s,F.linePrefix)}function s(o){if(o===z.eof||Ze(o))return n(o);Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated");const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type===F.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=$e.tabSize?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Py(e,t,n,r,a,s,o,c,u){const p=u||Number.POSITIVE_INFINITY;let d=0;return h;function h(k){return k===z.lessThan?(e.enter(r),e.enter(a),e.enter(s),e.consume(k),e.exit(s),v):k===z.eof||k===z.space||k===z.rightParenthesis||Uu(k)?n(k):(e.enter(r),e.enter(o),e.enter(c),e.enter(F.chunkString,{contentType:$e.contentTypeString}),x(k))}function v(k){return k===z.greaterThan?(e.enter(s),e.consume(k),e.exit(s),e.exit(a),e.exit(r),t):(e.enter(c),e.enter(F.chunkString,{contentType:$e.contentTypeString}),y(k))}function y(k){return k===z.greaterThan?(e.exit(F.chunkString),e.exit(c),v(k)):k===z.eof||k===z.lessThan||Ze(k)?n(k):(e.consume(k),k===z.backslash?m:y)}function m(k){return k===z.lessThan||k===z.greaterThan||k===z.backslash?(e.consume(k),y):y(k)}function x(k){return!d&&(k===z.eof||k===z.rightParenthesis||$n(k))?(e.exit(F.chunkString),e.exit(c),e.exit(o),e.exit(r),t(k)):d<p&&k===z.leftParenthesis?(e.consume(k),d++,x):k===z.rightParenthesis?(e.consume(k),d--,x):k===z.eof||k===z.space||k===z.leftParenthesis||Uu(k)?n(k):(e.consume(k),k===z.backslash?b:x)}function b(k){return k===z.leftParenthesis||k===z.rightParenthesis||k===z.backslash?(e.consume(k),x):x(k)}}function Dy(e,t,n,r,a,s){const o=this;let c=0,u;return p;function p(y){return Q(y===z.leftSquareBracket,"expected `[`"),e.enter(r),e.enter(a),e.consume(y),e.exit(a),e.enter(s),d}function d(y){return c>$e.linkReferenceSizeMax||y===z.eof||y===z.leftSquareBracket||y===z.rightSquareBracket&&!u||y===z.caret&&!c&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===z.rightSquareBracket?(e.exit(s),e.enter(a),e.consume(y),e.exit(a),e.exit(r),t):Ze(y)?(e.enter(F.lineEnding),e.consume(y),e.exit(F.lineEnding),d):(e.enter(F.chunkString,{contentType:$e.contentTypeString}),h(y))}function h(y){return y===z.eof||y===z.leftSquareBracket||y===z.rightSquareBracket||Ze(y)||c++>$e.linkReferenceSizeMax?(e.exit(F.chunkString),d(y)):(e.consume(y),u||(u=!kt(y)),y===z.backslash?v:h)}function v(y){return y===z.leftSquareBracket||y===z.backslash||y===z.rightSquareBracket?(e.consume(y),c++,h):h(y)}}function Ly(e,t,n,r,a,s){let o;return c;function c(v){return v===z.quotationMark||v===z.apostrophe||v===z.leftParenthesis?(e.enter(r),e.enter(a),e.consume(v),e.exit(a),o=v===z.leftParenthesis?z.rightParenthesis:v,u):n(v)}function u(v){return v===o?(e.enter(a),e.consume(v),e.exit(a),e.exit(r),t):(e.enter(s),p(v))}function p(v){return v===o?(e.exit(s),u(o)):v===z.eof?n(v):Ze(v)?(e.enter(F.lineEnding),e.consume(v),e.exit(F.lineEnding),Mt(e,p,F.linePrefix)):(e.enter(F.chunkString,{contentType:$e.contentTypeString}),d(v))}function d(v){return v===o||v===z.eof||Ze(v)?(e.exit(F.chunkString),p(v)):(e.consume(v),v===z.backslash?h:d)}function h(v){return v===o||v===z.backslash?(e.consume(v),d):d(v)}}function lo(e,t){let n;return r;function r(a){return Ze(a)?(e.enter(F.lineEnding),e.consume(a),e.exit(F.lineEnding),n=!0,r):kt(a)?Mt(e,r,n?F.linePrefix:F.lineSuffix)(a):t(a)}}const xF={name:"definition",tokenize:_F},wF={partial:!0,tokenize:kF};function _F(e,t,n){const r=this;let a;return s;function s(y){return e.enter(F.definition),o(y)}function o(y){return Q(y===z.leftSquareBracket,"expected `[`"),Dy.call(r,e,c,n,F.definitionLabel,F.definitionLabelMarker,F.definitionLabelString)(y)}function c(y){return a=ya(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===z.colon?(e.enter(F.definitionMarker),e.consume(y),e.exit(F.definitionMarker),u):n(y)}function u(y){return $n(y)?lo(e,p)(y):p(y)}function p(y){return Py(e,d,n,F.definitionDestination,F.definitionDestinationLiteral,F.definitionDestinationLiteralMarker,F.definitionDestinationRaw,F.definitionDestinationString)(y)}function d(y){return e.attempt(wF,h,h)(y)}function h(y){return kt(y)?Mt(e,v,F.whitespace)(y):v(y)}function v(y){return y===z.eof||Ze(y)?(e.exit(F.definition),r.parser.defined.push(a),t(y)):n(y)}}function kF(e,t,n){return r;function r(c){return $n(c)?lo(e,a)(c):n(c)}function a(c){return Ly(e,s,n,F.definitionTitle,F.definitionTitleMarker,F.definitionTitleString)(c)}function s(c){return kt(c)?Mt(e,o,F.whitespace)(c):o(c)}function o(c){return c===z.eof||Ze(c)?t(c):n(c)}}const CF={name:"hardBreakEscape",tokenize:SF};function SF(e,t,n){return r;function r(s){return Q(s===z.backslash,"expected `\\`"),e.enter(F.hardBreakEscape),e.consume(s),a}function a(s){return Ze(s)?(e.exit(F.hardBreakEscape),t(s)):n(s)}}const EF={name:"headingAtx",resolve:TF,tokenize:AF};function TF(e,t){let n=e.length-2,r=3,a,s;return e[r][1].type===F.whitespace&&(r+=2),n-2>r&&e[n][1].type===F.whitespace&&(n-=2),e[n][1].type===F.atxHeadingSequence&&(r===n-1||n-4>r&&e[n-2][1].type===F.whitespace)&&(n-=r+1===n?2:4),n>r&&(a={type:F.atxHeadingText,start:e[r][1].start,end:e[n][1].end},s={type:F.chunkText,start:e[r][1].start,end:e[n][1].end,contentType:$e.contentTypeText},Ir(e,r,n-r+1,[["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t]])),e}function AF(e,t,n){let r=0;return a;function a(d){return e.enter(F.atxHeading),s(d)}function s(d){return Q(d===z.numberSign,"expected `#`"),e.enter(F.atxHeadingSequence),o(d)}function o(d){return d===z.numberSign&&r++<$e.atxHeadingOpeningFenceSizeMax?(e.consume(d),o):d===z.eof||$n(d)?(e.exit(F.atxHeadingSequence),c(d)):n(d)}function c(d){return d===z.numberSign?(e.enter(F.atxHeadingSequence),u(d)):d===z.eof||Ze(d)?(e.exit(F.atxHeading),t(d)):kt(d)?Mt(e,c,F.whitespace)(d):(e.enter(F.atxHeadingText),p(d))}function u(d){return d===z.numberSign?(e.consume(d),u):(e.exit(F.atxHeadingSequence),c(d))}function p(d){return d===z.eof||d===z.numberSign||$n(d)?(e.exit(F.atxHeadingText),c(d)):(e.consume(d),p)}}const jF=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gm=["pre","script","style","textarea"],IF={concrete:!0,name:"htmlFlow",resolveTo:FF,tokenize:MF},RF={partial:!0,tokenize:NF},OF={partial:!0,tokenize:zF};function FF(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type===F.htmlFlow););return t>1&&e[t-2][1].type===F.linePrefix&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function MF(e,t,n){const r=this;let a,s,o,c,u;return p;function p(O){return d(O)}function d(O){return Q(O===z.lessThan,"expected `<`"),e.enter(F.htmlFlow),e.enter(F.htmlFlowData),e.consume(O),h}function h(O){return O===z.exclamationMark?(e.consume(O),v):O===z.slash?(e.consume(O),s=!0,x):O===z.questionMark?(e.consume(O),a=$e.htmlInstruction,r.interrupt?t:N):jr(O)?(Q(O!==null),e.consume(O),o=String.fromCharCode(O),b):n(O)}function v(O){return O===z.dash?(e.consume(O),a=$e.htmlComment,y):O===z.leftSquareBracket?(e.consume(O),a=$e.htmlCdata,c=0,m):jr(O)?(e.consume(O),a=$e.htmlDeclaration,r.interrupt?t:N):n(O)}function y(O){return O===z.dash?(e.consume(O),r.interrupt?t:N):n(O)}function m(O){const Re=$e.cdataOpeningString;return O===Re.charCodeAt(c++)?(e.consume(O),c===Re.length?r.interrupt?t:se:m):n(O)}function x(O){return jr(O)?(Q(O!==null),e.consume(O),o=String.fromCharCode(O),b):n(O)}function b(O){if(O===z.eof||O===z.slash||O===z.greaterThan||$n(O)){const Re=O===z.slash,Ee=o.toLowerCase();return!Re&&!s&&gm.includes(Ee)?(a=$e.htmlRaw,r.interrupt?t(O):se(O)):jF.includes(o.toLowerCase())?(a=$e.htmlBasic,Re?(e.consume(O),k):r.interrupt?t(O):se(O)):(a=$e.htmlComplete,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):s?C(O):T(O))}return O===z.dash||Vn(O)?(e.consume(O),o+=String.fromCharCode(O),b):n(O)}function k(O){return O===z.greaterThan?(e.consume(O),r.interrupt?t:se):n(O)}function C(O){return kt(O)?(e.consume(O),C):Y(O)}function T(O){return O===z.slash?(e.consume(O),Y):O===z.colon||O===z.underscore||jr(O)?(e.consume(O),I):kt(O)?(e.consume(O),T):Y(O)}function I(O){return O===z.dash||O===z.dot||O===z.colon||O===z.underscore||Vn(O)?(e.consume(O),I):$(O)}function $(O){return O===z.equalsTo?(e.consume(O),M):kt(O)?(e.consume(O),$):T(O)}function M(O){return O===z.eof||O===z.lessThan||O===z.equalsTo||O===z.greaterThan||O===z.graveAccent?n(O):O===z.quotationMark||O===z.apostrophe?(e.consume(O),u=O,B):kt(O)?(e.consume(O),M):U(O)}function B(O){return O===u?(e.consume(O),u=null,X):O===z.eof||Ze(O)?n(O):(e.consume(O),B)}function U(O){return O===z.eof||O===z.quotationMark||O===z.apostrophe||O===z.slash||O===z.lessThan||O===z.equalsTo||O===z.greaterThan||O===z.graveAccent||$n(O)?$(O):(e.consume(O),U)}function X(O){return O===z.slash||O===z.greaterThan||kt(O)?T(O):n(O)}function Y(O){return O===z.greaterThan?(e.consume(O),q):n(O)}function q(O){return O===z.eof||Ze(O)?se(O):kt(O)?(e.consume(O),q):n(O)}function se(O){return O===z.dash&&a===$e.htmlComment?(e.consume(O),L):O===z.lessThan&&a===$e.htmlRaw?(e.consume(O),Ce):O===z.greaterThan&&a===$e.htmlDeclaration?(e.consume(O),ce):O===z.questionMark&&a===$e.htmlInstruction?(e.consume(O),N):O===z.rightSquareBracket&&a===$e.htmlCdata?(e.consume(O),de):Ze(O)&&(a===$e.htmlBasic||a===$e.htmlComplete)?(e.exit(F.htmlFlowData),e.check(RF,ne,R)(O)):O===z.eof||Ze(O)?(e.exit(F.htmlFlowData),R(O)):(e.consume(O),se)}function R(O){return e.check(OF,G,ne)(O)}function G(O){return Q(Ze(O)),e.enter(F.lineEnding),e.consume(O),e.exit(F.lineEnding),_}function _(O){return O===z.eof||Ze(O)?R(O):(e.enter(F.htmlFlowData),se(O))}function L(O){return O===z.dash?(e.consume(O),N):se(O)}function Ce(O){return O===z.slash?(e.consume(O),o="",le):se(O)}function le(O){if(O===z.greaterThan){const Re=o.toLowerCase();return gm.includes(Re)?(e.consume(O),ce):se(O)}return jr(O)&&o.length<$e.htmlRawSizeMax?(Q(O!==null),e.consume(O),o+=String.fromCharCode(O),le):se(O)}function de(O){return O===z.rightSquareBracket?(e.consume(O),N):se(O)}function N(O){return O===z.greaterThan?(e.consume(O),ce):O===z.dash&&a===$e.htmlComment?(e.consume(O),N):se(O)}function ce(O){return O===z.eof||Ze(O)?(e.exit(F.htmlFlowData),ne(O)):(e.consume(O),ce)}function ne(O){return e.exit(F.htmlFlow),t(O)}}function zF(e,t,n){const r=this;return a;function a(o){return Ze(o)?(e.enter(F.lineEnding),e.consume(o),e.exit(F.lineEnding),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function NF(e,t,n){return r;function r(a){return Q(Ze(a),"expected a line ending"),e.enter(F.lineEnding),e.consume(a),e.exit(F.lineEnding),e.attempt(fl,t,n)}}const $F={name:"htmlText",tokenize:PF};function PF(e,t,n){const r=this;let a,s,o;return c;function c(N){return Q(N===z.lessThan,"expected `<`"),e.enter(F.htmlText),e.enter(F.htmlTextData),e.consume(N),u}function u(N){return N===z.exclamationMark?(e.consume(N),p):N===z.slash?(e.consume(N),$):N===z.questionMark?(e.consume(N),T):jr(N)?(e.consume(N),U):n(N)}function p(N){return N===z.dash?(e.consume(N),d):N===z.leftSquareBracket?(e.consume(N),s=0,m):jr(N)?(e.consume(N),C):n(N)}function d(N){return N===z.dash?(e.consume(N),y):n(N)}function h(N){return N===z.eof?n(N):N===z.dash?(e.consume(N),v):Ze(N)?(o=h,Ce(N)):(e.consume(N),h)}function v(N){return N===z.dash?(e.consume(N),y):h(N)}function y(N){return N===z.greaterThan?L(N):N===z.dash?v(N):h(N)}function m(N){const ce=$e.cdataOpeningString;return N===ce.charCodeAt(s++)?(e.consume(N),s===ce.length?x:m):n(N)}function x(N){return N===z.eof?n(N):N===z.rightSquareBracket?(e.consume(N),b):Ze(N)?(o=x,Ce(N)):(e.consume(N),x)}function b(N){return N===z.rightSquareBracket?(e.consume(N),k):x(N)}function k(N){return N===z.greaterThan?L(N):N===z.rightSquareBracket?(e.consume(N),k):x(N)}function C(N){return N===z.eof||N===z.greaterThan?L(N):Ze(N)?(o=C,Ce(N)):(e.consume(N),C)}function T(N){return N===z.eof?n(N):N===z.questionMark?(e.consume(N),I):Ze(N)?(o=T,Ce(N)):(e.consume(N),T)}function I(N){return N===z.greaterThan?L(N):T(N)}function $(N){return jr(N)?(e.consume(N),M):n(N)}function M(N){return N===z.dash||Vn(N)?(e.consume(N),M):B(N)}function B(N){return Ze(N)?(o=B,Ce(N)):kt(N)?(e.consume(N),B):L(N)}function U(N){return N===z.dash||Vn(N)?(e.consume(N),U):N===z.slash||N===z.greaterThan||$n(N)?X(N):n(N)}function X(N){return N===z.slash?(e.consume(N),L):N===z.colon||N===z.underscore||jr(N)?(e.consume(N),Y):Ze(N)?(o=X,Ce(N)):kt(N)?(e.consume(N),X):L(N)}function Y(N){return N===z.dash||N===z.dot||N===z.colon||N===z.underscore||Vn(N)?(e.consume(N),Y):q(N)}function q(N){return N===z.equalsTo?(e.consume(N),se):Ze(N)?(o=q,Ce(N)):kt(N)?(e.consume(N),q):X(N)}function se(N){return N===z.eof||N===z.lessThan||N===z.equalsTo||N===z.greaterThan||N===z.graveAccent?n(N):N===z.quotationMark||N===z.apostrophe?(e.consume(N),a=N,R):Ze(N)?(o=se,Ce(N)):kt(N)?(e.consume(N),se):(e.consume(N),G)}function R(N){return N===a?(e.consume(N),a=void 0,_):N===z.eof?n(N):Ze(N)?(o=R,Ce(N)):(e.consume(N),R)}function G(N){return N===z.eof||N===z.quotationMark||N===z.apostrophe||N===z.lessThan||N===z.equalsTo||N===z.graveAccent?n(N):N===z.slash||N===z.greaterThan||$n(N)?X(N):(e.consume(N),G)}function _(N){return N===z.slash||N===z.greaterThan||$n(N)?X(N):n(N)}function L(N){return N===z.greaterThan?(e.consume(N),e.exit(F.htmlTextData),e.exit(F.htmlText),t):n(N)}function Ce(N){return Q(o,"expected return state"),Q(Ze(N),"expected eol"),e.exit(F.htmlTextData),e.enter(F.lineEnding),e.consume(N),e.exit(F.lineEnding),le}function le(N){return Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),kt(N)?Mt(e,de,F.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:$e.tabSize)(N):de(N)}function de(N){return e.enter(F.htmlTextData),o(N)}}const Nd={name:"labelEnd",resolveAll:UF,resolveTo:ZF,tokenize:HF},DF={tokenize:qF},LF={tokenize:WF},BF={tokenize:VF};function UF(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type===F.labelImage||r.type===F.labelLink||r.type===F.labelEnd){const a=r.type===F.labelImage?4:2;r.type=F.data,t+=a}}return e.length!==n.length&&Ir(e,0,e.length,n),e}function ZF(e,t){let n=e.length,r=0,a,s,o,c;for(;n--;)if(a=e[n][1],s){if(a.type===F.link||a.type===F.labelLink&&a._inactive)break;e[n][0]==="enter"&&a.type===F.labelLink&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type===F.labelImage||a.type===F.labelLink)&&!a._balanced&&(s=n,a.type!==F.labelLink)){r=2;break}}else a.type===F.labelEnd&&(o=n);Q(s!==void 0,"`open` is supposed to be found"),Q(o!==void 0,"`close` is supposed to be found");const u={type:e[s][1].type===F.labelLink?F.link:F.image,start:{...e[s][1].start},end:{...e[e.length-1][1].end}},p={type:F.label,start:{...e[s][1].start},end:{...e[o][1].end}},d={type:F.labelText,start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return c=[["enter",u,t],["enter",p,t]],c=cr(c,e.slice(s+1,s+r+3)),c=cr(c,[["enter",d,t]]),Q(t.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),c=cr(c,zd(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),c=cr(c,[["exit",d,t],e[o-2],e[o-1],["exit",p,t]]),c=cr(c,e.slice(o+1)),c=cr(c,[["exit",u,t]]),Ir(e,s,e.length,c),e}function HF(e,t,n){const r=this;let a=r.events.length,s,o;for(;a--;)if((r.events[a][1].type===F.labelImage||r.events[a][1].type===F.labelLink)&&!r.events[a][1]._balanced){s=r.events[a][1];break}return c;function c(v){return Q(v===z.rightSquareBracket,"expected `]`"),s?s._inactive?h(v):(o=r.parser.defined.includes(ya(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter(F.labelEnd),e.enter(F.labelMarker),e.consume(v),e.exit(F.labelMarker),e.exit(F.labelEnd),u):n(v)}function u(v){return v===z.leftParenthesis?e.attempt(DF,d,o?d:h)(v):v===z.leftSquareBracket?e.attempt(LF,d,o?p:h)(v):o?d(v):h(v)}function p(v){return e.attempt(BF,d,h)(v)}function d(v){return t(v)}function h(v){return s._balanced=!0,n(v)}}function qF(e,t,n){return r;function r(h){return Q(h===z.leftParenthesis,"expected left paren"),e.enter(F.resource),e.enter(F.resourceMarker),e.consume(h),e.exit(F.resourceMarker),a}function a(h){return $n(h)?lo(e,s)(h):s(h)}function s(h){return h===z.rightParenthesis?d(h):Py(e,o,c,F.resourceDestination,F.resourceDestinationLiteral,F.resourceDestinationLiteralMarker,F.resourceDestinationRaw,F.resourceDestinationString,$e.linkResourceDestinationBalanceMax)(h)}function o(h){return $n(h)?lo(e,u)(h):d(h)}function c(h){return n(h)}function u(h){return h===z.quotationMark||h===z.apostrophe||h===z.leftParenthesis?Ly(e,p,n,F.resourceTitle,F.resourceTitleMarker,F.resourceTitleString)(h):d(h)}function p(h){return $n(h)?lo(e,d)(h):d(h)}function d(h){return h===z.rightParenthesis?(e.enter(F.resourceMarker),e.consume(h),e.exit(F.resourceMarker),e.exit(F.resource),t):n(h)}}function WF(e,t,n){const r=this;return a;function a(c){return Q(c===z.leftSquareBracket,"expected left bracket"),Dy.call(r,e,s,o,F.reference,F.referenceMarker,F.referenceString)(c)}function s(c){return r.parser.defined.includes(ya(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function o(c){return n(c)}}function VF(e,t,n){return r;function r(s){return Q(s===z.leftSquareBracket,"expected left bracket"),e.enter(F.reference),e.enter(F.referenceMarker),e.consume(s),e.exit(F.referenceMarker),a}function a(s){return s===z.rightSquareBracket?(e.enter(F.referenceMarker),e.consume(s),e.exit(F.referenceMarker),e.exit(F.reference),t):n(s)}}const GF={name:"labelStartImage",resolveAll:Nd.resolveAll,tokenize:KF};function KF(e,t,n){const r=this;return a;function a(c){return Q(c===z.exclamationMark,"expected `!`"),e.enter(F.labelImage),e.enter(F.labelImageMarker),e.consume(c),e.exit(F.labelImageMarker),s}function s(c){return c===z.leftSquareBracket?(e.enter(F.labelMarker),e.consume(c),e.exit(F.labelMarker),e.exit(F.labelImage),o):n(c)}function o(c){return c===z.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const JF={name:"labelStartLink",resolveAll:Nd.resolveAll,tokenize:YF};function YF(e,t,n){const r=this;return a;function a(o){return Q(o===z.leftSquareBracket,"expected `[`"),e.enter(F.labelLink),e.enter(F.labelMarker),e.consume(o),e.exit(F.labelMarker),e.exit(F.labelLink),s}function s(o){return o===z.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const eu={name:"lineEnding",tokenize:XF};function XF(e,t){return n;function n(r){return Q(Ze(r),"expected eol"),e.enter(F.lineEnding),e.consume(r),e.exit(F.lineEnding),Mt(e,t,F.linePrefix)}}const Fs={name:"thematicBreak",tokenize:QF};function QF(e,t,n){let r=0,a;return s;function s(p){return e.enter(F.thematicBreak),o(p)}function o(p){return Q(p===z.asterisk||p===z.dash||p===z.underscore,"expected `*`, `-`, or `_`"),a=p,c(p)}function c(p){return p===a?(e.enter(F.thematicBreakSequence),u(p)):r>=$e.thematicBreakMarkerCountMin&&(p===z.eof||Ze(p))?(e.exit(F.thematicBreak),t(p)):n(p)}function u(p){return p===a?(e.consume(p),r++,u):(e.exit(F.thematicBreakSequence),kt(p)?Mt(e,c,F.whitespace)(p):c(p))}}const zn={continuation:{tokenize:rM},exit:aM,name:"list",tokenize:nM},eM={partial:!0,tokenize:oM},tM={partial:!0,tokenize:iM};function nM(e,t,n){const r=this,a=r.events[r.events.length-1];let s=a&&a[1].type===F.linePrefix?a[2].sliceSerialize(a[1],!0).length:0,o=0;return c;function c(y){Q(r.containerState,"expected state");const m=r.containerState.type||(y===z.asterisk||y===z.plusSign||y===z.dash?F.listUnordered:F.listOrdered);if(m===F.listUnordered?!r.containerState.marker||y===r.containerState.marker:Zu(y)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m===F.listUnordered)return e.enter(F.listItemPrefix),y===z.asterisk||y===z.dash?e.check(Fs,n,p)(y):p(y);if(!r.interrupt||y===z.digit1)return e.enter(F.listItemPrefix),e.enter(F.listItemValue),u(y)}return n(y)}function u(y){return Q(r.containerState,"expected state"),Zu(y)&&++o<$e.listItemValueSizeMax?(e.consume(y),u):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===z.rightParenthesis||y===z.dot)?(e.exit(F.listItemValue),p(y)):n(y)}function p(y){return Q(r.containerState,"expected state"),Q(y!==z.eof,"eof (`null`) is not a marker"),e.enter(F.listItemMarker),e.consume(y),e.exit(F.listItemMarker),r.containerState.marker=r.containerState.marker||y,e.check(fl,r.interrupt?n:d,e.attempt(eM,v,h))}function d(y){return Q(r.containerState,"expected state"),r.containerState.initialBlankLine=!0,s++,v(y)}function h(y){return kt(y)?(e.enter(F.listItemPrefixWhitespace),e.consume(y),e.exit(F.listItemPrefixWhitespace),v):n(y)}function v(y){return Q(r.containerState,"expected state"),r.containerState.size=s+r.sliceSerialize(e.exit(F.listItemPrefix),!0).length,t(y)}}function rM(e,t,n){const r=this;return Q(r.containerState,"expected state"),r.containerState._closeFlow=void 0,e.check(fl,a,s);function a(c){return Q(r.containerState,"expected state"),Q(typeof r.containerState.size=="number","expected size"),r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Mt(e,t,F.listItemIndent,r.containerState.size+1)(c)}function s(c){return Q(r.containerState,"expected state"),r.containerState.furtherBlankLines||!kt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(tM,t,o)(c))}function o(c){return Q(r.containerState,"expected state"),r.containerState._closeFlow=!0,r.interrupt=void 0,Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Mt(e,e.attempt(zn,t,n),F.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:$e.tabSize)(c)}}function iM(e,t,n){const r=this;return Q(r.containerState,"expected state"),Q(typeof r.containerState.size=="number","expected size"),Mt(e,a,F.listItemIndent,r.containerState.size+1);function a(s){Q(r.containerState,"expected state");const o=r.events[r.events.length-1];return o&&o[1].type===F.listItemIndent&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function aM(e){Q(this.containerState,"expected state"),Q(typeof this.containerState.type=="string","expected type"),e.exit(this.containerState.type)}function oM(e,t,n){const r=this;return Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Mt(e,a,F.listItemPrefixWhitespace,r.parser.constructs.disable.null.includes("codeIndented")?void 0:$e.tabSize+1);function a(s){const o=r.events[r.events.length-1];return!kt(s)&&o&&o[1].type===F.listItemPrefixWhitespace?t(s):n(s)}}const vm={name:"setextUnderline",resolveTo:sM,tokenize:lM};function sM(e,t){let n=e.length,r,a,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type===F.content){r=n;break}e[n][1].type===F.paragraph&&(a=n)}else e[n][1].type===F.content&&e.splice(n,1),!s&&e[n][1].type===F.definition&&(s=n);Q(a!==void 0,"expected a `text` index to be found"),Q(r!==void 0,"expected a `text` index to be found"),Q(e[r][2]===t,"enter context should be same"),Q(e[e.length-1][2]===t,"enter context should be same");const o={type:F.setextHeading,start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type=F.setextHeadingText,s?(e.splice(a,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function lM(e,t,n){const r=this;let a;return s;function s(p){let d=r.events.length,h;for(Q(p===z.dash||p===z.equalsTo,"expected `=` or `-`");d--;)if(r.events[d][1].type!==F.lineEnding&&r.events[d][1].type!==F.linePrefix&&r.events[d][1].type!==F.content){h=r.events[d][1].type===F.paragraph;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter(F.setextHeadingLine),a=p,o(p)):n(p)}function o(p){return e.enter(F.setextHeadingLineSequence),c(p)}function c(p){return p===a?(e.consume(p),c):(e.exit(F.setextHeadingLineSequence),kt(p)?Mt(e,u,F.lineSuffix)(p):u(p))}function u(p){return p===z.eof||Ze(p)?(e.exit(F.setextHeadingLine),t(p)):n(p)}}const cM={tokenize:uM};function uM(e){const t=this,n=e.attempt(fl,r,e.attempt(this.parser.constructs.flowInitial,a,Mt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(mF,a)),F.linePrefix)));return n;function r(s){if(Q(s===z.eof||Ze(s),"expected eol or eof"),s===z.eof){e.consume(s);return}return e.enter(F.lineEndingBlank),e.consume(s),e.exit(F.lineEndingBlank),t.currentConstruct=void 0,n}function a(s){if(Q(s===z.eof||Ze(s),"expected eol or eof"),s===z.eof){e.consume(s);return}return e.enter(F.lineEnding),e.consume(s),e.exit(F.lineEnding),t.currentConstruct=void 0,n}}const dM={resolveAll:Uy()},pM=By("string"),fM=By("text");function By(e){return{resolveAll:Uy(e==="text"?hM:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],s=n.attempt(a,o,c);return o;function o(d){return p(d)?s(d):c(d)}function c(d){if(d===z.eof){n.consume(d);return}return n.enter(F.data),n.consume(d),u}function u(d){return p(d)?(n.exit(F.data),s(d)):(n.consume(d),u)}function p(d){if(d===z.eof)return!0;const h=a[d];let v=-1;if(h)for(Q(Array.isArray(h),"expected `disable.null` to be populated");++v<h.length;){const y=h[v];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Uy(e){return t;function t(n,r){let a=-1,s;for(;++a<=n.length;)s===void 0?n[a]&&n[a][1].type===F.data&&(s=a,a++):(!n[a]||n[a][1].type!==F.data)&&(a!==s+2&&(n[s][1].end=n[a-1][1].end,n.splice(s+2,a-s-2),a=s+2),s=void 0);return e?e(n,r):n}}function hM(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type===F.lineEnding)&&e[n-1][1].type===F.data){const r=e[n-1][1],a=t.sliceStream(r);let s=a.length,o=-1,c=0,u;for(;s--;){const p=a[s];if(typeof p=="string"){for(o=p.length;p.charCodeAt(o-1)===z.space;)c++,o--;if(o)break;o=-1}else if(p===z.horizontalTab)u=!0,c++;else if(p!==z.virtualSpace){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const p={type:n===e.length||u||c<$e.hardBreakPrefixSizeMin?F.lineSuffix:F.hardBreakTrailing,start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(e.splice(n,0,["enter",p,t],["exit",p,t]),n+=2)}n++}return e}const mM={[z.asterisk]:zn,[z.plusSign]:zn,[z.dash]:zn,[z.digit0]:zn,[z.digit1]:zn,[z.digit2]:zn,[z.digit3]:zn,[z.digit4]:zn,[z.digit5]:zn,[z.digit6]:zn,[z.digit7]:zn,[z.digit8]:zn,[z.digit9]:zn,[z.greaterThan]:Fy},gM={[z.leftSquareBracket]:xF},vM={[z.horizontalTab]:Qc,[z.virtualSpace]:Qc,[z.space]:Qc},yM={[z.numberSign]:EF,[z.asterisk]:Fs,[z.dash]:[vm,Fs],[z.lessThan]:IF,[z.equalsTo]:vm,[z.underscore]:Fs,[z.graveAccent]:mm,[z.tilde]:mm},bM={[z.ampersand]:zy,[z.backslash]:My},xM={[z.carriageReturn]:eu,[z.lineFeed]:eu,[z.carriageReturnLineFeed]:eu,[z.exclamationMark]:GF,[z.ampersand]:zy,[z.asterisk]:Hu,[z.lessThan]:[YO,$F],[z.leftSquareBracket]:JF,[z.backslash]:[CF,My],[z.rightSquareBracket]:Nd,[z.underscore]:Hu,[z.graveAccent]:uF},wM={null:[Hu,dM]},_M={null:[z.asterisk,z.underscore]},kM={null:[]},CM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_M,contentInitial:gM,disable:kM,document:mM,flow:yM,flowInitial:vM,insideSpan:wM,string:bM,text:xM},Symbol.toStringTag,{value:"Module"}));var qu={exports:{}},tu,ym;function SM(){if(ym)return tu;ym=1;var e=1e3,t=e*60,n=t*60,r=n*24,a=r*7,s=r*365.25;tu=function(d,h){h=h||{};var v=typeof d;if(v==="string"&&d.length>0)return o(d);if(v==="number"&&isFinite(d))return h.long?u(d):c(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var v=parseFloat(h[1]),y=(h[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return v*s;case"weeks":case"week":case"w":return v*a;case"days":case"day":case"d":return v*r;case"hours":case"hour":case"hrs":case"hr":case"h":return v*n;case"minutes":case"minute":case"mins":case"min":case"m":return v*t;case"seconds":case"second":case"secs":case"sec":case"s":return v*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function c(d){var h=Math.abs(d);return h>=r?Math.round(d/r)+"d":h>=n?Math.round(d/n)+"h":h>=t?Math.round(d/t)+"m":h>=e?Math.round(d/e)+"s":d+"ms"}function u(d){var h=Math.abs(d);return h>=r?p(d,h,r,"day"):h>=n?p(d,h,n,"hour"):h>=t?p(d,h,t,"minute"):h>=e?p(d,h,e,"second"):d+" ms"}function p(d,h,v,y){var m=h>=v*1.5;return Math.round(d/v)+" "+y+(m?"s":"")}return tu}function EM(e){n.debug=n,n.default=n,n.coerce=u,n.disable=s,n.enable=a,n.enabled=o,n.humanize=SM(),n.destroy=p,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let h=0;for(let v=0;v<d.length;v++)h=(h<<5)-h+d.charCodeAt(v),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=t;function n(d){let h,v=null,y,m;function x(...b){if(!x.enabled)return;const k=x,C=Number(new Date),T=C-(h||C);k.diff=T,k.prev=h,k.curr=C,h=C,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let I=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(M,B)=>{if(M==="%%")return"%";I++;const U=n.formatters[B];if(typeof U=="function"){const X=b[I];M=U.call(k,X),b.splice(I,1),I--}return M}),n.formatArgs.call(k,b),(k.log||n.log).apply(k,b)}return x.namespace=d,x.useColors=n.useColors(),x.color=n.selectColor(d),x.extend=r,x.destroy=n.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(y!==n.namespaces&&(y=n.namespaces,m=n.enabled(d)),m),set:b=>{v=b}}),typeof n.init=="function"&&n.init(x),x}function r(d,h){const v=n(this.namespace+(typeof h>"u"?":":h)+d);return v.log=this.log,v}function a(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let h;const v=(typeof d=="string"?d:"").split(/[\s,]+/),y=v.length;for(h=0;h<y;h++)v[h]&&(d=v[h].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function s(){const d=[...n.names.map(c),...n.skips.map(c).map(h=>"-"+h)].join(",");return n.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let h,v;for(h=0,v=n.skips.length;h<v;h++)if(n.skips[h].test(d))return!1;for(h=0,v=n.names.length;h<v;h++)if(n.names[h].test(d))return!0;return!1}function c(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function u(d){return d instanceof Error?d.stack||d.message:d}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var TM=EM;(function(e,t){var n={},r={};t.formatArgs=s,t.save=o,t.load=c,t.useColors=a,t.storage=u(),t.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;d.splice(1,0,h,"color: inherit");let v=0,y=0;d[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(v++,m==="%c"&&(y=v))}),d.splice(y,0,h)}t.log=console.debug||console.log||(()=>{});function o(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function c(){let d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof n<"u"&&"env"in n&&(d=r.DEBUG),d}function u(){try{return localStorage}catch{}}e.exports=TM(t);const{formatters:p}=e.exports;p.j=function(d){try{return JSON.stringify(d)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(qu,qu.exports);var AM=qu.exports;const jM=hi(AM),Ti=jM("micromark");function IM(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},s=[];let o=[],c=[],u=!0;const p={attempt:X(B),check:X(U),consume:I,enter:$,exit:M,interrupt:X(U,{interrupt:!0})},d={code:z.eof,containerState:{},defineSkip:k,events:[],now:b,parser:e,previous:z.eof,sliceSerialize:m,sliceStream:x,write:y};let h=t.tokenize.call(d,p),v;return t.resolveAll&&s.push(t),d;function y(R){return o=cr(o,R),C(),o[o.length-1]!==z.eof?[]:(Y(t,0),d.events=zd(s,d.events,d),d.events)}function m(R,G){return OM(x(R),G)}function x(R){return RM(o,R)}function b(){const{_bufferIndex:R,_index:G,line:_,column:L,offset:Ce}=r;return{_bufferIndex:R,_index:G,line:_,column:L,offset:Ce}}function k(R){a[R.line]=R.column,se(),Ti("position: define skip: `%j`",r)}function C(){let R;for(;r._index<o.length;){const G=o[r._index];if(typeof G=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<G.length;)T(G.charCodeAt(r._bufferIndex));else T(G)}}function T(R){Q(u===!0,"expected character to be consumed"),u=void 0,Ti("main: passing `%s` to %s",R,h&&h.name),v=R,Q(typeof h=="function","expected state"),h=h(R)}function I(R){Q(R===v,"expected given code to equal expected code"),Ti("consume: `%s`",R),Q(u===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),Q(R===null?d.events.length===0||d.events[d.events.length-1][0]==="exit":d.events[d.events.length-1][0]==="enter","expected last token to be open"),Ze(R)?(r.line++,r.column=1,r.offset+=R===z.carriageReturnLineFeed?2:1,se(),Ti("position: after eol: `%j`",r)):R!==z.virtualSpace&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=R,u=!0}function $(R,G){const _=G||{};return _.type=R,_.start=b(),Q(typeof R=="string","expected string type"),Q(R.length>0,"expected non-empty string"),Ti("enter: `%s`",R),d.events.push(["enter",_,d]),c.push(_),_}function M(R){Q(typeof R=="string","expected string type"),Q(R.length>0,"expected non-empty string");const G=c.pop();return Q(G,"cannot close w/o open tokens"),G.end=b(),Q(R===G.type,"expected exit token to match current token"),Q(!(G.start._index===G.end._index&&G.start._bufferIndex===G.end._bufferIndex),"expected non-empty token (`"+R+"`)"),Ti("exit: `%s`",G.type),d.events.push(["exit",G,d]),G}function B(R,G){Y(R,G.from)}function U(R,G){G.restore()}function X(R,G){return _;function _(L,Ce,le){let de,N,ce,ne;return Array.isArray(L)?Re(L):"tokenize"in L?Re([L]):O(L);function O(Ve){return ve;function ve(Me){const xe=Me!==null&&Ve[Me],Oe=Me!==null&&Ve.null,Ye=[...Array.isArray(xe)?xe:xe?[xe]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return Re(Ye)(Me)}}function Re(Ve){return de=Ve,N=0,Ve.length===0?(Q(le,"expected `bogusState` to be given"),le):Ee(Ve[N])}function Ee(Ve){return ve;function ve(Me){return ne=q(),ce=Ve,Ve.partial||(d.currentConstruct=Ve),Q(d.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ve.name&&d.parser.constructs.disable.null.includes(Ve.name)?at(Me):Ve.tokenize.call(G?Object.assign(Object.create(d),G):d,p,ue,at)(Me)}}function ue(Ve){return Q(Ve===v,"expected code"),u=!0,R(ce,ne),Ce}function at(Ve){return Q(Ve===v,"expected code"),u=!0,ne.restore(),++N<de.length?Ee(de[N]):le}}}function Y(R,G){R.resolveAll&&!s.includes(R)&&s.push(R),R.resolve&&Ir(d.events,G,d.events.length-G,R.resolve(d.events.slice(G),d)),R.resolveTo&&(d.events=R.resolveTo(d.events,d)),Q(R.partial||d.events.length===0||d.events[d.events.length-1][0]==="exit","expected last token to end")}function q(){const R=b(),G=d.previous,_=d.currentConstruct,L=d.events.length,Ce=Array.from(c);return{from:L,restore:le};function le(){r=R,d.previous=G,d.currentConstruct=_,d.events.length=L,c=Ce,se(),Ti("position: restore: `%j`",r)}}function se(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function RM(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let o;if(n===a)Q(s>-1,"expected non-negative end buffer index"),Q(r>-1,"expected non-negative start buffer index"),o=[e[n].slice(r,s)];else{if(o=e.slice(n,a),r>-1){const c=o[0];typeof c=="string"?o[0]=c.slice(r):(Q(r===0,"expected `startBufferIndex` to be `0`"),o.shift())}s>0&&o.push(e[a].slice(0,s))}return o}function OM(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case z.carriageReturn:{o=Ar.cr;break}case z.lineFeed:{o=Ar.lf;break}case z.carriageReturnLineFeed:{o=Ar.cr+Ar.lf;break}case z.horizontalTab:{o=t?Ar.space:Ar.ht;break}case z.virtualSpace:{if(!t&&a)continue;o=Ar.space;break}default:Q(typeof s=="number","expected number"),o=String.fromCharCode(s)}a=s===z.horizontalTab,r.push(o)}return r.join("")}function FM(e){const r={constructs:NO([CM,...(e||{}).extensions||[]]),content:a(HO),defined:[],document:a(WO),flow:a(cM),lazy:{},string:a(pM),text:a(fM)};return r;function a(s){return o;function o(c){return IM(r,s,c)}}}function MM(e){for(;!$y(e););return e}const bm=/[\0\t\n\r]/g;function zM(){let e=1,t="",n=!0,r;return a;function a(s,o,c){const u=[];let p,d,h,v,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===z.byteOrderMarker&&h++,n=void 0);h<s.length;){if(bm.lastIndex=h,p=bm.exec(s),v=p&&p.index!==void 0?p.index:s.length,y=s.charCodeAt(v),!p){t=s.slice(h);break}if(y===z.lf&&h===v&&r)u.push(z.carriageReturnLineFeed),r=void 0;else switch(r&&(u.push(z.carriageReturn),r=void 0),h<v&&(u.push(s.slice(h,v)),e+=v-h),y){case z.nul:{u.push(z.replacementCharacter),e++;break}case z.ht:{for(d=Math.ceil(e/$e.tabSize)*$e.tabSize,u.push(z.horizontalTab);e++<d;)u.push(z.virtualSpace);break}case z.lf:{u.push(z.lineFeed),e=1;break}default:r=!0,e=1}h=v+1}return c&&(r&&u.push(z.carriageReturn),t&&u.push(t),u.push(z.eof)),u}}const NM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $M(e){return e.replace(NM,PM)}function PM(e,t,n){if(t)return t;if(n.charCodeAt(0)===z.numberSign){const a=n.charCodeAt(1),s=a===z.lowercaseX||a===z.uppercaseX;return Oy(n.slice(s?2:1),s?$e.numericBaseHexadecimal:$e.numericBaseDecimal)}return Md(n)||e}const Zy={}.hasOwnProperty;function DM(e,t,n){return typeof t!="string"&&(n=t,t=void 0),LM(n)(MM(FM(n).document().write(zM()(e,t,!0))))}function LM(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(S),autolinkProtocol:X,autolinkEmail:X,atxHeading:s(E),blockQuote:s(Me),characterEscape:X,characterReference:X,codeFenced:s(xe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(xe,o),codeText:s(Oe,o),codeTextData:X,data:X,codeFlowValue:X,definition:s(Ye),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Xe),hardBreakEscape:s(pe),hardBreakTrailing:s(pe),htmlFlow:s(W,o),htmlFlowData:X,htmlText:s(W,o),htmlTextData:X,image:s(D),label:o,link:s(S),listItem:s(be),listItemValue:v,listOrdered:s(ee,h),listUnordered:s(ee),paragraph:s(_e),reference:O,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(E),strong:s(ie),thematicBreak:s(he)},exit:{atxHeading:u(),atxHeadingSequence:$,autolink:u(),autolinkEmail:ve,autolinkProtocol:Ve,blockQuote:u(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:Ee,characterReferenceMarkerNumeric:Ee,characterReferenceValue:ue,characterReference:at,codeFenced:u(b),codeFencedFence:x,codeFencedFenceInfo:y,codeFencedFenceMeta:m,codeFlowValue:Y,codeIndented:u(k),codeText:u(_),codeTextData:Y,data:Y,definition:u(),definitionDestinationString:I,definitionLabelString:C,definitionTitleString:T,emphasis:u(),hardBreakEscape:u(se),hardBreakTrailing:u(se),htmlFlow:u(R),htmlFlowData:Y,htmlText:u(G),htmlTextData:Y,image:u(Ce),label:de,labelText:le,lineEnding:q,link:u(L),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Re,resourceDestinationString:N,resourceTitleString:ce,resource:ne,setextHeading:u(U),setextHeadingLineSequence:B,setextHeadingText:M,strong:u(),thematicBreak:u()}};Hy(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let V={type:"root",children:[]};const ye={stack:[V],tokenStack:[],config:t,enter:c,exit:p,buffer:o,resume:d,data:n},Ie=[];let Be=-1;for(;++Be<Z.length;)if(Z[Be][1].type===F.listOrdered||Z[Be][1].type===F.listUnordered)if(Z[Be][0]==="enter")Ie.push(Be);else{const ut=Ie.pop();Q(typeof ut=="number","expected list ot be open"),Be=a(Z,ut,Be)}for(Be=-1;++Be<Z.length;){const ut=t[Z[Be][0]];Zy.call(ut,Z[Be][1].type)&&ut[Z[Be][1].type].call(Object.assign({sliceSerialize:Z[Be][2].sliceSerialize},ye),Z[Be][1])}if(ye.tokenStack.length>0){const ut=ye.tokenStack[ye.tokenStack.length-1];(ut[1]||xm).call(ye,void 0,ut[0])}for(V.position={start:oi(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:oi(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<t.transforms.length;)V=t.transforms[Be](V)||V;return V}function a(Z,V,ye){let Ie=V-1,Be=-1,ut=!1,St,yt,nt,cn;for(;++Ie<=ye;){const bt=Z[Ie];switch(bt[1].type){case F.listUnordered:case F.listOrdered:case F.blockQuote:{bt[0]==="enter"?Be++:Be--,cn=void 0;break}case F.lineEndingBlank:{bt[0]==="enter"&&(St&&!cn&&!Be&&!nt&&(nt=Ie),cn=void 0);break}case F.linePrefix:case F.listItemValue:case F.listItemMarker:case F.listItemPrefix:case F.listItemPrefixWhitespace:break;default:cn=void 0}if(!Be&&bt[0]==="enter"&&bt[1].type===F.listItemPrefix||Be===-1&&bt[0]==="exit"&&(bt[1].type===F.listUnordered||bt[1].type===F.listOrdered)){if(St){let Tt=Ie;for(yt=void 0;Tt--;){const dt=Z[Tt];if(dt[1].type===F.lineEnding||dt[1].type===F.lineEndingBlank){if(dt[0]==="exit")continue;yt&&(Z[yt][1].type=F.lineEndingBlank,ut=!0),dt[1].type=F.lineEnding,yt=Tt}else if(!(dt[1].type===F.linePrefix||dt[1].type===F.blockQuotePrefix||dt[1].type===F.blockQuotePrefixWhitespace||dt[1].type===F.blockQuoteMarker||dt[1].type===F.listItemIndent))break}nt&&(!yt||nt<yt)&&(St._spread=!0),St.end=Object.assign({},yt?Z[yt][1].start:bt[1].end),Z.splice(yt||Ie,0,["exit",St,bt[2]]),Ie++,ye++}if(bt[1].type===F.listItemPrefix){const Tt={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start),end:void 0};St=Tt,Z.splice(Ie,0,["enter",Tt,bt[2]]),Ie++,ye++,nt=void 0,cn=!0}}}return Z[V][1]._spread=ut,ye}function s(Z,V){return ye;function ye(Ie){c.call(this,Z(Ie),Ie),V&&V.call(this,Ie)}}function o(){this.stack.push({type:"fragment",children:[]})}function c(Z,V,ye){const Ie=this.stack[this.stack.length-1];Q(Ie,"expected `parent`"),Q("children"in Ie,"expected `parent`"),Ie.children.push(Z),this.stack.push(Z),this.tokenStack.push([V,ye||void 0]),Z.position={start:oi(V.start),end:void 0}}function u(Z){return V;function V(ye){Z&&Z.call(this,ye),p.call(this,ye)}}function p(Z,V){const ye=this.stack.pop();Q(ye,"expected `node`");const Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==Z.type&&(V?V.call(this,Z,Ie[0]):(Ie[1]||xm).call(this,Z,Ie[0]));else throw new Error("Cannot close `"+Z.type+"` ("+so({start:Z.start,end:Z.end})+"): its not open");Q(ye.type!=="fragment","unexpected fragment `exit`ed"),Q(ye.position,"expected `position` to be defined"),ye.position.end=oi(Z.end)}function d(){return MO(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function v(Z){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];Q(V,"expected nodes on stack"),Q(V.type==="list","expected list on stack"),V.start=Number.parseInt(this.sliceSerialize(Z),$e.numericBaseDecimal),this.data.expectingFirstListItemValue=void 0}}function y(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="code","expected code on stack"),V.lang=Z}function m(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="code","expected code on stack"),V.meta=Z}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="code","expected code on stack"),V.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="code","expected code on stack"),V.value=Z.replace(/(\r?\n|\r)$/g,"")}function C(Z){const V=this.resume(),ye=this.stack[this.stack.length-1];Q(ye,"expected node on stack"),Q(ye.type==="definition","expected definition on stack"),ye.label=V,ye.identifier=ya(this.sliceSerialize(Z)).toLowerCase()}function T(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="definition","expected definition on stack"),V.title=Z}function I(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="definition","expected definition on stack"),V.url=Z}function $(Z){const V=this.stack[this.stack.length-1];if(Q(V,"expected node on stack"),Q(V.type==="heading","expected heading on stack"),!V.depth){const ye=this.sliceSerialize(Z).length;Q(ye===1||ye===2||ye===3||ye===4||ye===5||ye===6,"expected `depth` between `1` and `6`"),V.depth=ye}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function B(Z){const V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="heading","expected heading on stack"),V.depth=this.sliceSerialize(Z).codePointAt(0)===z.equalsTo?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function X(Z){const V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q("children"in V,"expected parent on stack");const ye=V.children;let Ie=ye[ye.length-1];(!Ie||Ie.type!=="text")&&(Ie=oe(),Ie.position={start:oi(Z.start),end:void 0},ye.push(Ie)),this.stack.push(Ie)}function Y(Z){const V=this.stack.pop();Q(V,"expected a `node` to be on the stack"),Q("value"in V,"expected a `literal` to be on the stack"),Q(V.position,"expected `node` to have an open position"),V.value+=this.sliceSerialize(Z),V.position.end=oi(Z.end)}function q(Z){const V=this.stack[this.stack.length-1];if(Q(V,"expected `node`"),this.data.atHardBreak){Q("children"in V,"expected `parent`");const ye=V.children[V.children.length-1];Q(ye.position,"expected tail to have a starting position"),ye.position.end=oi(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(V.type)&&(X.call(this,Z),Y.call(this,Z))}function se(){this.data.atHardBreak=!0}function R(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="html","expected html on stack"),V.value=Z}function G(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="html","expected html on stack"),V.value=Z}function _(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="inlineCode","expected inline code on stack"),V.value=Z}function L(){const Z=this.stack[this.stack.length-1];if(Q(Z,"expected node on stack"),Q(Z.type==="link","expected link on stack"),this.data.inReference){const V=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=V,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function Ce(){const Z=this.stack[this.stack.length-1];if(Q(Z,"expected node on stack"),Q(Z.type==="image","expected image on stack"),this.data.inReference){const V=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=V,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function le(Z){const V=this.sliceSerialize(Z),ye=this.stack[this.stack.length-2];Q(ye,"expected ancestor on stack"),Q(ye.type==="image"||ye.type==="link","expected image or link on stack"),ye.label=$M(V),ye.identifier=ya(V).toLowerCase()}function de(){const Z=this.stack[this.stack.length-1];Q(Z,"expected node on stack"),Q(Z.type==="fragment","expected fragment on stack");const V=this.resume(),ye=this.stack[this.stack.length-1];if(Q(ye,"expected node on stack"),Q(ye.type==="image"||ye.type==="link","expected image or link on stack"),this.data.inReference=!0,ye.type==="link"){const Ie=Z.children;ye.children=Ie}else ye.alt=V}function N(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="image"||V.type==="link","expected image or link on stack"),V.url=Z}function ce(){const Z=this.resume(),V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="image"||V.type==="link","expected image or link on stack"),V.title=Z}function ne(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function Re(Z){const V=this.resume(),ye=this.stack[this.stack.length-1];Q(ye,"expected node on stack"),Q(ye.type==="image"||ye.type==="link","expected image reference or link reference on stack"),ye.label=V,ye.identifier=ya(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function Ee(Z){Q(Z.type==="characterReferenceMarkerNumeric"||Z.type==="characterReferenceMarkerHexadecimal"),this.data.characterReferenceType=Z.type}function ue(Z){const V=this.sliceSerialize(Z),ye=this.data.characterReferenceType;let Ie;if(ye)Ie=Oy(V,ye===F.characterReferenceMarkerNumeric?$e.numericBaseDecimal:$e.numericBaseHexadecimal),this.data.characterReferenceType=void 0;else{const ut=Md(V);Q(ut!==!1,"expected reference to decode"),Ie=ut}const Be=this.stack[this.stack.length-1];Q(Be,"expected `node`"),Q("value"in Be,"expected `node.value`"),Be.value+=Ie}function at(Z){const V=this.stack.pop();Q(V,"expected `node`"),Q(V.position,"expected `node.position`"),V.position.end=oi(Z.end)}function Ve(Z){Y.call(this,Z);const V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="link","expected link on stack"),V.url=this.sliceSerialize(Z)}function ve(Z){Y.call(this,Z);const V=this.stack[this.stack.length-1];Q(V,"expected node on stack"),Q(V.type==="link","expected link on stack"),V.url="mailto:"+this.sliceSerialize(Z)}function Me(){return{type:"blockquote",children:[]}}function xe(){return{type:"code",lang:null,meta:null,value:""}}function Oe(){return{type:"inlineCode",value:""}}function Ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Xe(){return{type:"emphasis",children:[]}}function E(){return{type:"heading",depth:0,children:[]}}function pe(){return{type:"break"}}function W(){return{type:"html",value:""}}function D(){return{type:"image",title:null,url:"",alt:null}}function S(){return{type:"link",title:null,url:"",children:[]}}function ee(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function be(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function _e(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function oe(){return{type:"text",value:""}}function he(){return{type:"thematicBreak"}}}function oi(e){return{line:e.line,column:e.column,offset:e.offset}}function Hy(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Hy(e,r):BM(e,r)}}function BM(e,t){let n;for(n in t)if(Zy.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function xm(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+so({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+so({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+so({start:t.start,end:t.end})+") is still open")}function UM(e){const t=this;t.parser=n;function n(r){return DM(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ZM(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function HM(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function qM(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function WM(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VM(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GM(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Ta(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,c+=1,e.footnoteCounts.set(r,c);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const p={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,p),e.applyData(t,p)}function KM(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function JM(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function qy(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),s=a[0];s&&s.type==="text"?s.value="["+s.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function YM(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qy(e,t);const a={src:Ta(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)}function XM(e,t){const n={src:Ta(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function QM(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function ez(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qy(e,t);const a={href:Ta(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function tz(e,t){const n={href:Ta(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nz(e,t,n){const r=e.all(t),a=n?rz(n):Wy(t),s={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const d=r[c];(a||c!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const u=r[r.length-1];u&&(a||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,p),e.applyData(t,p)}function rz(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Wy(n[r])}return t}function Wy(e){const t=e.spread;return t??e.children.length>1}function iz(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function az(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oz(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function sz(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lz(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=Id(t.children[1]),u=Sy(t.children[t.children.length-1]);c&&u&&(o.position={start:c,end:u}),a.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)}function cz(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,c=o?o.length:t.children.length;let u=-1;const p=[];for(;++u<c;){const h=t.children[u],v={},y=o?o[u]:void 0;y&&(v.align=y);let m={type:"element",tagName:s,properties:v,children:[]};h&&(m.children=e.all(h),e.patch(h,m),m=e.applyData(h,m)),p.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(p,!0)};return e.patch(t,d),e.applyData(t,d)}function uz(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const wm=9,_m=32;function dz(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const s=[];for(;r;)s.push(km(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return s.push(km(t.slice(a),a>0,!1)),s.join("")}function km(e,t,n){let r=0,a=e.length;if(t){let s=e.codePointAt(r);for(;s===wm||s===_m;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(a-1);for(;s===wm||s===_m;)a--,s=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function pz(e,t){const n={type:"text",value:dz(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function fz(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const hz={blockquote:ZM,break:HM,code:qM,delete:WM,emphasis:VM,footnoteReference:GM,heading:KM,html:JM,imageReference:YM,image:XM,inlineCode:QM,linkReference:ez,link:tz,listItem:nz,list:iz,paragraph:az,root:oz,strong:sz,table:lz,tableCell:uz,tableRow:cz,text:pz,thematicBreak:fz,toml:Es,yaml:Es,definition:Es,footnoteDefinition:Es};function Es(){}const Vy=-1,hl=0,co=1,qs=2,$d=3,Pd=4,Dd=5,Ld=6,Gy=7,Ky=8,Cm=typeof self=="object"?self:globalThis,mz=(e,t)=>{const n=(a,s)=>(e.set(s,a),a),r=a=>{if(e.has(a))return e.get(a);const[s,o]=t[a];switch(s){case hl:case Vy:return n(o,a);case co:{const c=n([],a);for(const u of o)c.push(r(u));return c}case qs:{const c=n({},a);for(const[u,p]of o)c[r(u)]=r(p);return c}case $d:return n(new Date(o),a);case Pd:{const{source:c,flags:u}=o;return n(new RegExp(c,u),a)}case Dd:{const c=n(new Map,a);for(const[u,p]of o)c.set(r(u),r(p));return c}case Ld:{const c=n(new Set,a);for(const u of o)c.add(r(u));return c}case Gy:{const{name:c,message:u}=o;return n(new Cm[c](u),a)}case Ky:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:c}=new Uint8Array(o);return n(new DataView(c),o)}}return n(new Cm[s](o),a)};return r},Sm=e=>mz(new Map,e)(0),sa="",{toString:gz}={},{keys:vz}=Object,eo=e=>{const t=typeof e;if(t!=="object"||!e)return[hl,t];const n=gz.call(e).slice(8,-1);switch(n){case"Array":return[co,sa];case"Object":return[qs,sa];case"Date":return[$d,sa];case"RegExp":return[Pd,sa];case"Map":return[Dd,sa];case"Set":return[Ld,sa];case"DataView":return[co,n]}return n.includes("Array")?[co,n]:n.includes("Error")?[Gy,n]:[qs,n]},Ts=([e,t])=>e===hl&&(t==="function"||t==="symbol"),yz=(e,t,n,r)=>{const a=(o,c)=>{const u=r.push(o)-1;return n.set(c,u),u},s=o=>{if(n.has(o))return n.get(o);let[c,u]=eo(o);switch(c){case hl:{let d=o;switch(u){case"bigint":c=Ky,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return a([Vy],o)}return a([c,d],o)}case co:{if(u){let v=o;return u==="DataView"?v=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(v=new Uint8Array(o)),a([u,[...v]],o)}const d=[],h=a([c,d],o);for(const v of o)d.push(s(v));return h}case qs:{if(u)switch(u){case"BigInt":return a([u,o.toString()],o);case"Boolean":case"Number":case"String":return a([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],h=a([c,d],o);for(const v of vz(o))(e||!Ts(eo(o[v])))&&d.push([s(v),s(o[v])]);return h}case $d:return a([c,o.toISOString()],o);case Pd:{const{source:d,flags:h}=o;return a([c,{source:d,flags:h}],o)}case Dd:{const d=[],h=a([c,d],o);for(const[v,y]of o)(e||!(Ts(eo(v))||Ts(eo(y))))&&d.push([s(v),s(y)]);return h}case Ld:{const d=[],h=a([c,d],o);for(const v of o)(e||!Ts(eo(v)))&&d.push(s(v));return h}}const{message:p}=o;return a([c,{name:u,message:p}],o)};return s},Em=(e,{json:t,lossy:n}={})=>{const r=[];return yz(!(t||n),!!t,new Map,r)(e),r},Ws=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Sm(Em(e,t)):structuredClone(e):(e,t)=>Sm(Em(e,t));function bz(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function xz(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function wz(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||bz,r=e.options.footnoteBackLabel||xz,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let u=-1;for(;++u<e.footnoteOrder.length;){const p=e.footnoteById.get(e.footnoteOrder[u]);if(!p)continue;const d=e.all(p),h=String(p.identifier).toUpperCase(),v=Ta(h.toLowerCase());let y=0;const m=[],x=e.footnoteCounts.get(h);for(;x!==void 0&&++y<=x;){m.length>0&&m.push({type:"text",value:" "});let C=typeof n=="string"?n:n(u,y);typeof C=="string"&&(C={type:"text",value:C}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,y),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const C=b.children[b.children.length-1];C&&C.type==="text"?C.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else d.push(...m);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(d,!0)};e.patch(p,k),c.push(k)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ws(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const Jy=function(e){if(e==null)return Sz;if(typeof e=="function")return ml(e);if(typeof e=="object")return Array.isArray(e)?_z(e):kz(e);if(typeof e=="string")return Cz(e);throw new Error("Expected function, string, or object as test")};function _z(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Jy(e[n]);return ml(r);function r(...a){let s=-1;for(;++s<t.length;)if(t[s].apply(this,a))return!0;return!1}}function kz(e){const t=e;return ml(n);function n(r){const a=r;let s;for(s in e)if(a[s]!==t[s])return!1;return!0}}function Cz(e){return ml(t);function t(n){return n&&n.type===e}}function ml(e){return t;function t(n,r,a){return!!(Ez(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Sz(){return!0}function Ez(e){return e!==null&&typeof e=="object"&&"type"in e}const Yy=[],Tz=!0,Tm=!1,Az="skip";function jz(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const s=Jy(a),o=r?-1:1;c(e,void 0,[])();function c(u,p,d){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const y=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=Yy,m,x,b;if((!t||s(u,p,d[d.length-1]||void 0))&&(y=Iz(n(u,d)),y[0]===Tm))return y;if("children"in u&&u.children){const k=u;if(k.children&&y[0]!==Az)for(x=(r?k.children.length:-1)+o,b=d.concat(k);x>-1&&x<k.children.length;){const C=k.children[x];if(m=c(C,x,b)(),m[0]===Tm)return m;x=typeof m[1]=="number"?m[1]:x+o}}return y}}}function Iz(e){return Array.isArray(e)?e:typeof e=="number"?[Tz,e]:e==null?Yy:[e]}function Xy(e,t,n,r){let a,s,o;typeof t=="function"?(s=void 0,o=t,a=n):(s=t,o=n,a=r),jz(e,s,c,a);function c(u,p){const d=p[p.length-1],h=d?d.children.indexOf(u):void 0;return o(u,h,d)}}const Wu={}.hasOwnProperty,Rz={};function Oz(e,t){const n=t||Rz,r=new Map,a=new Map,s=new Map,o={...hz,...n.handlers},c={all:p,applyData:Mz,definitionById:r,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:Fz,wrap:Nz};return Xy(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:a,v=String(d.identifier).toUpperCase();h.has(v)||h.set(v,d)}}),c;function u(d,h){const v=d.type,y=c.handlers[v];if(Wu.call(c.handlers,v)&&y)return y(c,d,h);if(c.options.passThrough&&c.options.passThrough.includes(v)){if("children"in d){const{children:x,...b}=d,k=Ws(b);return k.children=c.all(d),k}return Ws(d)}return(c.options.unknownHandler||zz)(c,d,h)}function p(d){const h=[];if("children"in d){const v=d.children;let y=-1;for(;++y<v.length;){const m=c.one(v[y],d);if(m){if(y&&v[y-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=Am(m.value)),!Array.isArray(m)&&m.type==="element")){const x=m.children[0];x&&x.type==="text"&&(x.value=Am(x.value))}Array.isArray(m)?h.push(...m):h.push(m)}}}return h}}function Fz(e,t){e.position&&(t.position=pO(e))}function Mz(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Ws(s)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function zz(e,t){const n=t.data||{},r="value"in t&&!(Wu.call(n,"hProperties")||Wu.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Nz(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Am(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function jm(e,t){const n=Oz(e,t),r=n.one(e,void 0),a=wz(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&(Q("children"in s),s.children.push({type:"text",value:`
`},a)),s}function $z(e,t){return e&&"run"in e?async function(n,r){const a=jm(n,{file:r,...t});await e.run(a,r)}:function(n,r){return jm(n,{file:r,...e||t})}}function Im(e){if(e)throw e}var Ms=Object.prototype.hasOwnProperty,Qy=Object.prototype.toString,Rm=Object.defineProperty,Om=Object.getOwnPropertyDescriptor,Fm=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Qy.call(t)==="[object Array]"},Mm=function(t){if(!t||Qy.call(t)!=="[object Object]")return!1;var n=Ms.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Ms.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||Ms.call(t,a)},zm=function(t,n){Rm&&n.name==="__proto__"?Rm(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Nm=function(t,n){if(n==="__proto__")if(Ms.call(t,n)){if(Om)return Om(t,n).value}else return;return t[n]},Pz=function e(){var t,n,r,a,s,o,c=arguments[0],u=1,p=arguments.length,d=!1;for(typeof c=="boolean"&&(d=c,c=arguments[1]||{},u=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});u<p;++u)if(t=arguments[u],t!=null)for(n in t)r=Nm(c,n),a=Nm(t,n),c!==a&&(d&&a&&(Mm(a)||(s=Fm(a)))?(s?(s=!1,o=r&&Fm(r)?r:[]):o=r&&Mm(r)?r:{},zm(c,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&zm(c,{name:n,newValue:a}));return c};const nu=hi(Pz);function Vu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Dz(){const e=[],t={run:n,use:r};return t;function n(...a){let s=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);c(null,...a);function c(u,...p){const d=e[++s];let h=-1;if(u){o(u);return}for(;++h<a.length;)(p[h]===null||p[h]===void 0)&&(p[h]=a[h]);a=p,d?Lz(d,c)(...p):o(null,...p)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function Lz(e,t){let n;return r;function r(...o){const c=e.length>o.length;let u;c&&o.push(a);try{u=e.apply(this,o)}catch(p){const d=p;if(c&&n)throw d;return a(d)}c||(u&&u.then&&typeof u.then=="function"?u.then(s,a):u instanceof Error?a(u):s(u))}function a(o,...c){n||(n=!0,t(o,...c))}function s(o){a(null,o)}}const Er={basename:Bz,dirname:Uz,extname:Zz,join:Hz,sep:"/"};function Bz(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Eo(e);let n=0,r=-1,a=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else r<0&&(s=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,c=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else o<0&&(s=!0,o=a+1),c>-1&&(e.codePointAt(a)===t.codePointAt(c--)?c<0&&(r=a):(c=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Uz(e){if(Eo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Zz(e){Eo(e);let t=e.length,n=-1,r=0,a=-1,s=0,o;for(;t--;){const c=e.codePointAt(t);if(c===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),c===46?a<0?a=t:s!==1&&(s=1):a>-1&&(s=-1)}return a<0||n<0||s===0||s===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function Hz(...e){let t=-1,n;for(;++t<e.length;)Eo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":qz(n)}function qz(e){Eo(e);const t=e.codePointAt(0)===47;let n=Wz(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Wz(e,t){let n="",r=0,a=-1,s=0,o=-1,c,u;for(;++o<=e.length;){if(o<e.length)c=e.codePointAt(o);else{if(c===47)break;c=47}if(c===47){if(!(a===o-1||s===1))if(a!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),a=o,s=0;continue}}else if(n.length>0){n="",r=0,a=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,s=0}else c===46&&s>-1?s++:s=-1}return n}function Eo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Vz={cwd:Gz};function Gz(){return"/"}function Gu(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Kz(e){if(typeof e=="string")e=new URL(e);else if(!Gu(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Jz(e)}function Jz(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const ru=["history","path","basename","stem","extname","dirname"];class eb{constructor(t){let n;t?Gu(t)?n={path:t}:typeof t=="string"||Yz(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Vz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ru.length;){const s=ru[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let a;for(a in n)ru.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Er.basename(this.path):void 0}set basename(t){au(t,"basename"),iu(t,"basename"),this.path=Er.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Er.dirname(this.path):void 0}set dirname(t){$m(this.basename,"dirname"),this.path=Er.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Er.extname(this.path):void 0}set extname(t){if(iu(t,"extname"),$m(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Er.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Gu(t)&&(t=Kz(t)),au(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Er.basename(this.path,this.extname):void 0}set stem(t){au(t,"stem"),iu(t,"stem"),this.path=Er.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new _n(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function iu(e,t){if(e&&e.includes(Er.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Er.sep+"`")}function au(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function $m(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Yz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Xz=function(e){const r=this.constructor.prototype,a=r[e],s=function(){return a.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Qz={}.hasOwnProperty;class Bd extends Xz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Dz()}copy(){const t=new Bd;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(nu(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(lu("data",this.frozen),this.namespace[t]=n,this):Qz.call(this.namespace,t)&&this.namespace[t]||void 0:t?(lu("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=As(t),r=this.parser||this.Parser;return ou("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ou("process",this.parser||this.Parser),su("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(s,o){const c=As(t),u=r.parse(c);r.run(u,c,function(d,h,v){if(d||!h||!v)return p(d);const y=h,m=r.stringify(y,v);nN(m)?v.value=m:v.result=m,p(d,v)});function p(d,h){d||!h?o(d):s?s(h):(Q(n,"`done` is defined if `resolve` is not"),n(void 0,h))}}}processSync(t){let n=!1,r;return this.freeze(),ou("processSync",this.parser||this.Parser),su("processSync",this.compiler||this.Compiler),this.process(t,a),Dm("processSync","process",n),Q(r,"we either bailed on an error or have a tree"),r;function a(s,o){n=!0,Im(s),r=o}}run(t,n,r){Pm(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,c){Q(typeof n!="function","`file` cant be a `done` anymore, we checked");const u=As(n);a.run(t,u,p);function p(d,h,v){const y=h||t;d?c(d):o?o(y):(Q(r,"`done` is defined if `resolve` is not"),r(void 0,y,v))}}}runSync(t,n){let r=!1,a;return this.run(t,n,s),Dm("runSync","run",r),Q(a,"we either bailed on an error or have a tree"),a;function s(o,c){Im(o),a=c,r=!0}}stringify(t,n){this.freeze();const r=As(n),a=this.compiler||this.Compiler;return su("stringify",a),Pm(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(lu("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(p){if(typeof p=="function")u(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[d,...h]=p;u(d,h)}else o(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function o(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(p.plugins),p.settings&&(a.settings=nu(!0,a.settings,p.settings))}function c(p){let d=-1;if(p!=null)if(Array.isArray(p))for(;++d<p.length;){const h=p[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function u(p,d){let h=-1,v=-1;for(;++h<r.length;)if(r[h][0]===p){v=h;break}if(v===-1)r.push([p,...d]);else if(d.length>0){let[y,...m]=d;const x=r[v][1];Vu(x)&&Vu(y)&&(y=nu(!0,x,y)),r[v]=[p,y,...m]}}}}const eN=new Bd().freeze();function ou(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function su(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function lu(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Pm(e){if(!Vu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Dm(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function As(e){return tN(e)?e:new eb(e)}function tN(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function nN(e){return typeof e=="string"||rN(e)}function rN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const iN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Lm=[],Bm={allowDangerousHtml:!0},aN=/^(https?|ircs?|mailto|xmpp)$/i,oN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sN(e){const t=lN(e),n=cN(e);return uN(t.runSync(t.parse(n),n),e)}function lN(e){const t=e.rehypePlugins||Lm,n=e.remarkPlugins||Lm,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Bm}:Bm;return eN().use(UM).use(n).use($z,r).use(t)}function cN(e){const t=e.children||"",n=new eb;return typeof t=="string"?n.value=t:Nu("Unexpected value `"+t+"` for `children` prop, expected `string`"),n}function uN(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,s=t.disallowedElements,o=t.skipHtml,c=t.unwrapDisallowed,u=t.urlTransform||dN;for(const d of oN)Object.hasOwn(t,d.from)&&Nu("Unexpected `"+d.from+"` prop, "+(d.to?"use `"+d.to+"` instead":"remove it")+" (see <"+iN+"#"+d.id+"> for more info)");return n&&s&&Nu("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Xy(e,p),vO(e,{Fragment:g.Fragment,components:a,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function p(d,h,v){if(d.type==="raw"&&v&&typeof h=="number")return o?v.children.splice(h,1):v.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let y;for(y in Xc)if(Object.hasOwn(Xc,y)&&Object.hasOwn(d.properties,y)){const m=d.properties[y],x=Xc[y];(x===null||x.includes(d.tagName))&&(d.properties[y]=u(String(m||""),y,d))}}if(d.type==="element"){let y=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!y&&r&&typeof h=="number"&&(y=!r(d,h,v)),y&&v&&typeof h=="number")return c&&d.children?v.children.splice(h,1,...d.children):v.children.splice(h,1),h}}}function dN(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||aN.test(e.slice(0,t))?e:""}const tb=K.createContext(),Jn=()=>K.useContext(tb);var nb="vercel.ai.error",pN=Symbol.for(nb),rb,fN=class ib extends Error{constructor({name:t,message:n,cause:r}){super(n),this[rb]=!0,this.name=t,this.cause=r}static isInstance(t){return ib.hasMarker(t,nb)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};rb=pN;var di=fN;function ab(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var ob="AI_InvalidArgumentError",sb=`vercel.ai.error.${ob}`,hN=Symbol.for(sb),lb,mN=class extends di{constructor({message:e,cause:t,argument:n}){super({name:ob,message:e,cause:t}),this[lb]=!0,this.argument=n}static isInstance(e){return di.hasMarker(e,sb)}};lb=hN;var cb="AI_JSONParseError",ub=`vercel.ai.error.${cb}`,gN=Symbol.for(ub),db,Um=class extends di{constructor({text:e,cause:t}){super({name:cb,message:`JSON parsing failed: Text: ${e}.
Error message: ${ab(t)}`,cause:t}),this[db]=!0,this.text=e}static isInstance(e){return di.hasMarker(e,ub)}};db=gN;var pb="AI_TypeValidationError",fb=`vercel.ai.error.${pb}`,vN=Symbol.for(fb),hb,yN=class Ku extends di{constructor({value:t,cause:n}){super({name:pb,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${ab(n)}`,cause:n}),this[hb]=!0,this.value=t}static isInstance(t){return di.hasMarker(t,fb)}static wrap({value:t,cause:n}){return Ku.isInstance(n)&&n.value===t?n:new Ku({value:t,cause:n})}};hb=vN;var Vs=yN;class Zm extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function cu(e){}function bN(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=cu,onError:n=cu,onRetry:r=cu,onComment:a}=e;let s="",o=!0,c,u="",p="";function d(x){const b=o?x.replace(/^\xEF\xBB\xBF/,""):x,[k,C]=xN(`${s}${b}`);for(const T of k)h(T);s=C,o=!1}function h(x){if(x===""){y();return}if(x.startsWith(":")){a&&a(x.slice(x.startsWith(": ")?2:1));return}const b=x.indexOf(":");if(b!==-1){const k=x.slice(0,b),C=x[b+1]===" "?2:1,T=x.slice(b+C);v(k,T,x);return}v(x,"",x)}function v(x,b,k){switch(x){case"event":p=b;break;case"data":u=`${u}${b}
`;break;case"id":c=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?r(parseInt(b,10)):n(new Zm(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:k}));break;default:n(new Zm(`Unknown field "${x.length>20?`${x.slice(0,20)}`:x}"`,{type:"unknown-field",field:x,value:b,line:k}));break}}function y(){u.length>0&&t({id:c,event:p||void 0,data:u.endsWith(`
`)?u.slice(0,-1):u}),c=void 0,u="",p=""}function m(x={}){s&&x.consume&&h(s),o=!0,c=void 0,u="",p="",s=""}return{feed:d,reset:m}}function xN(e){const t=[];let n="",r=0;for(;r<e.length;){const a=e.indexOf("\r",r),s=e.indexOf(`
`,r);let o=-1;if(a!==-1&&s!==-1?o=Math.min(a,s):a!==-1?a===e.length-1?o=-1:o=a:s!==-1&&(o=s),o===-1){n=e.slice(r);break}else{const c=e.slice(r,o);t.push(c),r=o+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class wN extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let a;super({start(s){a=bN({onEvent:o=>{s.enqueue(o)},onError(o){t==="terminate"?s.error(o):typeof t=="function"&&t(o)},onRetry:n,onComment:r})},transform(s){a.feed(s)}})}}function me(e,t,n){function r(c,u){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,u);const p=o.prototype,d=Object.keys(p);for(let h=0;h<d.length;h++){const v=d[h];v in c||(c[v]=p[v].bind(c))}}const a=n?.Parent??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function o(c){var u;const p=n?.Parent?new s:this;r(p,c),(u=p._zod).deferred??(u.deferred=[]);for(const d of p._zod.deferred)d();return p}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class ba extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class mb extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const gb={};function pi(e){return gb}function vb(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function Ju(e,t){return typeof t=="bigint"?t.toString():t}function gl(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ud(e){return e==null}function Zd(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function _N(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(a=Number.parseInt(u[1]))}const s=n>a?n:a,o=Number.parseInt(e.toFixed(s).replace(".","")),c=Number.parseInt(t.toFixed(s).replace(".",""));return o%c/10**s}const Hm=Symbol("evaluating");function Ct(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Hm)return r===void 0&&(r=Hm,r=n()),r},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Ui(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Zi(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function qm(e){return JSON.stringify(e)}function kN(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const yb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function vo(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const CN=gl(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function _a(e){if(vo(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(vo(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function bb(e){return _a(e)?{...e}:Array.isArray(e)?[...e]:e}const SN=new Set(["string","number","symbol"]);function ka(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gi(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function He(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function EN(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const TN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function AN(e,t){const n=e._zod.def,r=Zi(e._zod.def,{get shape(){const a={};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=n.shape[s])}return Ui(this,"shape",a),a},checks:[]});return gi(e,r)}function jN(e,t){const n=e._zod.def,r=Zi(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete a[s]}return Ui(this,"shape",a),a},checks:[]});return gi(e,r)}function IN(e,t){if(!_a(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Zi(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Ui(this,"shape",s),s},checks:[]});return gi(e,a)}function RN(e,t){if(!_a(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Ui(this,"shape",r),r},checks:e._zod.def.checks};return gi(e,n)}function ON(e,t){const n=Zi(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Ui(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return gi(e,n)}function FN(e,t,n){const r=Zi(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(n)for(const o in n){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=e?new e({type:"optional",innerType:a[o]}):a[o])}else for(const o in a)s[o]=e?new e({type:"optional",innerType:a[o]}):a[o];return Ui(this,"shape",s),s},checks:[]});return gi(t,r)}function MN(e,t,n){const r=Zi(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new e({type:"nonoptional",innerType:a[o]}))}else for(const o in a)s[o]=new e({type:"nonoptional",innerType:a[o]});return Ui(this,"shape",s),s},checks:[]});return gi(t,r)}function fa(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function ha(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function js(e){return typeof e=="string"?e:e?.message}function fi(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const a=js(e.inst?._zod.def?.error?.(e))??js(t?.error?.(e))??js(n.customError?.(e))??js(n.localeError?.(e))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Hd(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function yo(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const xb=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ju,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},wb=me("$ZodError",xb),_b=me("$ZodError",xb,{Parent:Error});function zN(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function NN(e,t=n=>n.message){const n={_errors:[]},r=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return r(e),n}const qd=e=>(t,n,r,a)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new ba;if(o.issues.length){const c=new(a?.Err??e)(o.issues.map(u=>fi(u,s,pi())));throw yb(c,a?.callee),c}return o.value},Wd=e=>async(t,n,r,a)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(a?.Err??e)(o.issues.map(u=>fi(u,s,pi())));throw yb(c,a?.callee),c}return o.value},vl=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new ba;return s.issues.length?{success:!1,error:new(e??wb)(s.issues.map(o=>fi(o,a,pi())))}:{success:!0,data:s.value}},$N=vl(_b),yl=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>fi(o,a,pi())))}:{success:!0,data:s.value}},PN=yl(_b),DN=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return qd(e)(t,n,a)},LN=e=>(t,n,r)=>qd(e)(t,n,r),BN=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Wd(e)(t,n,a)},UN=e=>async(t,n,r)=>Wd(e)(t,n,r),ZN=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return vl(e)(t,n,a)},HN=e=>(t,n,r)=>vl(e)(t,n,r),qN=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return yl(e)(t,n,a)},WN=e=>async(t,n,r)=>yl(e)(t,n,r),VN=/^[cC][^\s-]{8,}$/,GN=/^[0-9a-z]+$/,KN=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,JN=/^[0-9a-vA-V]{20}$/,YN=/^[A-Za-z0-9]{27}$/,XN=/^[a-zA-Z0-9_-]{21}$/,QN=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,e$=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Wm=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,t$=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,n$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function r$(){return new RegExp(n$,"u")}const i$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,a$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,o$=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,s$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,l$=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,kb=/^[A-Za-z0-9_-]*$/,c$=/^\+(?:[0-9]){6,14}[0-9]$/,Cb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",u$=new RegExp(`^${Cb}$`);function Sb(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function d$(e){return new RegExp(`^${Sb(e)}$`)}function p$(e){const t=Sb({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Cb}T(?:${r})$`)}const f$=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},h$=/^-?\d+$/,m$=/^-?\d+(?:\.\d+)?/,g$=/^(?:true|false)$/i,v$=/^null$/i,y$=/^[^A-Z]*$/,b$=/^[^a-z]*$/,Dn=me("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Eb={number:"number",bigint:"bigint",object:"date"},Tb=me("$ZodCheckLessThan",(e,t)=>{Dn.init(e,t);const n=Eb[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Ab=me("$ZodCheckGreaterThan",(e,t)=>{Dn.init(e,t);const n=Eb[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),x$=me("$ZodCheckMultipleOf",(e,t)=>{Dn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):_N(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),w$=me("$ZodCheckNumberFormat",(e,t)=>{Dn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[a,s]=TN[t.format];e._zod.onattach.push(o=>{const c=o._zod.bag;c.format=t.format,c.minimum=a,c.maximum=s,n&&(c.pattern=h$)}),e._zod.check=o=>{const c=o.value;if(n){if(!Number.isInteger(c)){o.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}c<a&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>s&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:s,inst:e})}}),_$=me("$ZodCheckMaxLength",(e,t)=>{var n;Dn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Ud(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const o=Hd(a);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),k$=me("$ZodCheckMinLength",(e,t)=>{var n;Dn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Ud(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const o=Hd(a);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),C$=me("$ZodCheckLengthEquals",(e,t)=>{var n;Dn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Ud(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,s=a.length;if(s===t.length)return;const o=Hd(a),c=s>t.length;r.issues.push({origin:o,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),bl=me("$ZodCheckStringFormat",(e,t)=>{var n,r;Dn.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),S$=me("$ZodCheckRegex",(e,t)=>{bl.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),E$=me("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=y$),bl.init(e,t)}),T$=me("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=b$),bl.init(e,t)}),A$=me("$ZodCheckIncludes",(e,t)=>{Dn.init(e,t);const n=ka(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),j$=me("$ZodCheckStartsWith",(e,t)=>{Dn.init(e,t);const n=new RegExp(`^${ka(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),I$=me("$ZodCheckEndsWith",(e,t)=>{Dn.init(e,t);const n=new RegExp(`.*${ka(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),R$=me("$ZodCheckOverwrite",(e,t)=>{Dn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class O${constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),a=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(a)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const t=Function,n=this?.args,a=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...n,a.join(`
`))}}const F$={major:4,minor:1,patch:13},Bt=me("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=F$;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const a of r)for(const s of a._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(o,c,u)=>{let p=fa(o),d;for(const h of c){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(p)continue;const v=o.issues.length,y=h._zod.check(o);if(y instanceof Promise&&u?.async===!1)throw new ba;if(d||y instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await y,o.issues.length!==v&&(p||(p=fa(o,v)))});else{if(o.issues.length===v)continue;p||(p=fa(o,v))}}return d?d.then(()=>o):o},s=(o,c,u)=>{if(fa(o))return o.aborted=!0,o;const p=a(c,r,u);if(p instanceof Promise){if(u.async===!1)throw new ba;return p.then(d=>e._zod.parse(d,u))}return e._zod.parse(p,u)};e._zod.run=(o,c)=>{if(c.skipChecks)return e._zod.parse(o,c);if(c.direction==="backward"){const p=e._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return p instanceof Promise?p.then(d=>s(d,o,c)):s(p,o,c)}const u=e._zod.parse(o,c);if(u instanceof Promise){if(c.async===!1)throw new ba;return u.then(p=>a(p,r,c))}return a(u,r,c)}}e["~standard"]={validate:a=>{try{const s=$N(e,a);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return PN(e,a).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Vd=me("$ZodString",(e,t)=>{Bt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??f$(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),qt=me("$ZodStringFormat",(e,t)=>{bl.init(e,t),Vd.init(e,t)}),M$=me("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=e$),qt.init(e,t)}),z$=me("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Wm(r))}else t.pattern??(t.pattern=Wm());qt.init(e,t)}),N$=me("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=t$),qt.init(e,t)}),$$=me("$ZodURL",(e,t)=>{qt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),P$=me("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=r$()),qt.init(e,t)}),D$=me("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=XN),qt.init(e,t)}),L$=me("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=VN),qt.init(e,t)}),B$=me("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=GN),qt.init(e,t)}),U$=me("$ZodULID",(e,t)=>{t.pattern??(t.pattern=KN),qt.init(e,t)}),Z$=me("$ZodXID",(e,t)=>{t.pattern??(t.pattern=JN),qt.init(e,t)}),H$=me("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=YN),qt.init(e,t)}),q$=me("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=p$(t)),qt.init(e,t)}),W$=me("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=u$),qt.init(e,t)}),V$=me("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=d$(t)),qt.init(e,t)}),G$=me("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=QN),qt.init(e,t)}),K$=me("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=i$),qt.init(e,t),e._zod.bag.format="ipv4"}),J$=me("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=a$),qt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Y$=me("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=o$),qt.init(e,t)}),X$=me("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=s$),qt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function jb(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Q$=me("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=l$),qt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{jb(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function eP(e){if(!kb.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return jb(n)}const tP=me("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=kb),qt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{eP(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),nP=me("$ZodE164",(e,t)=>{t.pattern??(t.pattern=c$),qt.init(e,t)});function rP(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const iP=me("$ZodJWT",(e,t)=>{qt.init(e,t),e._zod.check=n=>{rP(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Ib=me("$ZodNumber",(e,t)=>{Bt.init(e,t),e._zod.pattern=e._zod.bag.pattern??m$,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),n}}),aP=me("$ZodNumberFormat",(e,t)=>{w$.init(e,t),Ib.init(e,t)}),oP=me("$ZodBoolean",(e,t)=>{Bt.init(e,t),e._zod.pattern=g$,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),sP=me("$ZodNull",(e,t)=>{Bt.init(e,t),e._zod.pattern=v$,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const a=n.value;return a===null||n.issues.push({expected:"null",code:"invalid_type",input:a,inst:e}),n}}),lP=me("$ZodUnknown",(e,t)=>{Bt.init(e,t),e._zod.parse=n=>n}),cP=me("$ZodNever",(e,t)=>{Bt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Vm(e,t,n){e.issues.length&&t.issues.push(...ha(n,e.issues)),t.value[n]=e.value}const uP=me("$ZodArray",(e,t)=>{Bt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const s=[];for(let o=0;o<a.length;o++){const c=a[o],u=t.element._zod.run({value:c,issues:[]},r);u instanceof Promise?s.push(u.then(p=>Vm(p,n,o))):Vm(u,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function Gs(e,t,n,r){e.issues.length&&t.issues.push(...ha(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Rb(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=EN(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Ob(e,t,n,r,a,s){const o=[],c=a.keySet,u=a.catchall._zod,p=u.def.type;for(const d in t){if(c.has(d))continue;if(p==="never"){o.push(d);continue}const h=u.run({value:t[d],issues:[]},r);h instanceof Promise?e.push(h.then(v=>Gs(v,n,d,t))):Gs(h,n,d,t)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const dP=me("$ZodObject",(e,t)=>{if(Bt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...c};return Object.defineProperty(t,"shape",{value:u}),u}})}const r=gl(()=>Rb(t));Ct(e._zod,"propValues",()=>{const c=t.shape,u={};for(const p in c){const d=c[p]._zod;if(d.values){u[p]??(u[p]=new Set);for(const h of d.values)u[p].add(h)}}return u});const a=vo,s=t.catchall;let o;e._zod.parse=(c,u)=>{o??(o=r.value);const p=c.value;if(!a(p))return c.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),c;c.value={};const d=[],h=o.shape;for(const v of o.keys){const m=h[v]._zod.run({value:p[v],issues:[]},u);m instanceof Promise?d.push(m.then(x=>Gs(x,c,v,p))):Gs(m,c,v,p)}return s?Ob(d,p,c,u,r.value,e):d.length?Promise.all(d).then(()=>c):c}}),pP=me("$ZodObjectJIT",(e,t)=>{dP.init(e,t);const n=e._zod.parse,r=gl(()=>Rb(t)),a=v=>{const y=new O$(["shape","payload","ctx"]),m=r.value,x=T=>{const I=qm(T);return`shape[${I}]._zod.run({ value: input[${I}], issues: [] }, ctx)`};y.write("const input = payload.value;");const b=Object.create(null);let k=0;for(const T of m.keys)b[T]=`key_${k++}`;y.write("const newResult = {};");for(const T of m.keys){const I=b[T],$=qm(T);y.write(`const ${I} = ${x(T)};`),y.write(`
        if (${I}.issues.length) {
          payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        
        if (${I}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${I}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const C=y.compile();return(T,I)=>C(v,T,I)};let s;const o=vo,c=!gb.jitless,p=c&&CN.value,d=t.catchall;let h;e._zod.parse=(v,y)=>{h??(h=r.value);const m=v.value;return o(m)?c&&p&&y?.async===!1&&y.jitless!==!0?(s||(s=a(t.shape)),v=s(v,y),d?Ob([],m,v,y,h,e):v):n(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),v)}});function Gm(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!fa(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(o=>fi(o,r,pi())))}),t)}const Fb=me("$ZodUnion",(e,t)=>{Bt.init(e,t),Ct(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),Ct(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),Ct(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),Ct(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>Zd(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(n)return r(a,s);let o=!1;const c=[];for(const u of t.options){const p=u._zod.run({value:a.value,issues:[]},s);if(p instanceof Promise)c.push(p),o=!0;else{if(p.issues.length===0)return p;c.push(p)}}return o?Promise.all(c).then(u=>Gm(u,a,e,s)):Gm(c,a,e,s)}}),fP=me("$ZodDiscriminatedUnion",(e,t)=>{Fb.init(e,t);const n=e._zod.parse;Ct(e._zod,"propValues",()=>{const a={};for(const s of t.options){const o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const[c,u]of Object.entries(o)){a[c]||(a[c]=new Set);for(const p of u)a[c].add(p)}}return a});const r=gl(()=>{const a=t.options,s=new Map;for(const o of a){const c=o._zod.propValues?.[t.discriminator];if(!c||c.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const u of c){if(s.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);s.set(u,o)}}return s});e._zod.parse=(a,s)=>{const o=a.value;if(!vo(o))return a.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),a;const c=r.value.get(o?.[t.discriminator]);return c?c._zod.run(a,s):t.unionFallback?n(a,s):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),a)}}),hP=me("$ZodIntersection",(e,t)=>{Bt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,s=t.left._zod.run({value:a,issues:[]},r),o=t.right._zod.run({value:a,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([u,p])=>Km(n,u,p)):Km(n,s,o)}});function Yu(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(_a(e)&&_a(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),a={...e,...t};for(const s of r){const o=Yu(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};a[s]=o.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],s=t[r],o=Yu(a,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Km(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),fa(e))return e;const r=Yu(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const mP=me("$ZodRecord",(e,t)=>{Bt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!_a(a))return n.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),n;const s=[],o=t.keyType._zod.values;if(o){n.value={};const c=new Set;for(const p of o)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){c.add(typeof p=="number"?p.toString():p);const d=t.valueType._zod.run({value:a[p],issues:[]},r);d instanceof Promise?s.push(d.then(h=>{h.issues.length&&n.issues.push(...ha(p,h.issues)),n.value[p]=h.value})):(d.issues.length&&n.issues.push(...ha(p,d.issues)),n.value[p]=d.value)}let u;for(const p in a)c.has(p)||(u=u??[],u.push(p));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:u})}else{n.value={};for(const c of Reflect.ownKeys(a)){if(c==="__proto__")continue;const u=t.keyType._zod.run({value:c,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(d=>fi(d,r,pi())),input:c,path:[c],inst:e}),n.value[u.value]=u.value;continue}const p=t.valueType._zod.run({value:a[c],issues:[]},r);p instanceof Promise?s.push(p.then(d=>{d.issues.length&&n.issues.push(...ha(c,d.issues)),n.value[u.value]=d.value})):(p.issues.length&&n.issues.push(...ha(c,p.issues)),n.value[u.value]=p.value)}}return s.length?Promise.all(s).then(()=>n):n}}),gP=me("$ZodEnum",(e,t)=>{Bt.init(e,t);const n=vb(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(a=>SN.has(typeof a)).map(a=>typeof a=="string"?ka(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const o=a.value;return r.has(o)||a.issues.push({code:"invalid_value",values:n,input:o,inst:e}),a}}),vP=me("$ZodLiteral",(e,t)=>{if(Bt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?ka(r):r?ka(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,a)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),yP=me("$ZodTransform",(e,t)=>{Bt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new mb(e.constructor.name);const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(o=>(n.value=o,n));if(a instanceof Promise)throw new ba;return n.value=a,n}});function Jm(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const bP=me("$ZodOptional",(e,t)=>{Bt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ct(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ct(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Zd(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>Jm(s,n.value)):Jm(a,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),xP=me("$ZodNullable",(e,t)=>{Bt.init(e,t),Ct(e._zod,"optin",()=>t.innerType._zod.optin),Ct(e._zod,"optout",()=>t.innerType._zod.optout),Ct(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Zd(n.source)}|null)$`):void 0}),Ct(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),wP=me("$ZodDefault",(e,t)=>{Bt.init(e,t),e._zod.optin="optional",Ct(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>Ym(s,t)):Ym(a,t)}});function Ym(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const _P=me("$ZodPrefault",(e,t)=>{Bt.init(e,t),e._zod.optin="optional",Ct(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),kP=me("$ZodNonOptional",(e,t)=>{Bt.init(e,t),Ct(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>Xm(s,e)):Xm(a,e)}});function Xm(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const CP=me("$ZodCatch",(e,t)=>{Bt.init(e,t),Ct(e._zod,"optin",()=>t.innerType._zod.optin),Ct(e._zod,"optout",()=>t.innerType._zod.optout),Ct(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>fi(o,r,pi()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(s=>fi(s,r,pi()))},input:n.value}),n.issues=[]),n)}}),SP=me("$ZodPipe",(e,t)=>{Bt.init(e,t),Ct(e._zod,"values",()=>t.in._zod.values),Ct(e._zod,"optin",()=>t.in._zod.optin),Ct(e._zod,"optout",()=>t.out._zod.optout),Ct(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(o=>Is(o,t.in,r)):Is(s,t.in,r)}const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(s=>Is(s,t.out,r)):Is(a,t.out,r)}});function Is(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const EP=me("$ZodReadonly",(e,t)=>{Bt.init(e,t),Ct(e._zod,"propValues",()=>t.innerType._zod.propValues),Ct(e._zod,"values",()=>t.innerType._zod.values),Ct(e._zod,"optin",()=>t.innerType?._zod?.optin),Ct(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(Qm):Qm(a)}});function Qm(e){return e.value=Object.freeze(e.value),e}const TP=me("$ZodLazy",(e,t)=>{Bt.init(e,t),Ct(e._zod,"innerType",()=>t.getter()),Ct(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),Ct(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),Ct(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),Ct(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),AP=me("$ZodCustom",(e,t)=>{Dn.init(e,t),Bt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(s=>eg(s,n,r,e));eg(a,n,r,e)}});function eg(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(yo(a))}}var tg;class Mb{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function jP(){return new Mb}(tg=globalThis).__zod_globalRegistry??(tg.__zod_globalRegistry=jP());const no=globalThis.__zod_globalRegistry;function IP(e,t){return new e({type:"string",...He(t)})}function RP(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...He(t)})}function ng(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...He(t)})}function OP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...He(t)})}function FP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...He(t)})}function MP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...He(t)})}function zP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...He(t)})}function NP(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...He(t)})}function $P(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...He(t)})}function PP(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...He(t)})}function DP(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...He(t)})}function LP(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...He(t)})}function BP(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...He(t)})}function UP(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...He(t)})}function ZP(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...He(t)})}function HP(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...He(t)})}function qP(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...He(t)})}function WP(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...He(t)})}function VP(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...He(t)})}function zb(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...He(t)})}function GP(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...He(t)})}function KP(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...He(t)})}function JP(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...He(t)})}function YP(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...He(t)})}function XP(e,t){return new e({type:"string",format:"date",check:"string_format",...He(t)})}function QP(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...He(t)})}function eD(e,t){return new e({type:"string",format:"duration",check:"string_format",...He(t)})}function tD(e,t){return new e({type:"number",checks:[],...He(t)})}function nD(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...He(t)})}function rD(e,t){return new e({type:"boolean",...He(t)})}function iD(e,t){return new e({type:"null",...He(t)})}function aD(e){return new e({type:"unknown"})}function oD(e,t){return new e({type:"never",...He(t)})}function rg(e,t){return new Tb({check:"less_than",...He(t),value:e,inclusive:!1})}function uu(e,t){return new Tb({check:"less_than",...He(t),value:e,inclusive:!0})}function ig(e,t){return new Ab({check:"greater_than",...He(t),value:e,inclusive:!1})}function du(e,t){return new Ab({check:"greater_than",...He(t),value:e,inclusive:!0})}function ag(e,t){return new x$({check:"multiple_of",...He(t),value:e})}function Nb(e,t){return new _$({check:"max_length",...He(t),maximum:e})}function Ks(e,t){return new k$({check:"min_length",...He(t),minimum:e})}function $b(e,t){return new C$({check:"length_equals",...He(t),length:e})}function sD(e,t){return new S$({check:"string_format",format:"regex",...He(t),pattern:e})}function lD(e){return new E$({check:"string_format",format:"lowercase",...He(e)})}function cD(e){return new T$({check:"string_format",format:"uppercase",...He(e)})}function uD(e,t){return new A$({check:"string_format",format:"includes",...He(t),includes:e})}function dD(e,t){return new j$({check:"string_format",format:"starts_with",...He(t),prefix:e})}function pD(e,t){return new I$({check:"string_format",format:"ends_with",...He(t),suffix:e})}function Aa(e){return new R$({check:"overwrite",tx:e})}function fD(e){return Aa(t=>t.normalize(e))}function hD(){return Aa(e=>e.trim())}function mD(){return Aa(e=>e.toLowerCase())}function gD(){return Aa(e=>e.toUpperCase())}function vD(){return Aa(e=>kN(e))}function yD(e,t,n){return new e({type:"array",element:t,...He(n)})}function bD(e,t,n){const r=He(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function xD(e,t,n){return new e({type:"custom",check:"custom",fn:t,...He(n)})}function wD(e){const t=_D(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(yo(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(yo(a))}},e(n.value,n)));return t}function _D(e,t){const n=new Dn({check:"custom",...He(t)});return n._zod.check=e,n}class og{constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??no,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(t,c);const u=t._zod.toJSONSchema?.();if(u)c.schema=u;else{const h={...n,schemaPath:[...n.schemaPath,t],path:n.path},v=t._zod.parent;if(v)c.ref=v,this.process(v,h),this.seen.get(v).isParent=!0;else{const y=c.schema;switch(a.type){case"string":{const m=y;m.type="string";const{minimum:x,maximum:b,format:k,patterns:C,contentEncoding:T}=t._zod.bag;if(typeof x=="number"&&(m.minLength=x),typeof b=="number"&&(m.maxLength=b),k&&(m.format=s[k]??k,m.format===""&&delete m.format),T&&(m.contentEncoding=T),C&&C.size>0){const I=[...C];I.length===1?m.pattern=I[0].source:I.length>1&&(c.schema.allOf=[...I.map($=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:$.source}))])}break}case"number":{const m=y,{minimum:x,maximum:b,format:k,multipleOf:C,exclusiveMaximum:T,exclusiveMinimum:I}=t._zod.bag;typeof k=="string"&&k.includes("int")?m.type="integer":m.type="number",typeof I=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(m.minimum=I,m.exclusiveMinimum=!0):m.exclusiveMinimum=I),typeof x=="number"&&(m.minimum=x,typeof I=="number"&&this.target!=="draft-4"&&(I>=x?delete m.minimum:delete m.exclusiveMinimum)),typeof T=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(m.maximum=T,m.exclusiveMaximum=!0):m.exclusiveMaximum=T),typeof b=="number"&&(m.maximum=b,typeof T=="number"&&this.target!=="draft-4"&&(T<=b?delete m.maximum:delete m.exclusiveMaximum)),typeof C=="number"&&(m.multipleOf=C);break}case"boolean":{const m=y;m.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(y.type="string",y.nullable=!0,y.enum=[null]):y.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{y.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const m=y,{minimum:x,maximum:b}=t._zod.bag;typeof x=="number"&&(m.minItems=x),typeof b=="number"&&(m.maxItems=b),m.type="array",m.items=this.process(a.element,{...h,path:[...h.path,"items"]});break}case"object":{const m=y;m.type="object",m.properties={};const x=a.shape;for(const C in x)m.properties[C]=this.process(x[C],{...h,path:[...h.path,"properties",C]});const b=new Set(Object.keys(x)),k=new Set([...b].filter(C=>{const T=a.shape[C]._zod;return this.io==="input"?T.optin===void 0:T.optout===void 0}));k.size>0&&(m.required=Array.from(k)),a.catchall?._zod.def.type==="never"?m.additionalProperties=!1:a.catchall?a.catchall&&(m.additionalProperties=this.process(a.catchall,{...h,path:[...h.path,"additionalProperties"]})):this.io==="output"&&(m.additionalProperties=!1);break}case"union":{const m=y,x=a.discriminator!==void 0,b=a.options.map((k,C)=>this.process(k,{...h,path:[...h.path,x?"oneOf":"anyOf",C]}));x?m.oneOf=b:m.anyOf=b;break}case"intersection":{const m=y,x=this.process(a.left,{...h,path:[...h.path,"allOf",0]}),b=this.process(a.right,{...h,path:[...h.path,"allOf",1]}),k=T=>"allOf"in T&&Object.keys(T).length===1,C=[...k(x)?x.allOf:[x],...k(b)?b.allOf:[b]];m.allOf=C;break}case"tuple":{const m=y;m.type="array";const x=this.target==="draft-2020-12"?"prefixItems":"items",b=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",k=a.items.map(($,M)=>this.process($,{...h,path:[...h.path,x,M]})),C=a.rest?this.process(a.rest,{...h,path:[...h.path,b,...this.target==="openapi-3.0"?[a.items.length]:[]]}):null;this.target==="draft-2020-12"?(m.prefixItems=k,C&&(m.items=C)):this.target==="openapi-3.0"?(m.items={anyOf:k},C&&m.items.anyOf.push(C),m.minItems=k.length,C||(m.maxItems=k.length)):(m.items=k,C&&(m.additionalItems=C));const{minimum:T,maximum:I}=t._zod.bag;typeof T=="number"&&(m.minItems=T),typeof I=="number"&&(m.maxItems=I);break}case"record":{const m=y;m.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(m.propertyNames=this.process(a.keyType,{...h,path:[...h.path,"propertyNames"]})),m.additionalProperties=this.process(a.valueType,{...h,path:[...h.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const m=y,x=vb(a.entries);x.every(b=>typeof b=="number")&&(m.type="number"),x.every(b=>typeof b=="string")&&(m.type="string"),m.enum=x;break}case"literal":{const m=y,x=[];for(const b of a.values)if(b===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof b=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");x.push(Number(b))}else x.push(b);if(x.length!==0)if(x.length===1){const b=x[0];m.type=b===null?"null":typeof b,this.target==="draft-4"||this.target==="openapi-3.0"?m.enum=[b]:m.const=b}else x.every(b=>typeof b=="number")&&(m.type="number"),x.every(b=>typeof b=="string")&&(m.type="string"),x.every(b=>typeof b=="boolean")&&(m.type="string"),x.every(b=>b===null)&&(m.type="null"),m.enum=x;break}case"file":{const m=y,x={type:"string",format:"binary",contentEncoding:"binary"},{minimum:b,maximum:k,mime:C}=t._zod.bag;b!==void 0&&(x.minLength=b),k!==void 0&&(x.maxLength=k),C?C.length===1?(x.contentMediaType=C[0],Object.assign(m,x)):m.anyOf=C.map(T=>({...x,contentMediaType:T})):Object.assign(m,x);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const m=this.process(a.innerType,h);this.target==="openapi-3.0"?(c.ref=a.innerType,y.nullable=!0):y.anyOf=[m,{type:"null"}];break}case"nonoptional":{this.process(a.innerType,h),c.ref=a.innerType;break}case"success":{const m=y;m.type="boolean";break}case"default":{this.process(a.innerType,h),c.ref=a.innerType,y.default=JSON.parse(JSON.stringify(a.defaultValue));break}case"prefault":{this.process(a.innerType,h),c.ref=a.innerType,this.io==="input"&&(y._prefault=JSON.parse(JSON.stringify(a.defaultValue)));break}case"catch":{this.process(a.innerType,h),c.ref=a.innerType;let m;try{m=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}y.default=m;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const m=y,x=t._zod.pattern;if(!x)throw new Error("Pattern not found in template literal");m.type="string",m.pattern=x.source;break}case"pipe":{const m=this.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;this.process(m,h),c.ref=m;break}case"readonly":{this.process(a.innerType,h),c.ref=a.innerType,y.readOnly=!0;break}case"promise":{this.process(a.innerType,h),c.ref=a.innerType;break}case"optional":{this.process(a.innerType,h),c.ref=a.innerType;break}case"lazy":{const m=t._zod.innerType;this.process(m,h),c.ref=m;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const p=this.metadataRegistry.get(t);return p&&Object.assign(c.schema,p),this.io==="input"&&En(t)&&(delete c.schema.examples,delete c.schema.default),this.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,this.seen.get(t).schema}emit(t,n){const r={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},a=this.seen.get(t);if(!a)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=d=>{const h=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const x=r.external.registry.get(d[0])?.id,b=r.external.uri??(C=>C);if(x)return{ref:b(x)};const k=d[1].defId??d[1].schema.id??`schema${this.counter++}`;return d[1].defId=k,{defId:k,ref:`${b("__shared")}#/${h}/${k}`}}if(d[1]===a)return{ref:"#"};const y=`#/${h}/`,m=d[1].schema.id??`__schema${this.counter++}`;return{defId:m,ref:y+m}},o=d=>{if(d[1].schema.$ref)return;const h=d[1],{ref:v,defId:y}=s(d);h.def={...h.schema},y&&(h.defId=y);const m=h.schema;for(const x in m)delete m[x];m.$ref=v};if(r.cycles==="throw")for(const d of this.seen.entries()){const h=d[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const d of this.seen.entries()){const h=d[1];if(t===d[0]){o(d);continue}if(r.external){const y=r.external.registry.get(d[0])?.id;if(t!==d[0]&&y){o(d);continue}}if(this.metadataRegistry.get(d[0])?.id){o(d);continue}if(h.cycle){o(d);continue}if(h.count>1&&r.reused==="ref"){o(d);continue}}const c=(d,h)=>{const v=this.seen.get(d),y=v.def??v.schema,m={...y};if(v.ref===null)return;const x=v.ref;if(v.ref=null,x){c(x,h);const b=this.seen.get(x).schema;b.$ref&&(h.target==="draft-7"||h.target==="draft-4"||h.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(b)):(Object.assign(y,b),Object.assign(y,m))}v.isParent||this.override({zodSchema:d,jsonSchema:y,path:v.path??[]})};for(const d of[...this.seen.entries()].reverse())c(d[0],{target:this.target});const u={};if(this.target==="draft-2020-12"?u.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?u.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?u.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),r.external?.uri){const d=r.external.registry.get(t)?.id;if(!d)throw new Error("Schema is missing an `id` property");u.$id=r.external.uri(d)}Object.assign(u,a.def);const p=r.external?.defs??{};for(const d of this.seen.entries()){const h=d[1];h.def&&h.defId&&(p[h.defId]=h.def)}r.external||Object.keys(p).length>0&&(this.target==="draft-2020-12"?u.$defs=p:u.definitions=p);try{return JSON.parse(JSON.stringify(u))}catch{throw new Error("Error converting schema to JSON.")}}}function kD(e,t){if(e instanceof Mb){const r=new og(t),a={};for(const c of e._idmap.entries()){const[u,p]=c;r.process(p)}const s={},o={registry:e,uri:t?.uri,defs:a};for(const c of e._idmap.entries()){const[u,p]=c;s[u]=r.emit(p,{...t,external:o})}if(Object.keys(a).length>0){const c=r.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[c]:a}}return{schemas:s}}const n=new og(t);return n.process(e),n.emit(e,t)}function En(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return En(r.element,n);if(r.type==="set")return En(r.valueType,n);if(r.type==="lazy")return En(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return En(r.innerType,n);if(r.type==="intersection")return En(r.left,n)||En(r.right,n);if(r.type==="record"||r.type==="map")return En(r.keyType,n)||En(r.valueType,n);if(r.type==="pipe")return En(r.in,n)||En(r.out,n);if(r.type==="object"){for(const a in r.shape)if(En(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(En(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(En(a,n))return!0;return!!(r.rest&&En(r.rest,n))}return!1}const CD=me("ZodISODateTime",(e,t)=>{q$.init(e,t),Xt.init(e,t)});function SD(e){return YP(CD,e)}const ED=me("ZodISODate",(e,t)=>{W$.init(e,t),Xt.init(e,t)});function TD(e){return XP(ED,e)}const AD=me("ZodISOTime",(e,t)=>{V$.init(e,t),Xt.init(e,t)});function jD(e){return QP(AD,e)}const ID=me("ZodISODuration",(e,t)=>{G$.init(e,t),Xt.init(e,t)});function RD(e){return eD(ID,e)}const OD=(e,t)=>{wb.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>NN(e,n)},flatten:{value:n=>zN(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Ju,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Ju,2)}},isEmpty:{get(){return e.issues.length===0}}})},pr=me("ZodError",OD,{Parent:Error}),FD=qd(pr),MD=Wd(pr),zD=vl(pr),Pb=yl(pr),ND=DN(pr),$D=LN(pr),PD=BN(pr),DD=UN(pr),LD=ZN(pr),BD=HN(pr),UD=qN(pr),ZD=WN(pr),Wt=me("ZodType",(e,t)=>(Bt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Zi(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>gi(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>FD(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>zD(e,n,r),e.parseAsync=async(n,r)=>MD(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Pb(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>ND(e,n,r),e.decode=(n,r)=>$D(e,n,r),e.encodeAsync=async(n,r)=>PD(e,n,r),e.decodeAsync=async(n,r)=>DD(e,n,r),e.safeEncode=(n,r)=>LD(e,n,r),e.safeDecode=(n,r)=>BD(e,n,r),e.safeEncodeAsync=async(n,r)=>UD(e,n,r),e.safeDecodeAsync=async(n,r)=>ZD(e,n,r),e.refine=(n,r)=>e.check(NL(n,r)),e.superRefine=n=>e.check($L(n)),e.overwrite=n=>e.check(Aa(n)),e.optional=()=>ln(e),e.nullable=()=>cg(e),e.nullish=()=>ln(cg(e)),e.nonoptional=n=>TL(e,n),e.array=()=>Gr(e),e.or=n=>fn([e,n]),e.and=n=>vL(e,n),e.transform=n=>ug(e,wL(n)),e.default=n=>CL(e,n),e.prefault=n=>EL(e,n),e.catch=n=>jL(e,n),e.pipe=n=>ug(e,n),e.readonly=()=>OL(e),e.describe=n=>{const r=e.clone();return no.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return no.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return no.get(e);const r=e.clone();return no.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Db=me("_ZodString",(e,t)=>{Vd.init(e,t),Wt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(sD(...r)),e.includes=(...r)=>e.check(uD(...r)),e.startsWith=(...r)=>e.check(dD(...r)),e.endsWith=(...r)=>e.check(pD(...r)),e.min=(...r)=>e.check(Ks(...r)),e.max=(...r)=>e.check(Nb(...r)),e.length=(...r)=>e.check($b(...r)),e.nonempty=(...r)=>e.check(Ks(1,...r)),e.lowercase=r=>e.check(lD(r)),e.uppercase=r=>e.check(cD(r)),e.trim=()=>e.check(hD()),e.normalize=(...r)=>e.check(fD(...r)),e.toLowerCase=()=>e.check(mD()),e.toUpperCase=()=>e.check(gD()),e.slugify=()=>e.check(vD())}),HD=me("ZodString",(e,t)=>{Vd.init(e,t),Db.init(e,t),e.email=n=>e.check(RP(qD,n)),e.url=n=>e.check(NP(WD,n)),e.jwt=n=>e.check(JP(oL,n)),e.emoji=n=>e.check($P(VD,n)),e.guid=n=>e.check(ng(sg,n)),e.uuid=n=>e.check(OP(Rs,n)),e.uuidv4=n=>e.check(FP(Rs,n)),e.uuidv6=n=>e.check(MP(Rs,n)),e.uuidv7=n=>e.check(zP(Rs,n)),e.nanoid=n=>e.check(PP(GD,n)),e.guid=n=>e.check(ng(sg,n)),e.cuid=n=>e.check(DP(KD,n)),e.cuid2=n=>e.check(LP(JD,n)),e.ulid=n=>e.check(BP(YD,n)),e.base64=n=>e.check(zb(Lb,n)),e.base64url=n=>e.check(GP(iL,n)),e.xid=n=>e.check(UP(XD,n)),e.ksuid=n=>e.check(ZP(QD,n)),e.ipv4=n=>e.check(HP(eL,n)),e.ipv6=n=>e.check(qP(tL,n)),e.cidrv4=n=>e.check(WP(nL,n)),e.cidrv6=n=>e.check(VP(rL,n)),e.e164=n=>e.check(KP(aL,n)),e.datetime=n=>e.check(SD(n)),e.date=n=>e.check(TD(n)),e.time=n=>e.check(jD(n)),e.duration=n=>e.check(RD(n))});function ke(e){return IP(HD,e)}const Xt=me("ZodStringFormat",(e,t)=>{qt.init(e,t),Db.init(e,t)}),qD=me("ZodEmail",(e,t)=>{N$.init(e,t),Xt.init(e,t)}),sg=me("ZodGUID",(e,t)=>{M$.init(e,t),Xt.init(e,t)}),Rs=me("ZodUUID",(e,t)=>{z$.init(e,t),Xt.init(e,t)}),WD=me("ZodURL",(e,t)=>{$$.init(e,t),Xt.init(e,t)}),VD=me("ZodEmoji",(e,t)=>{P$.init(e,t),Xt.init(e,t)}),GD=me("ZodNanoID",(e,t)=>{D$.init(e,t),Xt.init(e,t)}),KD=me("ZodCUID",(e,t)=>{L$.init(e,t),Xt.init(e,t)}),JD=me("ZodCUID2",(e,t)=>{B$.init(e,t),Xt.init(e,t)}),YD=me("ZodULID",(e,t)=>{U$.init(e,t),Xt.init(e,t)}),XD=me("ZodXID",(e,t)=>{Z$.init(e,t),Xt.init(e,t)}),QD=me("ZodKSUID",(e,t)=>{H$.init(e,t),Xt.init(e,t)}),eL=me("ZodIPv4",(e,t)=>{K$.init(e,t),Xt.init(e,t)}),tL=me("ZodIPv6",(e,t)=>{J$.init(e,t),Xt.init(e,t)}),nL=me("ZodCIDRv4",(e,t)=>{Y$.init(e,t),Xt.init(e,t)}),rL=me("ZodCIDRv6",(e,t)=>{X$.init(e,t),Xt.init(e,t)}),Lb=me("ZodBase64",(e,t)=>{Q$.init(e,t),Xt.init(e,t)});function Bb(e){return zb(Lb,e)}const iL=me("ZodBase64URL",(e,t)=>{tP.init(e,t),Xt.init(e,t)}),aL=me("ZodE164",(e,t)=>{nP.init(e,t),Xt.init(e,t)}),oL=me("ZodJWT",(e,t)=>{iP.init(e,t),Xt.init(e,t)}),Ub=me("ZodNumber",(e,t)=>{Ib.init(e,t),Wt.init(e,t),e.gt=(r,a)=>e.check(ig(r,a)),e.gte=(r,a)=>e.check(du(r,a)),e.min=(r,a)=>e.check(du(r,a)),e.lt=(r,a)=>e.check(rg(r,a)),e.lte=(r,a)=>e.check(uu(r,a)),e.max=(r,a)=>e.check(uu(r,a)),e.int=r=>e.check(lg(r)),e.safe=r=>e.check(lg(r)),e.positive=r=>e.check(ig(0,r)),e.nonnegative=r=>e.check(du(0,r)),e.negative=r=>e.check(rg(0,r)),e.nonpositive=r=>e.check(uu(0,r)),e.multipleOf=(r,a)=>e.check(ag(r,a)),e.step=(r,a)=>e.check(ag(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function bo(e){return tD(Ub,e)}const sL=me("ZodNumberFormat",(e,t)=>{aP.init(e,t),Ub.init(e,t)});function lg(e){return nD(sL,e)}const lL=me("ZodBoolean",(e,t)=>{oP.init(e,t),Wt.init(e,t)});function an(e){return rD(lL,e)}const cL=me("ZodNull",(e,t)=>{sP.init(e,t),Wt.init(e,t)});function uL(e){return iD(cL,e)}const dL=me("ZodUnknown",(e,t)=>{lP.init(e,t),Wt.init(e,t)});function Dt(){return aD(dL)}const pL=me("ZodNever",(e,t)=>{cP.init(e,t),Wt.init(e,t)});function Nn(e){return oD(pL,e)}const fL=me("ZodArray",(e,t)=>{uP.init(e,t),Wt.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Ks(n,r)),e.nonempty=n=>e.check(Ks(1,n)),e.max=(n,r)=>e.check(Nb(n,r)),e.length=(n,r)=>e.check($b(n,r)),e.unwrap=()=>e.element});function Gr(e,t){return yD(fL,e,t)}const Gd=me("ZodObject",(e,t)=>{pP.init(e,t),Wt.init(e,t),Ct(e,"shape",()=>t.shape),e.keyof=()=>xl(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Dt()}),e.loose=()=>e.clone({...e._zod.def,catchall:Dt()}),e.strict=()=>e.clone({...e._zod.def,catchall:Nn()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>IN(e,n),e.safeExtend=n=>RN(e,n),e.merge=n=>ON(e,n),e.pick=n=>AN(e,n),e.omit=n=>jN(e,n),e.partial=(...n)=>FN(Hb,e,n[0]),e.required=(...n)=>MN(qb,e,n[0])});function et(e,t){const n={type:"object",shape:e??{},...He(t)};return new Gd(n)}function $t(e,t){return new Gd({type:"object",shape:e,catchall:Nn(),...He(t)})}function ma(e,t){return new Gd({type:"object",shape:e,catchall:Dt(),...He(t)})}const Zb=me("ZodUnion",(e,t)=>{Fb.init(e,t),Wt.init(e,t),e.options=t.options});function fn(e,t){return new Zb({type:"union",options:e,...He(t)})}const hL=me("ZodDiscriminatedUnion",(e,t)=>{Zb.init(e,t),fP.init(e,t)});function mL(e,t,n){return new hL({type:"union",options:t,discriminator:e,...He(n)})}const gL=me("ZodIntersection",(e,t)=>{hP.init(e,t),Wt.init(e,t)});function vL(e,t){return new gL({type:"intersection",left:e,right:t})}const yL=me("ZodRecord",(e,t)=>{mP.init(e,t),Wt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Xu(e,t,n){return new yL({type:"record",keyType:e,valueType:t,...He(n)})}const Qu=me("ZodEnum",(e,t)=>{gP.init(e,t),Wt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const s={};for(const o of r)if(n.has(o))s[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Qu({...t,checks:[],...He(a),entries:s})},e.exclude=(r,a)=>{const s={...t.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new Qu({...t,checks:[],...He(a),entries:s})}});function xl(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Qu({type:"enum",entries:n,...He(t)})}const bL=me("ZodLiteral",(e,t)=>{vP.init(e,t),Wt.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function De(e,t){return new bL({type:"literal",values:Array.isArray(e)?e:[e],...He(t)})}const xL=me("ZodTransform",(e,t)=>{yP.init(e,t),Wt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new mb(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(yo(s,n.value,t));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(yo(o))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(s=>(n.value=s,n)):(n.value=a,n)}});function wL(e){return new xL({type:"transform",transform:e})}const Hb=me("ZodOptional",(e,t)=>{bP.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ln(e){return new Hb({type:"optional",innerType:e})}const _L=me("ZodNullable",(e,t)=>{xP.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function cg(e){return new _L({type:"nullable",innerType:e})}const kL=me("ZodDefault",(e,t)=>{wP.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function CL(e,t){return new kL({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():bb(t)}})}const SL=me("ZodPrefault",(e,t)=>{_P.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function EL(e,t){return new SL({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():bb(t)}})}const qb=me("ZodNonOptional",(e,t)=>{kP.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function TL(e,t){return new qb({type:"nonoptional",innerType:e,...He(t)})}const AL=me("ZodCatch",(e,t)=>{CP.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function jL(e,t){return new AL({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const IL=me("ZodPipe",(e,t)=>{SP.init(e,t),Wt.init(e,t),e.in=t.in,e.out=t.out});function ug(e,t){return new IL({type:"pipe",in:e,out:t})}const RL=me("ZodReadonly",(e,t)=>{EP.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function OL(e){return new RL({type:"readonly",innerType:e})}const FL=me("ZodLazy",(e,t)=>{TP.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.getter()});function ML(e){return new FL({type:"lazy",getter:e})}const Kd=me("ZodCustom",(e,t)=>{AP.init(e,t),Wt.init(e,t)});function zL(e,t){return bD(Kd,e??(()=>!0),t)}function NL(e,t={}){return xD(Kd,e,t)}function $L(e){return wD(e)}function Js(e,t={error:`Input not instance of ${e.name}`}){const n=new Kd({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...He(t)});return n._zod.bag.Class=e,n}var xo;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),o={};for(const c of s)o[c]=a[c];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(xo||(xo={}));var dg;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(dg||(dg={}));xo.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);xo.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ys extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let c=r,u=0;for(;u<o.path.length;){const p=o.path[u];u===o.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(n(o))):c[p]=c[p]||{_errors:[]},c=c[p],u++}}};return a(this),r}static assert(t){if(!(t instanceof Ys))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xo.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n=Object.create(null),r=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];n[s]=n[s]||[],n[s].push(t(a))}else r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ys.create=e=>new Ys(e);var pg;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(pg||(pg={}));var it;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(it||(it={}));var To=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const a=()=>{const s=n.length,o=new Array(t);for(let c=0;c<t;c++)o[c]=n[Math.random()*s|0];return o.join("")};if(e==null)return a;if(n.includes(r))throw new mN({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${a()}`},PL=To(),DL=/"__proto__"\s*:/,LL=/"constructor"\s*:/;function BL(e){const t=JSON.parse(e);return t===null||typeof t!="object"||DL.test(e)===!1&&LL.test(e)===!1?t:UL(t)}function UL(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in r){const s=r[a];s&&typeof s=="object"&&t.push(s)}}}return e}function ZL(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return BL(e)}finally{Error.stackTraceLimit=t}}var Xs=Symbol.for("vercel.ai.validator");function HL(e){return{[Xs]:!0,validate:e}}function qL(e){return typeof e=="object"&&e!==null&&Xs in e&&e[Xs]===!0&&"validate"in e}function WL(e){return qL(e)?e:VL(e)}function VL(e){return HL(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new Vs({value:t,cause:n.issues})}})}async function fg({value:e,schema:t}){const n=await Jd({value:e,schema:t});if(!n.success)throw Vs.wrap({value:e,cause:n.error});return n.value}async function Jd({value:e,schema:t}){const n=WL(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:Vs.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:Vs.wrap({value:e,cause:r}),rawValue:e}}}async function Qs({text:e,schema:t}){try{const n=ZL(e);return t==null?{success:!0,value:n,rawValue:n}:await Jd({value:n,schema:t})}catch(n){return{success:!1,error:Um.isInstance(n)?n:new Um({text:e,cause:n}),rawValue:void 0}}}function GL({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new wN).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await Qs({text:n,schema:t}))}}))}async function la(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var KL=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},JL=Symbol("Let zodToJsonSchema decide on which parser to use"),hg={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},YL=e=>typeof e=="string"?{...hg,name:e}:{...hg,...e};function Kn(){return{}}function XL(e,t){var n,r,a;const s={type:"array"};return(n=e.type)!=null&&n._def&&((a=(r=e.type)==null?void 0:r._def)==null?void 0:a.typeName)!==it.ZodAny&&(s.items=jt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}function QL(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function e4(){return{type:"boolean"}}function Wb(e,t){return jt(e.type._def,t)}var t4=(e,t)=>jt(e.innerType._def,t);function Vb(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,s)=>Vb(e,t,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return n4(e)}}var n4=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function r4(e,t){return{...jt(e.innerType._def,t),default:e.defaultValue()}}function i4(e,t){return t.effectStrategy==="input"?jt(e.schema._def,t):Kn()}function a4(e){return{type:"string",enum:Array.from(e.values)}}var o4=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function s4(e,t){const n=[jt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),jt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),r=[];return n.forEach(a=>{if(o4(a))r.push(...a.allOf);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...c}=a;s=c}r.push(s)}}),r.length?{allOf:r}:void 0}function l4(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var pu=void 0,yr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(pu===void 0&&(pu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),pu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Gb(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":br(n,"email",r.message,t);break;case"format:idn-email":br(n,"idn-email",r.message,t);break;case"pattern:zod":Sn(n,yr.email,r.message,t);break}break;case"url":br(n,"uri",r.message,t);break;case"uuid":br(n,"uuid",r.message,t);break;case"regex":Sn(n,r.regex,r.message,t);break;case"cuid":Sn(n,yr.cuid,r.message,t);break;case"cuid2":Sn(n,yr.cuid2,r.message,t);break;case"startsWith":Sn(n,RegExp(`^${fu(r.value,t)}`),r.message,t);break;case"endsWith":Sn(n,RegExp(`${fu(r.value,t)}$`),r.message,t);break;case"datetime":br(n,"date-time",r.message,t);break;case"date":br(n,"date",r.message,t);break;case"time":br(n,"time",r.message,t);break;case"duration":br(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{Sn(n,RegExp(fu(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&br(n,"ipv4",r.message,t),r.version!=="v4"&&br(n,"ipv6",r.message,t);break}case"base64url":Sn(n,yr.base64url,r.message,t);break;case"jwt":Sn(n,yr.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&Sn(n,yr.ipv4Cidr,r.message,t),r.version!=="v4"&&Sn(n,yr.ipv6Cidr,r.message,t);break}case"emoji":Sn(n,yr.emoji(),r.message,t);break;case"ulid":{Sn(n,yr.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{br(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{Sn(n,yr.base64,r.message,t);break}}break}case"nanoid":Sn(n,yr.nanoid,r.message,t)}return n}function fu(e,t){return t.patternStrategy==="escape"?u4(e):e}var c4=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function u4(e){let t="";for(let n=0;n<e.length;n++)c4.has(e[n])||(t+="\\"),t+=e[n];return t}function br(e,t,n,r){var a;e.format||(a=e.anyOf)!=null&&a.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function Sn(e,t,n,r){var a;e.pattern||(a=e.allOf)!=null&&a.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:mg(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=mg(t,r)}function mg(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=r.i?e.source.toLowerCase():e.source;let s="",o=!1,c=!1,u=!1;for(let p=0;p<a.length;p++){if(o){s+=a[p],o=!1;continue}if(r.i){if(c){if(a[p].match(/[a-z]/)){u?(s+=a[p],s+=`${a[p-2]}-${a[p]}`.toUpperCase(),u=!1):a[p+1]==="-"&&((n=a[p+2])!=null&&n.match(/[a-z]/))?(s+=a[p],u=!0):s+=`${a[p]}${a[p].toUpperCase()}`;continue}}else if(a[p].match(/[a-z]/)){s+=`[${a[p]}${a[p].toUpperCase()}]`;continue}}if(r.m){if(a[p]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[p]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&a[p]==="."){s+=c?`${a[p]}\r
`:`[${a[p]}\r
]`;continue}s+=a[p],a[p]==="\\"?o=!0:c&&a[p]==="]"?c=!1:!c&&a[p]==="["&&(c=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function Kb(e,t){var n,r,a,s,o,c;const u={type:"object",additionalProperties:(n=jt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===it.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:p,...d}=Gb(e.keyType._def,t);return{...u,propertyNames:d}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===it.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((o=e.keyType)==null?void 0:o._def.typeName)===it.ZodBranded&&e.keyType._def.type._def.typeName===it.ZodString&&((c=e.keyType._def.type._def.checks)!=null&&c.length)){const{type:p,...d}=Wb(e.keyType._def,t);return{...u,propertyNames:d}}}return u}function d4(e,t){if(t.mapStrategy==="record")return Kb(e,t);const n=jt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Kn(),r=jt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Kn();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function p4(e){const t=e.values,r=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),a=Array.from(new Set(r.map(s=>typeof s)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function f4(){return{not:Kn()}}function h4(){return{type:"null"}}var ed={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function m4(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in ed&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,s)=>{const o=ed[s._def.typeName];return o&&!a.includes(o)?[...a,o]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,s)=>{const o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...a,o];case"bigint":return[...a,"integer"];case"object":if(s._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((s,o,c)=>c.indexOf(s)===o);return{type:a.length>1?a:a[0],enum:n.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(s=>!r.includes(s))],[])};return g4(e,t)}var g4=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,a)=>jt(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function v4(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[ed[e.innerType._def.typeName],"null"]};const n=jt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function y4(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function b4(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const o in a){let c=a[o];if(c===void 0||c._def===void 0)continue;const u=w4(c),p=jt(c._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});p!==void 0&&(n.properties[o]=p,u||r.push(o))}r.length&&(n.required=r);const s=x4(e,t);return s!==void 0&&(n.additionalProperties=s),n}function x4(e,t){if(e.catchall._def.typeName!=="ZodNever")return jt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function w4(e){try{return e.isOptional()}catch{return!0}}var _4=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return jt(e.innerType._def,t);const r=jt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Kn()},r]}:Kn()},k4=(e,t)=>{if(t.pipeStrategy==="input")return jt(e.in._def,t);if(t.pipeStrategy==="output")return jt(e.out._def,t);const n=jt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=jt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function C4(e,t){return jt(e.type._def,t)}function S4(e,t){const r={type:"array",uniqueItems:!0,items:jt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function E4(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>jt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:jt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>jt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function T4(){return{not:Kn()}}function A4(){return Kn()}var j4=(e,t)=>jt(e.innerType._def,t),I4=(e,t,n)=>{switch(t){case it.ZodString:return Gb(e,n);case it.ZodNumber:return y4(e);case it.ZodObject:return b4(e,n);case it.ZodBigInt:return QL(e);case it.ZodBoolean:return e4();case it.ZodDate:return Vb(e,n);case it.ZodUndefined:return T4();case it.ZodNull:return h4();case it.ZodArray:return XL(e,n);case it.ZodUnion:case it.ZodDiscriminatedUnion:return m4(e,n);case it.ZodIntersection:return s4(e,n);case it.ZodTuple:return E4(e,n);case it.ZodRecord:return Kb(e,n);case it.ZodLiteral:return l4(e);case it.ZodEnum:return a4(e);case it.ZodNativeEnum:return p4(e);case it.ZodNullable:return v4(e,n);case it.ZodOptional:return _4(e,n);case it.ZodMap:return d4(e,n);case it.ZodSet:return S4(e,n);case it.ZodLazy:return()=>e.getter()._def;case it.ZodPromise:return C4(e,n);case it.ZodNaN:case it.ZodNever:return f4();case it.ZodEffects:return i4(e,n);case it.ZodAny:return Kn();case it.ZodUnknown:return A4();case it.ZodDefault:return r4(e,n);case it.ZodBranded:return Wb(e,n);case it.ZodReadonly:return j4(e,n);case it.ZodCatch:return t4(e,n);case it.ZodPipeline:return k4(e,n);case it.ZodFunction:case it.ZodVoid:case it.ZodSymbol:return;default:return(r=>{})()}};function jt(e,t,n=!1){var r;const a=t.seen.get(e);if(t.override){const u=(r=t.override)==null?void 0:r.call(t,e,t,a,n);if(u!==JL)return u}if(a&&!n){const u=R4(a,t);if(u!==void 0)return u}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const o=I4(e,e.typeName,t),c=typeof o=="function"?jt(o(),t):o;if(c&&O4(e,t,c),t.postProcess){const u=t.postProcess(c,e,t);return s.jsonSchema=c,u}return s.jsonSchema=c,c}var R4=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:KL(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Kn()):t.$refStrategy==="seen"?Kn():void 0}},O4=(e,t,n)=>(e.description&&(n.description=e.description),n),F4=e=>{const t=YL(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},M4=(e,t)=>{var n;const r=F4(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((p,[d,h])=>{var v;return{...p,[d]:(v=jt(h._def,{...r,currentPath:[...r.basePath,r.definitionPath,d]},!0))!=null?v:Kn()}},{}):void 0;const s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=(n=jt(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1))!=null?n:Kn(),c=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;c!==void 0&&(o.title=c);const u=s===void 0?a?{...o,[r.definitionPath]:a}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...a,[s]:o}};return u.$schema="http://json-schema.org/draft-07/schema#",u},z4=M4;function N4(e,t){var n;const r=(n=void 0)!=null?n:!1;return Yd(z4(e,{$refStrategy:r?"root":"none"}),{validate:async a=>{const s=await e.safeParseAsync(a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function $4(e,t){var n;const r=(n=void 0)!=null?n:!1,a=kD(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"});return Yd(a,{validate:async s=>{const o=await Pb(e,s);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function P4(e){return"_zod"in e}function D4(e,t){return P4(e)?$4(e):N4(e)}var td=Symbol.for("vercel.ai.schema");function Yd(e,{validate:t}={}){return{[td]:!0,_type:void 0,[Xs]:!0,jsonSchema:e,validate:t}}function L4(e){return typeof e=="object"&&e!==null&&td in e&&e[td]===!0&&"jsonSchema"in e&&"validate"in e}function B4(e){return e==null?Yd({properties:{},additionalProperties:!1}):L4(e)?e:D4(e)}var U4=Object.defineProperty,Z4=(e,t)=>{for(var n in t)U4(e,n,{get:t[n],enumerable:!0})},Jb="AI_NoObjectGeneratedError",Yb=`vercel.ai.error.${Jb}`,H4=Symbol.for(Yb),Xb,gg=class extends di{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:a,finishReason:s}){super({name:Jb,message:e,cause:t}),this[Xb]=!0,this.text=n,this.response=r,this.usage=a,this.finishReason=s}static isInstance(e){return di.hasMarker(e,Yb)}};Xb=H4;var Qb=fn([ke(),Js(Uint8Array),Js(ArrayBuffer),zL(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),wo=ML(()=>fn([uL(),ke(),bo(),an(),Xu(ke(),wo),Gr(wo)])),_t=Xu(ke(),Xu(ke(),wo)),ex=et({type:De("text"),text:ke(),providerOptions:_t.optional()}),q4=et({type:De("image"),image:fn([Qb,Js(URL)]),mediaType:ke().optional(),providerOptions:_t.optional()}),tx=et({type:De("file"),data:fn([Qb,Js(URL)]),filename:ke().optional(),mediaType:ke(),providerOptions:_t.optional()}),W4=et({type:De("reasoning"),text:ke(),providerOptions:_t.optional()}),V4=et({type:De("tool-call"),toolCallId:ke(),toolName:ke(),input:Dt(),providerOptions:_t.optional(),providerExecuted:an().optional()}),G4=mL("type",[et({type:De("text"),value:ke()}),et({type:De("json"),value:wo}),et({type:De("error-text"),value:ke()}),et({type:De("error-json"),value:wo}),et({type:De("content"),value:Gr(fn([et({type:De("text"),text:ke()}),et({type:De("media"),data:ke(),mediaType:ke()})]))})]),nx=et({type:De("tool-result"),toolCallId:ke(),toolName:ke(),output:G4,providerOptions:_t.optional()}),K4=et({role:De("system"),content:ke(),providerOptions:_t.optional()}),J4=et({role:De("user"),content:fn([ke(),Gr(fn([ex,q4,tx]))]),providerOptions:_t.optional()}),Y4=et({role:De("assistant"),content:fn([ke(),Gr(fn([ex,tx,W4,V4,nx]))]),providerOptions:_t.optional()}),X4=et({role:De("tool"),content:Gr(nx),providerOptions:_t.optional()});fn([K4,J4,Y4,X4]);To({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var Q4=fn([$t({type:De("text-start"),id:ke(),providerMetadata:_t.optional()}),$t({type:De("text-delta"),id:ke(),delta:ke(),providerMetadata:_t.optional()}),$t({type:De("text-end"),id:ke(),providerMetadata:_t.optional()}),$t({type:De("error"),errorText:ke()}),$t({type:De("tool-input-start"),toolCallId:ke(),toolName:ke(),providerExecuted:an().optional(),dynamic:an().optional()}),$t({type:De("tool-input-delta"),toolCallId:ke(),inputTextDelta:ke()}),$t({type:De("tool-input-available"),toolCallId:ke(),toolName:ke(),input:Dt(),providerExecuted:an().optional(),providerMetadata:_t.optional(),dynamic:an().optional()}),$t({type:De("tool-input-error"),toolCallId:ke(),toolName:ke(),input:Dt(),providerExecuted:an().optional(),providerMetadata:_t.optional(),dynamic:an().optional(),errorText:ke()}),$t({type:De("tool-output-available"),toolCallId:ke(),output:Dt(),providerExecuted:an().optional(),dynamic:an().optional(),preliminary:an().optional()}),$t({type:De("tool-output-error"),toolCallId:ke(),errorText:ke(),providerExecuted:an().optional(),dynamic:an().optional()}),$t({type:De("reasoning"),text:ke(),providerMetadata:_t.optional()}),$t({type:De("reasoning-start"),id:ke(),providerMetadata:_t.optional()}),$t({type:De("reasoning-delta"),id:ke(),delta:ke(),providerMetadata:_t.optional()}),$t({type:De("reasoning-end"),id:ke(),providerMetadata:_t.optional()}),$t({type:De("reasoning-part-finish")}),$t({type:De("source-url"),sourceId:ke(),url:ke(),title:ke().optional(),providerMetadata:_t.optional()}),$t({type:De("source-document"),sourceId:ke(),mediaType:ke(),title:ke(),filename:ke().optional(),providerMetadata:_t.optional()}),$t({type:De("file"),url:ke(),mediaType:ke(),providerMetadata:_t.optional()}),$t({type:ke().startsWith("data-"),id:ke().optional(),data:Dt(),transient:an().optional()}),$t({type:De("start-step")}),$t({type:De("finish-step")}),$t({type:De("start"),messageId:ke().optional(),messageMetadata:Dt().optional()}),$t({type:De("finish"),messageMetadata:Dt().optional()}),$t({type:De("abort")}),$t({type:De("message-metadata"),messageMetadata:Dt()})]);function e5(e){return e.type.startsWith("data-")}function rx(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const a=t[r];if(a===void 0)continue;const s=r in e?e[r]:void 0,o=a!==null&&typeof a=="object"&&!Array.isArray(a)&&!(a instanceof Date)&&!(a instanceof RegExp),c=s!=null&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&!(s instanceof RegExp);o&&c?n[r]=rx(s,a):n[r]=a}return n}function t5(e){const t=["ROOT"];let n=-1,r=null;function a(u,p,d){switch(u){case'"':{n=p,t.pop(),t.push(d),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=p,r=p,t.pop(),t.push(d),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(d),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p,t.pop(),t.push(d),t.push("INSIDE_NUMBER");break}case"{":{n=p,t.pop(),t.push(d),t.push("INSIDE_OBJECT_START");break}case"[":{n=p,t.pop(),t.push(d),t.push("INSIDE_ARRAY_START");break}}}function s(u,p){switch(u){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=p,t.pop();break}}}function o(u,p){switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=p,t.pop();break}}}for(let u=0;u<e.length;u++){const p=e[u];switch(t[t.length-1]){case"ROOT":a(p,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=u,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(p){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(p,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{s(p,u);break}case"INSIDE_STRING":{switch(p){case'"':{t.pop(),n=u;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=u}break}case"INSIDE_ARRAY_START":{switch(p){case"]":{n=u,t.pop();break}default:{n=u,a(p,u,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=u,t.pop();break}default:{n=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(p,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=u;break}case"INSIDE_NUMBER":{switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=u;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(p,u),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(p,u);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(p,u);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(p,u);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const h=e.substring(r,u+1);!"false".startsWith(h)&&!"true".startsWith(h)&&!"null".startsWith(h)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?s(p,u):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(p,u)):n=u;break}}}let c=e.slice(0,n+1);for(let u=t.length-1;u>=0;u--)switch(t[u]){case"INSIDE_STRING":{c+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{c+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{c+="]";break}case"INSIDE_LITERAL":{const d=e.substring(r,e.length);"true".startsWith(d)?c+="true".slice(d.length):"false".startsWith(d)?c+="false".slice(d.length):"null".startsWith(d)&&(c+="null".slice(d.length))}}return c}async function ix(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await Qs({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await Qs({text:t5(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function zs(e){return e.type.startsWith("tool-")}function n5(e){return e.type==="dynamic-tool"}function vg(e){return zs(e)||n5(e)}function yg(e){return e.type.split("-").slice(1).join("-")}function r5({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function i5({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:a,onToolCall:s,onData:o}){return e.pipeThrough(new TransformStream({async transform(c,u){await r(async({state:p,write:d})=>{var h,v,y,m;function x(I){const M=p.message.parts.filter(zs).find(B=>B.toolCallId===I);if(M==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return M}function b(I){const M=p.message.parts.filter(B=>B.type==="dynamic-tool").find(B=>B.toolCallId===I);if(M==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return M}function k(I){var $;const M=p.message.parts.find(X=>zs(X)&&X.toolCallId===I.toolCallId),B=I,U=M;M!=null?(M.state=I.state,U.input=B.input,U.output=B.output,U.errorText=B.errorText,U.rawInput=B.rawInput,U.preliminary=B.preliminary,U.providerExecuted=($=B.providerExecuted)!=null?$:M.providerExecuted,B.providerMetadata!=null&&M.state==="input-available"&&(M.callProviderMetadata=B.providerMetadata)):p.message.parts.push({type:`tool-${I.toolName}`,toolCallId:I.toolCallId,state:I.state,input:B.input,output:B.output,rawInput:B.rawInput,errorText:B.errorText,providerExecuted:B.providerExecuted,preliminary:B.preliminary,...B.providerMetadata!=null?{callProviderMetadata:B.providerMetadata}:{}})}function C(I){var $;const M=p.message.parts.find(X=>X.type==="dynamic-tool"&&X.toolCallId===I.toolCallId),B=I,U=M;M!=null?(M.state=I.state,U.toolName=I.toolName,U.input=B.input,U.output=B.output,U.errorText=B.errorText,U.rawInput=($=B.rawInput)!=null?$:U.rawInput,U.preliminary=B.preliminary,B.providerMetadata!=null&&M.state==="input-available"&&(M.callProviderMetadata=B.providerMetadata)):p.message.parts.push({type:"dynamic-tool",toolName:I.toolName,toolCallId:I.toolCallId,state:I.state,input:B.input,output:B.output,errorText:B.errorText,preliminary:B.preliminary,...B.providerMetadata!=null?{callProviderMetadata:B.providerMetadata}:{}})}async function T(I){if(I!=null){const $=p.message.metadata!=null?rx(p.message.metadata,I):I;t!=null&&await fg({value:$,schema:t}),p.message.metadata=$}}switch(c.type){case"text-start":{const I={type:"text",text:"",providerMetadata:c.providerMetadata,state:"streaming"};p.activeTextParts[c.id]=I,p.message.parts.push(I),d();break}case"text-delta":{const I=p.activeTextParts[c.id];I.text+=c.delta,I.providerMetadata=(h=c.providerMetadata)!=null?h:I.providerMetadata,d();break}case"text-end":{const I=p.activeTextParts[c.id];I.state="done",I.providerMetadata=(v=c.providerMetadata)!=null?v:I.providerMetadata,delete p.activeTextParts[c.id],d();break}case"reasoning-start":{const I={type:"reasoning",text:"",providerMetadata:c.providerMetadata,state:"streaming"};p.activeReasoningParts[c.id]=I,p.message.parts.push(I),d();break}case"reasoning-delta":{const I=p.activeReasoningParts[c.id];I.text+=c.delta,I.providerMetadata=(y=c.providerMetadata)!=null?y:I.providerMetadata,d();break}case"reasoning-end":{const I=p.activeReasoningParts[c.id];I.providerMetadata=(m=c.providerMetadata)!=null?m:I.providerMetadata,I.state="done",delete p.activeReasoningParts[c.id],d();break}case"file":{p.message.parts.push({type:"file",mediaType:c.mediaType,url:c.url}),d();break}case"source-url":{p.message.parts.push({type:"source-url",sourceId:c.sourceId,url:c.url,title:c.title,providerMetadata:c.providerMetadata}),d();break}case"source-document":{p.message.parts.push({type:"source-document",sourceId:c.sourceId,mediaType:c.mediaType,title:c.title,filename:c.filename,providerMetadata:c.providerMetadata}),d();break}case"tool-input-start":{const I=p.message.parts.filter(zs);p.partialToolCalls[c.toolCallId]={text:"",toolName:c.toolName,index:I.length,dynamic:c.dynamic},c.dynamic?C({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-streaming",input:void 0}):k({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-streaming",input:void 0,providerExecuted:c.providerExecuted}),d();break}case"tool-input-delta":{const I=p.partialToolCalls[c.toolCallId];I.text+=c.inputTextDelta;const{value:$}=await ix(I.text);I.dynamic?C({toolCallId:c.toolCallId,toolName:I.toolName,state:"input-streaming",input:$}):k({toolCallId:c.toolCallId,toolName:I.toolName,state:"input-streaming",input:$}),d();break}case"tool-input-available":{c.dynamic?C({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-available",input:c.input,providerMetadata:c.providerMetadata}):k({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-available",input:c.input,providerExecuted:c.providerExecuted,providerMetadata:c.providerMetadata}),d(),s&&!c.providerExecuted&&await s({toolCall:c});break}case"tool-input-error":{c.dynamic?C({toolCallId:c.toolCallId,toolName:c.toolName,state:"output-error",input:c.input,errorText:c.errorText,providerMetadata:c.providerMetadata}):k({toolCallId:c.toolCallId,toolName:c.toolName,state:"output-error",input:void 0,rawInput:c.input,errorText:c.errorText,providerExecuted:c.providerExecuted,providerMetadata:c.providerMetadata}),d();break}case"tool-output-available":{if(c.dynamic){const I=b(c.toolCallId);C({toolCallId:c.toolCallId,toolName:I.toolName,state:"output-available",input:I.input,output:c.output,preliminary:c.preliminary})}else{const I=x(c.toolCallId);k({toolCallId:c.toolCallId,toolName:yg(I),state:"output-available",input:I.input,output:c.output,providerExecuted:c.providerExecuted,preliminary:c.preliminary})}d();break}case"tool-output-error":{if(c.dynamic){const I=b(c.toolCallId);C({toolCallId:c.toolCallId,toolName:I.toolName,state:"output-error",input:I.input,errorText:c.errorText})}else{const I=x(c.toolCallId);k({toolCallId:c.toolCallId,toolName:yg(I),state:"output-error",input:I.input,rawInput:I.rawInput,errorText:c.errorText})}d();break}case"start-step":{p.message.parts.push({type:"step-start"});break}case"finish-step":{p.activeTextParts={},p.activeReasoningParts={};break}case"start":{c.messageId!=null&&(p.message.id=c.messageId),await T(c.messageMetadata),(c.messageId!=null||c.messageMetadata!=null)&&d();break}case"finish":{await T(c.messageMetadata),c.messageMetadata!=null&&d();break}case"message-metadata":{await T(c.messageMetadata),c.messageMetadata!=null&&d();break}case"error":{a?.(new Error(c.errorText));break}default:if(e5(c)){n?.[c.type]!=null&&await fg({value:c.data,schema:n[c.type]});const I=c;if(I.transient){o?.(I);break}const $=I.id!=null?p.message.parts.find(M=>I.type===M.type&&I.id===M.id):void 0;$!=null?$.data=I.data:p.message.parts.push(I),o?.(I),d()}}u.enqueue(c)})}}))}async function a5({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:r}=await n.read();if(r)break}}catch(r){t?.(r)}finally{n.releaseLock()}}To({prefix:"aitxt",size:24});To({prefix:"aiobj",size:24});var o5=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(r){n(r)}}),this.processQueue()})}};To({prefix:"aiobj",size:24});var s5={};Z4(s5,{object:()=>c5,text:()=>l5});var l5=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),c5=({schema:e})=>{const t=B4(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:n}){const r=await ix(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const a=r.state;throw new Error(`Unsupported parse state: ${a}`)}}},async parseOutput({text:n},r){const a=await Qs({text:n});if(!a.success)throw new gg({message:"No object generated: could not parse the response.",cause:a.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});const s=await Jd({value:a.value,schema:t});if(!s.success)throw new gg({message:"No object generated: response did not match schema.",cause:s.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return s.value}}},u5=ma({name:ke(),version:ke()}),Xd=ma({_meta:ln(et({}).loose())}),_o=Xd,d5=et({method:ke(),params:ln(Xd)}),p5=ma({experimental:ln(et({}).loose()),logging:ln(et({}).loose()),prompts:ln(ma({listChanged:ln(an())})),resources:ln(ma({subscribe:ln(an()),listChanged:ln(an())})),tools:ln(ma({listChanged:ln(an())}))});_o.extend({protocolVersion:ke(),capabilities:p5,serverInfo:u5,instructions:ln(ke())});var f5=_o.extend({nextCursor:ln(ke())}),h5=et({name:ke(),description:ln(ke()),inputSchema:et({type:De("object"),properties:ln(et({}).loose())}).loose()}).loose();f5.extend({tools:Gr(h5)});var m5=et({type:De("text"),text:ke()}).loose(),g5=et({type:De("image"),data:Bb(),mimeType:ke()}).loose(),ax=et({uri:ke(),mimeType:ln(ke())}).loose(),v5=ax.extend({text:ke()}),y5=ax.extend({blob:Bb()}),b5=et({type:De("resource"),resource:fn([v5,y5])}).loose();_o.extend({content:Gr(fn([m5,g5,b5])),isError:an().default(!1).optional()}).or(_o.extend({toolResult:Dt()}));var wl="2.0",x5=et({jsonrpc:De(wl),id:fn([ke(),bo().int()])}).merge(d5).strict(),w5=et({jsonrpc:De(wl),id:fn([ke(),bo().int()]),result:_o}).strict(),_5=et({jsonrpc:De(wl),id:fn([ke(),bo().int()]),error:et({code:bo().int(),message:ke(),data:ln(Dt())})}).strict(),k5=et({jsonrpc:De(wl)}).merge(et({method:ke(),params:ln(Xd)})).strict();fn([x5,k5,w5,_5]);async function C5(e){if(e==null)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async t=>{const{name:n,type:r}=t,a=await new Promise((s,o)=>{const c=new FileReader;c.onload=u=>{var p;s((p=u.target)==null?void 0:p.result)},c.onerror=u=>o(u),c.readAsDataURL(t)});return{type:"file",mediaType:r,filename:n,url:a}}))}var S5=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:a,prepareSendMessagesRequest:s,prepareReconnectToStreamRequest:o}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=a,this.prepareSendMessagesRequest=s,this.prepareReconnectToStreamRequest=o}async sendMessages({abortSignal:e,...t}){var n,r,a,s,o;const c=await la(this.body),u=await la(this.headers),p=await la(this.credentials),d=await((n=this.prepareSendMessagesRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...c,...t.body},headers:{...u,...t.headers},credentials:p,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),h=(r=d?.api)!=null?r:this.api,v=d?.headers!==void 0?d.headers:{...u,...t.headers},y=d?.body!==void 0?d.body:{...c,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},m=(a=d?.credentials)!=null?a:p,b=await((s=this.fetch)!=null?s:globalThis.fetch)(h,{method:"POST",headers:{"Content-Type":"application/json",...v},body:JSON.stringify(y),credentials:m,signal:e});if(!b.ok)throw new Error((o=await b.text())!=null?o:"Failed to fetch the chat response.");if(!b.body)throw new Error("The response body is empty.");return this.processResponseStream(b.body)}async reconnectToStream(e){var t,n,r,a,s;const o=await la(this.body),c=await la(this.headers),u=await la(this.credentials),p=await((t=this.prepareReconnectToStreamRequest)==null?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...o,...e.body},headers:{...c,...e.headers},credentials:u,requestMetadata:e.metadata})),d=(n=p?.api)!=null?n:`${this.api}/${e.chatId}/stream`,h=p?.headers!==void 0?p.headers:{...c,...e.headers},v=(r=p?.credentials)!=null?r:u,m=await((a=this.fetch)!=null?a:globalThis.fetch)(d,{method:"GET",headers:h,credentials:v});if(m.status===204)return null;if(!m.ok)throw new Error((s=await m.text())!=null?s:"Failed to fetch the chat response.");if(!m.body)throw new Error("The response body is empty.");return this.processResponseStream(m.body)}},ox=class extends S5{constructor(e={}){super(e)}processResponseStream(e){return GL({stream:e,schema:Q4}).pipeThrough(new TransformStream({async transform(t,n){if(!t.success)throw t.error;n.enqueue(t.value)}}))}},E5=class{constructor({generateId:e=PL,id:t=e(),transport:n=new ox,messageMetadataSchema:r,dataPartSchemas:a,state:s,onError:o,onToolCall:c,onFinish:u,onData:p,sendAutomaticallyWhen:d}){this.activeResponse=void 0,this.jobExecutor=new o5,this.sendMessage=async(h,v)=>{var y,m,x,b;if(h==null){await this.makeRequest({trigger:"submit-message",messageId:(y=this.lastMessage)==null?void 0:y.id,...v});return}let k;if("text"in h||"files"in h?k={parts:[...Array.isArray(h.files)?h.files:await C5(h.files),..."text"in h&&h.text!=null?[{type:"text",text:h.text}]:[]]}:k=h,h.messageId!=null){const C=this.state.messages.findIndex(T=>T.id===h.messageId);if(C===-1)throw new Error(`message with id ${h.messageId} not found`);if(this.state.messages[C].role!=="user")throw new Error(`message with id ${h.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,C+1),this.state.replaceMessage(C,{...k,id:h.messageId,role:(m=k.role)!=null?m:"user",metadata:h.metadata})}else this.state.pushMessage({...k,id:(x=k.id)!=null?x:this.generateId(),role:(b=k.role)!=null?b:"user",metadata:h.metadata});await this.makeRequest({trigger:"submit-message",messageId:h.messageId,...v})},this.regenerate=async({messageId:h,...v}={})=>{const y=h==null?this.state.messages.length-1:this.state.messages.findIndex(m=>m.id===h);if(y===-1)throw new Error(`message ${h} not found`);this.state.messages=this.state.messages.slice(0,this.messages[y].role==="assistant"?y:y+1),await this.makeRequest({trigger:"regenerate-message",messageId:h,...v})},this.resumeStream=async(h={})=>{await this.makeRequest({trigger:"resume-stream",...h})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolResult=async({tool:h,toolCallId:v,output:y})=>this.jobExecutor.run(async()=>{var m,x;const b=this.state.messages,k=b[b.length-1];this.state.replaceMessage(b.length-1,{...k,parts:k.parts.map(C=>vg(C)&&C.toolCallId===v?{...C,state:"output-available",output:y}:C)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(C=>vg(C)&&C.toolCallId===v?{...C,state:"output-available",output:y,errorText:void 0}:C)),this.status!=="streaming"&&this.status!=="submitted"&&((m=this.sendAutomaticallyWhen)!=null&&m.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(x=this.lastMessage)==null?void 0:x.id})}),this.stop=async()=>{var h;this.status!=="streaming"&&this.status!=="submitted"||(h=this.activeResponse)!=null&&h.abortController&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=a,this.state=s,this.onError=o,this.onToolCall=c,this.onFinish=u,this.onData=p,this.sendAutomaticallyWhen=d}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:a}){var s,o,c;this.setStatus({status:"submitted",error:void 0});const u=this.lastMessage;try{const p={state:r5({lastMessage:this.state.snapshot(u),messageId:this.generateId()}),abortController:new AbortController};this.activeResponse=p;let d;if(e==="resume-stream"){const v=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(v==null){this.setStatus({status:"ready"});return}d=v}else d=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:p.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:a});const h=v=>this.jobExecutor.run(()=>v({state:p.state,write:()=>{var y;this.setStatus({status:"streaming"}),p.state.message.id===((y=this.lastMessage)==null?void 0:y.id)?this.state.replaceMessage(this.state.messages.length-1,p.state.message):this.state.pushMessage(p.state.message)}}));await a5({stream:i5({stream:d,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:h,onError:v=>{throw v}}),onError:v=>{throw v}}),(s=this.onFinish)==null||s.call(this,{message:p.state.message,messages:this.state.messages}),this.setStatus({status:"ready"})}catch(p){if(p.name==="AbortError")return this.setStatus({status:"ready"}),null;this.onError&&p instanceof Error&&this.onError(p),this.setStatus({status:"error",error:p})}finally{this.activeResponse=void 0}(o=this.sendAutomaticallyWhen)!=null&&o.call(this,{messages:this.state.messages})&&await this.makeRequest({trigger:"submit-message",messageId:(c=this.lastMessage)==null?void 0:c.id,metadata:t,headers:n,body:r})}},T5=et({type:De("text"),text:ke(),state:xl(["streaming","done"]).optional(),providerMetadata:_t.optional()}),A5=et({type:De("reasoning"),text:ke(),state:xl(["streaming","done"]).optional(),providerMetadata:_t.optional()}),j5=et({type:De("source-url"),sourceId:ke(),url:ke(),title:ke().optional(),providerMetadata:_t.optional()}),I5=et({type:De("source-document"),sourceId:ke(),mediaType:ke(),title:ke(),filename:ke().optional(),providerMetadata:_t.optional()}),R5=et({type:De("file"),mediaType:ke(),filename:ke().optional(),url:ke(),providerMetadata:_t.optional()}),O5=et({type:De("step-start")}),F5=et({type:ke().startsWith("data-"),id:ke().optional(),data:Dt()}),M5=[et({type:De("dynamic-tool"),toolName:ke(),toolCallId:ke(),state:De("input-streaming"),input:Dt().optional(),output:Nn().optional(),errorText:Nn().optional()}),et({type:De("dynamic-tool"),toolName:ke(),toolCallId:ke(),state:De("input-available"),input:Dt(),output:Nn().optional(),errorText:Nn().optional(),callProviderMetadata:_t.optional()}),et({type:De("dynamic-tool"),toolName:ke(),toolCallId:ke(),state:De("output-available"),input:Dt(),output:Dt(),errorText:Nn().optional(),callProviderMetadata:_t.optional(),preliminary:an().optional()}),et({type:De("dynamic-tool"),toolName:ke(),toolCallId:ke(),state:De("output-error"),input:Dt(),output:Nn().optional(),errorText:ke(),callProviderMetadata:_t.optional()})],z5=[et({type:ke().startsWith("tool-"),toolCallId:ke(),state:De("input-streaming"),input:Dt().optional(),output:Nn().optional(),errorText:Nn().optional()}),et({type:ke().startsWith("tool-"),toolCallId:ke(),state:De("input-available"),input:Dt(),output:Nn().optional(),errorText:Nn().optional(),callProviderMetadata:_t.optional()}),et({type:ke().startsWith("tool-"),toolCallId:ke(),state:De("output-available"),input:Dt(),output:Dt(),errorText:Nn().optional(),callProviderMetadata:_t.optional(),preliminary:an().optional()}),et({type:ke().startsWith("tool-"),toolCallId:ke(),state:De("output-error"),input:Dt(),output:Nn().optional(),errorText:ke(),callProviderMetadata:_t.optional()})];et({id:ke(),role:xl(["system","user","assistant"]),metadata:Dt().optional(),parts:Gr(fn([T5,A5,j5,I5,R5,O5,F5,...M5,...z5]))});function N5(e,t){if(typeof e!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n,r=0;return function(...s){clearTimeout(n);const o=Date.now(),c=o-r,u=t-c;u<=0?(r=o,e.apply(this,s)):n=setTimeout(()=>{r=Date.now(),e.apply(this,s)},u)}}var $5=N5;const P5=hi($5);var sx=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Pt=(e,t,n)=>(sx(e,t,"read from private field"),n?n.call(e):t.get(e)),Cr=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},si=(e,t,n,r)=>(sx(e,t,"write to private field"),t.set(e,n),n);function D5(e,t){return t!=null?P5(e,t):e}var or,Ns,$s,ro,io,ao,ua,nd,rd,L5=class{constructor(e=[]){Cr(this,or,void 0),Cr(this,Ns,"ready"),Cr(this,$s,void 0),Cr(this,ro,new Set),Cr(this,io,new Set),Cr(this,ao,new Set),this.pushMessage=t=>{si(this,or,Pt(this,or).concat(t)),Pt(this,ua).call(this)},this.popMessage=()=>{si(this,or,Pt(this,or).slice(0,-1)),Pt(this,ua).call(this)},this.replaceMessage=(t,n)=>{si(this,or,[...Pt(this,or).slice(0,t),this.snapshot(n),...Pt(this,or).slice(t+1)]),Pt(this,ua).call(this)},this.snapshot=t=>structuredClone(t),this["~registerMessagesCallback"]=(t,n)=>{const r=n?D5(t,n):t;return Pt(this,ro).add(r),()=>{Pt(this,ro).delete(r)}},this["~registerStatusCallback"]=t=>(Pt(this,io).add(t),()=>{Pt(this,io).delete(t)}),this["~registerErrorCallback"]=t=>(Pt(this,ao).add(t),()=>{Pt(this,ao).delete(t)}),Cr(this,ua,()=>{Pt(this,ro).forEach(t=>t())}),Cr(this,nd,()=>{Pt(this,io).forEach(t=>t())}),Cr(this,rd,()=>{Pt(this,ao).forEach(t=>t())}),si(this,or,e)}get status(){return Pt(this,Ns)}set status(e){si(this,Ns,e),Pt(this,nd).call(this)}get error(){return Pt(this,$s)}set error(e){si(this,$s,e),Pt(this,rd).call(this)}get messages(){return Pt(this,or)}set messages(e){si(this,or,[...e]),Pt(this,ua).call(this)}};or=new WeakMap;Ns=new WeakMap;$s=new WeakMap;ro=new WeakMap;io=new WeakMap;ao=new WeakMap;ua=new WeakMap;nd=new WeakMap;rd=new WeakMap;var da,bg=class extends E5{constructor({messages:t,...n}){const r=new L5(t);super({...n,state:r}),Cr(this,da,void 0),this["~registerMessagesCallback"]=(a,s)=>Pt(this,da)["~registerMessagesCallback"](a,s),this["~registerStatusCallback"]=a=>Pt(this,da)["~registerStatusCallback"](a),this["~registerErrorCallback"]=a=>Pt(this,da)["~registerErrorCallback"](a),si(this,da,r)}};da=new WeakMap;function B5({experimental_throttle:e,resume:t=!1,...n}={}){const r=K.useRef("chat"in n?n.chat:new bg(n));("chat"in n&&n.chat!==r.current||"id"in n&&r.current.id!==n.id)&&(r.current="chat"in n?n.chat:new bg(n));const s="id"in n?n.id:null,o=K.useCallback(h=>r.current["~registerMessagesCallback"](h,e),[e,s]),c=K.useSyncExternalStore(o,()=>r.current.messages,()=>r.current.messages),u=K.useSyncExternalStore(r.current["~registerStatusCallback"],()=>r.current.status,()=>r.current.status),p=K.useSyncExternalStore(r.current["~registerErrorCallback"],()=>r.current.error,()=>r.current.error),d=K.useCallback(h=>{typeof h=="function"&&(h=h(r.current.messages)),r.current.messages=h},[r]);return K.useEffect(()=>{t&&r.current.resumeStream()},[t,r]),{id:r.current.id,messages:c,setMessages:d,sendMessage:r.current.sendMessage,regenerate:r.current.regenerate,clearError:r.current.clearError,stop:r.current.stop,error:p,resumeStream:r.current.resumeStream,status:u,addToolResult:r.current.addToolResult}}let Zr=null;const Qd="strapi-ai-token",lx=60*1e3,U5=e=>{const t=Date.parse(e);return Number.isFinite(t)?t:null},Z5=(e,t=lx,n=Date.now())=>{const r=U5(e);return r===null||r<=n?"expired":r-t<=n?"stale":"valid"},xg=(e,t=lx,n=Date.now())=>Z5(e,t,n)==="valid",H5=()=>{Zr=null,sessionStorage.removeItem(Qd)},q5=()=>{try{const e=sessionStorage.getItem(Qd);return e?JSON.parse(e):null}catch{return null}},W5=e=>{sessionStorage.setItem(Qd,JSON.stringify(e))},el=async()=>{if(Zr&&xg(Zr.expiresAt))return Zr;const e=q5();if(e&&xg(e.expiresAt))return Zr=e,Zr;try{const{get:t}=wE(),{data:n}=await t("/admin/ai-token"),r=n?.token||n?.data?.token,a=n?.expiresAt||n?.data?.expiresAt;return r&&a?(Zr={token:r,expiresAt:a},W5(Zr),Zr):null}catch{return null}},V5=async()=>{try{if(await el())return;await el()}catch{}},cx=async e=>{try{return await e.json()}catch{try{return{error:await e.text()}}catch{return}}},G5=(e,t,n)=>({Authorization:`Bearer ${e}`,"X-Strapi-Version":t?.strapiVersion||"latest","X-Strapi-User":t?.userId||"unknown","X-Strapi-Project-Id":t?.projectId||"unknown",...n}),K5=(e,t)=>{if(e===401||e===403)return!0;const n=(t?.error||"").toString().toLowerCase();return n.includes("expired")||n.includes("invalid token")},ux=async(e,t={})=>{const n=await el();if(!n?.token)throw new Error("Could not authorize with AI Server. Please contact your administrator.");const r=async o=>{const c=G5(o,t.ctx,t.headers);return fetch(e,{...t,headers:c})};let a=await r(n.token),s;try{s=await cx(a.clone())}catch{}if(K5(a.status,s)){H5();const o=await el();o?.token&&o.token!==n.token&&(a=await r(o.token))}return a},J5=e=>async(t,n={})=>ux(t,{...n,ctx:e}),Y5="Too many requests",X5="License limit",Q5="AI credit limit exceeded",eB="Chat too long",_l=e=>()=>{const t=Vr("useAIFetch",d=>d.strapiVersion),n=Vr("useAIFetch",d=>d.projectId),r=Vr("useAIFetch-user",d=>d.userId),a=_E(void 0,{refetchOnMountOrArgChange:!0}),[s,o]=K.useState(!1),[c,u]=K.useState(null);return{isPending:s,error:c,fetch:async(d={})=>{o(!0),u(null);try{const h=`${Qv}${e}`,v=!!d.body&&!d.formData,y=await ux(h,{method:"POST",headers:v?{"Content-Type":"application/json",...d.headers||{}}:d.headers,body:d.formData?d.formData:v?JSON.stringify(d.body||{}):void 0,ctx:{strapiVersion:t,projectId:n,userId:r}});a.refetch();const m=await cx(y);if(!y.ok)throw new Error(`Error: ${y.statusText}`);return m}catch(h){return u(h instanceof Error?h.message:`Failed to fetch data from ${e}`),null}finally{o(!1)}}}},tB=_l("/schemas/chat/generate-title"),nB=_l("/schemas/chat/attachment"),rB=_l("/schemas/chat/feedback"),iB=_l("/media/upload"),aB=e=>{const t=Vr("useAIChat",s=>s.strapiVersion),n=Vr("useAIFetch",s=>s.projectId),r=Vr("useAIChat-user",s=>s.userId),a=J5({strapiVersion:t,projectId:n,userId:r});return B5({...e,transport:new ox({api:Dj,fetch:a})})},oB=({chatId:e,messages:t})=>{const[n,r]=K.useState(void 0),{fetch:a,error:s,isPending:o}=tB(),c=K.useCallback(async()=>{const p=t.at(0);if(!p||n||o||s)return;const d=p.parts.map(v=>v.type==="text"?v.text:"").join(`
`),h=await a({body:{chatId:e,message:d}});h?.data&&r(h.data.title)},[t,n,o,s,a,e]),u=K.useCallback(()=>{r(void 0)},[]);return{title:n,isGenerating:o,error:s,generateTitle:c,resetTitle:u}},sB=1,lB=()=>{if(typeof window>"u")return{uid:null,type:null};const e=window.location.pathname;if(e.includes("/content-types/")){const t=e.split("/content-types/")[1];if(t)return{uid:t,type:"contentType"}}if(e.includes("/component-categories/")){const t=e.split("/component-categories/")[1].split("/");if(t.length>=2)return{uid:t[1],type:"component"}}return{uid:null,type:null}},cB=()=>{const[e,t]=K.useState([]),{components:n,contentTypes:r}=Jn();return K.useEffect(()=>{const o=()=>{const{uid:p,type:d}=lB();if(!p||!d)return;const h={uid:p,type:d,timestamp:Date.now()};t(v=>{const y=v.filter(m=>m.uid!==h.uid);return[h,...y].slice(0,sB)})};o(),window.addEventListener("popstate",o);const u=(()=>{let p=window.location.pathname;const d=setInterval(()=>{const h=window.location.pathname;h!==p&&(p=h,o())},300);return()=>clearInterval(d)})();return()=>{window.removeEventListener("popstate",o),u()}},[]),{lastSeenSchemas:K.useMemo(()=>e.filter(o=>o.type==="contentType"?Object.keys(r).some(c=>c===o.uid):o.type==="component"?Object.keys(n).some(c=>c===o.uid):!1),[e,n,r]),clearHistory:()=>{t([])}}},wg=e=>e.reduce((t,n)=>{const{name:r,...a}=n;return{...t,[r]:a}},{}),_g=e=>e.modelType==="component"?{category:e.category,kind:"component",action:"create",modelType:"component",description:e.info.description,name:e.info.displayName,uid:e.uid,attributes:wg(e.attributes),sources:e.sources}:{kind:e.kind,modelType:e.modelType,description:e.info.description,action:"create",name:e.info.pluralName,uid:e.uid,attributes:wg(e.attributes),sources:e.sources,options:{draftAndPublish:e.options?.draftAndPublish,localized:!1}},dx=K.createContext(null),px=()=>{const e=K.useContext(dx);if(!e)throw new Error("useStepModal must be used within a StepModal");return e},zi=({open:e,onOpenChange:t,title:n,children:r,onComplete:a,onCancel:s})=>{const[o,c]=K.useState(0),[u,p]=K.useState(!1),[d,h]=K.useState(null),v=K.Children.toArray(r).filter(B=>K.isValidElement(B)).map(B=>B.props),y=v.length,m=o===0,x=o===y-1;K.useEffect(()=>{e||(c(0),p(!1),h(null))},[e]);const b=()=>{c(0),p(!1),h(null)},k=()=>{s?.(),b(),t(!1)},C=()=>{c(B=>Math.max(0,B-1)),h(null)},T=async()=>{const B=v[o];if(B.onNext){p(!0),h(null);try{return x?(a?.(),b(),t(!1)):(await B.onNext(),c(U=>U+1)),!0}catch(U){return h(U instanceof Error?U:new Error(String(U))),!1}finally{p(!1)}}else return x?(a?.(),b(),t(!1)):c(U=>U+1),!0},I=B=>{B.preventDefault(),!u&&!v[o]?.disableNext&&T()},$={currentStep:o,goToStep:c,nextStep:T,prevStep:C,isFirstStep:m,isLastStep:x,totalSteps:y,isLoading:u,error:d,setError:h},M=v[o];return g.jsx(dx.Provider,{value:$,children:e&&g.jsx(pn.Root,{open:!0,onOpenChange:k,children:g.jsxs(pn.Content,{children:[g.jsx(pn.Header,{children:g.jsx(Fe,{variant:"omega",fontWeight:"bold",children:M?.title||n})}),g.jsxs("form",{onSubmit:I,children:[g.jsxs(pn.Body,{children:[K.Children.toArray(r)[o],d&&g.jsx(ze,{marginTop:4,padding:3,background:"danger100",color:"danger600",borderRadius:"4px",children:g.jsx(Fe,{variant:"pi",children:d.message})})]}),g.jsxs(pn.Footer,{children:[m?g.jsx(gt,{variant:"tertiary",onClick:k,type:"button",children:M?.cancelLabel||"Cancel"}):g.jsx(gt,{variant:"tertiary",onClick:C,type:"button",children:M?.backLabel||"Back"}),g.jsx(gt,{variant:"default",type:"submit",disabled:u||M?.disableNext,loading:u,children:M?.nextLabel||(x?"Complete":"Next")})]})]})]})})})},uB=({children:e})=>g.jsx(g.Fragment,{children:e});zi.Step=uB;const tl=(e=16)=>crypto.randomUUID().slice(0,e);function Ao(){const{setAttachments:e,attachments:t,id:n}=fr(),{toggleNotification:r}=Sa(),{fetch:a}=iB(),s=K.useCallback(d=>{d&&e(h=>[...h,...d])},[e]),o=K.useCallback(d=>{e(h=>h.map(v=>v.id===d.id?{...v,...d}:v))},[e]),c=K.useCallback(d=>{e(h=>h.filter(v=>v.id!==d.id))},[e]),u=K.useCallback(async(d,h)=>{const v=t?.length||0,y=Array.from(d).length;let m=d;if(v+y>Gc){r({type:"danger",title:"File limit reached: ",message:`You can only upload up to ${Gc} files`});const x=Gc-v;m=d.slice(0,x)}for(const x of m)x.size>Pj&&(r({type:"danger",title:"File too large: ",message:"One of the files is too large (15MB limit)"}),m=m.filter(b=>b!==x));for(const x of m){const b={id:tl(),type:"file",status:"loading",filename:x.name,mediaType:x.type,url:""};e(C=>[...C,b]);const k=new FormData;k.append("file",x),k.append("fileInfo",JSON.stringify({name:x.name,chatId:n})),a({formData:k}).then(C=>{const T=C?.data;if(!C||C.error){r({type:"danger",title:"Failed to upload file: ",message:C?.error||"Unknown error",timeout:5e3}),c(b);return}o({id:b.id,url:T?.url||"",status:"ready"})}).catch(()=>c(b))}h&&r({title:"Files attached",message:h})},[t,e,r,n,a,c,o]),p=K.useCallback(d=>{t&&e(t.filter((h,v)=>v!==d))},[e,t]);return{attachments:t,attachFiles:u,addAttachments:s,removeAttachment:c,removeAttachmentByIndex:p}}var fx={exports:{}};(function(e,t){var n={};/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(r){e.exports=r()})(function(){return function r(a,s,o){function c(d,h){if(!s[d]){if(!a[d]){var v=typeof xs=="function"&&xs;if(!h&&v)return v(d,!0);if(u)return u(d,!0);var y=new Error("Cannot find module '"+d+"'");throw y.code="MODULE_NOT_FOUND",y}var m=s[d]={exports:{}};a[d][0].call(m.exports,function(x){var b=a[d][1][x];return c(b||x)},m,m.exports,r,a,s,o)}return s[d].exports}for(var u=typeof xs=="function"&&xs,p=0;p<o.length;p++)c(o[p]);return c}({1:[function(r,a,s){var o=r("./utils"),c=r("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(p){for(var d,h,v,y,m,x,b,k=[],C=0,T=p.length,I=T,$=o.getTypeOf(p)!=="string";C<p.length;)I=T-C,v=$?(d=p[C++],h=C<T?p[C++]:0,C<T?p[C++]:0):(d=p.charCodeAt(C++),h=C<T?p.charCodeAt(C++):0,C<T?p.charCodeAt(C++):0),y=d>>2,m=(3&d)<<4|h>>4,x=1<I?(15&h)<<2|v>>6:64,b=2<I?63&v:64,k.push(u.charAt(y)+u.charAt(m)+u.charAt(x)+u.charAt(b));return k.join("")},s.decode=function(p){var d,h,v,y,m,x,b=0,k=0,C="data:";if(p.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");var T,I=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===u.charAt(64)&&I--,p.charAt(p.length-2)===u.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=c.uint8array?new Uint8Array(0|I):new Array(0|I);b<p.length;)d=u.indexOf(p.charAt(b++))<<2|(y=u.indexOf(p.charAt(b++)))>>4,h=(15&y)<<4|(m=u.indexOf(p.charAt(b++)))>>2,v=(3&m)<<6|(x=u.indexOf(p.charAt(b++))),T[k++]=d,m!==64&&(T[k++]=h),x!==64&&(T[k++]=v);return T}},{"./support":30,"./utils":32}],2:[function(r,a,s){var o=r("./external"),c=r("./stream/DataWorker"),u=r("./stream/Crc32Probe"),p=r("./stream/DataLengthProbe");function d(h,v,y,m,x){this.compressedSize=h,this.uncompressedSize=v,this.crc32=y,this.compression=m,this.compressedContent=x}d.prototype={getContentWorker:function(){var h=new c(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),v=this;return h.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new c(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(h,v,y){return h.pipe(new u).pipe(new p("uncompressedSize")).pipe(v.compressWorker(y)).pipe(new p("compressedSize")).withStreamInfo("compression",v)},a.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,a,s){var o=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,a,s){var o=r("./utils"),c=function(){for(var u,p=[],d=0;d<256;d++){u=d;for(var h=0;h<8;h++)u=1&u?3988292384^u>>>1:u>>>1;p[d]=u}return p}();a.exports=function(u,p){return u!==void 0&&u.length?o.getTypeOf(u)!=="string"?function(d,h,v,y){var m=c,x=y+v;d^=-1;for(var b=y;b<x;b++)d=d>>>8^m[255&(d^h[b])];return-1^d}(0|p,u,u.length,0):function(d,h,v,y){var m=c,x=y+v;d^=-1;for(var b=y;b<x;b++)d=d>>>8^m[255&(d^h.charCodeAt(b))];return-1^d}(0|p,u,u.length,0):0}},{"./utils":32}],5:[function(r,a,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,a,s){var o=null;o=typeof Promise<"u"?Promise:r("lie"),a.exports={Promise:o}},{lie:37}],7:[function(r,a,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=r("pako"),u=r("./utils"),p=r("./stream/GenericWorker"),d=o?"uint8array":"array";function h(v,y){p.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=y,this.meta={}}s.magic="\b\0",u.inherits(h,p),h.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(d,v.data),!1)},h.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(y){v.push({data:y,meta:v.meta})}},s.compressWorker=function(v){return new h("Deflate",v)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,a,s){function o(m,x){var b,k="";for(b=0;b<x;b++)k+=String.fromCharCode(255&m),m>>>=8;return k}function c(m,x,b,k,C,T){var I,$,M=m.file,B=m.compression,U=T!==d.utf8encode,X=u.transformTo("string",T(M.name)),Y=u.transformTo("string",d.utf8encode(M.name)),q=M.comment,se=u.transformTo("string",T(q)),R=u.transformTo("string",d.utf8encode(q)),G=Y.length!==M.name.length,_=R.length!==q.length,L="",Ce="",le="",de=M.dir,N=M.date,ce={crc32:0,compressedSize:0,uncompressedSize:0};x&&!b||(ce.crc32=m.crc32,ce.compressedSize=m.compressedSize,ce.uncompressedSize=m.uncompressedSize);var ne=0;x&&(ne|=8),U||!G&&!_||(ne|=2048);var O=0,Re=0;de&&(O|=16),C==="UNIX"?(Re=798,O|=function(ue,at){var Ve=ue;return ue||(Ve=at?16893:33204),(65535&Ve)<<16}(M.unixPermissions,de)):(Re=20,O|=function(ue){return 63&(ue||0)}(M.dosPermissions)),I=N.getUTCHours(),I<<=6,I|=N.getUTCMinutes(),I<<=5,I|=N.getUTCSeconds()/2,$=N.getUTCFullYear()-1980,$<<=4,$|=N.getUTCMonth()+1,$<<=5,$|=N.getUTCDate(),G&&(Ce=o(1,1)+o(h(X),4)+Y,L+="up"+o(Ce.length,2)+Ce),_&&(le=o(1,1)+o(h(se),4)+R,L+="uc"+o(le.length,2)+le);var Ee="";return Ee+=`
\0`,Ee+=o(ne,2),Ee+=B.magic,Ee+=o(I,2),Ee+=o($,2),Ee+=o(ce.crc32,4),Ee+=o(ce.compressedSize,4),Ee+=o(ce.uncompressedSize,4),Ee+=o(X.length,2),Ee+=o(L.length,2),{fileRecord:v.LOCAL_FILE_HEADER+Ee+X+L,dirRecord:v.CENTRAL_FILE_HEADER+o(Re,2)+Ee+o(se.length,2)+"\0\0\0\0"+o(O,4)+o(k,4)+X+L+se}}var u=r("../utils"),p=r("../stream/GenericWorker"),d=r("../utf8"),h=r("../crc32"),v=r("../signature");function y(m,x,b,k){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=b,this.encodeFileName=k,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(y,p),y.prototype.push=function(m){var x=m.meta.percent||0,b=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,p.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:b?(x+100*(b-k-1))/b:100}}))},y.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var b=c(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,b=c(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),x)this.push({data:function(k){return v.DATA_DESCRIPTOR+o(k.crc32,4)+o(k.compressedSize,4)+o(k.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var b=this.bytesWritten-m,k=function(C,T,I,$,M){var B=u.transformTo("string",M($));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(C,2)+o(C,2)+o(T,4)+o(I,4)+o(B.length,2)+B}(this.dirRecords.length,b,m,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(b){x.processChunk(b)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(b){x.error(b)}),this},y.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(m){var x=this._sources;if(!p.prototype.error.call(this,m))return!1;for(var b=0;b<x.length;b++)try{x[b].error(m)}catch{}return!0},y.prototype.lock=function(){p.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},a.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,a,s){var o=r("../compressions"),c=r("./ZipFileWorker");s.generateWorker=function(u,p,d){var h=new c(p.streamFiles,d,p.platform,p.encodeFileName),v=0;try{u.forEach(function(y,m){v++;var x=function(T,I){var $=T||I,M=o[$];if(!M)throw new Error($+" is not a valid compression method !");return M}(m.options.compression,p.compression),b=m.options.compressionOptions||p.compressionOptions||{},k=m.dir,C=m.date;m._compressWorker(x,b).withStreamInfo("file",{name:y,dir:k,date:C,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(h)}),h.entriesCount=v}catch(y){h.error(y)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,a,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new o;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(c,u){return new o().loadAsync(c,u)},o.external=r("./external"),a.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,a,s){var o=r("./utils"),c=r("./external"),u=r("./utf8"),p=r("./zipEntries"),d=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function v(y){return new c.Promise(function(m,x){var b=y.decompressed.getContentWorker().pipe(new d);b.on("error",function(k){x(k)}).on("end",function(){b.streamInfo.crc32!==y.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}a.exports=function(y,m){var x=this;return m=o.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),h.isNode&&h.isStream(y)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",y,!0,m.optimizedBinaryString,m.base64).then(function(b){var k=new p(m);return k.load(b),k}).then(function(b){var k=[c.Promise.resolve(b)],C=b.files;if(m.checkCRC32)for(var T=0;T<C.length;T++)k.push(v(C[T]));return c.Promise.all(k)}).then(function(b){for(var k=b.shift(),C=k.files,T=0;T<C.length;T++){var I=C[T],$=I.fileNameStr,M=o.resolve(I.fileNameStr);x.file(M,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:m.createFolders}),I.dir||(x.file(M).unsafeOriginalName=$)}return k.zipComment.length&&(x.comment=k.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,a,s){var o=r("../utils"),c=r("../stream/GenericWorker");function u(p,d){c.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(d)}o.inherits(u,c),u.prototype._bindStream=function(p){var d=this;(this._stream=p).pause(),p.on("data",function(h){d.push({data:h,meta:{percent:0}})}).on("error",function(h){d.isPaused?this.generatedError=h:d.error(h)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,a,s){var o=r("readable-stream").Readable;function c(u,p,d){o.call(this,p),this._helper=u;var h=this;u.on("data",function(v,y){h.push(v)||h._helper.pause(),d&&d(y)}).on("error",function(v){h.emit("error",v)}).on("end",function(){h.push(null)})}r("../utils").inherits(c,o),c.prototype._read=function(){this._helper.resume()},a.exports=c},{"../utils":32,"readable-stream":16}],14:[function(r,a,s){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,c);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,c)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var c=new Buffer(o);return c.fill(0),c},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,a,s){function o(M,B,U){var X,Y=u.getTypeOf(B),q=u.extend(U||{},h);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(M=C(M)),q.createFolders&&(X=k(M))&&T.call(this,X,!0);var se=Y==="string"&&q.binary===!1&&q.base64===!1;U&&U.binary!==void 0||(q.binary=!se),(B instanceof v&&B.uncompressedSize===0||q.dir||!B||B.length===0)&&(q.base64=!1,q.binary=!0,B="",q.compression="STORE",Y="string");var R=null;R=B instanceof v||B instanceof p?B:x.isNode&&x.isStream(B)?new b(M,B):u.prepareContent(M,B,q.binary,q.optimizedBinaryString,q.base64);var G=new y(M,R,q);this.files[M]=G}var c=r("./utf8"),u=r("./utils"),p=r("./stream/GenericWorker"),d=r("./stream/StreamHelper"),h=r("./defaults"),v=r("./compressedObject"),y=r("./zipObject"),m=r("./generate"),x=r("./nodejsUtils"),b=r("./nodejs/NodejsStreamInputAdapter"),k=function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var B=M.lastIndexOf("/");return 0<B?M.substring(0,B):""},C=function(M){return M.slice(-1)!=="/"&&(M+="/"),M},T=function(M,B){return B=B!==void 0?B:h.createFolders,M=C(M),this.files[M]||o.call(this,M,null,{dir:!0,createFolders:B}),this.files[M]};function I(M){return Object.prototype.toString.call(M)==="[object RegExp]"}var $={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var B,U,X;for(B in this.files)X=this.files[B],(U=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&M(U,X)},filter:function(M){var B=[];return this.forEach(function(U,X){M(U,X)&&B.push(X)}),B},file:function(M,B,U){if(arguments.length!==1)return M=this.root+M,o.call(this,M,B,U),this;if(I(M)){var X=M;return this.filter(function(q,se){return!se.dir&&X.test(q)})}var Y=this.files[this.root+M];return Y&&!Y.dir?Y:null},folder:function(M){if(!M)return this;if(I(M))return this.filter(function(Y,q){return q.dir&&M.test(Y)});var B=this.root+M,U=T.call(this,B),X=this.clone();return X.root=U.name,X},remove:function(M){M=this.root+M;var B=this.files[M];if(B||(M.slice(-1)!=="/"&&(M+="/"),B=this.files[M]),B&&!B.dir)delete this.files[M];else for(var U=this.filter(function(Y,q){return q.name.slice(0,M.length)===M}),X=0;X<U.length;X++)delete this.files[U[X].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var B,U={};try{if((U=u.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");u.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var X=U.comment||this.comment||"";B=m.generateWorker(this,U,X)}catch(Y){(B=new p("error")).error(Y)}return new d(B,U.type||"string",U.mimeType)},generateAsync:function(M,B){return this.generateInternalStream(M).accumulate(B)},generateNodeStream:function(M,B){return(M=M||{}).type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream(B)}};a.exports=$},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,a,s){a.exports=r("stream")},{stream:void 0}],17:[function(r,a,s){var o=r("./DataReader");function c(u){o.call(this,u);for(var p=0;p<this.data.length;p++)u[p]=255&u[p]}r("../utils").inherits(c,o),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var p=u.charCodeAt(0),d=u.charCodeAt(1),h=u.charCodeAt(2),v=u.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===p&&this.data[y+1]===d&&this.data[y+2]===h&&this.data[y+3]===v)return y-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var p=u.charCodeAt(0),d=u.charCodeAt(1),h=u.charCodeAt(2),v=u.charCodeAt(3),y=this.readData(4);return p===y[0]&&d===y[1]&&h===y[2]&&v===y[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},a.exports=c},{"../utils":32,"./DataReader":18}],18:[function(r,a,s){var o=r("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var p,d=0;for(this.checkOffset(u),p=this.index+u-1;p>=this.index;p--)d=(d<<8)+this.byteAt(p);return this.index+=u,d},readString:function(u){return o.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},a.exports=c},{"../utils":32}],19:[function(r,a,s){var o=r("./Uint8ArrayReader");function c(u){o.call(this,u)}r("../utils").inherits(c,o),c.prototype.readData=function(u){this.checkOffset(u);var p=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},a.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,a,s){var o=r("./DataReader");function c(u){o.call(this,u)}r("../utils").inherits(c,o),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var p=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},a.exports=c},{"../utils":32,"./DataReader":18}],21:[function(r,a,s){var o=r("./ArrayReader");function c(u){o.call(this,u)}r("../utils").inherits(c,o),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},a.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(r,a,s){var o=r("../utils"),c=r("../support"),u=r("./ArrayReader"),p=r("./StringReader"),d=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");a.exports=function(v){var y=o.getTypeOf(v);return o.checkSupport(y),y!=="string"||c.uint8array?y==="nodebuffer"?new d(v):c.uint8array?new h(o.transformTo("uint8array",v)):new u(o.transformTo("array",v)):new p(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,a,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,a,s){var o=r("./GenericWorker"),c=r("../utils");function u(p){o.call(this,"ConvertWorker to "+p),this.destType=p}c.inherits(u,o),u.prototype.processChunk=function(p){this.push({data:c.transformTo(this.destType,p.data),meta:p.meta})},a.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(r,a,s){var o=r("./GenericWorker"),c=r("../crc32");function u(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(u,o),u.prototype.processChunk=function(p){this.streamInfo.crc32=c(p.data,this.streamInfo.crc32||0),this.push(p)},a.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,a,s){var o=r("../utils"),c=r("./GenericWorker");function u(p){c.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}o.inherits(u,c),u.prototype.processChunk=function(p){if(p){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+p.data.length}c.prototype.processChunk.call(this,p)},a.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(r,a,s){var o=r("../utils"),c=r("./GenericWorker");function u(p){c.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(h){d.dataIsReady=!0,d.data=h,d.max=h&&h.length||0,d.type=o.getTypeOf(h),d.isPaused||d._tickAndRepeat()},function(h){d.error(h)})}o.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,d);break;case"uint8array":p=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":p=this.data.slice(this.index,d)}return this.index=d,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(r,a,s){function o(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var p=0;p<this._listeners[c].length;p++)this._listeners[c][p].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(p){u.processChunk(p)}),c.on("end",function(){u.end()}),c.on("error",function(p){u.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},a.exports=o},{}],29:[function(r,a,s){var o=r("../utils"),c=r("./ConvertWorker"),u=r("./GenericWorker"),p=r("../base64"),d=r("../support"),h=r("../external"),v=null;if(d.nodestream)try{v=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(x,b){return new h.Promise(function(k,C){var T=[],I=x._internalType,$=x._outputType,M=x._mimeType;x.on("data",function(B,U){T.push(B),b&&b(U)}).on("error",function(B){T=[],C(B)}).on("end",function(){try{var B=function(U,X,Y){switch(U){case"blob":return o.newBlob(o.transformTo("arraybuffer",X),Y);case"base64":return p.encode(X);default:return o.transformTo(U,X)}}($,function(U,X){var Y,q=0,se=null,R=0;for(Y=0;Y<X.length;Y++)R+=X[Y].length;switch(U){case"string":return X.join("");case"array":return Array.prototype.concat.apply([],X);case"uint8array":for(se=new Uint8Array(R),Y=0;Y<X.length;Y++)se.set(X[Y],q),q+=X[Y].length;return se;case"nodebuffer":return Buffer.concat(X);default:throw new Error("concat : unsupported type '"+U+"'")}}(I,T),M);k(B)}catch(U){C(U)}T=[]}).resume()})}function m(x,b,k){var C=b;switch(b){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string"}try{this._internalType=C,this._outputType=b,this._mimeType=k,o.checkSupport(C),this._worker=x.pipe(new c(C)),x.lock()}catch(T){this._worker=new u("error"),this._worker.error(T)}}m.prototype={accumulate:function(x){return y(this,x)},on:function(x,b){var k=this;return x==="data"?this._worker.on(x,function(C){b.call(k,C.data,C.meta)}):this._worker.on(x,function(){o.delay(b,arguments,k)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},x)}},a.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,a,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(o),s.blob=c.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,a,s){for(var o=r("./utils"),c=r("./support"),u=r("./nodejsUtils"),p=r("./stream/GenericWorker"),d=new Array(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;d[254]=d[254]=1;function v(){p.call(this,"utf-8 decode"),this.leftOver=null}function y(){p.call(this,"utf-8 encode")}s.utf8encode=function(m){return c.nodebuffer?u.newBufferFrom(m,"utf-8"):function(x){var b,k,C,T,I,$=x.length,M=0;for(T=0;T<$;T++)(64512&(k=x.charCodeAt(T)))==55296&&T+1<$&&(64512&(C=x.charCodeAt(T+1)))==56320&&(k=65536+(k-55296<<10)+(C-56320),T++),M+=k<128?1:k<2048?2:k<65536?3:4;for(b=c.uint8array?new Uint8Array(M):new Array(M),T=I=0;I<M;T++)(64512&(k=x.charCodeAt(T)))==55296&&T+1<$&&(64512&(C=x.charCodeAt(T+1)))==56320&&(k=65536+(k-55296<<10)+(C-56320),T++),k<128?b[I++]=k:(k<2048?b[I++]=192|k>>>6:(k<65536?b[I++]=224|k>>>12:(b[I++]=240|k>>>18,b[I++]=128|k>>>12&63),b[I++]=128|k>>>6&63),b[I++]=128|63&k);return b}(m)},s.utf8decode=function(m){return c.nodebuffer?o.transformTo("nodebuffer",m).toString("utf-8"):function(x){var b,k,C,T,I=x.length,$=new Array(2*I);for(b=k=0;b<I;)if((C=x[b++])<128)$[k++]=C;else if(4<(T=d[C]))$[k++]=65533,b+=T-1;else{for(C&=T===2?31:T===3?15:7;1<T&&b<I;)C=C<<6|63&x[b++],T--;1<T?$[k++]=65533:C<65536?$[k++]=C:(C-=65536,$[k++]=55296|C>>10&1023,$[k++]=56320|1023&C)}return $.length!==k&&($.subarray?$=$.subarray(0,k):$.length=k),o.applyFromCharCode($)}(m=o.transformTo(c.uint8array?"uint8array":"array",m))},o.inherits(v,p),v.prototype.processChunk=function(m){var x=o.transformTo(c.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var b=x;(x=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),x.set(b,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var k=function(T,I){var $;for((I=I||T.length)>T.length&&(I=T.length),$=I-1;0<=$&&(192&T[$])==128;)$--;return $<0||$===0?I:$+d[T[$]]>I?$:I}(x),C=x;k!==x.length&&(c.uint8array?(C=x.subarray(0,k),this.leftOver=x.subarray(k,x.length)):(C=x.slice(0,k),this.leftOver=x.slice(k,x.length))),this.push({data:s.utf8decode(C),meta:m.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=v,o.inherits(y,p),y.prototype.processChunk=function(m){this.push({data:s.utf8encode(m.data),meta:m.meta})},s.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,a,s){var o=r("./support"),c=r("./base64"),u=r("./nodejsUtils"),p=r("./external");function d(b){return b}function h(b,k){for(var C=0;C<b.length;++C)k[C]=255&b.charCodeAt(C);return k}r("setimmediate"),s.newBlob=function(b,k){s.checkSupport("blob");try{return new Blob([b],{type:k})}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return C.append(b),C.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(b,k,C){var T=[],I=0,$=b.length;if($<=C)return String.fromCharCode.apply(null,b);for(;I<$;)k==="array"||k==="nodebuffer"?T.push(String.fromCharCode.apply(null,b.slice(I,Math.min(I+C,$)))):T.push(String.fromCharCode.apply(null,b.subarray(I,Math.min(I+C,$)))),I+=C;return T.join("")},stringifyByChar:function(b){for(var k="",C=0;C<b.length;C++)k+=String.fromCharCode(b[C]);return k},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function y(b){var k=65536,C=s.getTypeOf(b),T=!0;if(C==="uint8array"?T=v.applyCanBeUsed.uint8array:C==="nodebuffer"&&(T=v.applyCanBeUsed.nodebuffer),T)for(;1<k;)try{return v.stringifyByChunk(b,C,k)}catch{k=Math.floor(k/2)}return v.stringifyByChar(b)}function m(b,k){for(var C=0;C<b.length;C++)k[C]=b[C];return k}s.applyFromCharCode=y;var x={};x.string={string:d,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return x.string.uint8array(b).buffer},uint8array:function(b){return h(b,new Uint8Array(b.length))},nodebuffer:function(b){return h(b,u.allocBuffer(b.length))}},x.array={string:y,array:d,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return u.newBufferFrom(b)}},x.arraybuffer={string:function(b){return y(new Uint8Array(b))},array:function(b){return m(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:d,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return u.newBufferFrom(new Uint8Array(b))}},x.uint8array={string:y,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:d,nodebuffer:function(b){return u.newBufferFrom(b)}},x.nodebuffer={string:y,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return x.nodebuffer.uint8array(b).buffer},uint8array:function(b){return m(b,new Uint8Array(b.length))},nodebuffer:d},s.transformTo=function(b,k){if(k=k||"",!b)return k;s.checkSupport(b);var C=s.getTypeOf(k);return x[C][b](k)},s.resolve=function(b){for(var k=b.split("/"),C=[],T=0;T<k.length;T++){var I=k[T];I==="."||I===""&&T!==0&&T!==k.length-1||(I===".."?C.pop():C.push(I))}return C.join("/")},s.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":o.nodebuffer&&u.isBuffer(b)?"nodebuffer":o.uint8array&&b instanceof Uint8Array?"uint8array":o.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(b){if(!o[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(b){var k,C,T="";for(C=0;C<(b||"").length;C++)T+="\\x"+((k=b.charCodeAt(C))<16?"0":"")+k.toString(16).toUpperCase();return T},s.delay=function(b,k,C){setImmediate(function(){b.apply(C||null,k||[])})},s.inherits=function(b,k){function C(){}C.prototype=k.prototype,b.prototype=new C},s.extend=function(){var b,k,C={};for(b=0;b<arguments.length;b++)for(k in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],k)&&C[k]===void 0&&(C[k]=arguments[b][k]);return C},s.prepareContent=function(b,k,C,T,I){return p.Promise.resolve(k).then(function($){return o.blob&&($ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call($))!==-1)&&typeof FileReader<"u"?new p.Promise(function(M,B){var U=new FileReader;U.onload=function(X){M(X.target.result)},U.onerror=function(X){B(X.target.error)},U.readAsArrayBuffer($)}):$}).then(function($){var M=s.getTypeOf($);return M?(M==="arraybuffer"?$=s.transformTo("uint8array",$):M==="string"&&(I?$=c.decode($):C&&T!==!0&&($=function(B){return h(B,o.uint8array?new Uint8Array(B.length):new Array(B.length))}($))),$):p.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,a,s){var o=r("./reader/readerFor"),c=r("./utils"),u=r("./signature"),p=r("./zipEntry"),d=r("./support");function h(v){this.files=[],this.loadOptions=v}h.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(y)+", expected "+c.pretty(v)+")")}},isSignature:function(v,y){var m=this.reader.index;this.reader.setIndex(v);var x=this.reader.readString(4)===y;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),y=d.uint8array?"uint8array":"array",m=c.transformTo(y,v);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,y,m,x=this.zip64EndOfCentralSize-44;0<x;)v=this.reader.readInt(2),y=this.reader.readInt(4),m=this.reader.readData(y),this.zip64ExtensibleData[v]={id:v,length:y,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,y;for(v=0;v<this.files.length;v++)y=this.files[v],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(v=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var y=v;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=y-m;if(0<x)this.isSignature(y,u.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(v){this.reader=o(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,a,s){var o=r("./reader/readerFor"),c=r("./utils"),u=r("./compressedObject"),p=r("./crc32"),d=r("./utf8"),h=r("./compressions"),v=r("./support");function y(m,x){this.options=m,this.loadOptions=x}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,b;if(m.skip(22),this.fileNameLength=m.readInt(2),b=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(k){for(var C in h)if(Object.prototype.hasOwnProperty.call(h,C)&&h[C].magic===k)return h[C];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=o(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,b,k,C=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<C;)x=m.readInt(2),b=m.readInt(2),k=m.readData(b),this.extraFields[x]={id:x,length:b,value:k};m.setIndex(C)},handleUTF8:function(){var m=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var b=c.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var C=c.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=o(m.value);return x.readInt(1)!==1||p(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=o(m.value);return x.readInt(1)!==1||p(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null}},a.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,a,s){function o(x,b,k){this.name=x,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=b,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var c=r("./stream/StreamHelper"),u=r("./stream/DataWorker"),p=r("./utf8"),d=r("./compressedObject"),h=r("./stream/GenericWorker");o.prototype={internalStream:function(x){var b=null,k="string";try{if(!x)throw new Error("No output type specified.");var C=(k=x.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),b=this._decompressWorker();var T=!this._dataBinary;T&&!C&&(b=b.pipe(new p.Utf8EncodeWorker)),!T&&C&&(b=b.pipe(new p.Utf8DecodeWorker))}catch(I){(b=new h("error")).error(I)}return new c(b,k,"")},async:function(x,b){return this.internalStream(x).accumulate(b)},nodeStream:function(x,b){return this.internalStream(x||"nodebuffer").toNodejsStream(b)},_compressWorker:function(x,b){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new p.Utf8EncodeWorker)),d.createWorkerFrom(k,x,b)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof h?this._data:new u(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<v.length;m++)o.prototype[v[m]]=y;a.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,a,s){(function(o){var c,u,p=o.MutationObserver||o.WebKitMutationObserver;if(p){var d=0,h=new p(x),v=o.document.createTextNode("");h.observe(v,{characterData:!0}),c=function(){v.data=d=++d%2}}else if(o.setImmediate||o.MessageChannel===void 0)c="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var b=o.document.createElement("script");b.onreadystatechange=function(){x(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:function(){setTimeout(x,0)};else{var y=new o.MessageChannel;y.port1.onmessage=x,c=function(){y.port2.postMessage(0)}}var m=[];function x(){var b,k;u=!0;for(var C=m.length;C;){for(k=m,m=[],b=-1;++b<C;)k[b]();C=m.length}u=!1}a.exports=function(b){m.push(b)!==1||u||c()}}).call(this,typeof Wn<"u"?Wn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,a,s){var o=r("immediate");function c(){}var u={},p=["REJECTED"],d=["FULFILLED"],h=["PENDING"];function v(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,C!==c&&b(this,C)}function y(C,T,I){this.promise=C,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function m(C,T,I){o(function(){var $;try{$=T(I)}catch(M){return u.reject(C,M)}$===C?u.reject(C,new TypeError("Cannot resolve promise with itself")):u.resolve(C,$)})}function x(C){var T=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof T=="function")return function(){T.apply(C,arguments)}}function b(C,T){var I=!1;function $(U){I||(I=!0,u.reject(C,U))}function M(U){I||(I=!0,u.resolve(C,U))}var B=k(function(){T(M,$)});B.status==="error"&&$(B.value)}function k(C,T){var I={};try{I.value=C(T),I.status="success"}catch($){I.status="error",I.value=$}return I}(a.exports=v).prototype.finally=function(C){if(typeof C!="function")return this;var T=this.constructor;return this.then(function(I){return T.resolve(C()).then(function(){return I})},function(I){return T.resolve(C()).then(function(){throw I})})},v.prototype.catch=function(C){return this.then(null,C)},v.prototype.then=function(C,T){if(typeof C!="function"&&this.state===d||typeof T!="function"&&this.state===p)return this;var I=new this.constructor(c);return this.state!==h?m(I,this.state===d?C:T,this.outcome):this.queue.push(new y(I,C,T)),I},y.prototype.callFulfilled=function(C){u.resolve(this.promise,C)},y.prototype.otherCallFulfilled=function(C){m(this.promise,this.onFulfilled,C)},y.prototype.callRejected=function(C){u.reject(this.promise,C)},y.prototype.otherCallRejected=function(C){m(this.promise,this.onRejected,C)},u.resolve=function(C,T){var I=k(x,T);if(I.status==="error")return u.reject(C,I.value);var $=I.value;if($)b(C,$);else{C.state=d,C.outcome=T;for(var M=-1,B=C.queue.length;++M<B;)C.queue[M].callFulfilled(T)}return C},u.reject=function(C,T){C.state=p,C.outcome=T;for(var I=-1,$=C.queue.length;++I<$;)C.queue[I].callRejected(T);return C},v.resolve=function(C){return C instanceof this?C:u.resolve(new this(c),C)},v.reject=function(C){var T=new this(c);return u.reject(T,C)},v.all=function(C){var T=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=C.length,$=!1;if(!I)return this.resolve([]);for(var M=new Array(I),B=0,U=-1,X=new this(c);++U<I;)Y(C[U],U);return X;function Y(q,se){T.resolve(q).then(function(R){M[se]=R,++B!==I||$||($=!0,u.resolve(X,M))},function(R){$||($=!0,u.reject(X,R))})}},v.race=function(C){var T=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=C.length,$=!1;if(!I)return this.resolve([]);for(var M=-1,B=new this(c);++M<I;)U=C[M],T.resolve(U).then(function(X){$||($=!0,u.resolve(B,X))},function(X){$||($=!0,u.reject(B,X))});var U;return B}},{immediate:36}],38:[function(r,a,s){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),a.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,a,s){var o=r("./zlib/deflate"),c=r("./utils/common"),u=r("./utils/strings"),p=r("./zlib/messages"),d=r("./zlib/zstream"),h=Object.prototype.toString,v=0,y=-1,m=0,x=8;function b(C){if(!(this instanceof b))return new b(C);this.options=c.assign({level:y,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},C||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var I=o.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(I!==v)throw new Error(p[I]);if(T.header&&o.deflateSetHeader(this.strm,T.header),T.dictionary){var $;if($=typeof T.dictionary=="string"?u.string2buf(T.dictionary):h.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(I=o.deflateSetDictionary(this.strm,$))!==v)throw new Error(p[I]);this._dict_set=!0}}function k(C,T){var I=new b(T);if(I.push(C,!0),I.err)throw I.msg||p[I.err];return I.result}b.prototype.push=function(C,T){var I,$,M=this.strm,B=this.options.chunkSize;if(this.ended)return!1;$=T===~~T?T:T===!0?4:0,typeof C=="string"?M.input=u.string2buf(C):h.call(C)==="[object ArrayBuffer]"?M.input=new Uint8Array(C):M.input=C,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new c.Buf8(B),M.next_out=0,M.avail_out=B),(I=o.deflate(M,$))!==1&&I!==v)return this.onEnd(I),!(this.ended=!0);M.avail_out!==0&&(M.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(M.output,M.next_out))):this.onData(c.shrinkBuf(M.output,M.next_out)))}while((0<M.avail_in||M.avail_out===0)&&I!==1);return $===4?(I=o.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===v):$!==2||(this.onEnd(v),!(M.avail_out=0))},b.prototype.onData=function(C){this.chunks.push(C)},b.prototype.onEnd=function(C){C===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},s.Deflate=b,s.deflate=k,s.deflateRaw=function(C,T){return(T=T||{}).raw=!0,k(C,T)},s.gzip=function(C,T){return(T=T||{}).gzip=!0,k(C,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,a,s){var o=r("./zlib/inflate"),c=r("./utils/common"),u=r("./utils/strings"),p=r("./zlib/constants"),d=r("./zlib/messages"),h=r("./zlib/zstream"),v=r("./zlib/gzheader"),y=Object.prototype.toString;function m(b){if(!(this instanceof m))return new m(b);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},b||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||b&&b.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var C=o.inflateInit2(this.strm,k.windowBits);if(C!==p.Z_OK)throw new Error(d[C]);this.header=new v,o.inflateGetHeader(this.strm,this.header)}function x(b,k){var C=new m(k);if(C.push(b,!0),C.err)throw C.msg||d[C.err];return C.result}m.prototype.push=function(b,k){var C,T,I,$,M,B,U=this.strm,X=this.options.chunkSize,Y=this.options.dictionary,q=!1;if(this.ended)return!1;T=k===~~k?k:k===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof b=="string"?U.input=u.binstring2buf(b):y.call(b)==="[object ArrayBuffer]"?U.input=new Uint8Array(b):U.input=b,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new c.Buf8(X),U.next_out=0,U.avail_out=X),(C=o.inflate(U,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&Y&&(B=typeof Y=="string"?u.string2buf(Y):y.call(Y)==="[object ArrayBuffer]"?new Uint8Array(Y):Y,C=o.inflateSetDictionary(this.strm,B)),C===p.Z_BUF_ERROR&&q===!0&&(C=p.Z_OK,q=!1),C!==p.Z_STREAM_END&&C!==p.Z_OK)return this.onEnd(C),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&C!==p.Z_STREAM_END&&(U.avail_in!==0||T!==p.Z_FINISH&&T!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=u.utf8border(U.output,U.next_out),$=U.next_out-I,M=u.buf2string(U.output,I),U.next_out=$,U.avail_out=X-$,$&&c.arraySet(U.output,U.output,I,$,0),this.onData(M)):this.onData(c.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(q=!0)}while((0<U.avail_in||U.avail_out===0)&&C!==p.Z_STREAM_END);return C===p.Z_STREAM_END&&(T=p.Z_FINISH),T===p.Z_FINISH?(C=o.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===p.Z_OK):T!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(U.avail_out=0))},m.prototype.onData=function(b){this.chunks.push(b)},m.prototype.onEnd=function(b){b===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},s.Inflate=m,s.inflate=x,s.inflateRaw=function(b,k){return(k=k||{}).raw=!0,x(b,k)},s.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,a,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(p){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var v in h)h.hasOwnProperty(v)&&(p[v]=h[v])}}return p},s.shrinkBuf=function(p,d){return p.length===d?p:p.subarray?p.subarray(0,d):(p.length=d,p)};var c={arraySet:function(p,d,h,v,y){if(d.subarray&&p.subarray)p.set(d.subarray(h,h+v),y);else for(var m=0;m<v;m++)p[y+m]=d[h+m]},flattenChunks:function(p){var d,h,v,y,m,x;for(d=v=0,h=p.length;d<h;d++)v+=p[d].length;for(x=new Uint8Array(v),d=y=0,h=p.length;d<h;d++)m=p[d],x.set(m,y),y+=m.length;return x}},u={arraySet:function(p,d,h,v,y){for(var m=0;m<v;m++)p[y+m]=d[h+m]},flattenChunks:function(p){return[].concat.apply([],p)}};s.setTyped=function(p){p?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,c)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,u))},s.setTyped(o)},{}],42:[function(r,a,s){var o=r("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var p=new o.Buf8(256),d=0;d<256;d++)p[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function h(v,y){if(y<65537&&(v.subarray&&u||!v.subarray&&c))return String.fromCharCode.apply(null,o.shrinkBuf(v,y));for(var m="",x=0;x<y;x++)m+=String.fromCharCode(v[x]);return m}p[254]=p[254]=1,s.string2buf=function(v){var y,m,x,b,k,C=v.length,T=0;for(b=0;b<C;b++)(64512&(m=v.charCodeAt(b)))==55296&&b+1<C&&(64512&(x=v.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),b++),T+=m<128?1:m<2048?2:m<65536?3:4;for(y=new o.Buf8(T),b=k=0;k<T;b++)(64512&(m=v.charCodeAt(b)))==55296&&b+1<C&&(64512&(x=v.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),b++),m<128?y[k++]=m:(m<2048?y[k++]=192|m>>>6:(m<65536?y[k++]=224|m>>>12:(y[k++]=240|m>>>18,y[k++]=128|m>>>12&63),y[k++]=128|m>>>6&63),y[k++]=128|63&m);return y},s.buf2binstring=function(v){return h(v,v.length)},s.binstring2buf=function(v){for(var y=new o.Buf8(v.length),m=0,x=y.length;m<x;m++)y[m]=v.charCodeAt(m);return y},s.buf2string=function(v,y){var m,x,b,k,C=y||v.length,T=new Array(2*C);for(m=x=0;m<C;)if((b=v[m++])<128)T[x++]=b;else if(4<(k=p[b]))T[x++]=65533,m+=k-1;else{for(b&=k===2?31:k===3?15:7;1<k&&m<C;)b=b<<6|63&v[m++],k--;1<k?T[x++]=65533:b<65536?T[x++]=b:(b-=65536,T[x++]=55296|b>>10&1023,T[x++]=56320|1023&b)}return h(T,x)},s.utf8border=function(v,y){var m;for((y=y||v.length)>v.length&&(y=v.length),m=y-1;0<=m&&(192&v[m])==128;)m--;return m<0||m===0?y:m+p[v[m]]>y?m:y}},{"./common":41}],43:[function(r,a,s){a.exports=function(o,c,u,p){for(var d=65535&o|0,h=o>>>16&65535|0,v=0;u!==0;){for(u-=v=2e3<u?2e3:u;h=h+(d=d+c[p++]|0)|0,--v;);d%=65521,h%=65521}return d|h<<16|0}},{}],44:[function(r,a,s){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,a,s){var o=function(){for(var c,u=[],p=0;p<256;p++){c=p;for(var d=0;d<8;d++)c=1&c?3988292384^c>>>1:c>>>1;u[p]=c}return u}();a.exports=function(c,u,p,d){var h=o,v=d+p;c^=-1;for(var y=d;y<v;y++)c=c>>>8^h[255&(c^u[y])];return-1^c}},{}],46:[function(r,a,s){var o,c=r("../utils/common"),u=r("./trees"),p=r("./adler32"),d=r("./crc32"),h=r("./messages"),v=0,y=4,m=0,x=-2,b=-1,k=4,C=2,T=8,I=9,$=286,M=30,B=19,U=2*$+1,X=15,Y=3,q=258,se=q+Y+1,R=42,G=113,_=1,L=2,Ce=3,le=4;function de(E,pe){return E.msg=h[pe],pe}function N(E){return(E<<1)-(4<E?9:0)}function ce(E){for(var pe=E.length;0<=--pe;)E[pe]=0}function ne(E){var pe=E.state,W=pe.pending;W>E.avail_out&&(W=E.avail_out),W!==0&&(c.arraySet(E.output,pe.pending_buf,pe.pending_out,W,E.next_out),E.next_out+=W,pe.pending_out+=W,E.total_out+=W,E.avail_out-=W,pe.pending-=W,pe.pending===0&&(pe.pending_out=0))}function O(E,pe){u._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,pe),E.block_start=E.strstart,ne(E.strm)}function Re(E,pe){E.pending_buf[E.pending++]=pe}function Ee(E,pe){E.pending_buf[E.pending++]=pe>>>8&255,E.pending_buf[E.pending++]=255&pe}function ue(E,pe){var W,D,S=E.max_chain_length,ee=E.strstart,be=E.prev_length,_e=E.nice_match,ie=E.strstart>E.w_size-se?E.strstart-(E.w_size-se):0,oe=E.window,he=E.w_mask,Z=E.prev,V=E.strstart+q,ye=oe[ee+be-1],Ie=oe[ee+be];E.prev_length>=E.good_match&&(S>>=2),_e>E.lookahead&&(_e=E.lookahead);do if(oe[(W=pe)+be]===Ie&&oe[W+be-1]===ye&&oe[W]===oe[ee]&&oe[++W]===oe[ee+1]){ee+=2,W++;do;while(oe[++ee]===oe[++W]&&oe[++ee]===oe[++W]&&oe[++ee]===oe[++W]&&oe[++ee]===oe[++W]&&oe[++ee]===oe[++W]&&oe[++ee]===oe[++W]&&oe[++ee]===oe[++W]&&oe[++ee]===oe[++W]&&ee<V);if(D=q-(V-ee),ee=V-q,be<D){if(E.match_start=pe,_e<=(be=D))break;ye=oe[ee+be-1],Ie=oe[ee+be]}}while((pe=Z[pe&he])>ie&&--S!=0);return be<=E.lookahead?be:E.lookahead}function at(E){var pe,W,D,S,ee,be,_e,ie,oe,he,Z=E.w_size;do{if(S=E.window_size-E.lookahead-E.strstart,E.strstart>=Z+(Z-se)){for(c.arraySet(E.window,E.window,Z,Z,0),E.match_start-=Z,E.strstart-=Z,E.block_start-=Z,pe=W=E.hash_size;D=E.head[--pe],E.head[pe]=Z<=D?D-Z:0,--W;);for(pe=W=Z;D=E.prev[--pe],E.prev[pe]=Z<=D?D-Z:0,--W;);S+=Z}if(E.strm.avail_in===0)break;if(be=E.strm,_e=E.window,ie=E.strstart+E.lookahead,oe=S,he=void 0,he=be.avail_in,oe<he&&(he=oe),W=he===0?0:(be.avail_in-=he,c.arraySet(_e,be.input,be.next_in,he,ie),be.state.wrap===1?be.adler=p(be.adler,_e,he,ie):be.state.wrap===2&&(be.adler=d(be.adler,_e,he,ie)),be.next_in+=he,be.total_in+=he,he),E.lookahead+=W,E.lookahead+E.insert>=Y)for(ee=E.strstart-E.insert,E.ins_h=E.window[ee],E.ins_h=(E.ins_h<<E.hash_shift^E.window[ee+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[ee+Y-1])&E.hash_mask,E.prev[ee&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=ee,ee++,E.insert--,!(E.lookahead+E.insert<Y)););}while(E.lookahead<se&&E.strm.avail_in!==0)}function Ve(E,pe){for(var W,D;;){if(E.lookahead<se){if(at(E),E.lookahead<se&&pe===v)return _;if(E.lookahead===0)break}if(W=0,E.lookahead>=Y&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+Y-1])&E.hash_mask,W=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),W!==0&&E.strstart-W<=E.w_size-se&&(E.match_length=ue(E,W)),E.match_length>=Y)if(D=u._tr_tally(E,E.strstart-E.match_start,E.match_length-Y),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=Y){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+Y-1])&E.hash_mask,W=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else D=u._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(D&&(O(E,!1),E.strm.avail_out===0))return _}return E.insert=E.strstart<Y-1?E.strstart:Y-1,pe===y?(O(E,!0),E.strm.avail_out===0?Ce:le):E.last_lit&&(O(E,!1),E.strm.avail_out===0)?_:L}function ve(E,pe){for(var W,D,S;;){if(E.lookahead<se){if(at(E),E.lookahead<se&&pe===v)return _;if(E.lookahead===0)break}if(W=0,E.lookahead>=Y&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+Y-1])&E.hash_mask,W=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=Y-1,W!==0&&E.prev_length<E.max_lazy_match&&E.strstart-W<=E.w_size-se&&(E.match_length=ue(E,W),E.match_length<=5&&(E.strategy===1||E.match_length===Y&&4096<E.strstart-E.match_start)&&(E.match_length=Y-1)),E.prev_length>=Y&&E.match_length<=E.prev_length){for(S=E.strstart+E.lookahead-Y,D=u._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-Y),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=S&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+Y-1])&E.hash_mask,W=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=Y-1,E.strstart++,D&&(O(E,!1),E.strm.avail_out===0))return _}else if(E.match_available){if((D=u._tr_tally(E,0,E.window[E.strstart-1]))&&O(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return _}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(D=u._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<Y-1?E.strstart:Y-1,pe===y?(O(E,!0),E.strm.avail_out===0?Ce:le):E.last_lit&&(O(E,!1),E.strm.avail_out===0)?_:L}function Me(E,pe,W,D,S){this.good_length=E,this.max_lazy=pe,this.nice_length=W,this.max_chain=D,this.func=S}function xe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*U),this.dyn_dtree=new c.Buf16(2*(2*M+1)),this.bl_tree=new c.Buf16(2*(2*B+1)),ce(this.dyn_ltree),ce(this.dyn_dtree),ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(X+1),this.heap=new c.Buf16(2*$+1),ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*$+1),ce(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Oe(E){var pe;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=C,(pe=E.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?R:G,E.adler=pe.wrap===2?0:1,pe.last_flush=v,u._tr_init(pe),m):de(E,x)}function Ye(E){var pe=Oe(E);return pe===m&&function(W){W.window_size=2*W.w_size,ce(W.head),W.max_lazy_match=o[W.level].max_lazy,W.good_match=o[W.level].good_length,W.nice_match=o[W.level].nice_length,W.max_chain_length=o[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=Y-1,W.match_available=0,W.ins_h=0}(E.state),pe}function Xe(E,pe,W,D,S,ee){if(!E)return x;var be=1;if(pe===b&&(pe=6),D<0?(be=0,D=-D):15<D&&(be=2,D-=16),S<1||I<S||W!==T||D<8||15<D||pe<0||9<pe||ee<0||k<ee)return de(E,x);D===8&&(D=9);var _e=new xe;return(E.state=_e).strm=E,_e.wrap=be,_e.gzhead=null,_e.w_bits=D,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=S+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+Y-1)/Y),_e.window=new c.Buf8(2*_e.w_size),_e.head=new c.Buf16(_e.hash_size),_e.prev=new c.Buf16(_e.w_size),_e.lit_bufsize=1<<S+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new c.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=pe,_e.strategy=ee,_e.method=W,Ye(E)}o=[new Me(0,0,0,0,function(E,pe){var W=65535;for(W>E.pending_buf_size-5&&(W=E.pending_buf_size-5);;){if(E.lookahead<=1){if(at(E),E.lookahead===0&&pe===v)return _;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var D=E.block_start+W;if((E.strstart===0||E.strstart>=D)&&(E.lookahead=E.strstart-D,E.strstart=D,O(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-se&&(O(E,!1),E.strm.avail_out===0))return _}return E.insert=0,pe===y?(O(E,!0),E.strm.avail_out===0?Ce:le):(E.strstart>E.block_start&&(O(E,!1),E.strm.avail_out),_)}),new Me(4,4,8,4,Ve),new Me(4,5,16,8,Ve),new Me(4,6,32,32,Ve),new Me(4,4,16,16,ve),new Me(8,16,32,32,ve),new Me(8,16,128,128,ve),new Me(8,32,128,256,ve),new Me(32,128,258,1024,ve),new Me(32,258,258,4096,ve)],s.deflateInit=function(E,pe){return Xe(E,pe,T,15,8,0)},s.deflateInit2=Xe,s.deflateReset=Ye,s.deflateResetKeep=Oe,s.deflateSetHeader=function(E,pe){return E&&E.state?E.state.wrap!==2?x:(E.state.gzhead=pe,m):x},s.deflate=function(E,pe){var W,D,S,ee;if(!E||!E.state||5<pe||pe<0)return E?de(E,x):x;if(D=E.state,!E.output||!E.input&&E.avail_in!==0||D.status===666&&pe!==y)return de(E,E.avail_out===0?-5:x);if(D.strm=E,W=D.last_flush,D.last_flush=pe,D.status===R)if(D.wrap===2)E.adler=0,Re(D,31),Re(D,139),Re(D,8),D.gzhead?(Re(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),Re(D,255&D.gzhead.time),Re(D,D.gzhead.time>>8&255),Re(D,D.gzhead.time>>16&255),Re(D,D.gzhead.time>>24&255),Re(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),Re(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(Re(D,255&D.gzhead.extra.length),Re(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(E.adler=d(E.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(Re(D,0),Re(D,0),Re(D,0),Re(D,0),Re(D,0),Re(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),Re(D,3),D.status=G);else{var be=T+(D.w_bits-8<<4)<<8;be|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(be|=32),be+=31-be%31,D.status=G,Ee(D,be),D.strstart!==0&&(Ee(D,E.adler>>>16),Ee(D,65535&E.adler)),E.adler=1}if(D.status===69)if(D.gzhead.extra){for(S=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>S&&(E.adler=d(E.adler,D.pending_buf,D.pending-S,S)),ne(E),S=D.pending,D.pending!==D.pending_buf_size));)Re(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>S&&(E.adler=d(E.adler,D.pending_buf,D.pending-S,S)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){S=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>S&&(E.adler=d(E.adler,D.pending_buf,D.pending-S,S)),ne(E),S=D.pending,D.pending===D.pending_buf_size)){ee=1;break}ee=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,Re(D,ee)}while(ee!==0);D.gzhead.hcrc&&D.pending>S&&(E.adler=d(E.adler,D.pending_buf,D.pending-S,S)),ee===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){S=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>S&&(E.adler=d(E.adler,D.pending_buf,D.pending-S,S)),ne(E),S=D.pending,D.pending===D.pending_buf_size)){ee=1;break}ee=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,Re(D,ee)}while(ee!==0);D.gzhead.hcrc&&D.pending>S&&(E.adler=d(E.adler,D.pending_buf,D.pending-S,S)),ee===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&ne(E),D.pending+2<=D.pending_buf_size&&(Re(D,255&E.adler),Re(D,E.adler>>8&255),E.adler=0,D.status=G)):D.status=G),D.pending!==0){if(ne(E),E.avail_out===0)return D.last_flush=-1,m}else if(E.avail_in===0&&N(pe)<=N(W)&&pe!==y)return de(E,-5);if(D.status===666&&E.avail_in!==0)return de(E,-5);if(E.avail_in!==0||D.lookahead!==0||pe!==v&&D.status!==666){var _e=D.strategy===2?function(ie,oe){for(var he;;){if(ie.lookahead===0&&(at(ie),ie.lookahead===0)){if(oe===v)return _;break}if(ie.match_length=0,he=u._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,he&&(O(ie,!1),ie.strm.avail_out===0))return _}return ie.insert=0,oe===y?(O(ie,!0),ie.strm.avail_out===0?Ce:le):ie.last_lit&&(O(ie,!1),ie.strm.avail_out===0)?_:L}(D,pe):D.strategy===3?function(ie,oe){for(var he,Z,V,ye,Ie=ie.window;;){if(ie.lookahead<=q){if(at(ie),ie.lookahead<=q&&oe===v)return _;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=Y&&0<ie.strstart&&(Z=Ie[V=ie.strstart-1])===Ie[++V]&&Z===Ie[++V]&&Z===Ie[++V]){ye=ie.strstart+q;do;while(Z===Ie[++V]&&Z===Ie[++V]&&Z===Ie[++V]&&Z===Ie[++V]&&Z===Ie[++V]&&Z===Ie[++V]&&Z===Ie[++V]&&Z===Ie[++V]&&V<ye);ie.match_length=q-(ye-V),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=Y?(he=u._tr_tally(ie,1,ie.match_length-Y),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(he=u._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),he&&(O(ie,!1),ie.strm.avail_out===0))return _}return ie.insert=0,oe===y?(O(ie,!0),ie.strm.avail_out===0?Ce:le):ie.last_lit&&(O(ie,!1),ie.strm.avail_out===0)?_:L}(D,pe):o[D.level].func(D,pe);if(_e!==Ce&&_e!==le||(D.status=666),_e===_||_e===Ce)return E.avail_out===0&&(D.last_flush=-1),m;if(_e===L&&(pe===1?u._tr_align(D):pe!==5&&(u._tr_stored_block(D,0,0,!1),pe===3&&(ce(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),ne(E),E.avail_out===0))return D.last_flush=-1,m}return pe!==y?m:D.wrap<=0?1:(D.wrap===2?(Re(D,255&E.adler),Re(D,E.adler>>8&255),Re(D,E.adler>>16&255),Re(D,E.adler>>24&255),Re(D,255&E.total_in),Re(D,E.total_in>>8&255),Re(D,E.total_in>>16&255),Re(D,E.total_in>>24&255)):(Ee(D,E.adler>>>16),Ee(D,65535&E.adler)),ne(E),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?m:1)},s.deflateEnd=function(E){var pe;return E&&E.state?(pe=E.state.status)!==R&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==G&&pe!==666?de(E,x):(E.state=null,pe===G?de(E,-3):m):x},s.deflateSetDictionary=function(E,pe){var W,D,S,ee,be,_e,ie,oe,he=pe.length;if(!E||!E.state||(ee=(W=E.state).wrap)===2||ee===1&&W.status!==R||W.lookahead)return x;for(ee===1&&(E.adler=p(E.adler,pe,he,0)),W.wrap=0,he>=W.w_size&&(ee===0&&(ce(W.head),W.strstart=0,W.block_start=0,W.insert=0),oe=new c.Buf8(W.w_size),c.arraySet(oe,pe,he-W.w_size,W.w_size,0),pe=oe,he=W.w_size),be=E.avail_in,_e=E.next_in,ie=E.input,E.avail_in=he,E.next_in=0,E.input=pe,at(W);W.lookahead>=Y;){for(D=W.strstart,S=W.lookahead-(Y-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[D+Y-1])&W.hash_mask,W.prev[D&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=D,D++,--S;);W.strstart=D,W.lookahead=Y-1,at(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=Y-1,W.match_available=0,E.next_in=_e,E.input=ie,E.avail_in=be,W.wrap=ee,m},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,a,s){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,a,s){a.exports=function(o,c){var u,p,d,h,v,y,m,x,b,k,C,T,I,$,M,B,U,X,Y,q,se,R,G,_,L;u=o.state,p=o.next_in,_=o.input,d=p+(o.avail_in-5),h=o.next_out,L=o.output,v=h-(c-o.avail_out),y=h+(o.avail_out-257),m=u.dmax,x=u.wsize,b=u.whave,k=u.wnext,C=u.window,T=u.hold,I=u.bits,$=u.lencode,M=u.distcode,B=(1<<u.lenbits)-1,U=(1<<u.distbits)-1;e:do{I<15&&(T+=_[p++]<<I,I+=8,T+=_[p++]<<I,I+=8),X=$[T&B];t:for(;;){if(T>>>=Y=X>>>24,I-=Y,(Y=X>>>16&255)===0)L[h++]=65535&X;else{if(!(16&Y)){if(!(64&Y)){X=$[(65535&X)+(T&(1<<Y)-1)];continue t}if(32&Y){u.mode=12;break e}o.msg="invalid literal/length code",u.mode=30;break e}q=65535&X,(Y&=15)&&(I<Y&&(T+=_[p++]<<I,I+=8),q+=T&(1<<Y)-1,T>>>=Y,I-=Y),I<15&&(T+=_[p++]<<I,I+=8,T+=_[p++]<<I,I+=8),X=M[T&U];n:for(;;){if(T>>>=Y=X>>>24,I-=Y,!(16&(Y=X>>>16&255))){if(!(64&Y)){X=M[(65535&X)+(T&(1<<Y)-1)];continue n}o.msg="invalid distance code",u.mode=30;break e}if(se=65535&X,I<(Y&=15)&&(T+=_[p++]<<I,(I+=8)<Y&&(T+=_[p++]<<I,I+=8)),m<(se+=T&(1<<Y)-1)){o.msg="invalid distance too far back",u.mode=30;break e}if(T>>>=Y,I-=Y,(Y=h-v)<se){if(b<(Y=se-Y)&&u.sane){o.msg="invalid distance too far back",u.mode=30;break e}if(G=C,(R=0)===k){if(R+=x-Y,Y<q){for(q-=Y;L[h++]=C[R++],--Y;);R=h-se,G=L}}else if(k<Y){if(R+=x+k-Y,(Y-=k)<q){for(q-=Y;L[h++]=C[R++],--Y;);if(R=0,k<q){for(q-=Y=k;L[h++]=C[R++],--Y;);R=h-se,G=L}}}else if(R+=k-Y,Y<q){for(q-=Y;L[h++]=C[R++],--Y;);R=h-se,G=L}for(;2<q;)L[h++]=G[R++],L[h++]=G[R++],L[h++]=G[R++],q-=3;q&&(L[h++]=G[R++],1<q&&(L[h++]=G[R++]))}else{for(R=h-se;L[h++]=L[R++],L[h++]=L[R++],L[h++]=L[R++],2<(q-=3););q&&(L[h++]=L[R++],1<q&&(L[h++]=L[R++]))}break}}break}}while(p<d&&h<y);p-=q=I>>3,T&=(1<<(I-=q<<3))-1,o.next_in=p,o.next_out=h,o.avail_in=p<d?d-p+5:5-(p-d),o.avail_out=h<y?y-h+257:257-(h-y),u.hold=T,u.bits=I}},{}],49:[function(r,a,s){var o=r("../utils/common"),c=r("./adler32"),u=r("./crc32"),p=r("./inffast"),d=r("./inftrees"),h=1,v=2,y=0,m=-2,x=1,b=852,k=592;function C(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(R){var G;return R&&R.state?(G=R.state,R.total_in=R.total_out=G.total=0,R.msg="",G.wrap&&(R.adler=1&G.wrap),G.mode=x,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new o.Buf32(b),G.distcode=G.distdyn=new o.Buf32(k),G.sane=1,G.back=-1,y):m}function $(R){var G;return R&&R.state?((G=R.state).wsize=0,G.whave=0,G.wnext=0,I(R)):m}function M(R,G){var _,L;return R&&R.state?(L=R.state,G<0?(_=0,G=-G):(_=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?m:(L.window!==null&&L.wbits!==G&&(L.window=null),L.wrap=_,L.wbits=G,$(R))):m}function B(R,G){var _,L;return R?(L=new T,(R.state=L).window=null,(_=M(R,G))!==y&&(R.state=null),_):m}var U,X,Y=!0;function q(R){if(Y){var G;for(U=new o.Buf32(512),X=new o.Buf32(32),G=0;G<144;)R.lens[G++]=8;for(;G<256;)R.lens[G++]=9;for(;G<280;)R.lens[G++]=7;for(;G<288;)R.lens[G++]=8;for(d(h,R.lens,0,288,U,0,R.work,{bits:9}),G=0;G<32;)R.lens[G++]=5;d(v,R.lens,0,32,X,0,R.work,{bits:5}),Y=!1}R.lencode=U,R.lenbits=9,R.distcode=X,R.distbits=5}function se(R,G,_,L){var Ce,le=R.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new o.Buf8(le.wsize)),L>=le.wsize?(o.arraySet(le.window,G,_-le.wsize,le.wsize,0),le.wnext=0,le.whave=le.wsize):(L<(Ce=le.wsize-le.wnext)&&(Ce=L),o.arraySet(le.window,G,_-L,Ce,le.wnext),(L-=Ce)?(o.arraySet(le.window,G,_-L,L,0),le.wnext=L,le.whave=le.wsize):(le.wnext+=Ce,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=Ce))),0}s.inflateReset=$,s.inflateReset2=M,s.inflateResetKeep=I,s.inflateInit=function(R){return B(R,15)},s.inflateInit2=B,s.inflate=function(R,G){var _,L,Ce,le,de,N,ce,ne,O,Re,Ee,ue,at,Ve,ve,Me,xe,Oe,Ye,Xe,E,pe,W,D,S=0,ee=new o.Buf8(4),be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return m;(_=R.state).mode===12&&(_.mode=13),de=R.next_out,Ce=R.output,ce=R.avail_out,le=R.next_in,L=R.input,N=R.avail_in,ne=_.hold,O=_.bits,Re=N,Ee=ce,pe=y;e:for(;;)switch(_.mode){case x:if(_.wrap===0){_.mode=13;break}for(;O<16;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}if(2&_.wrap&&ne===35615){ee[_.check=0]=255&ne,ee[1]=ne>>>8&255,_.check=u(_.check,ee,2,0),O=ne=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&ne)<<8)+(ne>>8))%31){R.msg="incorrect header check",_.mode=30;break}if((15&ne)!=8){R.msg="unknown compression method",_.mode=30;break}if(O-=4,E=8+(15&(ne>>>=4)),_.wbits===0)_.wbits=E;else if(E>_.wbits){R.msg="invalid window size",_.mode=30;break}_.dmax=1<<E,R.adler=_.check=1,_.mode=512&ne?10:12,O=ne=0;break;case 2:for(;O<16;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}if(_.flags=ne,(255&_.flags)!=8){R.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){R.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=ne>>8&1),512&_.flags&&(ee[0]=255&ne,ee[1]=ne>>>8&255,_.check=u(_.check,ee,2,0)),O=ne=0,_.mode=3;case 3:for(;O<32;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}_.head&&(_.head.time=ne),512&_.flags&&(ee[0]=255&ne,ee[1]=ne>>>8&255,ee[2]=ne>>>16&255,ee[3]=ne>>>24&255,_.check=u(_.check,ee,4,0)),O=ne=0,_.mode=4;case 4:for(;O<16;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}_.head&&(_.head.xflags=255&ne,_.head.os=ne>>8),512&_.flags&&(ee[0]=255&ne,ee[1]=ne>>>8&255,_.check=u(_.check,ee,2,0)),O=ne=0,_.mode=5;case 5:if(1024&_.flags){for(;O<16;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}_.length=ne,_.head&&(_.head.extra_len=ne),512&_.flags&&(ee[0]=255&ne,ee[1]=ne>>>8&255,_.check=u(_.check,ee,2,0)),O=ne=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(N<(ue=_.length)&&(ue=N),ue&&(_.head&&(E=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),o.arraySet(_.head.extra,L,le,ue,E)),512&_.flags&&(_.check=u(_.check,L,ue,le)),N-=ue,le+=ue,_.length-=ue),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(N===0)break e;for(ue=0;E=L[le+ue++],_.head&&E&&_.length<65536&&(_.head.name+=String.fromCharCode(E)),E&&ue<N;);if(512&_.flags&&(_.check=u(_.check,L,ue,le)),N-=ue,le+=ue,E)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(N===0)break e;for(ue=0;E=L[le+ue++],_.head&&E&&_.length<65536&&(_.head.comment+=String.fromCharCode(E)),E&&ue<N;);if(512&_.flags&&(_.check=u(_.check,L,ue,le)),N-=ue,le+=ue,E)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;O<16;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}if(ne!==(65535&_.check)){R.msg="header crc mismatch",_.mode=30;break}O=ne=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),R.adler=_.check=0,_.mode=12;break;case 10:for(;O<32;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}R.adler=_.check=C(ne),O=ne=0,_.mode=11;case 11:if(_.havedict===0)return R.next_out=de,R.avail_out=ce,R.next_in=le,R.avail_in=N,_.hold=ne,_.bits=O,2;R.adler=_.check=1,_.mode=12;case 12:if(G===5||G===6)break e;case 13:if(_.last){ne>>>=7&O,O-=7&O,_.mode=27;break}for(;O<3;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}switch(_.last=1&ne,O-=1,3&(ne>>>=1)){case 0:_.mode=14;break;case 1:if(q(_),_.mode=20,G!==6)break;ne>>>=2,O-=2;break e;case 2:_.mode=17;break;case 3:R.msg="invalid block type",_.mode=30}ne>>>=2,O-=2;break;case 14:for(ne>>>=7&O,O-=7&O;O<32;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}if((65535&ne)!=(ne>>>16^65535)){R.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&ne,O=ne=0,_.mode=15,G===6)break e;case 15:_.mode=16;case 16:if(ue=_.length){if(N<ue&&(ue=N),ce<ue&&(ue=ce),ue===0)break e;o.arraySet(Ce,L,le,ue,de),N-=ue,le+=ue,ce-=ue,de+=ue,_.length-=ue;break}_.mode=12;break;case 17:for(;O<14;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}if(_.nlen=257+(31&ne),ne>>>=5,O-=5,_.ndist=1+(31&ne),ne>>>=5,O-=5,_.ncode=4+(15&ne),ne>>>=4,O-=4,286<_.nlen||30<_.ndist){R.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;O<3;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}_.lens[be[_.have++]]=7&ne,ne>>>=3,O-=3}for(;_.have<19;)_.lens[be[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,W={bits:_.lenbits},pe=d(0,_.lens,0,19,_.lencode,0,_.work,W),_.lenbits=W.bits,pe){R.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;Me=(S=_.lencode[ne&(1<<_.lenbits)-1])>>>16&255,xe=65535&S,!((ve=S>>>24)<=O);){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}if(xe<16)ne>>>=ve,O-=ve,_.lens[_.have++]=xe;else{if(xe===16){for(D=ve+2;O<D;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}if(ne>>>=ve,O-=ve,_.have===0){R.msg="invalid bit length repeat",_.mode=30;break}E=_.lens[_.have-1],ue=3+(3&ne),ne>>>=2,O-=2}else if(xe===17){for(D=ve+3;O<D;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}O-=ve,E=0,ue=3+(7&(ne>>>=ve)),ne>>>=3,O-=3}else{for(D=ve+7;O<D;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}O-=ve,E=0,ue=11+(127&(ne>>>=ve)),ne>>>=7,O-=7}if(_.have+ue>_.nlen+_.ndist){R.msg="invalid bit length repeat",_.mode=30;break}for(;ue--;)_.lens[_.have++]=E}}if(_.mode===30)break;if(_.lens[256]===0){R.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,W={bits:_.lenbits},pe=d(h,_.lens,0,_.nlen,_.lencode,0,_.work,W),_.lenbits=W.bits,pe){R.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,W={bits:_.distbits},pe=d(v,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,W),_.distbits=W.bits,pe){R.msg="invalid distances set",_.mode=30;break}if(_.mode=20,G===6)break e;case 20:_.mode=21;case 21:if(6<=N&&258<=ce){R.next_out=de,R.avail_out=ce,R.next_in=le,R.avail_in=N,_.hold=ne,_.bits=O,p(R,Ee),de=R.next_out,Ce=R.output,ce=R.avail_out,le=R.next_in,L=R.input,N=R.avail_in,ne=_.hold,O=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;Me=(S=_.lencode[ne&(1<<_.lenbits)-1])>>>16&255,xe=65535&S,!((ve=S>>>24)<=O);){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}if(Me&&!(240&Me)){for(Oe=ve,Ye=Me,Xe=xe;Me=(S=_.lencode[Xe+((ne&(1<<Oe+Ye)-1)>>Oe)])>>>16&255,xe=65535&S,!(Oe+(ve=S>>>24)<=O);){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}ne>>>=Oe,O-=Oe,_.back+=Oe}if(ne>>>=ve,O-=ve,_.back+=ve,_.length=xe,Me===0){_.mode=26;break}if(32&Me){_.back=-1,_.mode=12;break}if(64&Me){R.msg="invalid literal/length code",_.mode=30;break}_.extra=15&Me,_.mode=22;case 22:if(_.extra){for(D=_.extra;O<D;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}_.length+=ne&(1<<_.extra)-1,ne>>>=_.extra,O-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;Me=(S=_.distcode[ne&(1<<_.distbits)-1])>>>16&255,xe=65535&S,!((ve=S>>>24)<=O);){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}if(!(240&Me)){for(Oe=ve,Ye=Me,Xe=xe;Me=(S=_.distcode[Xe+((ne&(1<<Oe+Ye)-1)>>Oe)])>>>16&255,xe=65535&S,!(Oe+(ve=S>>>24)<=O);){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}ne>>>=Oe,O-=Oe,_.back+=Oe}if(ne>>>=ve,O-=ve,_.back+=ve,64&Me){R.msg="invalid distance code",_.mode=30;break}_.offset=xe,_.extra=15&Me,_.mode=24;case 24:if(_.extra){for(D=_.extra;O<D;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}_.offset+=ne&(1<<_.extra)-1,ne>>>=_.extra,O-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){R.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(ce===0)break e;if(ue=Ee-ce,_.offset>ue){if((ue=_.offset-ue)>_.whave&&_.sane){R.msg="invalid distance too far back",_.mode=30;break}at=ue>_.wnext?(ue-=_.wnext,_.wsize-ue):_.wnext-ue,ue>_.length&&(ue=_.length),Ve=_.window}else Ve=Ce,at=de-_.offset,ue=_.length;for(ce<ue&&(ue=ce),ce-=ue,_.length-=ue;Ce[de++]=Ve[at++],--ue;);_.length===0&&(_.mode=21);break;case 26:if(ce===0)break e;Ce[de++]=_.length,ce--,_.mode=21;break;case 27:if(_.wrap){for(;O<32;){if(N===0)break e;N--,ne|=L[le++]<<O,O+=8}if(Ee-=ce,R.total_out+=Ee,_.total+=Ee,Ee&&(R.adler=_.check=_.flags?u(_.check,Ce,Ee,de-Ee):c(_.check,Ce,Ee,de-Ee)),Ee=ce,(_.flags?ne:C(ne))!==_.check){R.msg="incorrect data check",_.mode=30;break}O=ne=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;O<32;){if(N===0)break e;N--,ne+=L[le++]<<O,O+=8}if(ne!==(4294967295&_.total)){R.msg="incorrect length check",_.mode=30;break}O=ne=0}_.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;case 32:default:return m}return R.next_out=de,R.avail_out=ce,R.next_in=le,R.avail_in=N,_.hold=ne,_.bits=O,(_.wsize||Ee!==R.avail_out&&_.mode<30&&(_.mode<27||G!==4))&&se(R,R.output,R.next_out,Ee-R.avail_out)?(_.mode=31,-4):(Re-=R.avail_in,Ee-=R.avail_out,R.total_in+=Re,R.total_out+=Ee,_.total+=Ee,_.wrap&&Ee&&(R.adler=_.check=_.flags?u(_.check,Ce,Ee,R.next_out-Ee):c(_.check,Ce,Ee,R.next_out-Ee)),R.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(Re==0&&Ee===0||G===4)&&pe===y&&(pe=-5),pe)},s.inflateEnd=function(R){if(!R||!R.state)return m;var G=R.state;return G.window&&(G.window=null),R.state=null,y},s.inflateGetHeader=function(R,G){var _;return R&&R.state&&2&(_=R.state).wrap?((_.head=G).done=!1,y):m},s.inflateSetDictionary=function(R,G){var _,L=G.length;return R&&R.state?(_=R.state).wrap!==0&&_.mode!==11?m:_.mode===11&&c(1,G,L,0)!==_.check?-3:se(R,G,L,L)?(_.mode=31,-4):(_.havedict=1,y):m},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,a,s){var o=r("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(h,v,y,m,x,b,k,C){var T,I,$,M,B,U,X,Y,q,se=C.bits,R=0,G=0,_=0,L=0,Ce=0,le=0,de=0,N=0,ce=0,ne=0,O=null,Re=0,Ee=new o.Buf16(16),ue=new o.Buf16(16),at=null,Ve=0;for(R=0;R<=15;R++)Ee[R]=0;for(G=0;G<m;G++)Ee[v[y+G]]++;for(Ce=se,L=15;1<=L&&Ee[L]===0;L--);if(L<Ce&&(Ce=L),L===0)return x[b++]=20971520,x[b++]=20971520,C.bits=1,0;for(_=1;_<L&&Ee[_]===0;_++);for(Ce<_&&(Ce=_),R=N=1;R<=15;R++)if(N<<=1,(N-=Ee[R])<0)return-1;if(0<N&&(h===0||L!==1))return-1;for(ue[1]=0,R=1;R<15;R++)ue[R+1]=ue[R]+Ee[R];for(G=0;G<m;G++)v[y+G]!==0&&(k[ue[v[y+G]]++]=G);if(U=h===0?(O=at=k,19):h===1?(O=c,Re-=257,at=u,Ve-=257,256):(O=p,at=d,-1),R=_,B=b,de=G=ne=0,$=-1,M=(ce=1<<(le=Ce))-1,h===1&&852<ce||h===2&&592<ce)return 1;for(;;){for(X=R-de,q=k[G]<U?(Y=0,k[G]):k[G]>U?(Y=at[Ve+k[G]],O[Re+k[G]]):(Y=96,0),T=1<<R-de,_=I=1<<le;x[B+(ne>>de)+(I-=T)]=X<<24|Y<<16|q|0,I!==0;);for(T=1<<R-1;ne&T;)T>>=1;if(T!==0?(ne&=T-1,ne+=T):ne=0,G++,--Ee[R]==0){if(R===L)break;R=v[y+k[G]]}if(Ce<R&&(ne&M)!==$){for(de===0&&(de=Ce),B+=_,N=1<<(le=R-de);le+de<L&&!((N-=Ee[le+de])<=0);)le++,N<<=1;if(ce+=1<<le,h===1&&852<ce||h===2&&592<ce)return 1;x[$=ne&M]=Ce<<24|le<<16|B-b|0}}return ne!==0&&(x[B+ne]=R-de<<24|64<<16|0),C.bits=Ce,0}},{"../utils/common":41}],51:[function(r,a,s){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,a,s){var o=r("../utils/common"),c=0,u=1;function p(S){for(var ee=S.length;0<=--ee;)S[ee]=0}var d=0,h=29,v=256,y=v+1+h,m=30,x=19,b=2*y+1,k=15,C=16,T=7,I=256,$=16,M=17,B=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=new Array(2*(y+2));p(se);var R=new Array(2*m);p(R);var G=new Array(512);p(G);var _=new Array(256);p(_);var L=new Array(h);p(L);var Ce,le,de,N=new Array(m);function ce(S,ee,be,_e,ie){this.static_tree=S,this.extra_bits=ee,this.extra_base=be,this.elems=_e,this.max_length=ie,this.has_stree=S&&S.length}function ne(S,ee){this.dyn_tree=S,this.max_code=0,this.stat_desc=ee}function O(S){return S<256?G[S]:G[256+(S>>>7)]}function Re(S,ee){S.pending_buf[S.pending++]=255&ee,S.pending_buf[S.pending++]=ee>>>8&255}function Ee(S,ee,be){S.bi_valid>C-be?(S.bi_buf|=ee<<S.bi_valid&65535,Re(S,S.bi_buf),S.bi_buf=ee>>C-S.bi_valid,S.bi_valid+=be-C):(S.bi_buf|=ee<<S.bi_valid&65535,S.bi_valid+=be)}function ue(S,ee,be){Ee(S,be[2*ee],be[2*ee+1])}function at(S,ee){for(var be=0;be|=1&S,S>>>=1,be<<=1,0<--ee;);return be>>>1}function Ve(S,ee,be){var _e,ie,oe=new Array(k+1),he=0;for(_e=1;_e<=k;_e++)oe[_e]=he=he+be[_e-1]<<1;for(ie=0;ie<=ee;ie++){var Z=S[2*ie+1];Z!==0&&(S[2*ie]=at(oe[Z]++,Z))}}function ve(S){var ee;for(ee=0;ee<y;ee++)S.dyn_ltree[2*ee]=0;for(ee=0;ee<m;ee++)S.dyn_dtree[2*ee]=0;for(ee=0;ee<x;ee++)S.bl_tree[2*ee]=0;S.dyn_ltree[2*I]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function Me(S){8<S.bi_valid?Re(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function xe(S,ee,be,_e){var ie=2*ee,oe=2*be;return S[ie]<S[oe]||S[ie]===S[oe]&&_e[ee]<=_e[be]}function Oe(S,ee,be){for(var _e=S.heap[be],ie=be<<1;ie<=S.heap_len&&(ie<S.heap_len&&xe(ee,S.heap[ie+1],S.heap[ie],S.depth)&&ie++,!xe(ee,_e,S.heap[ie],S.depth));)S.heap[be]=S.heap[ie],be=ie,ie<<=1;S.heap[be]=_e}function Ye(S,ee,be){var _e,ie,oe,he,Z=0;if(S.last_lit!==0)for(;_e=S.pending_buf[S.d_buf+2*Z]<<8|S.pending_buf[S.d_buf+2*Z+1],ie=S.pending_buf[S.l_buf+Z],Z++,_e===0?ue(S,ie,ee):(ue(S,(oe=_[ie])+v+1,ee),(he=U[oe])!==0&&Ee(S,ie-=L[oe],he),ue(S,oe=O(--_e),be),(he=X[oe])!==0&&Ee(S,_e-=N[oe],he)),Z<S.last_lit;);ue(S,I,ee)}function Xe(S,ee){var be,_e,ie,oe=ee.dyn_tree,he=ee.stat_desc.static_tree,Z=ee.stat_desc.has_stree,V=ee.stat_desc.elems,ye=-1;for(S.heap_len=0,S.heap_max=b,be=0;be<V;be++)oe[2*be]!==0?(S.heap[++S.heap_len]=ye=be,S.depth[be]=0):oe[2*be+1]=0;for(;S.heap_len<2;)oe[2*(ie=S.heap[++S.heap_len]=ye<2?++ye:0)]=1,S.depth[ie]=0,S.opt_len--,Z&&(S.static_len-=he[2*ie+1]);for(ee.max_code=ye,be=S.heap_len>>1;1<=be;be--)Oe(S,oe,be);for(ie=V;be=S.heap[1],S.heap[1]=S.heap[S.heap_len--],Oe(S,oe,1),_e=S.heap[1],S.heap[--S.heap_max]=be,S.heap[--S.heap_max]=_e,oe[2*ie]=oe[2*be]+oe[2*_e],S.depth[ie]=(S.depth[be]>=S.depth[_e]?S.depth[be]:S.depth[_e])+1,oe[2*be+1]=oe[2*_e+1]=ie,S.heap[1]=ie++,Oe(S,oe,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],function(Ie,Be){var ut,St,yt,nt,cn,bt,Tt=Be.dyn_tree,dt=Be.max_code,hr=Be.stat_desc.static_tree,An=Be.stat_desc.has_stree,Or=Be.stat_desc.extra_bits,Kr=Be.stat_desc.extra_base,Fr=Be.stat_desc.max_length,Jr=0;for(nt=0;nt<=k;nt++)Ie.bl_count[nt]=0;for(Tt[2*Ie.heap[Ie.heap_max]+1]=0,ut=Ie.heap_max+1;ut<b;ut++)Fr<(nt=Tt[2*Tt[2*(St=Ie.heap[ut])+1]+1]+1)&&(nt=Fr,Jr++),Tt[2*St+1]=nt,dt<St||(Ie.bl_count[nt]++,cn=0,Kr<=St&&(cn=Or[St-Kr]),bt=Tt[2*St],Ie.opt_len+=bt*(nt+cn),An&&(Ie.static_len+=bt*(hr[2*St+1]+cn)));if(Jr!==0){do{for(nt=Fr-1;Ie.bl_count[nt]===0;)nt--;Ie.bl_count[nt]--,Ie.bl_count[nt+1]+=2,Ie.bl_count[Fr]--,Jr-=2}while(0<Jr);for(nt=Fr;nt!==0;nt--)for(St=Ie.bl_count[nt];St!==0;)dt<(yt=Ie.heap[--ut])||(Tt[2*yt+1]!==nt&&(Ie.opt_len+=(nt-Tt[2*yt+1])*Tt[2*yt],Tt[2*yt+1]=nt),St--)}}(S,ee),Ve(oe,ye,S.bl_count)}function E(S,ee,be){var _e,ie,oe=-1,he=ee[1],Z=0,V=7,ye=4;for(he===0&&(V=138,ye=3),ee[2*(be+1)+1]=65535,_e=0;_e<=be;_e++)ie=he,he=ee[2*(_e+1)+1],++Z<V&&ie===he||(Z<ye?S.bl_tree[2*ie]+=Z:ie!==0?(ie!==oe&&S.bl_tree[2*ie]++,S.bl_tree[2*$]++):Z<=10?S.bl_tree[2*M]++:S.bl_tree[2*B]++,oe=ie,ye=(Z=0)===he?(V=138,3):ie===he?(V=6,3):(V=7,4))}function pe(S,ee,be){var _e,ie,oe=-1,he=ee[1],Z=0,V=7,ye=4;for(he===0&&(V=138,ye=3),_e=0;_e<=be;_e++)if(ie=he,he=ee[2*(_e+1)+1],!(++Z<V&&ie===he)){if(Z<ye)for(;ue(S,ie,S.bl_tree),--Z!=0;);else ie!==0?(ie!==oe&&(ue(S,ie,S.bl_tree),Z--),ue(S,$,S.bl_tree),Ee(S,Z-3,2)):Z<=10?(ue(S,M,S.bl_tree),Ee(S,Z-3,3)):(ue(S,B,S.bl_tree),Ee(S,Z-11,7));oe=ie,ye=(Z=0)===he?(V=138,3):ie===he?(V=6,3):(V=7,4)}}p(N);var W=!1;function D(S,ee,be,_e){Ee(S,(d<<1)+(_e?1:0),3),function(ie,oe,he,Z){Me(ie),Re(ie,he),Re(ie,~he),o.arraySet(ie.pending_buf,ie.window,oe,he,ie.pending),ie.pending+=he}(S,ee,be)}s._tr_init=function(S){W||(function(){var ee,be,_e,ie,oe,he=new Array(k+1);for(ie=_e=0;ie<h-1;ie++)for(L[ie]=_e,ee=0;ee<1<<U[ie];ee++)_[_e++]=ie;for(_[_e-1]=ie,ie=oe=0;ie<16;ie++)for(N[ie]=oe,ee=0;ee<1<<X[ie];ee++)G[oe++]=ie;for(oe>>=7;ie<m;ie++)for(N[ie]=oe<<7,ee=0;ee<1<<X[ie]-7;ee++)G[256+oe++]=ie;for(be=0;be<=k;be++)he[be]=0;for(ee=0;ee<=143;)se[2*ee+1]=8,ee++,he[8]++;for(;ee<=255;)se[2*ee+1]=9,ee++,he[9]++;for(;ee<=279;)se[2*ee+1]=7,ee++,he[7]++;for(;ee<=287;)se[2*ee+1]=8,ee++,he[8]++;for(Ve(se,y+1,he),ee=0;ee<m;ee++)R[2*ee+1]=5,R[2*ee]=at(ee,5);Ce=new ce(se,U,v+1,y,k),le=new ce(R,X,0,m,k),de=new ce(new Array(0),Y,0,x,T)}(),W=!0),S.l_desc=new ne(S.dyn_ltree,Ce),S.d_desc=new ne(S.dyn_dtree,le),S.bl_desc=new ne(S.bl_tree,de),S.bi_buf=0,S.bi_valid=0,ve(S)},s._tr_stored_block=D,s._tr_flush_block=function(S,ee,be,_e){var ie,oe,he=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=function(Z){var V,ye=4093624447;for(V=0;V<=31;V++,ye>>>=1)if(1&ye&&Z.dyn_ltree[2*V]!==0)return c;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return u;for(V=32;V<v;V++)if(Z.dyn_ltree[2*V]!==0)return u;return c}(S)),Xe(S,S.l_desc),Xe(S,S.d_desc),he=function(Z){var V;for(E(Z,Z.dyn_ltree,Z.l_desc.max_code),E(Z,Z.dyn_dtree,Z.d_desc.max_code),Xe(Z,Z.bl_desc),V=x-1;3<=V&&Z.bl_tree[2*q[V]+1]===0;V--);return Z.opt_len+=3*(V+1)+5+5+4,V}(S),ie=S.opt_len+3+7>>>3,(oe=S.static_len+3+7>>>3)<=ie&&(ie=oe)):ie=oe=be+5,be+4<=ie&&ee!==-1?D(S,ee,be,_e):S.strategy===4||oe===ie?(Ee(S,2+(_e?1:0),3),Ye(S,se,R)):(Ee(S,4+(_e?1:0),3),function(Z,V,ye,Ie){var Be;for(Ee(Z,V-257,5),Ee(Z,ye-1,5),Ee(Z,Ie-4,4),Be=0;Be<Ie;Be++)Ee(Z,Z.bl_tree[2*q[Be]+1],3);pe(Z,Z.dyn_ltree,V-1),pe(Z,Z.dyn_dtree,ye-1)}(S,S.l_desc.max_code+1,S.d_desc.max_code+1,he+1),Ye(S,S.dyn_ltree,S.dyn_dtree)),ve(S),_e&&Me(S)},s._tr_tally=function(S,ee,be){return S.pending_buf[S.d_buf+2*S.last_lit]=ee>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&ee,S.pending_buf[S.l_buf+S.last_lit]=255&be,S.last_lit++,ee===0?S.dyn_ltree[2*be]++:(S.matches++,ee--,S.dyn_ltree[2*(_[be]+v+1)]++,S.dyn_dtree[2*O(ee)]++),S.last_lit===S.lit_bufsize-1},s._tr_align=function(S){Ee(S,2,3),ue(S,I,se),function(ee){ee.bi_valid===16?(Re(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(S)}},{"../utils/common":41}],53:[function(r,a,s){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,a,s){(function(o){(function(c,u){if(!c.setImmediate){var p,d,h,v,y=1,m={},x=!1,b=c.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(c);k=k&&k.setTimeout?k:c,p={}.toString.call(c.process)==="[object process]"?function($){n.nextTick(function(){T($)})}:function(){if(c.postMessage&&!c.importScripts){var $=!0,M=c.onmessage;return c.onmessage=function(){$=!1},c.postMessage("","*"),c.onmessage=M,$}}()?(v="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",I,!1):c.attachEvent("onmessage",I),function($){c.postMessage(v+$,"*")}):c.MessageChannel?((h=new MessageChannel).port1.onmessage=function($){T($.data)},function($){h.port2.postMessage($)}):b&&"onreadystatechange"in b.createElement("script")?(d=b.documentElement,function($){var M=b.createElement("script");M.onreadystatechange=function(){T($),M.onreadystatechange=null,d.removeChild(M),M=null},d.appendChild(M)}):function($){setTimeout(T,0,$)},k.setImmediate=function($){typeof $!="function"&&($=new Function(""+$));for(var M=new Array(arguments.length-1),B=0;B<M.length;B++)M[B]=arguments[B+1];var U={callback:$,args:M};return m[y]=U,p(y),y++},k.clearImmediate=C}function C($){delete m[$]}function T($){if(x)setTimeout(T,0,$);else{var M=m[$];if(M){x=!0;try{(function(B){var U=B.callback,X=B.args;switch(X.length){case 0:U();break;case 1:U(X[0]);break;case 2:U(X[0],X[1]);break;case 3:U(X[0],X[1],X[2]);break;default:U.apply(u,X)}})(M)}finally{C($),x=!1}}}}function I($){$.source===c&&typeof $.data=="string"&&$.data.indexOf(v)===0&&T(+$.data.slice(v.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Wn<"u"?Wn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(fx);var dB=fx.exports;const pB=hi(dB),fB=new Proxy({},{get(e,t){throw new Error(`Module "util" has been externalized for browser compatibility. Cannot access "util.${t}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),hB=Object.freeze(Object.defineProperty({__proto__:null,default:fB},Symbol.toStringTag,{value:"Module"})),hx=bv(hB);var kl={};(function(e){e.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1,e.find=(t,n)=>t.nodes.find(r=>r.type===n),e.exceedsLimit=(t,n,r=1,a)=>a===!1||!e.isInteger(t)||!e.isInteger(n)?!1:(Number(n)-Number(t))/Number(r)>=a,e.escapeNode=(t,n=0,r)=>{const a=t.nodes[n];a&&(r&&a.type===r||a.type==="open"||a.type==="close")&&a.escaped!==!0&&(a.value="\\"+a.value,a.escaped=!0)},e.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0),e.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1,e.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0,e.reduce=t=>t.reduce((n,r)=>(r.type==="text"&&n.push(r.value),r.type==="range"&&(r.type="text"),n),[]),e.flatten=(...t)=>{const n=[],r=a=>{for(let s=0;s<a.length;s++){const o=a[s];if(Array.isArray(o)){r(o);continue}o!==void 0&&n.push(o)}return n};return r(t),n}})(kl);const kg=kl;var ep=(e,t={})=>{const n=(r,a={})=>{const s=t.escapeInvalid&&kg.isInvalidBrace(a),o=r.invalid===!0&&t.escapeInvalid===!0;let c="";if(r.value)return(s||o)&&kg.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(const u of r.nodes)c+=n(u);return c};return n(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var mB=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const Cg=mB,Ni=(e,t,n)=>{if(Cg(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Cg(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...n};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let a=String(r.relaxZeros),s=String(r.shorthand),o=String(r.capture),c=String(r.wrap),u=e+":"+t+"="+a+s+o+c;if(Ni.cache.hasOwnProperty(u))return Ni.cache[u].result;let p=Math.min(e,t),d=Math.max(e,t);if(Math.abs(p-d)===1){let x=e+"|"+t;return r.capture?`(${x})`:r.wrap===!1?x:`(?:${x})`}let h=Ig(e)||Ig(t),v={min:e,max:t,a:p,b:d},y=[],m=[];if(h&&(v.isPadded=h,v.maxLen=String(v.max).length),p<0){let x=d<0?Math.abs(d):1;m=Sg(x,Math.abs(p),v,r),p=v.a=0}return d>=0&&(y=Sg(p,d,v,r)),v.negatives=m,v.positives=y,v.result=gB(m,y),r.capture===!0?v.result=`(${v.result})`:r.wrap!==!1&&y.length+m.length>1&&(v.result=`(?:${v.result})`),Ni.cache[u]=v,v.result};function gB(e,t,n){let r=hu(e,t,"-",!1)||[],a=hu(t,e,"",!1)||[],s=hu(e,t,"-?",!0)||[];return r.concat(s).concat(a).join("|")}function vB(e,t){let n=1,r=1,a=Tg(e,n),s=new Set([t]);for(;e<=a&&a<=t;)s.add(a),n+=1,a=Tg(e,n);for(a=Ag(t+1,r)-1;e<a&&a<=t;)s.add(a),r+=1,a=Ag(t+1,r)-1;return s=[...s],s.sort(xB),s}function yB(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=bB(e,t),a=r.length,s="",o=0;for(let c=0;c<a;c++){let[u,p]=r[c];u===p?s+=u:u!=="0"||p!=="9"?s+=wB(u,p):o++}return o&&(s+=n.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:a}}function Sg(e,t,n,r){let a=vB(e,t),s=[],o=e,c;for(let u=0;u<a.length;u++){let p=a[u],d=yB(String(o),String(p),r),h="";if(!n.isPadded&&c&&c.pattern===d.pattern){c.count.length>1&&c.count.pop(),c.count.push(d.count[0]),c.string=c.pattern+jg(c.count),o=p+1;continue}n.isPadded&&(h=_B(p,n,r)),d.string=h+d.pattern+jg(d.count),s.push(d),o=p+1,c=d}return s}function hu(e,t,n,r,a){let s=[];for(let o of e){let{string:c}=o;!r&&!Eg(t,"string",c)&&s.push(n+c),r&&Eg(t,"string",c)&&s.push(n+c)}return s}function bB(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}function xB(e,t){return e>t?1:t>e?-1:0}function Eg(e,t,n){return e.some(r=>r[t]===n)}function Tg(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Ag(e,t){return e-e%Math.pow(10,t)}function jg(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function wB(e,t,n){return`[${e}${t-e===1?"":"-"}${t}]`}function Ig(e){return/^-?(0+)\d/.test(e)}function _B(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),a=n.relaxZeros!==!1;switch(r){case 0:return"";case 1:return a?"0?":"0";case 2:return a?"0{0,2}":"00";default:return a?`0{0,${r}}`:`0{${r}}`}}Ni.cache={};Ni.clearCache=()=>Ni.cache={};var kB=Ni;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const CB=hx,mx=kB,Rg=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),SB=e=>t=>e===!0?Number(t):String(t),mu=e=>typeof e=="number"||typeof e=="string"&&e!=="",uo=e=>Number.isInteger(+e),gu=e=>{let t=`${e}`,n=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++n]==="0";);return n>0},EB=(e,t,n)=>typeof e=="string"||typeof t=="string"?!0:n.stringify===!0,TB=(e,t,n)=>{if(t>0){let r=e[0]==="-"?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return n===!1?String(e):e},nl=(e,t)=>{let n=e[0]==="-"?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},AB=(e,t,n)=>{e.negatives.sort((c,u)=>c<u?-1:c>u?1:0),e.positives.sort((c,u)=>c<u?-1:c>u?1:0);let r=t.capture?"":"?:",a="",s="",o;return e.positives.length&&(a=e.positives.map(c=>nl(String(c),n)).join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.map(c=>nl(String(c),n)).join("|")})`),a&&s?o=`${a}|${s}`:o=a||s,t.wrap?`(${r}${o})`:o},gx=(e,t,n,r)=>{if(n)return mx(e,t,{wrap:!1,...r});let a=String.fromCharCode(e);if(e===t)return a;let s=String.fromCharCode(t);return`[${a}-${s}]`},vx=(e,t,n)=>{if(Array.isArray(e)){let r=n.wrap===!0,a=n.capture?"":"?:";return r?`(${a}${e.join("|")})`:e.join("|")}return mx(e,t,n)},yx=(...e)=>new RangeError("Invalid range arguments: "+CB.inspect(...e)),bx=(e,t,n)=>{if(n.strictRanges===!0)throw yx([e,t]);return[]},jB=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},IB=(e,t,n=1,r={})=>{let a=Number(e),s=Number(t);if(!Number.isInteger(a)||!Number.isInteger(s)){if(r.strictRanges===!0)throw yx([e,t]);return[]}a===0&&(a=0),s===0&&(s=0);let o=a>s,c=String(e),u=String(t),p=String(n);n=Math.max(Math.abs(n),1);let d=gu(c)||gu(u)||gu(p),h=d?Math.max(c.length,u.length,p.length):0,v=d===!1&&EB(e,t,r)===!1,y=r.transform||SB(v);if(r.toRegex&&n===1)return gx(nl(e,h),nl(t,h),!0,r);let m={negatives:[],positives:[]},x=C=>m[C<0?"negatives":"positives"].push(Math.abs(C)),b=[],k=0;for(;o?a>=s:a<=s;)r.toRegex===!0&&n>1?x(a):b.push(TB(y(a,k),h,v)),a=o?a-n:a+n,k++;return r.toRegex===!0?n>1?AB(m,r,h):vx(b,null,{wrap:!1,...r}):b},RB=(e,t,n=1,r={})=>{if(!uo(e)&&e.length>1||!uo(t)&&t.length>1)return bx(e,t,r);let a=r.transform||(v=>String.fromCharCode(v)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),c=s>o,u=Math.min(s,o),p=Math.max(s,o);if(r.toRegex&&n===1)return gx(u,p,!1,r);let d=[],h=0;for(;c?s>=o:s<=o;)d.push(a(s,h)),s=c?s-n:s+n,h++;return r.toRegex===!0?vx(d,null,{wrap:!1,options:r}):d},Ps=(e,t,n,r={})=>{if(t==null&&mu(e))return[e];if(!mu(e)||!mu(t))return bx(e,t,r);if(typeof n=="function")return Ps(e,t,1,{transform:n});if(Rg(n))return Ps(e,t,0,n);let a={...r};return a.capture===!0&&(a.wrap=!0),n=n||a.step||1,uo(n)?uo(e)&&uo(t)?IB(e,t,n,a):RB(e,t,Math.max(Math.abs(n),1),a):n!=null&&!Rg(n)?jB(n,a):Ps(e,t,1,n)};var xx=Ps;const OB=xx,Og=kl,FB=(e,t={})=>{const n=(r,a={})=>{const s=Og.isInvalidBrace(a),o=r.invalid===!0&&t.escapeInvalid===!0,c=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"";let p="";if(r.isOpen===!0)return u+r.value;if(r.isClose===!0)return console.log("node.isClose",u,r.value),u+r.value;if(r.type==="open")return c?u+r.value:"(";if(r.type==="close")return c?u+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":c?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){const d=Og.reduce(r.nodes),h=OB(...d,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(h.length!==0)return d.length>1&&h.length>1?`(${h})`:h}if(r.nodes)for(const d of r.nodes)p+=n(d,r);return p};return n(e)};var MB=FB;const zB=xx,Fg=ep,ga=kl,Fi=(e="",t="",n=!1)=>{const r=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return n?ga.flatten(t).map(a=>`{${a}}`):t;for(const a of e)if(Array.isArray(a))for(const s of a)r.push(Fi(s,t,n));else for(let s of t)n===!0&&typeof s=="string"&&(s=`{${s}}`),r.push(Array.isArray(s)?Fi(a,s,n):a+s);return ga.flatten(r)},NB=(e,t={})=>{const n=t.rangeLimit===void 0?1e3:t.rangeLimit,r=(a,s={})=>{a.queue=[];let o=s,c=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,c=o.queue;if(a.invalid||a.dollar){c.push(Fi(c.pop(),Fg(a,t)));return}if(a.type==="brace"&&a.invalid!==!0&&a.nodes.length===2){c.push(Fi(c.pop(),["{}"]));return}if(a.nodes&&a.ranges>0){const h=ga.reduce(a.nodes);if(ga.exceedsLimit(...h,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let v=zB(...h,t);v.length===0&&(v=Fg(a,t)),c.push(Fi(c.pop(),v)),a.nodes=[];return}const u=ga.encloseBrace(a);let p=a.queue,d=a;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,p=d.queue;for(let h=0;h<a.nodes.length;h++){const v=a.nodes[h];if(v.type==="comma"&&a.type==="brace"){h===1&&p.push(""),p.push("");continue}if(v.type==="close"){c.push(Fi(c.pop(),p,u));continue}if(v.value&&v.type!=="open"){p.push(Fi(p.pop(),v.value));continue}v.nodes&&r(v,a)}return p};return ga.flatten(r(e))};var $B=NB,PB={MAX_LENGTH:1e4,CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_COMMA:",",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_NO_BREAK_SPACE:"",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SINGLE_QUOTE:"'",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const DB=ep,{MAX_LENGTH:Mg,CHAR_BACKSLASH:vu,CHAR_BACKTICK:LB,CHAR_COMMA:BB,CHAR_DOT:UB,CHAR_LEFT_PARENTHESES:ZB,CHAR_RIGHT_PARENTHESES:HB,CHAR_LEFT_CURLY_BRACE:qB,CHAR_RIGHT_CURLY_BRACE:WB,CHAR_LEFT_SQUARE_BRACKET:zg,CHAR_RIGHT_SQUARE_BRACKET:Ng,CHAR_DOUBLE_QUOTE:VB,CHAR_SINGLE_QUOTE:GB,CHAR_NO_BREAK_SPACE:KB,CHAR_ZERO_WIDTH_NOBREAK_SPACE:JB}=PB,YB=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");const n=t||{},r=typeof n.maxLength=="number"?Math.min(Mg,n.maxLength):Mg;if(e.length>r)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${r})`);const a={type:"root",input:e,nodes:[]},s=[a];let o=a,c=a,u=0;const p=e.length;let d=0,h=0,v;const y=()=>e[d++],m=x=>{if(x.type==="text"&&c.type==="dot"&&(c.type="text"),c&&c.type==="text"&&x.type==="text"){c.value+=x.value;return}return o.nodes.push(x),x.parent=o,x.prev=c,c=x,x};for(m({type:"bos"});d<p;)if(o=s[s.length-1],v=y(),!(v===JB||v===KB)){if(v===vu){m({type:"text",value:(t.keepEscaping?v:"")+y()});continue}if(v===Ng){m({type:"text",value:"\\"+v});continue}if(v===zg){u++;let x;for(;d<p&&(x=y());){if(v+=x,x===zg){u++;continue}if(x===vu){v+=y();continue}if(x===Ng&&(u--,u===0))break}m({type:"text",value:v});continue}if(v===ZB){o=m({type:"paren",nodes:[]}),s.push(o),m({type:"text",value:v});continue}if(v===HB){if(o.type!=="paren"){m({type:"text",value:v});continue}o=s.pop(),m({type:"text",value:v}),o=s[s.length-1];continue}if(v===VB||v===GB||v===LB){const x=v;let b;for(t.keepQuotes!==!0&&(v="");d<p&&(b=y());){if(b===vu){v+=b+y();continue}if(b===x){t.keepQuotes===!0&&(v+=b);break}v+=b}m({type:"text",value:v});continue}if(v===qB){h++;const b={type:"brace",open:!0,close:!1,dollar:c.value&&c.value.slice(-1)==="$"||o.dollar===!0,depth:h,commas:0,ranges:0,nodes:[]};o=m(b),s.push(o),m({type:"open",value:v});continue}if(v===WB){if(o.type!=="brace"){m({type:"text",value:v});continue}const x="close";o=s.pop(),o.close=!0,m({type:x,value:v}),h--,o=s[s.length-1];continue}if(v===BB&&h>0){if(o.ranges>0){o.ranges=0;const x=o.nodes.shift();o.nodes=[x,{type:"text",value:DB(o)}]}m({type:"comma",value:v}),o.commas++;continue}if(v===UB&&h>0&&o.commas===0){const x=o.nodes;if(h===0||x.length===0){m({type:"text",value:v});continue}if(c.type==="dot"){if(o.range=[],c.value+=v,c.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,c.type="text";continue}o.ranges++,o.args=[];continue}if(c.type==="range"){x.pop();const b=x[x.length-1];b.value+=c.value+v,c=b,o.ranges--;continue}m({type:"dot",value:v});continue}m({type:"text",value:v})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(k=>{k.nodes||(k.type==="open"&&(k.isOpen=!0),k.type==="close"&&(k.isClose=!0),k.nodes||(k.type="text"),k.invalid=!0)});const x=s[s.length-1],b=x.nodes.indexOf(o);x.nodes.splice(b,1,...o.nodes)}while(s.length>0);return m({type:"eos"}),a};var XB=YB;const $g=ep,QB=MB,e6=$B,t6=XB,Gn=(e,t={})=>{let n=[];if(Array.isArray(e))for(const r of e){const a=Gn.create(r,t);Array.isArray(a)?n.push(...a):n.push(a)}else n=[].concat(Gn.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(n=[...new Set(n)]),n};Gn.parse=(e,t={})=>t6(e,t);Gn.stringify=(e,t={})=>$g(typeof e=="string"?Gn.parse(e,t):e,t);Gn.compile=(e,t={})=>(typeof e=="string"&&(e=Gn.parse(e,t)),QB(e,t));Gn.expand=(e,t={})=>{typeof e=="string"&&(e=Gn.parse(e,t));let n=e6(e,t);return t.noempty===!0&&(n=n.filter(Boolean)),t.nodupes===!0&&(n=[...new Set(n)]),n};Gn.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Gn.compile(e,t):Gn.expand(e,t);var n6=Gn;const r6=new Proxy({},{get(e,t){throw new Error(`Module "path" has been externalized for browser compatibility. Cannot access "path.${t}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),i6=Object.freeze(Object.defineProperty({__proto__:null,default:r6},Symbol.toStringTag,{value:"Module"})),tp=bv(i6);var jo={};const a6=tp,Sr="\\\\/",Pg=`[^${Sr}]`,Hr="\\.",o6="\\+",s6="\\?",Cl="\\/",l6="(?=.)",wx="[^/]",np=`(?:${Cl}|$)`,_x=`(?:^|${Cl})`,rp=`${Hr}{1,2}${np}`,c6=`(?!${Hr})`,u6=`(?!${_x}${rp})`,d6=`(?!${Hr}{0,1}${np})`,p6=`(?!${rp})`,f6=`[^.${Cl}]`,h6=`${wx}*?`,kx={DOT_LITERAL:Hr,PLUS_LITERAL:o6,QMARK_LITERAL:s6,SLASH_LITERAL:Cl,ONE_CHAR:l6,QMARK:wx,END_ANCHOR:np,DOTS_SLASH:rp,NO_DOT:c6,NO_DOTS:u6,NO_DOT_SLASH:d6,NO_DOTS_SLASH:p6,QMARK_NO_DOT:f6,STAR:h6,START_ANCHOR:_x},m6={...kx,SLASH_LITERAL:`[${Sr}]`,QMARK:Pg,STAR:`${Pg}*?`,DOTS_SLASH:`${Hr}{1,2}(?:[${Sr}]|$)`,NO_DOT:`(?!${Hr})`,NO_DOTS:`(?!(?:^|[${Sr}])${Hr}{1,2}(?:[${Sr}]|$))`,NO_DOT_SLASH:`(?!${Hr}{0,1}(?:[${Sr}]|$))`,NO_DOTS_SLASH:`(?!${Hr}{1,2}(?:[${Sr}]|$))`,QMARK_NO_DOT:`[^.${Sr}]`,START_ANCHOR:`(?:^|[${Sr}])`,END_ANCHOR:`(?:[${Sr}]|$)`},g6={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Sl={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:g6,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:a6.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?m6:kx}};(function(e){var t={};const n=tp,r=t.platform==="win32",{REGEX_BACKSLASH:a,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_GLOBAL:c}=Sl;e.isObject=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),e.hasRegexChars=u=>o.test(u),e.isRegexChar=u=>u.length===1&&e.hasRegexChars(u),e.escapeRegex=u=>u.replace(c,"\\$1"),e.toPosixSlashes=u=>u.replace(a,"/"),e.removeBackslashes=u=>u.replace(s,p=>p==="\\"?"":p),e.supportsLookbehinds=()=>{const u=t.version.slice(1).split(".").map(Number);return u.length===3&&u[0]>=9||u[0]===8&&u[1]>=10},e.isWindows=u=>u&&typeof u.windows=="boolean"?u.windows:r===!0||n.sep==="\\",e.escapeLast=(u,p,d)=>{const h=u.lastIndexOf(p,d);return h===-1?u:u[h-1]==="\\"?e.escapeLast(u,p,h-1):`${u.slice(0,h)}\\${u.slice(h)}`},e.removePrefix=(u,p={})=>{let d=u;return d.startsWith("./")&&(d=d.slice(2),p.prefix="./"),d},e.wrapOutput=(u,p={},d={})=>{const h=d.contains?"":"^",v=d.contains?"":"$";let y=`${h}(?:${u})${v}`;return p.negated===!0&&(y=`(?:^(?!${y}).*$)`),y}})(jo);const Dg=jo,{CHAR_ASTERISK:yu,CHAR_AT:v6,CHAR_BACKWARD_SLASH:oo,CHAR_COMMA:y6,CHAR_DOT:bu,CHAR_EXCLAMATION_MARK:xu,CHAR_FORWARD_SLASH:Cx,CHAR_LEFT_CURLY_BRACE:wu,CHAR_LEFT_PARENTHESES:_u,CHAR_LEFT_SQUARE_BRACKET:b6,CHAR_PLUS:x6,CHAR_QUESTION_MARK:Lg,CHAR_RIGHT_CURLY_BRACE:w6,CHAR_RIGHT_PARENTHESES:Bg,CHAR_RIGHT_SQUARE_BRACKET:_6}=Sl,Ug=e=>e===Cx||e===oo,Zg=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},k6=(e,t)=>{const n=t||{},r=e.length-1,a=n.parts===!0||n.scanToEnd===!0,s=[],o=[],c=[];let u=e,p=-1,d=0,h=0,v=!1,y=!1,m=!1,x=!1,b=!1,k=!1,C=!1,T=!1,I=!1,$=!1,M=0,B,U,X={value:"",depth:0,isGlob:!1};const Y=()=>p>=r,q=()=>u.charCodeAt(p+1),se=()=>(B=U,u.charCodeAt(++p));for(;p<r;){U=se();let Ce;if(U===oo){C=X.backslashes=!0,U=se(),U===wu&&(k=!0);continue}if(k===!0||U===wu){for(M++;Y()!==!0&&(U=se());){if(U===oo){C=X.backslashes=!0,se();continue}if(U===wu){M++;continue}if(k!==!0&&U===bu&&(U=se())===bu){if(v=X.isBrace=!0,m=X.isGlob=!0,$=!0,a===!0)continue;break}if(k!==!0&&U===y6){if(v=X.isBrace=!0,m=X.isGlob=!0,$=!0,a===!0)continue;break}if(U===w6&&(M--,M===0)){k=!1,v=X.isBrace=!0,$=!0;break}}if(a===!0)continue;break}if(U===Cx){if(s.push(p),o.push(X),X={value:"",depth:0,isGlob:!1},$===!0)continue;if(B===bu&&p===d+1){d+=2;continue}h=p+1;continue}if(n.noext!==!0&&(U===x6||U===v6||U===yu||U===Lg||U===xu)===!0&&q()===_u){if(m=X.isGlob=!0,x=X.isExtglob=!0,$=!0,U===xu&&p===d&&(I=!0),a===!0){for(;Y()!==!0&&(U=se());){if(U===oo){C=X.backslashes=!0,U=se();continue}if(U===Bg){m=X.isGlob=!0,$=!0;break}}continue}break}if(U===yu){if(B===yu&&(b=X.isGlobstar=!0),m=X.isGlob=!0,$=!0,a===!0)continue;break}if(U===Lg){if(m=X.isGlob=!0,$=!0,a===!0)continue;break}if(U===b6){for(;Y()!==!0&&(Ce=se());){if(Ce===oo){C=X.backslashes=!0,se();continue}if(Ce===_6){y=X.isBracket=!0,m=X.isGlob=!0,$=!0;break}}if(a===!0)continue;break}if(n.nonegate!==!0&&U===xu&&p===d){T=X.negated=!0,d++;continue}if(n.noparen!==!0&&U===_u){if(m=X.isGlob=!0,a===!0){for(;Y()!==!0&&(U=se());){if(U===_u){C=X.backslashes=!0,U=se();continue}if(U===Bg){$=!0;break}}continue}break}if(m===!0){if($=!0,a===!0)continue;break}}n.noext===!0&&(x=!1,m=!1);let R=u,G="",_="";d>0&&(G=u.slice(0,d),u=u.slice(d),h-=d),R&&m===!0&&h>0?(R=u.slice(0,h),_=u.slice(h)):m===!0?(R="",_=u):R=u,R&&R!==""&&R!=="/"&&R!==u&&Ug(R.charCodeAt(R.length-1))&&(R=R.slice(0,-1)),n.unescape===!0&&(_&&(_=Dg.removeBackslashes(_)),R&&C===!0&&(R=Dg.removeBackslashes(R)));const L={prefix:G,input:e,start:d,base:R,glob:_,isBrace:v,isBracket:y,isGlob:m,isExtglob:x,isGlobstar:b,negated:T,negatedExtglob:I};if(n.tokens===!0&&(L.maxDepth=0,Ug(U)||o.push(X),L.tokens=o),n.parts===!0||n.tokens===!0){let Ce;for(let le=0;le<s.length;le++){const de=Ce?Ce+1:d,N=s[le],ce=e.slice(de,N);n.tokens&&(le===0&&d!==0?(o[le].isPrefix=!0,o[le].value=G):o[le].value=ce,Zg(o[le]),L.maxDepth+=o[le].depth),(le!==0||ce!=="")&&c.push(ce),Ce=N}if(Ce&&Ce+1<e.length){const le=e.slice(Ce+1);c.push(le),n.tokens&&(o[o.length-1].value=le,Zg(o[o.length-1]),L.maxDepth+=o[o.length-1].depth)}L.slashes=s,L.parts=c}return L};var C6=k6;const rl=Sl,Hn=jo,{MAX_LENGTH:il,POSIX_REGEX_SOURCE:S6,REGEX_NON_SPECIAL_CHARS:E6,REGEX_SPECIAL_CHARS_BACKREF:T6,REPLACEMENTS:Sx}=rl,A6=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map(a=>Hn.escapeRegex(a)).join("..")}return n},ca=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,ip=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Sx[e]||e;const n={...t},r=typeof n.maxLength=="number"?Math.min(il,n.maxLength):il;let a=e.length;if(a>r)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${r}`);const s={type:"bos",value:"",output:n.prepend||""},o=[s],c=n.capture?"":"?:",u=Hn.isWindows(t),p=rl.globChars(u),d=rl.extglobChars(p),{DOT_LITERAL:h,PLUS_LITERAL:v,SLASH_LITERAL:y,ONE_CHAR:m,DOTS_SLASH:x,NO_DOT:b,NO_DOT_SLASH:k,NO_DOTS_SLASH:C,QMARK:T,QMARK_NO_DOT:I,STAR:$,START_ANCHOR:M}=p,B=ve=>`(${c}(?:(?!${M}${ve.dot?x:h}).)*?)`,U=n.dot?"":b,X=n.dot?T:I;let Y=n.bash===!0?B(n):$;n.capture&&(Y=`(${Y})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);const q={input:e,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Hn.removePrefix(e,q),a=e.length;const se=[],R=[],G=[];let _=s,L;const Ce=()=>q.index===a-1,le=q.peek=(ve=1)=>e[q.index+ve],de=q.advance=()=>e[++q.index]||"",N=()=>e.slice(q.index+1),ce=(ve="",Me=0)=>{q.consumed+=ve,q.index+=Me},ne=ve=>{q.output+=ve.output!=null?ve.output:ve.value,ce(ve.value)},O=()=>{let ve=1;for(;le()==="!"&&(le(2)!=="("||le(3)==="?");)de(),q.start++,ve++;return ve%2===0?!1:(q.negated=!0,q.start++,!0)},Re=ve=>{q[ve]++,G.push(ve)},Ee=ve=>{q[ve]--,G.pop()},ue=ve=>{if(_.type==="globstar"){const Me=q.braces>0&&(ve.type==="comma"||ve.type==="brace"),xe=ve.extglob===!0||se.length&&(ve.type==="pipe"||ve.type==="paren");ve.type!=="slash"&&ve.type!=="paren"&&!Me&&!xe&&(q.output=q.output.slice(0,-_.output.length),_.type="star",_.value="*",_.output=Y,q.output+=_.output)}if(se.length&&ve.type!=="paren"&&(se[se.length-1].inner+=ve.value),(ve.value||ve.output)&&ne(ve),_&&_.type==="text"&&ve.type==="text"){_.value+=ve.value,_.output=(_.output||"")+ve.value;return}ve.prev=_,o.push(ve),_=ve},at=(ve,Me)=>{const xe={...d[Me],conditions:1,inner:""};xe.prev=_,xe.parens=q.parens,xe.output=q.output;const Oe=(n.capture?"(":"")+xe.open;Re("parens"),ue({type:ve,value:Me,output:q.output?"":m}),ue({type:"paren",extglob:!0,value:de(),output:Oe}),se.push(xe)},Ve=ve=>{let Me=ve.close+(n.capture?")":""),xe;if(ve.type==="negate"){let Oe=Y;if(ve.inner&&ve.inner.length>1&&ve.inner.includes("/")&&(Oe=B(n)),(Oe!==Y||Ce()||/^\)+$/.test(N()))&&(Me=ve.close=`)$))${Oe}`),ve.inner.includes("*")&&(xe=N())&&/^\.[^\\/.]+$/.test(xe)){const Ye=ip(xe,{...t,fastpaths:!1}).output;Me=ve.close=`)${Ye})${Oe})`}ve.prev.type==="bos"&&(q.negatedExtglob=!0)}ue({type:"paren",extglob:!0,value:L,output:Me}),Ee("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let ve=!1,Me=e.replace(T6,(xe,Oe,Ye,Xe,E,pe)=>Xe==="\\"?(ve=!0,xe):Xe==="?"?Oe?Oe+Xe+(E?T.repeat(E.length):""):pe===0?X+(E?T.repeat(E.length):""):T.repeat(Ye.length):Xe==="."?h.repeat(Ye.length):Xe==="*"?Oe?Oe+Xe+(E?Y:""):Y:Oe?xe:`\\${xe}`);return ve===!0&&(n.unescape===!0?Me=Me.replace(/\\/g,""):Me=Me.replace(/\\+/g,xe=>xe.length%2===0?"\\\\":xe?"\\":"")),Me===e&&n.contains===!0?(q.output=e,q):(q.output=Hn.wrapOutput(Me,q,t),q)}for(;!Ce();){if(L=de(),L==="\0")continue;if(L==="\\"){const xe=le();if(xe==="/"&&n.bash!==!0||xe==="."||xe===";")continue;if(!xe){L+="\\",ue({type:"text",value:L});continue}const Oe=/^\\+/.exec(N());let Ye=0;if(Oe&&Oe[0].length>2&&(Ye=Oe[0].length,q.index+=Ye,Ye%2!==0&&(L+="\\")),n.unescape===!0?L=de():L+=de(),q.brackets===0){ue({type:"text",value:L});continue}}if(q.brackets>0&&(L!=="]"||_.value==="["||_.value==="[^")){if(n.posix!==!1&&L===":"){const xe=_.value.slice(1);if(xe.includes("[")&&(_.posix=!0,xe.includes(":"))){const Oe=_.value.lastIndexOf("["),Ye=_.value.slice(0,Oe),Xe=_.value.slice(Oe+2),E=S6[Xe];if(E){_.value=Ye+E,q.backtrack=!0,de(),!s.output&&o.indexOf(_)===1&&(s.output=m);continue}}}(L==="["&&le()!==":"||L==="-"&&le()==="]")&&(L=`\\${L}`),L==="]"&&(_.value==="["||_.value==="[^")&&(L=`\\${L}`),n.posix===!0&&L==="!"&&_.value==="["&&(L="^"),_.value+=L,ne({value:L});continue}if(q.quotes===1&&L!=='"'){L=Hn.escapeRegex(L),_.value+=L,ne({value:L});continue}if(L==='"'){q.quotes=q.quotes===1?0:1,n.keepQuotes===!0&&ue({type:"text",value:L});continue}if(L==="("){Re("parens"),ue({type:"paren",value:L});continue}if(L===")"){if(q.parens===0&&n.strictBrackets===!0)throw new SyntaxError(ca("opening","("));const xe=se[se.length-1];if(xe&&q.parens===xe.parens+1){Ve(se.pop());continue}ue({type:"paren",value:L,output:q.parens?")":"\\)"}),Ee("parens");continue}if(L==="["){if(n.nobracket===!0||!N().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(ca("closing","]"));L=`\\${L}`}else Re("brackets");ue({type:"bracket",value:L});continue}if(L==="]"){if(n.nobracket===!0||_&&_.type==="bracket"&&_.value.length===1){ue({type:"text",value:L,output:`\\${L}`});continue}if(q.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(ca("opening","["));ue({type:"text",value:L,output:`\\${L}`});continue}Ee("brackets");const xe=_.value.slice(1);if(_.posix!==!0&&xe[0]==="^"&&!xe.includes("/")&&(L=`/${L}`),_.value+=L,ne({value:L}),n.literalBrackets===!1||Hn.hasRegexChars(xe))continue;const Oe=Hn.escapeRegex(_.value);if(q.output=q.output.slice(0,-_.value.length),n.literalBrackets===!0){q.output+=Oe,_.value=Oe;continue}_.value=`(${c}${Oe}|${_.value})`,q.output+=_.value;continue}if(L==="{"&&n.nobrace!==!0){Re("braces");const xe={type:"brace",value:L,output:"(",outputIndex:q.output.length,tokensIndex:q.tokens.length};R.push(xe),ue(xe);continue}if(L==="}"){const xe=R[R.length-1];if(n.nobrace===!0||!xe){ue({type:"text",value:L,output:L});continue}let Oe=")";if(xe.dots===!0){const Ye=o.slice(),Xe=[];for(let E=Ye.length-1;E>=0&&(o.pop(),Ye[E].type!=="brace");E--)Ye[E].type!=="dots"&&Xe.unshift(Ye[E].value);Oe=A6(Xe,n),q.backtrack=!0}if(xe.comma!==!0&&xe.dots!==!0){const Ye=q.output.slice(0,xe.outputIndex),Xe=q.tokens.slice(xe.tokensIndex);xe.value=xe.output="\\{",L=Oe="\\}",q.output=Ye;for(const E of Xe)q.output+=E.output||E.value}ue({type:"brace",value:L,output:Oe}),Ee("braces"),R.pop();continue}if(L==="|"){se.length>0&&se[se.length-1].conditions++,ue({type:"text",value:L});continue}if(L===","){let xe=L;const Oe=R[R.length-1];Oe&&G[G.length-1]==="braces"&&(Oe.comma=!0,xe="|"),ue({type:"comma",value:L,output:xe});continue}if(L==="/"){if(_.type==="dot"&&q.index===q.start+1){q.start=q.index+1,q.consumed="",q.output="",o.pop(),_=s;continue}ue({type:"slash",value:L,output:y});continue}if(L==="."){if(q.braces>0&&_.type==="dot"){_.value==="."&&(_.output=h);const xe=R[R.length-1];_.type="dots",_.output+=L,_.value+=L,xe.dots=!0;continue}if(q.braces+q.parens===0&&_.type!=="bos"&&_.type!=="slash"){ue({type:"text",value:L,output:h});continue}ue({type:"dot",value:L,output:h});continue}if(L==="?"){if(!(_&&_.value==="(")&&n.noextglob!==!0&&le()==="("&&le(2)!=="?"){at("qmark",L);continue}if(_&&_.type==="paren"){const Oe=le();let Ye=L;if(Oe==="<"&&!Hn.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(_.value==="("&&!/[!=<:]/.test(Oe)||Oe==="<"&&!/<([!=]|\w+>)/.test(N()))&&(Ye=`\\${L}`),ue({type:"text",value:L,output:Ye});continue}if(n.dot!==!0&&(_.type==="slash"||_.type==="bos")){ue({type:"qmark",value:L,output:I});continue}ue({type:"qmark",value:L,output:T});continue}if(L==="!"){if(n.noextglob!==!0&&le()==="("&&(le(2)!=="?"||!/[!=<:]/.test(le(3)))){at("negate",L);continue}if(n.nonegate!==!0&&q.index===0){O();continue}}if(L==="+"){if(n.noextglob!==!0&&le()==="("&&le(2)!=="?"){at("plus",L);continue}if(_&&_.value==="("||n.regex===!1){ue({type:"plus",value:L,output:v});continue}if(_&&(_.type==="bracket"||_.type==="paren"||_.type==="brace")||q.parens>0){ue({type:"plus",value:L});continue}ue({type:"plus",value:v});continue}if(L==="@"){if(n.noextglob!==!0&&le()==="("&&le(2)!=="?"){ue({type:"at",extglob:!0,value:L,output:""});continue}ue({type:"text",value:L});continue}if(L!=="*"){(L==="$"||L==="^")&&(L=`\\${L}`);const xe=E6.exec(N());xe&&(L+=xe[0],q.index+=xe[0].length),ue({type:"text",value:L});continue}if(_&&(_.type==="globstar"||_.star===!0)){_.type="star",_.star=!0,_.value+=L,_.output=Y,q.backtrack=!0,q.globstar=!0,ce(L);continue}let ve=N();if(n.noextglob!==!0&&/^\([^?]/.test(ve)){at("star",L);continue}if(_.type==="star"){if(n.noglobstar===!0){ce(L);continue}const xe=_.prev,Oe=xe.prev,Ye=xe.type==="slash"||xe.type==="bos",Xe=Oe&&(Oe.type==="star"||Oe.type==="globstar");if(n.bash===!0&&(!Ye||ve[0]&&ve[0]!=="/")){ue({type:"star",value:L,output:""});continue}const E=q.braces>0&&(xe.type==="comma"||xe.type==="brace"),pe=se.length&&(xe.type==="pipe"||xe.type==="paren");if(!Ye&&xe.type!=="paren"&&!E&&!pe){ue({type:"star",value:L,output:""});continue}for(;ve.slice(0,3)==="/**";){const W=e[q.index+4];if(W&&W!=="/")break;ve=ve.slice(3),ce("/**",3)}if(xe.type==="bos"&&Ce()){_.type="globstar",_.value+=L,_.output=B(n),q.output=_.output,q.globstar=!0,ce(L);continue}if(xe.type==="slash"&&xe.prev.type!=="bos"&&!Xe&&Ce()){q.output=q.output.slice(0,-(xe.output+_.output).length),xe.output=`(?:${xe.output}`,_.type="globstar",_.output=B(n)+(n.strictSlashes?")":"|$)"),_.value+=L,q.globstar=!0,q.output+=xe.output+_.output,ce(L);continue}if(xe.type==="slash"&&xe.prev.type!=="bos"&&ve[0]==="/"){const W=ve[1]!==void 0?"|$":"";q.output=q.output.slice(0,-(xe.output+_.output).length),xe.output=`(?:${xe.output}`,_.type="globstar",_.output=`${B(n)}${y}|${y}${W})`,_.value+=L,q.output+=xe.output+_.output,q.globstar=!0,ce(L+de()),ue({type:"slash",value:"/",output:""});continue}if(xe.type==="bos"&&ve[0]==="/"){_.type="globstar",_.value+=L,_.output=`(?:^|${y}|${B(n)}${y})`,q.output=_.output,q.globstar=!0,ce(L+de()),ue({type:"slash",value:"/",output:""});continue}q.output=q.output.slice(0,-_.output.length),_.type="globstar",_.output=B(n),_.value+=L,q.output+=_.output,q.globstar=!0,ce(L);continue}const Me={type:"star",value:L,output:Y};if(n.bash===!0){Me.output=".*?",(_.type==="bos"||_.type==="slash")&&(Me.output=U+Me.output),ue(Me);continue}if(_&&(_.type==="bracket"||_.type==="paren")&&n.regex===!0){Me.output=L,ue(Me);continue}(q.index===q.start||_.type==="slash"||_.type==="dot")&&(_.type==="dot"?(q.output+=k,_.output+=k):n.dot===!0?(q.output+=C,_.output+=C):(q.output+=U,_.output+=U),le()!=="*"&&(q.output+=m,_.output+=m)),ue(Me)}for(;q.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(ca("closing","]"));q.output=Hn.escapeLast(q.output,"["),Ee("brackets")}for(;q.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(ca("closing",")"));q.output=Hn.escapeLast(q.output,"("),Ee("parens")}for(;q.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(ca("closing","}"));q.output=Hn.escapeLast(q.output,"{"),Ee("braces")}if(n.strictSlashes!==!0&&(_.type==="star"||_.type==="bracket")&&ue({type:"maybe_slash",value:"",output:`${y}?`}),q.backtrack===!0){q.output="";for(const ve of q.tokens)q.output+=ve.output!=null?ve.output:ve.value,ve.suffix&&(q.output+=ve.suffix)}return q};ip.fastpaths=(e,t)=>{const n={...t},r=typeof n.maxLength=="number"?Math.min(il,n.maxLength):il,a=e.length;if(a>r)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${r}`);e=Sx[e]||e;const s=Hn.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:c,ONE_CHAR:u,DOTS_SLASH:p,NO_DOT:d,NO_DOTS:h,NO_DOTS_SLASH:v,STAR:y,START_ANCHOR:m}=rl.globChars(s),x=n.dot?h:d,b=n.dot?v:d,k=n.capture?"":"?:",C={negated:!1,prefix:""};let T=n.bash===!0?".*?":y;n.capture&&(T=`(${T})`);const I=U=>U.noglobstar===!0?T:`(${k}(?:(?!${m}${U.dot?p:o}).)*?)`,$=U=>{switch(U){case"*":return`${x}${u}${T}`;case".*":return`${o}${u}${T}`;case"*.*":return`${x}${T}${o}${u}${T}`;case"*/*":return`${x}${T}${c}${u}${b}${T}`;case"**":return x+I(n);case"**/*":return`(?:${x}${I(n)}${c})?${b}${u}${T}`;case"**/*.*":return`(?:${x}${I(n)}${c})?${b}${T}${o}${u}${T}`;case"**/.*":return`(?:${x}${I(n)}${c})?${o}${u}${T}`;default:{const X=/^(.*?)\.(\w+)$/.exec(U);if(!X)return;const Y=$(X[1]);return Y?Y+o+X[2]:void 0}}},M=Hn.removePrefix(e,C);let B=$(M);return B&&n.strictSlashes!==!0&&(B+=`${c}?`),B};var j6=ip;const I6=tp,R6=C6,id=j6,ap=jo,O6=Sl,F6=e=>e&&typeof e=="object"&&!Array.isArray(e),on=(e,t,n=!1)=>{if(Array.isArray(e)){const d=e.map(v=>on(v,t,n));return v=>{for(const y of d){const m=y(v);if(m)return m}return!1}}const r=F6(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const a=t||{},s=ap.isWindows(t),o=r?on.compileRe(e,t):on.makeRe(e,t,!1,!0),c=o.state;delete o.state;let u=()=>!1;if(a.ignore){const d={...t,ignore:null,onMatch:null,onResult:null};u=on(a.ignore,d,n)}const p=(d,h=!1)=>{const{isMatch:v,match:y,output:m}=on.test(d,o,t,{glob:e,posix:s}),x={glob:e,state:c,regex:o,posix:s,input:d,output:m,match:y,isMatch:v};return typeof a.onResult=="function"&&a.onResult(x),v===!1?(x.isMatch=!1,h?x:!1):u(d)?(typeof a.onIgnore=="function"&&a.onIgnore(x),x.isMatch=!1,h?x:!1):(typeof a.onMatch=="function"&&a.onMatch(x),h?x:!0)};return n&&(p.state=c),p};on.test=(e,t,n,{glob:r,posix:a}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const s=n||{},o=s.format||(a?ap.toPosixSlashes:null);let c=e===r,u=c&&o?o(e):e;return c===!1&&(u=o?o(e):e,c=u===r),(c===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?c=on.matchBase(e,t,n,a):c=t.exec(u)),{isMatch:!!c,match:c,output:u}};on.matchBase=(e,t,n,r=ap.isWindows(n))=>(t instanceof RegExp?t:on.makeRe(t,n)).test(I6.basename(e));on.isMatch=(e,t,n)=>on(t,n)(e);on.parse=(e,t)=>Array.isArray(e)?e.map(n=>on.parse(n,t)):id(e,{...t,fastpaths:!1});on.scan=(e,t)=>R6(e,t);on.compileRe=(e,t,n=!1,r=!1)=>{if(n===!0)return e.output;const a=t||{},s=a.contains?"":"^",o=a.contains?"":"$";let c=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(c=`^(?!${c}).*$`);const u=on.toRegex(c,t);return r===!0&&(u.state=e),u};on.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let a={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(a.output=id.fastpaths(e,t)),a.output||(a=id(e,t)),on.compileRe(a,t,n,r)};on.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&t.debug===!0)throw n;return/$^/}};on.constants=O6;var M6=on,z6=M6;const Ex=hx,Tx=n6,Rr=z6,ad=jo,Hg=e=>e===""||e==="./",Ax=e=>{const t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},Lt=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,a=new Set,s=new Set,o=0,c=d=>{s.add(d.output),n&&n.onResult&&n.onResult(d)};for(let d=0;d<t.length;d++){let h=Rr(String(t[d]),{...n,onResult:c},!0),v=h.state.negated||h.state.negatedExtglob;v&&o++;for(let y of e){let m=h(y,!0);(v?!m.isMatch:m.isMatch)&&(v?r.add(m.output):(r.delete(m.output),a.add(m.output)))}}let p=(o===t.length?[...s]:[...a]).filter(d=>!r.has(d));if(n&&p.length===0){if(n.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(n.nonull===!0||n.nullglob===!0)return n.unescape?t.map(d=>d.replace(/\\/g,"")):t}return p};Lt.match=Lt;Lt.matcher=(e,t)=>Rr(e,t);Lt.isMatch=(e,t,n)=>Rr(t,n)(e);Lt.any=Lt.isMatch;Lt.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,a=[],s=c=>{n.onResult&&n.onResult(c),a.push(c.output)},o=new Set(Lt(e,t,{...n,onResult:s}));for(let c of a)o.has(c)||r.add(c);return[...r]};Lt.contains=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Ex.inspect(e)}"`);if(Array.isArray(t))return t.some(r=>Lt.contains(e,r,n));if(typeof t=="string"){if(Hg(e)||Hg(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Lt.isMatch(e,t,{...n,contains:!0})};Lt.matchKeys=(e,t,n)=>{if(!ad.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=Lt(Object.keys(e),t,n),a={};for(let s of r)a[s]=e[s];return a};Lt.some=(e,t,n)=>{let r=[].concat(e);for(let a of[].concat(t)){let s=Rr(String(a),n);if(r.some(o=>s(o)))return!0}return!1};Lt.every=(e,t,n)=>{let r=[].concat(e);for(let a of[].concat(t)){let s=Rr(String(a),n);if(!r.every(o=>s(o)))return!1}return!0};Lt.all=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Ex.inspect(e)}"`);return[].concat(t).every(r=>Rr(r,n)(e))};Lt.capture=(e,t,n)=>{let r=ad.isWindows(n),s=Rr.makeRe(String(e),{...n,capture:!0}).exec(r?ad.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};Lt.makeRe=(...e)=>Rr.makeRe(...e);Lt.scan=(...e)=>Rr.scan(...e);Lt.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let a of Tx(String(r),t))n.push(Rr.parse(a,t));return n};Lt.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!Ax(e)?[e]:Tx(e,t)};Lt.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Lt.braces(e,{...t,expand:!0})};Lt.hasBraces=Ax;var N6=Lt;const $6=hi(N6),P6=[".ts",".tsx",".js",".jsx",".md",".json"],ku=5e3,D6=["**/node_modules/**","**/.git/**","**/.next/**","**/dist/**","**/build/**","**/.cache/**","**/coverage/**","**/test/**","**/__tests__/**","**/*.test.*","**/*.spec.*"],jx=(e,t=[])=>$6.isMatch(e,[...D6,...t])?!1:P6.some(n=>e.toLowerCase().endsWith(n)),Ix=e=>{const t=e.split(`
`);return t.length<=ku?e:`${t.slice(0,ku).join(`
`)}

// ... [${t.length-ku} lines truncated, file too long] ...

`};async function L6(e,t={}){const r=await new pB().loadAsync(e),a=[];return await Promise.all(Object.keys(r.files).map(async s=>{const o=r.files[s];if(!(o.dir||!jx(s,t.ignorePatterns)))try{const c=await o.async("string");a.push({path:s,content:Ix(c)})}catch(c){console.warn(`Failed to read file ${s}:`,c)}})),a.sort((s,o)=>s.path.localeCompare(o.path))}async function B6(e,t={}){const n=[];let r="Project";if(e.length>0){const o=(e[0].webkitRelativePath||"").split("/");o.length>0&&o[0]&&(r=o[0])}return await Promise.all(Array.from(e).map(async a=>{const s=a.webkitRelativePath||a.name;if(jx(s,t.ignorePatterns))try{const o=await a.text();n.push({path:s.includes("/")?s.substring(s.indexOf("/")+1):s,content:Ix(o)})}catch(o){console.warn(`Failed to read file ${s}:`,o)}})),{files:n.sort((a,s)=>a.path.localeCompare(s.path)),projectName:r}}async function U6(e,t={}){const n=e.name.replace(".zip","");return{files:await L6(e,t),projectName:n}}function Z6({onSuccess:e,onError:t}={}){const[n,r]=K.useState(null),[a,s]=K.useState(!1),{fetch:o,isPending:c,error:u}=nB(),{id:p}=fr(),d=async(y,m)=>{const x=await o({body:{chatId:p,name:y,type:"code",files:m}});if(!x?.data)throw new Error("Failed to upload project");return x.data};return{processZipFile:async y=>{try{r(null),s(!0);const{files:m,projectName:x}=await U6(y,{ignorePatterns:["**/node_modules/**"]}),b=await d(x,m);return e?.({...b,id:tl(),status:"ready"},x),b}catch(m){throw r("Failed to process zip file"),t?.("Failed to process zip file"),console.error("Error processing zip:",m),m}finally{s(!1)}},processFolder:async y=>{try{r(null),s(!0);const{files:m,projectName:x}=await B6(y,{ignorePatterns:["**/node_modules/**"]}),b=await d(x,m);return e?.({...b,id:tl(),status:"ready"},x),b}catch(m){throw r("Failed to process folder"),t?.("Failed to process folder"),console.error("Error processing folder:",m),m}finally{s(!1)}},isLoading:a||c,error:u||n}}const Ln=()=>{const{formatMessage:e}=mt();return{t:(n,r)=>e({id:n,defaultMessage:r})}},Rx=K.createContext({isCodeUploadOpen:!1,submitOnFinish:!1,openCodeUpload:()=>{},closeCodeUpload:()=>{}}),op=()=>K.useContext(Rx),H6=({children:e})=>{const[t,n]=K.useState(!1),[r,a]=K.useState(!1),s=c=>{n(!0),a(c??!1)},o=()=>n(!1);return g.jsxs(Rx.Provider,{value:{isCodeUploadOpen:t,submitOnFinish:r,openCodeUpload:s,closeCodeUpload:o},children:[t&&g.jsx(V6,{}),e]})},qg=({importType:e,onAddFiles:t,error:n})=>{const[r,a]=K.useState(!1),s=K.useRef(null),{t:o}=Ln(),c=m=>{m.preventDefault()},u=m=>{m.preventDefault(),a(!0)},p=()=>a(!1),d=m=>{m.preventDefault(),s.current?.click()},h=()=>{const m=s.current?.files;m&&t(Array.from(m))},v=async m=>{const x=m.createReader(),b=()=>new Promise((T,I)=>{x.readEntries(T,I)}),k=[];let C=[];do{C=await b();for(const T of C)if(T.isFile){const I=T,$=await new Promise((M,B)=>{I.file(M,B)});Object.defineProperty($,"webkitRelativePath",{writable:!0,value:T.fullPath.substring(1)}),k.push($)}else if(T.isDirectory){const $=await v(T);k.push(...$)}}while(C.length>0);return k},y=async m=>{if(m.preventDefault(),a(!1),!!m.dataTransfer?.items)if(e==="folder"){const x=m.dataTransfer.items,b=[];for(let k=0;k<x.length;k++){const T=x[k].webkitGetAsEntry?.();if(T){if(T.isDirectory){const I=await v(T);b.push(...I)}else if(T.isFile){const I=await new Promise(($,M)=>{T.file($,M)});b.push(I)}}}b.length>0&&t(b)}else m.dataTransfer.files&&t(Array.from(m.dataTransfer.files))};return g.jsxs(Te,{position:"relative",cursor:"pointer",width:"100%",height:"100%",minHeight:"140px",borderStyle:"dashed",borderColor:r?"primary500":n?"danger600":"neutral200",background:r?"primary100":n?"danger100":"neutral100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,onDragEnter:u,onDragLeave:p,onDragOver:c,onDrop:y,children:[e==="zip"?g.jsx(xv,{width:"24px",height:"24px"}):g.jsx(gd,{width:"24px",height:"24px"}),g.jsxs(Te,{direction:"column",alignItems:"center",gap:2,children:[g.jsxs(Fe,{variant:"omega",textColor:"neutral600",textAlign:"center",children:[e==="zip"?o("chat.code-upload.drop-zone","Drop here a .zip file here or"):o("chat.code-upload.drop-zone-folder","Drop here a folder here or")," ",g.jsx(Fe,{variant:"omega",textColor:"primary600",onClick:d,children:o("chat.code-upload.drop-zone-browse","browse files")})]}),n&&g.jsx(Fe,{variant:"pi",textColor:"danger600",children:n})]}),g.jsx(ze,{tag:"input",position:"absolute",left:0,right:0,bottom:0,top:0,width:"100%",name:"code","aria-label":"Upload project",tabIndex:-1,zIndex:1,ref:s,onChange:h,style:{opacity:0,cursor:"pointer"},type:"file",...e==="zip"?{accept:".zip",multiple:!1}:{multiple:!0,webkitdirectory:"",directory:""}})]})},q6=({setFileName:e,error:t,processZipFile:n,processFolder:r})=>{const{t:a}=Ln(),{nextStep:s}=px();return g.jsxs(Te,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[g.jsxs(Te,{direction:"column",gap:2,alignItems:"start",children:[g.jsx(Fe,{variant:"beta",children:a("chat.code-upload.title","Import code")}),g.jsx(Fe,{variant:"omega",textColor:"neutral600",children:a("chat.code-upload.description","Your app will be analyzed by AI. Make sure to remove all sensitive data before importation.")})]}),g.jsxs(Te,{gap:3,width:"100%",wrap:"wrap",children:[g.jsx(ze,{flex:1,minWidth:"200px",children:g.jsx(qg,{importType:"zip",onAddFiles:o=>{if(o.length>0){const c=o[0];e(c.name.replace(".zip","")),s(),n(c)}},error:t})}),g.jsx(ze,{flex:1,minWidth:"200px",children:g.jsx(qg,{importType:"folder",onAddFiles:async o=>{if(o.length>0)try{const p=(o[0].webkitRelativePath||"").split("/")[0]||"Project";e(p),s(),await r(o)}catch(c){console.error("Error processing folder:",c)}},error:t})})]})]})},W6=({projectName:e,isLoading:t,error:n})=>{const{t:r}=Ln();return g.jsxs(Te,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[g.jsxs(Te,{direction:"column",gap:2,alignItems:"start",children:[g.jsx(Fe,{variant:"beta",children:r("chat.code-upload.confirmation-title","Confirm Code Import")}),g.jsx(Fe,{variant:"omega",textColor:"neutral600",children:r("chat.code-upload.confirmation-description","Your code is ready to be imported. Click finish to add it to your chat.")})]}),g.jsx(ze,{width:"100%",children:g.jsx(Sd,{attachment:{id:tl(),status:t?"loading":"ready",filename:e||"",url:"",type:"file",mediaType:Xv},error:n,minWidth:"256px"})})]})},V6=()=>{const[e,t]=K.useState(null),[n,r]=K.useState(null),{t:a}=Ln(),{addAttachments:s}=Ao(),{processZipFile:o,processFolder:c,isLoading:u,error:p}=Z6({onSuccess:I=>r(I)}),{isCodeUploadOpen:d,closeCodeUpload:h,submitOnFinish:v}=op(),{sendMessage:y,openChat:m,input:x,setInput:b}=fr(),k=()=>{t(null),r(null),h()},C=async()=>{m(),n&&v?y({role:"user",parts:[{type:"text",text:"Create schemas from my uploaded project"},n]}):n&&(x||b("Create schemas from my uploaded project"),s([n])),h()},T=()=>!!n;return g.jsxs(zi,{open:d,onOpenChange:I=>{I||k()},title:a("chat.code-upload.header","Import code"),onCancel:k,onComplete:C,children:[g.jsx(zi.Step,{title:a("chat.code-upload.step1-title","Import code"),nextLabel:a("chat.code-upload.continue-button","Continue"),cancelLabel:a("common.cancel","Cancel"),disableNext:!n||u,onNext:T,children:g.jsx(q6,{setFileName:t,error:p,processZipFile:o,processFolder:c})}),g.jsx(zi.Step,{title:a("chat.code-upload.step2-title","Confirm"),nextLabel:a("common.finish","Finish"),backLabel:a("form.button.back","Back"),disableNext:!n||u,children:g.jsx(W6,{projectName:e,isLoading:u,error:p})})]})},G6=vt(ze)`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 160px;
  width: 100%;
  border-radius: 4px 4px 0 0;
  overflow: hidden;
  cursor: pointer;
`,K6=vt(Cd)`
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  // make it appear gracefully when first rendering
  animation: ${pa.fadeIn} 0.3s ease;
`,J6=vt(jE)`
  height: 100%;
  width: 100%;
  ${({$selected:e,theme:t})=>e?`
      border: 2px solid ${t.colors.primary600};
      outline: 0px solid transparent;
    `:`
      border: 2px solid transparent;
      outline: 1px solid ${t.colors.neutral200};
    `}
  transition: all 0.2s ease-in-out;
`,Y6=({imageUrl:e,imageName:t,selected:n=!1,onSelect:r})=>g.jsx(Bs.Root,{src:e,alt:t,children:g.jsxs(J6,{role:"button",$selected:n,children:[g.jsxs(kE,{children:[g.jsx(CE,{checked:n,onCheckedChange:r}),g.jsx(SE,{position:"end",children:g.jsx(Bs.Trigger,{children:g.jsx(dr,{label:"Preview",type:"button",children:g.jsx(wv,{})})})}),g.jsx(G6,{onClick:r,children:g.jsx(K6,{src:e,alt:t})})]}),g.jsx(EE,{children:g.jsx(TE,{children:g.jsx(AE,{children:t})})})]})}),Ox="strapi-ai-figma-token",sp=()=>{try{return localStorage.getItem(Ox)||""}catch(e){return console.error("Error accessing localStorage:",e),""}},X6=e=>{try{localStorage.setItem(Ox,e)}catch(t){console.error("Error saving to localStorage:",t)}},od=()=>!!sp(),Q6=e=>{const t=/figma\.com\/(?:file|design)\/([a-zA-Z0-9]+)\/.*[?&]node-id=([^&]+)/,n=e.match(t);if(!n)throw new Error("Invalid Figma URL");const r=n[1],a=decodeURIComponent(n[2]).replace(/-/g,":");return{fileKey:r,nodeId:a}},Fx=()=>{const e=sp();if(!e)throw new Error("Figma API token is required");return e},eU=async(e,t)=>{const n=Fx();try{const r=`https://api.figma.com/v1/files/${e}/nodes?ids=${t}`,a=await fetch(r,{headers:{"X-Figma-Token":n}});if(!a.ok)throw new Error(`Figma API error: ${a.status} ${a.statusText}`);return(await a.json()).nodes[t]}catch(r){const a=r instanceof Error?r.message:"Failed to fetch Figma data";throw new Error(a)}},Mx=e=>{const t=[];if(e.type==="FRAME")return t.push({id:e.id,name:e.name}),t;if(e.children&&e.children.length>0)for(const n of e.children)t.push(...Mx(n));return t},tU=async(e,t)=>{const n=Fx();if(t.length===0)return{images:{}};try{const r=t.slice(0,50).join(","),a=`https://api.figma.com/v1/images/${e}?ids=${r}&format=png&scale=0.4`,s=await fetch(a,{headers:{"X-Figma-Token":n}});if(!s.ok){const c=await s.text();throw new Error(`Figma API image error: ${s.status} ${s.statusText} - ${c}`)}const o=await s.json();if(o.err)throw new Error(`Figma API image error: ${o.err}`);return o}catch(r){const a=r instanceof Error?r.message:"Failed to fetch Figma node images";throw new Error(a)}};function nU({onSuccess:e,onError:t}={}){const[n,r]=K.useState(!1),[a,s]=K.useState(null);return{processFigmaUrl:async c=>{try{if(!od()){const k="Figma API token is required";throw s(k),t?.(k),new Error(k)}r(!0),s(null);const{fileKey:u,nodeId:p}=Q6(c),d=await eU(u,p);if(!d.document)return;const h=Mx(d.document),v=new Map(h.map(k=>[k.id,k.name])),y=h.map(k=>k.id),x=(await tU(u,y)).images,b=Object.entries(x).map(([k,C])=>({id:k,type:"file",filename:v.get(k),mediaType:"image/png",url:C,status:"ready"}));return e?.(b),b}catch(u){const p=u instanceof Error?u.message:"Unknown error processing Figma URL";throw s(p),t?.(p),console.error("Error processing Figma URL:",u),u}finally{r(!1)}},isLoading:n,error:a}}const zx=K.createContext({isFigmaUploadOpen:!1,submitOnFinish:!1,openFigmaUpload:()=>{},closeFigmaUpload:()=>{}}),lp=()=>{const e=K.useContext(zx);if(!e)throw new Error("useUploadFigmaToChat must be used within an UploadFigmaToChatProvider");return e},rU=({children:e})=>{const[t,n]=K.useState(!1),[r,a]=K.useState(!1),s=c=>{n(!0),a(c??!1)},o=()=>n(!1);return g.jsxs(zx.Provider,{value:{isFigmaUploadOpen:t,submitOnFinish:r,openFigmaUpload:s,closeFigmaUpload:o},children:[t&&g.jsx(oU,{}),e]})},iU=({figmaUrl:e,setFigmaUrl:t})=>{const{t:n}=Ln(),{isLoading:r}=px(),[a,s]=K.useState(!od()),[o,c]=K.useState(sp),u=()=>{o.trim()&&(X6(o),s(!1))};return a?g.jsxs(Te,{direction:"column",gap:6,alignItems:"start",children:[g.jsxs(Te,{direction:"column",gap:2,alignItems:"start",children:[g.jsx(Fe,{variant:"beta",children:n("chat.figma-upload.token-title","Enter Figma API Token")}),g.jsx(Fe,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.token-description","To access your Figma designs, you need to provide a personal access token. This will be stored securely in your browser.")}),g.jsx(ol,{href:"https://help.figma.com/hc/en-us/articles/8085703771159-Manage-personal-access-tokens",isExternal:!0,children:n("chat.figma-upload.token-help","How to get a Figma API token")})]}),g.jsx(ze,{width:"100%",children:g.jsx(qr,{name:"figma-token",placeholder:n("chat.figma-upload.token-placeholder","Enter Figma API token"),"aria-label":n("chat.figma-upload.token-placeholder","Enter Figma API token"),value:o,onChange:p=>c(p.target.value),width:"100%",disabled:r,type:"password"})}),g.jsxs(Te,{gap:2,children:[g.jsx(gt,{onClick:u,disabled:!o.trim(),variant:"secondary",children:n("chat.figma-upload.save-token","Save token")}),g.jsx(gt,{onClick:()=>s(!1),variant:"tertiary",disabled:!od(),children:n("chat.figma-upload.cancel","Cancel")})]})]}):g.jsxs(Te,{direction:"column",gap:6,alignItems:"start",children:[g.jsxs(Te,{direction:"column",gap:2,alignItems:"start",width:"100%",children:[g.jsxs(Te,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[g.jsx(Fe,{variant:"beta",children:n("chat.figma-upload.title","Import Figma Design")}),g.jsx(gt,{onClick:()=>s(!0),variant:"tertiary",size:"S",children:n("chat.figma-upload.edit-token","Edit API token")})]}),g.jsx(Fe,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.description","Ask to turn your designs into schemas by attaching a link to one or multiple frames in your Figma files. (Max 15 frames)")})]}),g.jsx(ze,{width:"100%",children:g.jsx(qr,{name:"figma-url",placeholder:n("chat.figma-upload.url-placeholder","Enter Figma URL"),"aria-label":n("chat.figma-upload.url-placeholder","Enter Figma URL"),value:e,onChange:p=>t(p.target.value),width:"100%",disabled:r,type:"url"})})]})},aU=({images:e,selectedImages:t,setSelectedImages:n})=>{const{t:r}=Ln(),a=()=>{if(t.length===e.length)n([]);else{const o=e.map(c=>c.id);n(o)}};if(e.length===0)return g.jsx(Te,{direction:"column",gap:4,alignItems:"center",padding:4,children:g.jsx(Fe,{variant:"omega",children:r("chat.figma-upload.no-images","No frames found in the Figma file.")})});const s=o=>{const c=t.includes(o)?t.filter(u=>u!==o):[...t,o];n(c)};return g.jsxs(Te,{direction:"column",gap:4,alignItems:"start",width:"100%",height:"min(45vh, 400px)",children:[g.jsxs(Te,{justifyContent:"space-between",width:"100%",alignItems:"center",children:[g.jsx(Fe,{variant:"beta",children:r("chat.figma-upload.select-images","Select Frames to Import")}),g.jsxs(Te,{gap:3,alignItems:"center",children:[g.jsxs(Fe,{children:[t.length," of ",e.length," selected"]}),g.jsx(gt,{onClick:a,type:"button",variant:"secondary",children:t.length===e.length?r("chat.figma-upload.deselect-all","Deselect All"):r("chat.figma-upload.select-all","Select All")})]})]}),g.jsx(ze,{paddingRight:4,width:"100%",style:{overflowY:"auto"},children:g.jsx(ur.Root,{gap:4,children:e.map((o,c)=>{const u=t.includes(o.id);return g.jsx(ur.Item,{col:6,xs:12,padding:"1px",children:g.jsx(Y6,{imageUrl:o.url,imageName:o.filename||`Frame ${c+1}`,selected:u,onSelect:()=>s(o.id)})},o.id)})})})]})},oU=()=>{const[e,t]=K.useState(""),[n,r]=K.useState([]),[a,s]=K.useState([]),{t:o}=Ln(),{addAttachments:c}=Ao(),{isFigmaUploadOpen:u,closeFigmaUpload:p,submitOnFinish:d}=lp(),{input:h,setInput:v,setMessages:y,sendMessage:m,openChat:x}=fr(),{processFigmaUrl:b,isLoading:k,error:C}=nU({onSuccess:B=>{r(B);const U=B.slice(0,15).map(X=>X.id);s(U)}}),T=async()=>(await b(e),!0),I=B=>{if(!B)return!1;try{const U=new URL(B);return U.hostname==="www.figma.com"||U.hostname==="figma.com"}catch{return!1}},$=()=>{t(""),r([]),s([]),p()},M=()=>{const B=n.filter(U=>a.includes(U.id));if(B.length===0){p();return}x(),d?(m({role:"user",parts:[{type:"text",text:"Create schemas from the attached images"},...B]}),p()):(h||v("Create schemas from the attached images"),c(B),p())};return g.jsxs(zi,{open:u,onOpenChange:B=>{B||$()},title:o("chat.figma-upload.header","Import from Figma"),onCancel:$,onComplete:M,children:[g.jsx(zi.Step,{title:o("chat.figma-upload.step1-title","Enter Figma URL"),nextLabel:o("chat.figma-upload.import-button","Import"),cancelLabel:o("form.button.cancel","Cancel"),disableNext:!e||k||!I(e),onNext:T,children:g.jsx(iU,{figmaUrl:e,setFigmaUrl:t,error:C})}),g.jsx(zi.Step,{title:o("chat.figma-upload.step2-title","Preview Images"),nextLabel:o("form.button.finish","Finish"),backLabel:o("form.button.back","Back"),disableNext:a.length===0,children:g.jsx(aU,{images:n,selectedImages:a,setSelectedImages:s})})]})},sU={create:"NEW",remove:"REMOVED",update:"CHANGED"},Cu=(e,t,n)=>({...t,name:e,status:n}),lU=(e,t,n)=>{if(!t||n?.status==="NEW")return"NEW";const r=Ds(e,["status"]),a=Ds(t,["status"]);return po(r,a)?t.status:"CHANGED"},Wg=(e,t)=>e.action?sU[e.action]:t?t.status:"NEW",Vg=({action:e,attributes:t},n)=>{if(e==="create"||!n)return Object.entries(t).map(([o,c])=>Cu(o,c,"NEW"));const r=n.attributes.reduce((o,c)=>({...o,[c.name]:c}),{}),a=Object.entries(t).map(([o,c])=>{const u=r[o],p=lU({...c,name:o},u,n);return Cu(o,c,p)});if(n?.status==="NEW")return a;const s=Object.entries(r).filter(([o])=>!t[o]).map(([o,c])=>Cu(o,c,"REMOVED"));return[...a,...s]},cU=(e,t)=>{const n=xa.singular(e.name).toLowerCase().replace(/ /g,"-"),r=xa.plural(e.name).toLowerCase().replace(/ /g,"-");return e.modelType==="component"?{category:e.category||"default",modelName:n,attributes:Vg(e,t),info:{displayName:e.name,description:e.description},modelType:e.modelType,uid:e.uid,collectionName:r,status:Wg(e,t),globalId:n}:{uid:e.uid,modelType:e.modelType,modelName:n,kind:e.kind,info:{displayName:e.name.charAt(0).toUpperCase()+e.name.slice(1),singularName:t?.info?.singularName||n,pluralName:t?.info?.pluralName||r},collectionName:r,attributes:Vg(e,t),options:{draftAndPublish:e.options?.draftAndPublish??!1},pluginOptions:{i18n:{localized:e.options?.localized??!1}},visible:!0,status:Wg(e,t),globalId:n,restrictRelationsTo:null}},uU=K.createContext(void 0),dU={create:"add",update:"update",remove:"delete"};function pU(e){if(e.role!=="assistant")return[];const t=[];return e.parts?.forEach((n,r)=>{if(n&&typeof n=="object"&&n.type==="tool-schemaGenerationTool"){const a=n.output;if(!a||a.error||!Array.isArray(a.schemas))return;const s=n.toolCallId??`${e.id}-${r}`;a.schemas.forEach((o,c)=>{const u=`${s}-${o.uid??o.name??c}`,p=o.action||"update";t.push({type:p,schema:o,revisionId:u})})}}),t}const fU=({children:e})=>{const[t,n]=K.useState(null),{messages:r,status:a}=fr(),{contentTypes:s,components:o,applyChange:c}=Jn(),u=$i("SchemaChatProvider",d=>d.dispatch),p=$i("SchemaChatProvider",d=>d.state);return K.useEffect(()=>{const d=r[r.length-1];if(!d||d.role!=="assistant"||a!=="ready")return;const h=pU(d),v=p.completedActions.includes(Ls.contentTypeBuilder.addField);h.forEach(y=>{const m=s[y.schema.uid]||o[y.schema.uid],x=cU(y.schema,m);!v&&y.schema.attributes&&y.type!=="remove"&&Object.keys(y.schema.attributes).length>0&&u({type:"set_completed_actions",payload:[Ls.contentTypeBuilder.addField]}),c({action:dU[y.type],schema:x})}),n(d.id)},[r]),g.jsx(uU.Provider,{value:{lastRevisedId:t,setLastRevisedId:n},children:e})},Nx=K.createContext(void 0),Gg=()=>Math.random().toString(36).substring(2,15),hU=({children:e,defaultOpen:t=!1})=>{const[n,r]=K.useState(Gg()),[a,s]=K.useState(t),[o,c]=K.useState(0),[u,p]=K.useState(""),[d,h]=K.useState([]),{trackUsage:v}=Li(),{components:y,contentTypes:m}=Jn(),{lastSeenSchemas:x}=cB(),b=K.useMemo(()=>[...Object.values(m).filter(R=>R.status!=="REMOVED").filter(R=>R.uid!=="plugin::users-permissions.user").filter(R=>R.visible).map(_g),...Object.values(y).filter(R=>R.status!=="REMOVED").map(_g)],[m,y]),{id:k,messages:C,sendMessage:T,status:I,stop:$,...M}=aB({id:n?.toString(),experimental_throttle:100}),B=async(R,G)=>{if(!(I==="streaming"||I==="submitted"))return T(R,{...G,body:{...G?.body,schemas:b,metadata:{lastSeenSchemas:x.map(_=>_.uid)}}})},U=R=>{if(R.preventDefault(),I==="streaming"||I==="submitted")return;const G=d.filter(L=>L.status!=="loading");if(u.trim().length===0&&d.length===0)return;const _=G.map(L=>({type:"file",filename:L.filename,mediaType:L.mediaType,url:L.url}));B({text:u,files:_}),p(""),h([])},{title:X,generateTitle:Y,resetTitle:q}=oB({chatId:k,messages:C});K.useEffect(()=>{C.length>=1&&!X&&Y()},[C.length,X,Y]),K.useEffect(()=>{I==="error"?v("didAnswerMessage",{successful:!1}):I==="ready"&&C.length>0&&C[C.length-1]?.role==="assistant"&&v("didAnswerMessage",{successful:!0})},[I,C,v]);const se=_v();return g.jsx(Nx.Provider,{value:{isChatEnabled:se,id:k,status:I,stop:$,sendMessage:B,...M,messages:C,handleSubmit:U,input:u,setInput:p,handleInputChange:R=>p(R.target.value),reset:()=>{$(),r(Gg()),v("didStartNewChat"),q()},schemas:b,title:X,isChatOpen:a,openChat:()=>{s(!0),o===0&&v("didStartNewChat"),c(R=>R+1)},closeChat:()=>s(!1),attachments:d,setAttachments:h},children:e})},mU=({children:e,defaultOpen:t=!1})=>g.jsx(hU,{defaultOpen:t,children:g.jsx(fU,{children:g.jsx(H6,{children:g.jsx(rU,{children:g.jsx(gU,{children:e})})})})});function fr(){const e=K.useContext(Nx);return e===void 0?(console.warn("useStrapiChat was called outside of ChatProvider. This is only allowed in development mode."),{}):e}const $x=()=>{const{fetch:e,isPending:t,error:n}=rB(),{id:r,messages:a,schemas:s}=fr(),{toggleNotification:o}=Sa(),{trackUsage:c}=Li(),{t:u}=Ln(),[p,d]=K.useState({}),h=m=>!!p[m];return{upvoteMessage:m=>h(m)?Promise.resolve():(c("didVoteAnswer",{value:"positive"}),o({type:"success",message:u("chat.feedback.submitted","Thank you for your feedback! ")}),d(x=>({...x,[m]:"upvote"})),e({body:{type:"upvote",chatId:r,messageId:m,messages:a,schemas:s}})),downvoteMessage:(m,x,b)=>(c("didVoteAnswer",{value:"negative"}),o({type:"success",message:u("chat.feedback.submitted","Thank you for your feedback! ")}),e({body:{type:"downvote",chatId:r,messageId:m,messages:a,feedback:x,reasons:b,schemas:s}})),isPending:t,error:n}},Px=K.createContext({isFeedbackModalOpen:!1,currentMessageId:null,openFeedbackModal:()=>{},closeFeedbackModal:()=>{}}),Dx=()=>K.useContext(Px),gU=({children:e})=>{const[t,n]=K.useState(!1),[r,a]=K.useState(null),s=c=>{a(c),n(!0)},o=()=>{n(!1),a(null)};return g.jsxs(Px.Provider,{value:{isFeedbackModalOpen:t,currentMessageId:r,openFeedbackModal:s,closeFeedbackModal:o},children:[t&&r&&g.jsx(bU,{}),e]})},vU=vt(Te)`
  &:hover {
    background-color: ${({theme:e})=>e.colors.neutral100};
  }

  &.selected {
    background-color: ${({theme:e})=>e.colors.primary100};
    border-color: ${({theme:e})=>e.colors.primary200};
  }
`,yU=({id:e,label:t,selected:n,onClick:r})=>g.jsxs(vU,{className:n?"selected":"",justifyContent:"space-between",hasRadius:!0,width:"100%",cursor:"pointer",borderColor:"neutral200",padding:3,gap:3,onClick:()=>r(e),children:[g.jsx(Fe,{variant:"omega",fontWeight:"bold",children:t}),g.jsx(sl,{name:`feedback-${e}`,value:e,checked:n,onChange:()=>r(e)})]}),bU=()=>{const[e,t]=K.useState(""),[n,r]=K.useState([]),{t:a}=Ln(),{toggleNotification:s}=Sa(),{closeFeedbackModal:o,currentMessageId:c}=Dx(),{downvoteMessage:u,isPending:p}=$x(),d=[{id:"invalid_schema",label:a("chat.feedback.reason.invalid_schema","Invalid schema")},{id:"bad_recommendation",label:a("chat.feedback.reason.bad_recommendation","Bad recommendation")},{id:"slow",label:a("chat.feedback.reason.slow","Slow")},{id:"instructions_ignored",label:a("chat.feedback.reason.instructions_ignored","Instructions ignored")},{id:"being_lazy",label:a("chat.feedback.reason.being_lazy","Being lazy")},{id:"other",label:a("chat.feedback.reason.other","Other")}],h=y=>{r(m=>m.includes(y)?m.filter(x=>x!==y):[...m,y])},v=async()=>{if(n.length!==0)try{await u(c,e,n),t(""),r([]),o()}catch{s({type:"danger",message:a("chat.feedback.error","An error occurred while submitting your feedback")})}};return g.jsx(pn.Root,{open:!0,onOpenChange:o,children:g.jsxs(pn.Content,{children:[g.jsx(pn.Header,{children:g.jsx(Fe,{variant:"omega",fontWeight:"bold",children:a("chat.feedback.title","Give feedback")})}),g.jsx(pn.Body,{children:g.jsxs(Te,{direction:"column",alignItems:"start",gap:6,width:"100%",children:[g.jsxs(Te,{direction:"column",alignItems:"start",gap:2,children:[g.jsx(Fe,{variant:"beta",fontWeight:"bold",children:a("chat.feedback.title","Give feedback")}),g.jsx(Fe,{variant:"omega",children:a("chat.feedback.subtitle","Provide additional feedback on this message. Select all that apply.")})]}),g.jsx(ur.Root,{width:"100%",gap:2,children:d.map(y=>g.jsx(ur.Item,{col:6,xs:12,children:g.jsx(yU,{id:y.id,label:y.label,selected:n.includes(y.id),onClick:h},y.id)},y.id))}),g.jsxs(Te,{direction:"column",gap:2,width:"100%",alignItems:"start",children:[g.jsx(Fe,{variant:"omega",children:a("chat.feedback.comment.label","How can we improve? (optional)")}),g.jsx(ze,{width:"100%",children:g.jsx(yd,{name:"feedback",placeholder:a("chat.feedback.placeholder","Your feedback..."),onChange:y=>t(y.target.value),value:e})})]})]})}),g.jsxs(pn.Footer,{children:[g.jsx(pn.Close,{children:g.jsx(gt,{variant:"tertiary",onClick:o,children:a("form.button.cancel","Cancel")})}),g.jsx(gt,{onClick:v,loading:p,disabled:n.length===0,children:a("form.button.submit","Submit")})]})]})})},Lx=K.createContext(void 0),Bx=()=>{const e=K.useContext(Lx);if(!e)throw new Error("Collapsible components must be wrapped in <Collapsible />");return e},xU=vt(ze)`
  overflow: hidden;
  transition: height ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,wU=({children:e,defaultOpen:t=!1})=>{const[n,r]=K.useState(t);return g.jsx(Lx.Provider,{value:{open:n,toggle:()=>r(a=>!a)},children:e})},_U=({children:e})=>{const{toggle:t,open:n}=Bx();return g.jsx(ze,{onClick:t,style:{cursor:"pointer"},children:typeof e=="function"?e({open:n}):e})},kU=({children:e})=>{const{open:t}=Bx(),n=K.useRef(null),[r,a]=K.useState(0);return K.useLayoutEffect(()=>{if(n.current){const s=n.current.scrollHeight;a(s)}},[e]),g.jsx(xU,{ref:n,role:"region","aria-hidden":!t,style:{height:t?`${r}px`:0,visibility:r===0?"hidden":"visible"},children:e})},CU=ji`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SU=vt(RE)`
  animation: ${CU} 1s linear infinite;
`,EU=vt(ze)`
  transform: rotate(${({$open:e})=>e?"180deg":"0deg"});
  transition: transform ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,TU=({status:e})=>{switch(e){case"update":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"warning500",children:"M"});case"remove":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"create":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"success500",children:"N"});default:return null}},AU=({title:e,steps:t,state:n})=>{const r=()=>{switch(n){case"success":return g.jsx(Cv,{fill:"success500"});case"loading":return g.jsx(SU,{});case"error":return g.jsx(vd,{fill:"danger500"});default:return null}};return g.jsx(ze,{borderWidth:"1px",borderColor:"neutral200",borderStyle:"solid",hasRadius:!0,marginBottom:3,width:"336px",children:g.jsxs(wU,{defaultOpen:!1,children:[g.jsx(_U,{children:({open:a})=>g.jsx(ze,{padding:3,borderColor:"neutral200",borderWidth:a?"0 0 1px 0":"0",borderStyle:"solid",children:g.jsxs(Te,{gap:2,alignItems:"center",children:[r(),g.jsx(Fe,{children:e}),g.jsx(Te,{marginLeft:"auto",children:g.jsx(EU,{as:IE,$open:a})})]})})}),g.jsx(kU,{children:g.jsx(Te,{gap:3,padding:3,direction:"column",children:t.map(a=>g.jsxs(Te,{gap:2,justifyContent:"space-between",width:"100%",padding:[0,1],children:[a.link?g.jsx(ol,{tag:kv,to:a.link,children:g.jsx(Fe,{children:a.description})}):g.jsx(Fe,{children:a.description}),g.jsx(TU,{status:a.status})]},a.id))})})]})})},jU=vt(Fe)`
  max-width: 65ch;
  margin: 0 auto;
  overflow-wrap: anywhere;
  word-break: break-word;

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-top: 1.25em;
    margin-bottom: 0.5em;
    font-weight: bold;
  }

  p {
    margin-bottom: 1em;
  }

  ul,
  ol {
    padding-left: 1.5em; /* indentation for bullet points */
    margin-bottom: 1em;
  }

  li {
    margin-bottom: 0.5em;
    list-style-type: disc; /* or whatever style you prefer */
  }

  strong {
    font-weight: bold;
  }

  /* code blocks, blockquotes, etc. */
  code {
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    font-family: 'SF Mono', SFMono-Regular, ui-monospace, 'DejaVu Sans Mono', Menlo, Consolas,
      monospace;
  }

  /* links */
  a {
    color: ${({theme:e})=>e.colors.primary500};
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
`,IU=vt(Fe)`
  overflow-wrap: anywhere;
  word-break: break-word;
`,RU=e=>e&&typeof e=="object"&&e.type==="tool-schemaGenerationTool",OU=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",FU=e=>{const t=(e.kind??e.modelType)==="component";if(e.uid)return t?`/plugins/content-type-builder/component-categories/${e.category??""}/${e.uid}`:`/plugins/content-type-builder/content-types/${e.uid}`},MU=e=>{const t=e.output?.schemas??[],n=e.input?.schemas??[],r=t.length?t:n,a=r.length,s=e.output?e.output.error?"error":"success":"loading",o=r.map((u,p)=>({id:`${e.toolCallId??"schemaGenerationTool"}-${u.uid??u.name??p}`,description:OU(u.name??u.uid??"Schema"),status:u.action==="create"||u.action==="update"||u.action==="remove"?u.action:"update",link:FU(u)}));return{type:"marker",title:s==="success"?`Updated ${a} schema${a===1?"":"s"}`:s==="error"?`Failed to update schema${a===1?"":"s"}`:"Updating schemas",state:s,steps:o}},zU=({part:e})=>{if(e.type==="text")return g.jsx(jU,{children:g.jsx(sN,{components:{a:({node:t,...n})=>g.jsx("a",{target:"_blank",rel:"noopener noreferrer",...n})},children:e.text})});if(RU(e)){const t=MU(e);return g.jsx(AU,{...t})}return null},NU=({message:e})=>{const t=e.parts.some(r=>r.type==="text"&&r.text.trim()!==""),n=e.parts.filter(r=>r.type==="file");return g.jsxs(Yv,{as:Te,direction:"column",alignItems:"flex-end",style:{alignSelf:"flex-end"},gap:2,maxWidth:"80%",children:[t?g.jsx(ze,{background:"neutral150",borderStyle:"none",padding:["10px","16px"],hasRadius:!0,children:e.parts.map((r,a)=>r.type!=="text"?null:g.jsx(IU,{children:r.text},a))}):null,n.map((r,a)=>g.jsx(Sd,{attachment:{...r,status:"ready"}},`${r.type==="file"?r.filename:r.type}-${a}`))]})},$U=({message:e,isLoading:t})=>{const{upvoteMessage:n}=$x(),{openFeedbackModal:r}=Dx();return g.jsxs(ze,{style:{alignSelf:"flex-start"},maxWidth:"90%",children:[e.parts.map((a,s)=>g.jsx(zU,{part:a},s)),t?g.jsxs(Te,{gap:1,children:[g.jsx(dr,{label:"Upvote",size:"XS",variant:"ghost",onClick:()=>n(e.id),children:g.jsx(Sv,{})}),g.jsx(dr,{label:"Downvote",size:"XS",variant:"ghost",onClick:()=>r(e.id),children:g.jsx(Ev,{})})]}):null]})},PU=({message:e,isLoading:t})=>e.role==="user"?g.jsx(NU,{message:e}):g.jsx($U,{message:e}),DU=vt(ze).attrs({as:"textarea"})`
  border: none;
  resize: none;
  background: transparent;
  outline: none !important;
  width: 100%;
  min-height: 44px;
  max-height: 160px;
  line-height: ${({theme:e})=>e.lineHeights[4]};
  font-size: ${({theme:e})=>e.fontSizes[2]};
  color: ${({theme:e})=>e.colors.neutral800};
  padding-bottom: ${({theme:e})=>e.spaces[1]};
  overflow-y: auto;

  /* Show partial lines when content exceeds visible area */
  height: ${({rows:e,theme:t})=>e===5?`calc(${e} * ${t.lineHeights[4]} * 1em + 0.7em)`:`calc(${e} * ${t.lineHeights[4]} * 1em)`};

  &:disabled,
  &::placeholder {
    color: ${({theme:e})=>e.colors.neutral600};
  }
`,LU=({value:e,onChange:t,onSubmit:n,placeholder:r})=>{const a=K.useRef(null),[s,o]=K.useState(1),c=p=>{if(!p)return 1;const d=(p.match(/\n/g)||[]).length+1;return Math.min(d,5)};K.useEffect(()=>{o(c(e))},[e]);const u=p=>{a.current?.value.trim()&&p.key==="Enter"&&!p.shiftKey&&n&&(p.preventDefault(),n(p),setTimeout(()=>{a.current?.focus()},10))};return K.useEffect(()=>{a.current?.focus()},[a]),g.jsx(DU,{ref:a,value:e,onChange:t,onKeyDown:u,placeholder:r,rows:s})},BU=K.forwardRef(({children:e,onOpen:t,onClose:n,popoverPlacement:r,...a},s)=>{const o=K.useRef(null),c=OE(s,o),u=p=>{p&&typeof t=="function"?t():!p&&typeof n=="function"&&n()};return g.jsxs(Tn.Root,{onOpenChange:u,children:[g.jsx(Tn.Trigger,{ref:c,...a,children:a.label}),g.jsx(Tn.Content,{zIndex:1e4,popoverPlacement:r,children:e})]})}),Su=Tn.Item,UU=vt(Te)`
  @media (max-height: 500px) {
    display: none;
  }
`,ZU=()=>{const{sendMessage:e}=fr(),{t}=Ln(),{trackUsage:n}=Li(),r=[t("chat.input.defaults.generate","Generate a product schema"),t("chat.input.defaults.ctb","Tell me about the Content-Type Builder"),t("chat.input.defaults.strapi","Tell me about Strapi")],a={[t("chat.input.defaults.generate","Generate a product schema")]:"generate-product-schema",[t("chat.input.defaults.ctb","Tell me about the Content-Type Builder")]:"tell-me-about-the-content-type-builder",[t("chat.input.defaults.strapi","Tell me about Strapi")]:"tell-me-about-strapi"},s=t("chat.input.defaults.title","How can I help you?");return g.jsx(Yv,{children:g.jsxs(UU,{direction:"column",alignItems:"flex-start",gap:3,children:[g.jsx(Fe,{variant:"omega",fontWeight:"bold",children:s}),g.jsx(Te,{direction:"column",alignItems:"flex-start",gap:2,children:r.map(o=>g.jsx(gt,{startIcon:g.jsx(ll,{fill:"neutral500"}),size:"M",variant:"tertiary",onClick:()=>{n("didUsePresetPrompt",{promptType:a[o]}),e({text:o})},children:g.jsx(Fe,{fontWeight:"regular",children:o})},o))})]})})},HU=e=>{try{return JSON.parse(e.message).error}catch{return e}},qU=()=>{const{error:e}=fr(),{t}=Ln(),n=t("chat.messages.error","Something went wrong."),r=t("chat.messages.too-many-requests","Too many requests, please try again later."),a=t("chat.messages.license-limit-reached","License limit reached, please try again tomorrow."),s=t("chat.messages.license-limit-exceeded","AI credit limit exceeded."),o=t("chat.messages.too-long-error","This conversation reached its maximum length. Start a new conversation");if(!e)return null;const c=HU(e);return!c||typeof c!="string"?null:c===Y5?g.jsx(Ya,{title:r,variant:"warning"}):c===X5?g.jsx(Ya,{title:a,variant:"warning"}):c.split(".")[0]===Q5?g.jsx(Ya,{title:s,variant:"danger"}):c===eB?g.jsx(Ya,{title:o,variant:"danger"}):g.jsx(Ya,{title:n,variant:"danger"})},WU=({messages:e})=>{const t=K.useRef(null),{status:n}=fr();return K.useEffect(()=>{const r=setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},20);return()=>clearTimeout(r)},[e,n]),g.jsxs(g.Fragment,{children:[g.jsxs(Te,{direction:"column",gap:5,children:[e.map((r,a)=>g.jsx(PU,{message:r,isLoading:(n==="streaming"||n==="submitted")&&a===e.length-1},r.id)),n==="error"&&g.jsx(qU,{})]}),g.jsx("div",{ref:t})]})},VU=()=>{const{attachments:e,removeAttachmentByIndex:t}=Ao();return e.length?g.jsx(Ii.Attachments,{children:e.map((n,r)=>g.jsx(ze,{maxWidth:"250px",children:g.jsx(Sd,{attachment:n,onRemove:()=>t(r)})},n.filename))}):null},GU=()=>{const{attachFiles:e}=Ao(),{openCodeUpload:t}=op(),{openFigmaUpload:n}=lp(),{t:r}=Ln(),a=K.useRef(null),s=r("chat.tooltips.upload-attachments","Upload attachments"),o=r("chat.attachments.menu.import-code","Import code"),c=r("chat.attachments.menu.attach-image","Attach image"),u=r("chat.attachments.menu.import-figma","Import from Figma");return g.jsxs(BU,{label:s,icon:g.jsx(xd,{}),tag:dr,popoverPlacement:"top-end",children:[g.jsx(Su,{startIcon:g.jsx(Av,{}),onSelect:()=>t(),children:o}),g.jsx(Su,{startIcon:g.jsx(gy,{}),onSelect:()=>n(),children:u}),g.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,ref:a}),g.jsx(Su,{startIcon:g.jsx(FE,{}),onSelect:()=>{const p=a.current;p&&(p.onchange=d=>{const h=d.target;h.files&&h.files.length>0&&e(Array.from(h.files))},p.click())},children:c})]})},KU=({children:e})=>{const[t,n]=K.useState("");return K.useEffect(()=>{const r=["",".","..","..."];let a=0;const s=setInterval(()=>{a=(a+1)%r.length,n(r[a])},400);return()=>clearInterval(s)},[]),g.jsxs(Fe,{variant:"pi",textColor:"neutral600",children:[e,t]})},JU=e=>{const{input:t,handleSubmit:n,handleInputChange:r,messages:a,status:s,stop:o,attachments:c}=fr(),{t:u}=Ln(),p=s==="streaming"||s==="submitted";return g.jsx(g.Fragment,{children:g.jsx("form",{onSubmit:n,...e,children:g.jsxs(Ii.Root,{isLoading:p,gap:4,children:[g.jsxs(Ii.Header,{minHeight:0,children:[a.length===0&&g.jsx(Ii.HeaderItem,{children:g.jsx(ZU,{})}),p&&g.jsx(Ii.HeaderItem,{children:g.jsx(KU,{children:u("chat.input.thinking","Strapi AI is thinking")})})]}),g.jsxs(Ii.Content,{children:[g.jsx(hy.Area,{}),g.jsx(VU,{}),g.jsx(ze,{paddingBottom:3,children:g.jsx(LU,{value:t,onChange:r,onSubmit:n,placeholder:u("chat.input.placeholder","Ask Strapi AI...")})}),g.jsxs(Ii.Actions,{children:[g.jsx(GU,{}),p?g.jsx(dr,{label:u("chat.tooltips.stop-generation","Stop"),type:"button",variant:"default",onClick:d=>{d.preventDefault(),o()},children:g.jsx(dR,{})}):g.jsx(dr,{label:u("chat.tooltips.send-message","Send"),variant:"default",type:"submit",disabled:t.trim().length===0&&c.length===0,children:g.jsx(Tv,{})})]})]})]})})})},YU=()=>{const{title:e,messages:t,isChatOpen:n,isChatEnabled:r,openChat:a,closeChat:s,reset:o}=fr(),{attachFiles:c}=Ao(),{t:u}=Ln(),p=$i("Chat",k=>k.state),h=Vr("Chat",k=>k.currentEnvironment)==="production";K.useEffect(()=>{p.enabled&&p.tours.contentTypeBuilder?.currentStep===1&&!p.tours.contentTypeBuilder?.isCompleted&&!n&&a&&a()},[p.tours.contentTypeBuilder?.currentStep,p.tours.contentTypeBuilder?.isCompleted,p.enabled,n,a]);const v=u("chat.tooltips.open-chat","Open chat"),y=u("chat.tooltips.close-chat","Close chat"),m=u("chat.tooltips.create-chat","New conversation"),x=u("chat.header.default-title","New conversation"),b=u("chat.input.strapi-ai-can-make-errors","Strapi AI can make mistakes.");return!r||h?null:g.jsx(hy.Root,{onAddFiles:k=>{c(k)},children:g.jsxs(Xa.Root,{size:"md",position:"bottom-right",isOpen:n,onToggle:n?s:a,toggleIcon:g.jsx(dr,{onClick:n?s:a,label:n?y:v,variant:"default",size:"L",children:g.jsx(ll,{})}),children:[g.jsxs(Xa.Header,{children:[g.jsx(Fe,{tag:"h3",variant:"omega",fontWeight:"bold",children:e||x}),g.jsxs(Te,{gap:0,children:[g.jsx(dr,{label:m,variant:"ghost",onClick:o,children:g.jsx(li,{})}),g.jsx(Xa.Close,{label:y})]})]}),g.jsx(Xa.Body,{children:g.jsxs(bd.contentTypeBuilder.AIChat,{children:[t.length?null:g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:b}),g.jsx(WU,{messages:t})]})}),g.jsx(Xa.Footer,{children:g.jsx(JU,{})})]})})},re=e=>`${ci}.${e}`,Kg=({status:e})=>{switch(e){case"UNCHANGED":return null;case"CHANGED":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"alternative500",children:"M"});case"REMOVED":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"NEW":return g.jsx(Fe,{fontWeight:"semiBold",textColor:"success500",children:"N"})}},U8=({status:e})=>{switch(e){case"CHANGED":return g.jsx(ws,{fontWeight:"bold",textColor:"alternative600",backgroundColor:"alternative100",borderColor:"alternative200",children:"Modified"});case"REMOVED":return g.jsx(ws,{fontWeight:"bold",textColor:"danger600",backgroundColor:"danger100",borderColor:"danger200",children:"Deleted"});case"NEW":return g.jsx(ws,{fontWeight:"bold",textColor:"success600",backgroundColor:"success100",borderColor:"success200",children:"New"});case"UNCHANGED":default:return g.jsx(ws,{style:{visibility:"hidden"},fontWeight:"bold",textColor:"warning600",backgroundColor:"warning100",borderColor:"warning200",children:"Unchanged"})}},Ux=K.createContext(),ja=()=>K.useContext(Ux),XU=()=>{const{componentsGroupedByCategory:e,isInDevelopmentMode:t,sortedContentTypesList:n}=Jn(),{trackUsage:r}=Li(),[a,s]=K.useState(""),{onOpenModalCreateSchema:o}=ja(),{locale:c}=mt(),{contains:u}=ME(c,{sensitivity:"base"}),p=zE(c,{sensitivity:"base"}),d=()=>{r("willCreateContentType"),o({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})},h=()=>{r("willCreateSingleType"),o({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})},v=()=>{r("willCreateComponent"),o({modalType:"component",kind:null,actionType:"create",forTarget:"component"})},y=Object.entries(e).map(([b,k])=>({name:b,title:Mi(b),links:k.map(C=>({name:C.uid,to:`/plugins/${ci}/component-categories/${b}/${C.uid}`,title:C.info.displayName,status:C.status})).sort((C,T)=>p.compare(C.title,T.title))})).sort((b,k)=>p.compare(b.title,k.title)),m=n.filter(b=>b.visible).map(b=>({kind:b.kind,name:b.name,to:b.to,title:b.title,status:b.status}));return{menu:[{name:"models",title:{id:`${re("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:t?{id:`${re("button.model.create")}`,defaultMessage:"Create new collection type",onClick:d}:void 0,links:m.filter(b=>b.kind==="collectionType")},{name:"singleTypes",title:{id:`${re("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:t?{id:`${re("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:h}:void 0,links:m.filter(b=>b.kind==="singleType")},{name:"components",title:{id:`${re("menu.section.components.name")}`,defaultMessage:"Components"},customLink:t?{id:`${re("button.component.create")}`,defaultMessage:"Create a new component",onClick:v}:void 0,links:y}].map(b=>{if(b.links.some(T=>"links"in T&&Array.isArray(T.links))){let T=0;return{...b,links:b.links.reduce((I,$)=>{const M="links"in $?$.links.filter(B=>u(B.title,a)):[];return M.length===0||(T+=M.length,I.push({...$,links:M.sort((B,U)=>p.compare(B.title,U.title))})),I},[]),linksCount:T}}const C=b.links.filter(T=>u(T.title,a)).sort((T,I)=>p.compare(T.title,I.title));return{...b,links:C,linksCount:C.length}}),search:{value:a,onChange:s,clear:()=>s("")}}},QU=vt(wd)`
  transform: scaleX(-1);
`,e3=vt(Tn.Item)`
  color: ${({theme:e})=>e.colors.danger600};

  &:hover {
    background: ${({theme:e,disabled:t})=>!t&&e.colors.danger100};
  }
`,t3=()=>{const{menu:e,search:t}=XU(),{saveSchema:n,isModified:r,history:a,isInDevelopmentMode:s}=Jn(),{formatMessage:o}=mt(),[c,u]=K.useState(!1),[p,d]=K.useState(!1);K.useEffect(()=>{if(!s)return;const b=k=>{(k.ctrlKey||k.metaKey)&&(k.key==="Enter"?r&&(k.preventDefault(),n()):k.key==="z"&&!k.shiftKey?(k.preventDefault(),a.undo()):(k.key==="y"||k.shiftKey&&k.key==="z"||k.key==="Z")&&(k.preventDefault(),a.redo()))};return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}});const h=()=>{d(!0)},v=()=>{u(!1),d(!1),a.discardAllChanges()},y=()=>{a.undo()},m=()=>{a.redo()},x=o({id:re("plugin.name"),defaultMessage:"Content-Type Builder"});return g.jsxs(ai.Main,{"aria-label":x,children:[g.jsx(ai.Header,{label:x}),g.jsx(cl,{background:"neutral150"}),g.jsxs(ai.Content,{children:[g.jsxs(Te,{padding:5,gap:3,direction:"column",alignItems:"stretch",children:[g.jsx(bd.contentTypeBuilder.Save,{children:g.jsxs(Te,{gap:2,children:[g.jsx(gt,{flex:1,onClick:b=>{b.preventDefault(),n()},type:"submit",disabled:!r||!s,fullWidth:!0,size:"S",children:o({id:"global.save",defaultMessage:"Save"})}),g.jsxs(Tn.Root,{open:c,onOpenChange:u,children:[g.jsxs(Tn.Trigger,{size:"S",endIcon:null,paddingTop:"4px",paddingLeft:"7px",paddingRight:"7px",variant:"tertiary",children:[g.jsx(NE,{fill:"neutral500","aria-hidden":!0,focusable:!1}),g.jsx(jv,{tag:"span",children:o({id:"global.more.actions",defaultMessage:"More actions"})})]}),g.jsxs(Tn.Content,{zIndex:1,children:[g.jsx(Tn.Item,{disabled:!a.canUndo||!s,onSelect:y,startIcon:g.jsx(QU,{}),children:o({id:"global.last-change.undo",defaultMessage:"Undo last change"})}),g.jsx(Tn.Item,{disabled:!a.canRedo||!s,onSelect:m,startIcon:g.jsx(wd,{}),children:o({id:"global.last-change.redo",defaultMessage:"Redo last change"})}),g.jsx(Tn.Separator,{}),g.jsx(e3,{disabled:!a.canDiscardAll||!s,onSelect:h,children:g.jsxs(Te,{gap:2,children:[g.jsx(vd,{}),g.jsx(Fe,{children:o({id:"global.last-changes.discard",defaultMessage:"Discard last changes"})})]})})]})]})]})}),g.jsx(Iv,{value:t.value,onChange:b=>t.onChange(b.target.value),onClear:()=>t.onChange(""),placeholder:o({id:re("search.placeholder"),defaultMessage:"Search"}),size:"S",children:void 0,name:"search_contentType",clearLabel:o({id:"clearLabel",defaultMessage:"Clear"}),"aria-label":o({id:re("search.placeholder"),defaultMessage:"Search"})})]}),g.jsx(ai.Sections,{children:e.map(b=>g.jsx(K.Fragment,{children:g.jsx(ai.Section,{label:o({id:b.title.id,defaultMessage:b.title.defaultMessage}),link:b.customLink&&{label:o({id:b.customLink?.id,defaultMessage:b.customLink?.defaultMessage}),onClick:b.customLink?.onClick},sectionId:b.name,children:b.links.map(k=>{const C=o({id:k.name,defaultMessage:k.title});return"links"in k?g.jsx(ai.SubSection,{label:k.title,children:k.links.map(T=>{const I=o({id:T.name,defaultMessage:T.title});return g.jsx(ai.Link,{to:T.to,label:I,endAction:g.jsx(ze,{tag:"span",textAlign:"center",width:"24px",children:g.jsx(Kg,{status:T.status})})},T.name)})},k.name):g.jsx(ai.Link,{to:k.to,label:C,endAction:g.jsx(ze,{tag:"span",textAlign:"center",width:"24px",children:g.jsx(Kg,{status:k.status})})},k.name)})})},b.name))})]}),g.jsx(Pi.Root,{open:p,onOpenChange:d,children:g.jsx(Co,{onConfirm:v,children:o({id:re("popUpWarning.discardAll.message"),defaultMessage:"Are you sure you want to discard all changes?"})})})]})},n3="timeout",r3=30*1e3,i3=()=>{const{get:e}=Rv(),t=async n=>{const r=n??Date.now();if(Date.now()-r>r3)throw new Error(n3);try{if((await e("/content-type-builder/update-schema-status"))?.data?.data?.isUpdating===!0)return new Promise(s=>{setTimeout(()=>t(r).then(s),200)})}catch{return new Promise(s=>{setTimeout(()=>t(r).then(s),200)})}};return t},a3=e=>zj(Object.keys(e).map(t=>({visible:e[t].visible,name:t,title:e[t].info.displayName,plugin:e[t].plugin,uid:t,to:`/plugins/${ci}/content-types/${t}`,kind:e[t].kind,restrictRelationsTo:e[t].restrictRelationsTo,status:e[t].status})).filter(t=>t!==null),t=>$E(t.title)),o3=({components:e,contentTypes:t})=>{const n={newContentTypes:0,editedContentTypes:0,deletedContentTypes:0,newComponents:0,editedComponents:0,deletedComponents:0,newFields:0,editedFields:0,deletedFields:0},r=Object.values(e).filter(s=>["NEW","CHANGED","REMOVED"].includes(s.status)).map(s=>{const o=Jg(s),c=o.action;return Yg({...s,action:c},n,"component"),o}),a=Object.values(t).filter(s=>["NEW","CHANGED","REMOVED"].includes(s.status)).map(s=>{const o=Jg(s),c=o.action;return Yg({...s,action:c},n,"contentType"),o});return{requestData:{components:r,contentTypes:a},trackingEventProperties:n}},s3=e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>Array.isArray(n)?n.length>0:typeof n=="object"&&n!==null?Object.keys(n).length>0:n!=null)),l3=e=>"customField"in e?{...e,type:"customField"}:"targetAttribute"in e?{...e,targetAttribute:e.targetAttribute==="-"?null:e.targetAttribute,...e.conditions&&{conditions:e.conditions}}:e,Jg=e=>{let t;switch(e.status){case"NEW":t="create";break;case"CHANGED":t="update";break;case"REMOVED":return{action:"delete",uid:e.uid};default:throw new Error("Invalid status")}return{action:t,uid:e.uid,category:"category"in e?e.category:void 0,...Ds(e,["info","options","visible","uid","restrictRelationsTo"]),...e.options,...e.info,attributes:e.attributes.map(n=>{let r;switch(n.status){case"NEW":r="create";break;case"REMOVED":return{action:"delete",name:n.name};case"UNCHANGED":case"CHANGED":default:r="update"}return{action:r,name:n.name,properties:s3(Ds(l3(n),["status","name"]))}})}},Yg=(e,t,n)=>{if(!e||typeof e.action!="string")return;const r=n==="contentType";switch(e.action){case"create":r?t.newContentTypes++:t.newComponents++;break;case"update":r?t.editedContentTypes++:t.editedComponents++;break;case"delete":r?t.deletedContentTypes++:t.deletedComponents++;break}Array.isArray(e.attributes)&&(e.action==="delete"?t.deletedFields+=e.attributes.length:e.attributes.forEach(a=>{if(!(!a||typeof a.status!="string"))switch(a.status){case"NEW":t.newFields++;break;case"CHANGED":t.editedFields++;break;case"REMOVED":t.deletedFields++;break}}))},c3=e=>Object.keys(e).reduce((n,r)=>{const a=Kt(e,[r]),s=u3(a);return s.childComponents.length>0&&n.push(s),n},[]),u3=e=>({component:e.uid,childComponents:e.attributes.filter(t=>{const{type:n}=t;return n==="component"}).map(t=>({component:t.component}))}),d3=e=>{const t=Object.keys(e).reduce((n,r)=>{const a=e?.[r]?.attributes??[],s=p3(a,r);return[...n,...s]},[]);return f3(t)},p3=(e,t)=>e.reduce((n,r)=>{const{type:a}=r;return a==="component"&&n.push({component:r.component,parentCompoUid:t}),n},[]),f3=e=>{const t=new Map;return e.forEach(({component:r,parentCompoUid:a})=>{t.has(r)||t.set(r,new Set),t.get(r).add(a)}),Array.from(t.entries()).map(([r,a])=>({component:r,uidsOfAllParents:Array.from(a)}))},h3=(e,t)=>{const n=Object.keys(e).map(r=>Kt(e,[r,...t],""));return PE(n)},m3=e=>e["content-type-builder_dataManagerProvider"]||DE,g3=({children:e})=>{const t=ul(),n=Ov(m3),r=$i("DataManagerProvider",ce=>ce.dispatch),{components:a,contentTypes:s,reservedNames:o,initialComponents:c,initialContentTypes:u,isLoading:p}=n.current,{toggleNotification:d}=Sa(),{lockAppWithAutoreload:h,unlockAppWithAutoreload:v}=LE(),y=i3(),x=fo("DataManagerProvider",ce=>ce.getPlugin)("content-type-builder"),b=Vr("DataManagerProvider",ce=>ce.autoReload),{formatMessage:k}=mt(),{trackUsage:C}=Li(),T=BE("DataManagerProvider",ce=>ce.refetchPermissions),{onCloseModal:I}=ja(),[$,M]=K.useState(!1),B=K.useMemo(()=>!(po(a,c)&&po(s,u)),[a,s,c,u]),U=Rv(),X=b,Y=K.useRef();Y.current=async()=>{try{const[ce,ne]=await Promise.all([U.get("/content-type-builder/schema"),U.get("/content-type-builder/reserved-names")]),{components:O,contentTypes:Re}=ce.data.data;t(Gt.init({components:Oh(O,Ee=>({...Ee,status:"UNCHANGED"})),contentTypes:Oh(Re,Ee=>({...Ee,status:"UNCHANGED"})),reservedNames:ne.data})),t(Gt.clearHistory())}catch(ce){console.error({err:ce}),d({type:"danger",message:k({id:"notification.error",defaultMessage:"An error occurred"})})}},K.useEffect(()=>(Y.current(),()=>{t(Gt.reloadPlugin())}),[]),K.useEffect(()=>{b||d({type:"info",message:k({id:re("notification.info.autoreaload-disable")})})},[b,d,k]);const q=ce=>c3(ce),se=ce=>d3(ce),R=async()=>{await T()},G=async()=>{M(!0);const ce=x?.apis?.forms,ne=Object.entries(n.current.contentTypes).reduce((ue,[at,Ve])=>(ue[at]=ce.mutateContentTypeSchema(Ve,u[at]),ue),{}),{requestData:O,trackingEventProperties:Re}=o3({components:n.current.components,contentTypes:ne}),Ee=Object.keys(n.current.contentTypes).length>0;h();try{await U.post("/content-type-builder/update-schema",{data:O}),Ee&&C("didCreateGuidedTourCollectionType"),await y(),await Y.current(),await R()}catch(ue){console.error({err:ue}),d({type:"danger",message:k({id:"notification.error",defaultMessage:"An error occurred"})}),C("didUpdateCTBSchema",{...Re,success:!1})}finally{M(!1),v(),t(UE.util.invalidateTags(["GuidedTourMeta","HomepageKeyStatistics"])),r({type:"set_completed_actions",payload:[Ls.contentTypeBuilder.createSchema]}),C("didUpdateCTBSchema",{...Re,success:!0})}},_=K.useMemo(()=>q(a),[a]),L=K.useMemo(()=>se(a),[a]),Ce=K.useMemo(()=>h3(a,["category"]),[a]),le=K.useMemo(()=>Mj(a,"category"),[a]),de=K.useMemo(()=>a3(s),[s]),N={componentsThatHaveOtherComponentInTheirAttributes:_,nestedComponents:L,saveSchema:G,reservedNames:o,components:a,contentTypes:s,initialComponents:c,initialContentTypes:u,isSaving:$,isModified:B,isInDevelopmentMode:X,allComponentsCategories:Ce,componentsGroupedByCategory:le,sortedContentTypesList:de,isLoading:p,addAttribute(ce){t(Gt.addAttribute(ce))},editAttribute(ce){t(Gt.editAttribute(ce))},addCustomFieldAttribute(ce){t(Gt.addCustomFieldAttribute(ce))},editCustomFieldAttribute(ce){t(Gt.editCustomFieldAttribute(ce))},addCreatedComponentToDynamicZone(ce){t(Gt.addCreatedComponentToDynamicZone(ce))},createSchema(ce){t(Gt.createSchema(ce))},createComponentSchema({data:ce,uid:ne,componentCategory:O}){t(Gt.createComponentSchema({data:ce,uid:ne,componentCategory:O}))},changeDynamicZoneComponents({forTarget:ce,targetUid:ne,dynamicZoneTarget:O,newComponents:Re}){t(Gt.changeDynamicZoneComponents({forTarget:ce,targetUid:ne,dynamicZoneTarget:O,newComponents:Re}))},removeAttribute(ce){ce.forTarget==="contentType"&&C("willDeleteFieldOfContentType"),t(Gt.removeField(ce))},removeComponentFromDynamicZone(ce){t(Gt.removeComponentFromDynamicZone(ce))},deleteComponent(ce){window.confirm(k({id:re("popUpWarning.bodyMessage.component.delete")}))&&(I(),t(Gt.deleteComponent(ce)))},deleteContentType(ce){window.confirm(k({id:re("popUpWarning.bodyMessage.contentType.delete")}))&&(I(),t(Gt.deleteContentType(ce)))},updateComponentSchema({data:ce,componentUID:ne}){t(Gt.updateComponentSchema({data:ce,uid:ne}))},updateComponentUid({componentUID:ce,newComponentUID:ne}){t(Gt.updateComponentUid({uid:ce,newComponentUID:ne}))},updateSchema(ce){t(Gt.updateSchema(ce))},moveAttribute(ce){t(Gt.moveAttribute(ce))},applyChange(ce){t(Gt.applyChange(ce))},history:{undo(){t(Gt.undo())},redo(){t(Gt.redo())},discardAllChanges(){t(Gt.discardAll())},canUndo:n.past.length>0,canRedo:n.future.length>0,canDiscardAll:B}};return g.jsx(tb.Provider,{value:N,children:e})},v3=()=>{const{formatMessage:e}=mt(),{isModified:t,isSaving:n}=Jn(),r=e({id:re("prompt.unsaved"),defaultMessage:"Are you sure you want to leave? All your modifications will be lost."}),a=ZE(s=>s.currentLocation.pathname.startsWith("/plugins/content-type-builder/")&&!s.nextLocation.pathname.startsWith("/plugins/content-type-builder/")&&t);return K.useEffect(()=>{const s=o=>{t&&!n&&(o.preventDefault(),o.returnValue="")};return window.addEventListener("beforeunload",s),()=>window.removeEventListener("beforeunload",s)},[r,t,n]),a.state==="blocked"?g.jsx(Pi.Root,{open:!0,onOpenChange:()=>a.reset(),children:g.jsx(Co,{onConfirm:()=>a.proceed(),children:r})}):null},Zx=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),sd=(e,t)=>e.find(({name:n})=>n===t),y3=(e,t)=>!e||!t?{}:{[e]:t[e]},b3=e=>(e?.inner||[]).reduce((t,n)=>(n.path&&(t[n.path.split("[").join(".").split("]").join("")]={id:n.message,defaultMessage:n.message,values:y3(n?.type,n?.params)}),t),{}),x3=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],w3=({intlLabel:e,name:t,onChange:n,value:r=null})=>{const{formatMessage:a}=mt(),s=r===null||r?.length===0?a({id:"global.none",defaultMessage:"None"}):[...r].sort().map(c=>Mi(c)).join(", "),o=e.id?a({id:e.id,defaultMessage:e.defaultMessage}):t;return g.jsxs(tt.Root,{name:t,children:[g.jsx(tt.Label,{children:o}),g.jsx(Fv,{customizeContent:()=>s,onChange:c=>{c.length>0?n({target:{name:t,value:c,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:x3,value:r||[]})]})},Xg={biginteger:Ja,blocks:QE,boolean:XE,collectionType:Nh,component:YE,contentType:Nh,date:_s,datetime:_s,decimal:Ja,dynamiczone:JE,email:KE,enum:zh,enumeration:zh,file:Hc,files:Hc,float:Ja,integer:Ja,json:Mh,JSON:Mh,media:Hc,number:Ja,password:GE,relation:VE,richtext:WE,singleType:qE,string:Fh,text:Fh,time:_s,timestamp:_s,uid:HE},_3=vt(ze)`
  svg {
    height: 100%;
    width: 100%;
  }
`,ko=({type:e,customField:t=null,...n})=>{const r=fo("AttributeIcon",s=>s.customFields.get);let a=Xg[e];if(t){const o=r(t)?.icon;o&&(a=o)}return Xg[e]?g.jsx(_3,{width:"3.2rem",height:"3.2rem",shrink:0,...n,"aria-hidden":!0,children:g.jsx(ze,{tag:a})}):null},Hx=vt(ze)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,k3=[],C3=()=>g.jsx(Te,{grow:1,justifyContent:"flex-end",children:g.jsxs(Te,{gap:1,hasRadius:!0,background:"alternative100",padding:"0.2rem 0.4rem",children:[g.jsx(ll,{width:"1rem",height:"1rem",fill:"alternative600"}),g.jsx(Fe,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),S3=({type:e="text"})=>{const{formatMessage:t}=mt(),{onClickSelectField:n}=ja(),r=()=>{n({attributeType:e,step:e==="component"?"1":null})};return g.jsx(Hx,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:r,children:g.jsxs(Te,{children:[g.jsx(ko,{type:e}),g.jsxs(ze,{paddingLeft:4,width:"100%",children:[g.jsxs(Te,{justifyContent:"space-between",children:[g.jsx(Fe,{fontWeight:"bold",textColor:"neutral800",children:t({id:re(`attribute.${e}`),defaultMessage:e})}),k3.includes(e)&&g.jsx(C3,{})]}),g.jsx(Te,{children:g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:t({id:re(`attribute.${e}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},E3=({attributes:e})=>g.jsx(_d,{tagName:"button",children:g.jsx(Te,{direction:"column",alignItems:"stretch",gap:8,children:e.map((t,n)=>g.jsx(ur.Root,{gap:3,children:t.map(r=>g.jsx(ur.Item,{col:6,xs:12,direction:"column",alignItems:"stretch",children:g.jsx(S3,{type:r})},r))},n))})}),T3=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:r,intlDescription:a}=t,{formatMessage:s}=mt(),{onClickSelectCustomField:o}=ja(),c=()=>{o({attributeType:n,customFieldUid:e})};return g.jsx(Hx,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:c,children:g.jsxs(Te,{children:[g.jsx(ko,{type:n,customField:e}),g.jsxs(ze,{paddingLeft:4,children:[g.jsx(Te,{children:g.jsx(Fe,{fontWeight:"bold",textColor:"neutral800",children:s(r)})}),g.jsx(Te,{children:g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:s(a)})})]})]})})},A3=vt(ze)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,j3=()=>g.jsx(Te,{wrap:"wrap",gap:4,children:[...Array(4)].map((e,t)=>g.jsx(A3,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${t}`))}),I3=()=>{const{formatMessage:e}=mt();return g.jsxs(ze,{position:"relative",children:[g.jsx(j3,{}),g.jsx(ze,{position:"absolute",top:6,width:"100%",children:g.jsxs(Te,{alignItems:"center",justifyContent:"center",direction:"column",children:[g.jsx(Mv,{width:"160px",height:"88px"}),g.jsx(ze,{paddingTop:6,paddingBottom:4,children:g.jsxs(ze,{textAlign:"center",children:[g.jsx(Fe,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:re("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),g.jsx(ze,{paddingTop:4,children:g.jsx(Fe,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:re("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),g.jsx(eT,{tag:kv,to:`/marketplace?${tT.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:g.jsx(li,{}),children:e({id:re("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},R3=()=>{const{formatMessage:e}=mt(),t=fo("CustomFieldsList",a=>a.customFields.getAll),n=Object.entries(t());if(!n.length)return g.jsx(I3,{});const r=n.sort((a,s)=>a[1].name>s[1].name?1:-1);return g.jsx(_d,{tagName:"button",children:g.jsxs(Te,{direction:"column",alignItems:"stretch",gap:3,children:[g.jsx(ur.Root,{gap:3,children:r.map(([a,s])=>g.jsx(ur.Item,{col:6,xs:12,direction:"column",alignItems:"stretch",children:g.jsx(T3,{customFieldUid:a,customField:s},a)},a))}),g.jsx(ol,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:e({id:re("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},O3=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:r}=mt(),a=re("modalForm.tabs.default"),s=re("modalForm.tabs.custom"),o=t.includes("component")?"component":n,c=re(`modalForm.sub-header.chooseAttribute.${o}`);return g.jsx(pn.Body,{children:g.jsxs(lr.Root,{variant:"simple",defaultValue:"default",children:[g.jsxs(Te,{justifyContent:"space-between",children:[g.jsx(Fe,{variant:"beta",tag:"h2",children:r({id:c,defaultMessage:"Select a field"})}),g.jsxs(lr.List,{children:[g.jsx(lr.Trigger,{value:"default",children:r({id:a,defaultMessage:"Default"})}),g.jsx(lr.Trigger,{value:"custom",children:r({id:s,defaultMessage:"Custom"})})]})]}),g.jsx(cl,{marginBottom:6}),g.jsx(lr.Content,{value:"default",children:g.jsx(E3,{attributes:e})}),g.jsx(lr.Content,{value:"custom",children:g.jsx(R3,{})})]})})},F3=({intlLabel:e,name:t,options:n,onChange:r,value:a=null})=>{const{formatMessage:s}=mt(),o=e.id?s({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):t,c=u=>{let p="";u==="true"&&(p=!0),u==="false"&&(p=!1),r({target:{name:t,value:p,type:"select-default-boolean"}})};return g.jsxs(tt.Root,{name:t,children:[g.jsx(tt.Label,{children:o}),g.jsx(Wr,{onChange:c,value:(a===null?"":a).toString(),children:n.map(({metadatas:{intlLabel:u,disabled:p,hidden:d},key:h,value:v})=>g.jsx(qn,{value:v,disabled:p,hidden:d,children:u.defaultMessage},h))})]})},M3=vt(Te)`
  position: relative;
  align-items: stretch;

  label {
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;

    ${zv()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    border-radius: ${({theme:e})=>e.borderRadius};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    color: ${({theme:e})=>e.colors.primary600};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,cp=({intlLabel:e,name:t,onChange:n,radios:r=[],value:a})=>{const{formatMessage:s}=mt();return g.jsxs(Te,{direction:"column",alignItems:"stretch",gap:2,children:[g.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,tag:"label",children:s(e)}),g.jsx(M3,{gap:4,alignItems:"stretch",children:r.map(o=>g.jsxs("label",{htmlFor:o.value.toString(),className:"container",children:[g.jsx("input",{id:o.value.toString(),name:t,className:"option-input",checked:o.value===a,value:o.value,onChange:n,type:"radio"},o.value),g.jsx(ze,{className:"option",padding:4,children:g.jsxs(Te,{children:[g.jsx(ze,{paddingRight:4,children:g.jsx("span",{className:"checkmark"})}),g.jsxs(Te,{direction:"column",alignItems:"stretch",gap:2,children:[g.jsx(Fe,{fontWeight:"bold",children:s(o.title)}),g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:s(o.description)})]})]})})]},o.value))})]})},z3=({onChange:e,name:t,intlLabel:n,...r})=>{const a=s=>{const o=s.target.value!=="false";e({target:{name:t,value:o,type:"boolean-radio-group"}})};return g.jsx(cp,{...r,name:t,onChange:a,intlLabel:n})},N3=({error:e,intlLabel:t,modifiedData:n,name:r,onChange:a,value:s=null})=>{const{formatMessage:o}=mt(),c=t.id?o({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):r,u=n.type==="biginteger"?"text":"number",p=!n.type,d=e?o({id:e,defaultMessage:e}):"";return g.jsxs(Te,{direction:"column",alignItems:"stretch",gap:2,children:[g.jsx(sl,{id:r,name:r,onCheckedChange:h=>{a({target:{name:r,value:h?u==="text"?"0":0:null}})},checked:s!==null,children:c}),s!==null&&g.jsx(ze,{paddingLeft:6,style:{maxWidth:"200px"},children:u==="text"?g.jsxs(tt.Root,{error:d,name:r,children:[g.jsx(qr,{"aria-label":c,disabled:p,onChange:a,value:s===null?"":s,type:"text"}),g.jsx(tt.Error,{})]}):g.jsxs(tt.Root,{error:d,name:r,children:[g.jsx(Nv,{"aria-label":c,disabled:p,onValueChange:h=>{a({target:{name:r,value:h??0,type:u}})},value:s||0}),g.jsx(tt.Error,{})]})})]})},$3=({onChange:e,...t})=>{const{formatMessage:n}=mt(),{toggleNotification:r}=Sa(),a=s=>{r({type:"info",message:n({id:re("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."})}),e(s)};return g.jsx(cp,{...t,onChange:a})},P3=({description:e,disabled:t=!1,intlLabel:n,isCreating:r,name:a,onChange:s,value:o=!1})=>{const{formatMessage:c}=mt(),[u,p]=K.useState(!1),d=n.id?c({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):a,h=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",v=()=>{s({target:{name:a,value:!1}}),p(!1)},y=m=>{if(!m&&!r){p(!0);return}s({target:{name:a,value:!!m}})};return g.jsxs(g.Fragment,{children:[g.jsxs(tt.Root,{hint:h,name:a,children:[g.jsx(sl,{checked:o,disabled:t,onCheckedChange:y,children:d}),g.jsx(tt.Hint,{})]}),g.jsx(Pi.Root,{open:u,onOpenChange:m=>p(m),children:g.jsx(Co,{endAction:g.jsx(gt,{onClick:v,variant:"danger",width:"100%",justifyContent:"center",children:c({id:re("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"})}),children:c({id:re("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."})})})]})},D3=({deleteComponent:e,deleteContentType:t,isAttributeModal:n,isCustomFieldModal:r,isComponentAttribute:a,isComponentToDzModal:s,isContentTypeModal:o,isCreatingComponent:c,isCreatingComponentAttribute:u,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:d,isCreatingContentType:h,isCreatingDz:v,isComponentModal:y,isDzAttribute:m,isEditingAttribute:x,isInFirstComponentStep:b,onSubmitAddComponentAttribute:k,onSubmitAddComponentToDz:C,onSubmitCreateContentType:T,onSubmitCreateComponent:I,onSubmitCreateDz:$,onSubmitEditAttribute:M,onSubmitEditComponent:B,onSubmitEditContentType:U,onSubmitEditCustomFieldAttribute:X,onSubmitEditDz:Y,onClickFinish:q})=>{const{formatMessage:se}=mt();return s?p?g.jsx(gt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),C(R,!0)},startIcon:g.jsx(li,{}),children:se({id:re("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):g.jsx(gt,{variant:"default",type:"submit",onClick:R=>{R.preventDefault(),C(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})}):n&&m&&!v?g.jsx(gt,{variant:"default",type:"submit",onClick:R=>{R.preventDefault(),q(),Y(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})}):n&&m&&v?g.jsx(g.Fragment,{children:g.jsx(gt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),$(R,!0)},startIcon:g.jsx(li,{}),children:se({id:re("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):n&&a?b?g.jsx(gt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),k(R,!0)},children:se(u?{id:re("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:re("form.button.select-component"),defaultMessage:"Configure the component"})}):g.jsxs(Te,{gap:2,children:[g.jsx(gt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),k(R,!0)},startIcon:g.jsx(li,{}),children:se(d?{id:re("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:re("form.button.add-field"),defaultMessage:"Add another field"})}),g.jsx(gt,{variant:"default",type:"button",onClick:R=>{R.preventDefault(),q(),k(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})})]}):n&&!a&&!m?g.jsxs(Te,{gap:2,children:[g.jsx(gt,{type:x?"button":"submit",variant:"secondary",onClick:R=>{R.preventDefault(),M(R,!0)},startIcon:g.jsx(li,{}),children:se({id:re("form.button.add-field"),defaultMessage:"Add another field"})}),g.jsx(gt,{type:x?"submit":"button",variant:"default",onClick:R=>{R.preventDefault(),q(),M(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})})]}):o?g.jsxs(Te,{gap:2,children:[!h&&g.jsxs(g.Fragment,{children:[g.jsx(gt,{type:"button",variant:"danger",onClick:R=>{R.preventDefault(),t()},children:se({id:"global.delete",defaultMessage:"Delete"})}),g.jsx(gt,{type:"submit",variant:"default",onClick:R=>{R.preventDefault(),U(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})})]}),h&&g.jsx(gt,{type:"submit",variant:"secondary",onClick:R=>{R.preventDefault(),T(R,!0)},children:se({id:"global.continue",defaultMessage:"Continue"})})]}):y?g.jsxs(Te,{gap:2,children:[!c&&g.jsxs(g.Fragment,{children:[g.jsx(gt,{type:"button",variant:"danger",onClick:R=>{R.preventDefault(),e()},children:se({id:"global.delete",defaultMessage:"Delete"})}),g.jsx(gt,{type:"submit",variant:"default",onClick:R=>{R.preventDefault(),B(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})})]}),c&&g.jsx(gt,{type:"submit",variant:"secondary",onClick:R=>{R.preventDefault(),I(R,!0)},children:se({id:"global.continue",defaultMessage:"Continue"})})]}):r?g.jsxs(Te,{gap:2,children:[g.jsx(gt,{type:x?"button":"submit",variant:"secondary",onClick:R=>{R.preventDefault(),X(R,!0)},startIcon:g.jsx(li,{}),children:se({id:re("form.button.add-field"),defaultMessage:"Add another field"})}),g.jsx(gt,{type:x?"submit":"button",variant:"default",onClick:R=>{R.preventDefault(),q(),X(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})})]}):null},L3=({actionType:e=null,attributeName:t,attributeType:n,contentTypeKind:r,dynamicZoneTarget:a,forTarget:s,modalType:o=null,targetUid:c,customFieldUid:u=null,showBackLink:p=!1})=>{const{formatMessage:d}=mt(),{components:h,contentTypes:v}=Jn(),{onOpenModalAddField:y}=ja();let m="component",x=[];const b=s==="component"?h[c]:v[c],k=b?.info.displayName;if(o==="contentType"&&(m=r),["component"].includes(o||"")&&(m="component"),["component","contentType"].includes(o||"")){let T=re(`modalForm.component.header-${e}`);return o==="contentType"&&(T=re(`modalForm.${r}.header-create`)),e==="edit"&&(T=re("modalForm.header-edit")),g.jsx(pn.Header,{children:g.jsxs(Te,{children:[g.jsx(ze,{children:g.jsx(ko,{type:m})}),g.jsx(ze,{paddingLeft:3,children:g.jsx(pn.Title,{children:d({id:T},{name:k})})})]})})}return x=[{label:k,info:{category:"category"in b&&b?.category||"",name:b?.info?.displayName}}],o==="chooseAttribute"&&(m=s==="component"?"component":"kind"in b?b.kind:""),o==="addComponentToDynamicZone"&&(m="dynamiczone",x.push({label:a})),(o==="attribute"||o==="customField")&&(m=n,x.push({label:t})),g.jsx(pn.Header,{children:g.jsxs(Te,{gap:3,children:[p&&g.jsx(ol,{"aria-label":d({id:re("modalForm.header.back"),defaultMessage:"Back"}),startIcon:g.jsx($v,{}),onClick:()=>y({forTarget:s,targetUid:c}),href:"#back",isExternal:!1}),g.jsx(ko,{type:m,customField:u}),g.jsx(nT,{label:x.map(({label:T})=>T).join(","),children:x.map(({label:T,info:I},$,M)=>{if(T=Mi(T),!T)return null;const B=`${T}.${$}`;return I?.category&&(T=`${T} (${Mi(I.category)} - ${Mi(I.name)})`),g.jsx(rT,{isCurrent:$===M.length-1,children:T},B)})})]})})},B3=({modalType:e,forTarget:t,kind:n,actionType:r,step:a})=>{switch(e){case"chooseAttribute":return re(`modalForm.sub-header.chooseAttribute.${t?.includes("component")?"component":n||"collectionType"}`);case"attribute":return re(`modalForm.sub-header.attribute.${r}${a!=="null"&&a!==null&&r!=="edit"?".step":""}`);case"customField":return re(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return re("modalForm.sub-header.addComponentToDynamicZone");default:return re("configurations")}},U3=({actionType:e,modalType:t,forTarget:n,kind:r,step:a,attributeType:s,attributeName:o,customField:c})=>{const{formatMessage:u}=mt(),p=t==="customField"?c?.intlLabel:{id:re(`attribute.${s}`)};return g.jsxs(Te,{direction:"column",alignItems:"flex-start",paddingBottom:1,gap:1,children:[g.jsx(Fe,{tag:"h2",variant:"beta",children:u({id:B3({actionType:e,forTarget:n,kind:r,step:a,modalType:t}),defaultMessage:"Add new field"},{type:p?Mi(u(p)):"",name:Mi(o),step:a})}),g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:u({id:re(`attribute.${s}.description`),defaultMessage:"A type for modeling data"})})]})},qx={alien:XA,apps:YA,archive:JA,arrowDown:KA,arrowLeft:$v,arrowRight:GA,arrowUp:Tv,attachment:xd,bell:VA,bold:WA,book:qA,briefcase:HA,brush:qc,bulletList:ZA,calendar:UA,car:BA,cast:LA,chartBubble:DA,chartCircle:PA,chartPie:$A,check:Cv,clock:NA,cloud:zA,code:Av,cog:MA,collapse:FA,command:OA,connector:RA,crop:IA,crown:jA,cup:AA,cursor:TA,dashboard:EA,database:SA,discuss:CA,doctor:kA,earth:_A,emotionHappy:wA,emotionUnhappy:xA,envelop:bA,exit:yA,expand:wv,eye:qv,feather:$h,file:vA,fileError:gA,filePdf:mA,fileXls:hA,fileZip:xv,fileCsv:fA,filter:pA,folder:gd,gate:dA,gift:uA,globe:cA,grid:lA,handHeart:sA,hashtag:oA,headphone:aA,heart:iA,house:rA,information:nA,italic:tA,key:eA,landscape:QT,layer:XT,layout:YT,lightbulb:JT,link:KT,lock:GT,magic:VT,manyToMany:Hv,manyToOne:Zv,manyWays:Uv,medium:WT,message:qT,microphone:HT,monitor:ZT,moon:UT,music:BT,oneToMany:Bv,oneToOne:Lv,oneWay:Dv,paint:qc,paintBrush:qc,paperPlane:LT,pencil:DT,phone:PT,picture:$T,pin:NT,pinMap:zT,plane:MT,play:FT,plus:li,priceTag:OT,puzzle:RT,question:IT,quote:jT,refresh:wd,restaurant:AT,rocket:TT,rotate:ET,scissors:ST,search:Pv,seed:CT,server:kT,shield:_T,shirt:wT,shoppingCart:xT,slideshow:bT,stack:yT,star:vT,store:gT,strikeThrough:mT,sun:hT,television:fT,thumbDown:Ev,thumbUp:Sv,train:pT,twitter:dT,typhoon:uT,underline:cT,user:lT,volumeMute:sT,volumeUp:oT,walk:aT,wheelchair:iT,write:$h},Z3=vt(Te)`
  label {
    ${zv()}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,H3=({iconKey:e,name:t,onChange:n,isSelected:r,ariaLabel:a})=>{const s=qx[e];return g.jsx(tt.Root,{name:t,required:!1,children:g.jsxs(tt.Label,{children:[g.jsxs(jv,{children:[a,g.jsx(tt.Input,{type:"radio",checked:r,onChange:n,value:e,"aria-checked":r})]}),g.jsx(dl,{label:e,children:g.jsx(Te,{padding:2,cursor:"pointer",hasRadius:!0,background:r?"primary200":void 0,children:g.jsx(s,{width:"2rem",height:"2rem",fill:r?"primary600":"neutral300"})})})]})})},q3=({intlLabel:e,name:t,onChange:n,value:r=""})=>{const{formatMessage:a}=mt(),[s,o]=K.useState(!1),[c,u]=K.useState(""),p=Object.keys(qx),[d,h]=K.useState(p),v=K.useRef(null),y=K.useRef(null),m=()=>{o(!s)},x=({target:{value:C}})=>{u(C),h(()=>p.filter(T=>T.toLowerCase().includes(C.toLowerCase())))},b=()=>{m(),u(""),h(p)},k=()=>{n({target:{name:t,value:""}})};return K.useEffect(()=>{s&&y.current?.focus()},[s]),g.jsxs(g.Fragment,{children:[g.jsxs(Te,{justifyContent:"space-between",paddingBottom:2,children:[g.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",tag:"label",children:a(e)}),g.jsxs(Te,{gap:1,children:[s?g.jsx(Iv,{ref:y,name:"searchbar",placeholder:a({id:re("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{c||m()},onChange:x,value:c,onClear:b,clearLabel:a({id:re("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:a({id:re("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):g.jsx(dr,{ref:v,onClick:m,withTooltip:!1,label:a({id:re("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),variant:"ghost",children:g.jsx(Pv,{})}),r&&g.jsx(dl,{label:a({id:re("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:g.jsx(dr,{onClick:k,withTooltip:!1,label:a({id:re("IconPicker.remove.button"),defaultMessage:"Remove the selected icon"}),variant:"ghost",children:g.jsx(md,{})})})]})]}),g.jsx(Z3,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:d.length>0?d.map(C=>g.jsx(H3,{iconKey:C,name:t,onChange:n,isSelected:C===r,ariaLabel:a({id:re("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:C})},C)):g.jsx(ze,{padding:4,grow:2,children:g.jsx(Fe,{variant:"delta",textColor:"neutral600",textAlign:"center",children:a({id:re("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},W3=({description:e,error:t,intlLabel:n,modifiedData:r,name:a,onChange:s,value:o})=>{const{formatMessage:c}=mt(),u=K.useRef(s),p=r?.displayName||"",d=K.useRef(p),h=K.useRef(o);K.useEffect(()=>{if(p&&p!==d.current){const x=Wv(p);let b=x;try{b=xa(x,2)}catch{}u.current({target:{name:a,value:b}}),h.current=b,d.current=p}else p||(u.current({target:{name:a,value:""}}),h.current="",d.current="")},[p,a,o]);const v=t?c({id:t,defaultMessage:t}):"",y=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",m=c(n);return g.jsxs(tt.Root,{error:v,hint:y,name:a,children:[g.jsx(tt.Label,{children:m}),g.jsx(qr,{onChange:s,value:o||"",type:"text"}),g.jsx(tt.Error,{})]})},Qg=e=>{if(e instanceof Date&&ev(e))return e;if(typeof e=="string"||typeof e=="number"){const t=new Date(e);if(ev(t))return t}},ev=e=>!isNaN(e.getTime()),V3=e=>{const[t,n]=e.split(":");return`${t}:${n}`},G3=e=>e.split(":").length===2?`${e}:00.000`:e,K3=e=>{if(e)return e.split(":").length>2?V3(e):e},J3=e=>{if(e)return G3(e)},Y3=({value:e})=>K3(e),tv=(e,t,n,r)=>{const a=J3(r);e({target:{name:t,value:a,type:n}})},X3=({autoComplete:e,customInputs:t,description:n,disabled:r,intlLabel:a,labelAction:s,error:o,name:c,onChange:u,onDelete:p,options:d=[],placeholder:h,required:v,step:y,type:m,value:x,isNullable:b,autoFocus:k,attribute:C,attributeName:T,conditionFields:I,...$})=>{const{formatMessage:M}=mt(),B=(de,N)=>{if(de&&(N==="minLength"&&N in de||N==="maxLength"&&N in de||N==="max"&&N in de||N==="min"&&N in de))return de[N]},{hint:U}=Q3({description:n,fieldSchema:{minLength:B(C,"minLength"),maxLength:B(C,"maxLength"),max:B(C,"max"),min:B(C,"min")},type:C?.type||m}),[X,Y]=K.useState(!1),q=t?t[m]:null,se=x??void 0,R=se??"";function G(de){if(!de)return null;if(typeof de=="string")return M({id:de,defaultMessage:de});const N={...de.values};return M({id:de.id,defaultMessage:de?.defaultMessage??de.id},N)}const _=G(o)??void 0;if(q)return g.jsx(q,{...$,attribute:C,description:n,hint:U,disabled:r,intlLabel:a,labelAction:s,error:_||"",name:c,onChange:u,onDelete:p,options:d,required:v,placeholder:h,type:m,value:se,autoFocus:k,attributeName:T,conditionFields:I});const L=a.id?M({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):c,Ce=h?M({id:h.id,defaultMessage:h.defaultMessage},{...h.values}):"",le=()=>{switch(m){case"json":return g.jsx(ij,{value:se,disabled:r,onChange:de=>{const N=C&&"required"in C&&!C?.required&&!de.length?null:de;u({target:{name:c,value:N}},!1)},minHeight:"25.2rem",maxHeight:"50.4rem"});case"bool":return g.jsx(rj,{checked:x===null?null:x||!1,disabled:r,offLabel:M({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:M({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:de=>{u({target:{name:c,value:de.target.checked}})}});case"checkbox":return g.jsx(sl,{disabled:r,onCheckedChange:de=>{u({target:{name:c,value:de}})},checked:!!se,children:L});case"datetime":{const de=Qg(se);return g.jsx(nj,{clearLabel:M({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:N=>{const ce=N?N.toISOString():null;u({target:{name:c,value:ce,type:m}})},onClear:()=>u({target:{name:c,value:null,type:m}}),placeholder:Ce,value:de})}case"date":{const de=Qg(se);return g.jsx(tj,{clearLabel:M({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:N=>{u({target:{name:c,value:N?Nj(N,{representation:"date"}):null,type:m}})},onClear:()=>u({target:{name:c,value:null,type:m}}),placeholder:Ce,value:de})}case"number":return g.jsx(Nv,{disabled:r,onValueChange:de=>{u({target:{name:c,value:de,type:m}})},placeholder:Ce,step:y,value:se,autoFocus:k});case"email":return g.jsx(qr,{autoComplete:e,disabled:r,onChange:de=>{u({target:{name:c,value:de.target.value,type:m}})},placeholder:Ce,type:"email",value:R,autoFocus:k});case"timestamp":case"text":case"string":return g.jsx(qr,{autoComplete:e,disabled:r,onChange:de=>{u({target:{name:c,value:de.target.value,type:m}})},placeholder:Ce,type:"text",value:R,autoFocus:k});case"password":return g.jsx(qr,{autoComplete:e,disabled:r,endAction:g.jsx("button",{"aria-label":M({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{Y(de=>!de)},style:{border:"none",padding:0,background:"transparent"},type:"button",children:X?g.jsx(qv,{fill:"neutral500"}):g.jsx(ej,{fill:"neutral500"})}),onChange:de=>{u({target:{name:c,value:de.target.value,type:m}})},placeholder:Ce,type:X?"text":"password",value:R});case"select":return g.jsx(Wr,{disabled:r,onChange:de=>{u({target:{name:c,value:de,type:"select"}})},placeholder:Ce,value:se,children:d.map(({metadatas:{intlLabel:de,disabled:N,hidden:ce},key:ne,value:O})=>g.jsx(qn,{value:O,disabled:N,hidden:ce,children:M(de)},ne))});case"textarea":return g.jsx(yd,{disabled:r,onChange:de=>u({target:{name:c,value:de.target.value,type:m}}),placeholder:Ce,value:R});case"time":{const de=Y3({value:se});return g.jsx(QA,{clearLabel:M({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:N=>tv(u,c,m,N),onClear:()=>tv(u,c,m,void 0),value:de})}default:return g.jsx(qr,{disabled:!0,placeholder:"Not supported",type:"text",value:""})}};return g.jsxs(tt.Root,{error:_,name:c,hint:U,required:v,children:[m!=="checkbox"?g.jsx(tt.Label,{action:s,children:L}):null,le(),g.jsx(tt.Error,{}),g.jsx(tt.Hint,{})]})},Q3=({description:e,fieldSchema:t,type:n})=>{const{formatMessage:r}=mt(),a=()=>e?.id?r({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:o,minimum:c}=tZ(t),u=eZ({type:n,minimum:c,maximum:o}),p=typeof c=="number",d=typeof o=="number",h=d&&p,v=d||p;return!e?.id&&!v?"":r({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:c,max:o,description:a(),unit:u?.message&&v?r(u.message,u.values):null,divider:h?r({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:v?g.jsx("br",{}):null})})()}},eZ=({type:e,minimum:t,maximum:n})=>{if(e&&!["string","uid","richtext","email","password","text"].includes(e))return{};const r=Math.max(t||0,n||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:r}}},tZ=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:t,maxLength:n,max:r,min:a}=e;let s,o;const c=Number(a),u=Number(t);Number.isNaN(c)?Number.isNaN(u)||(s=u):s=c;const p=Number(r),d=Number(n);return Number.isNaN(p)?Number.isNaN(d)||(o=d):o=p,{maximum:o,minimum:s}},ld=K.memo(X3,po),nZ=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:r}=Jn(),a=ul(),s=r.filter(Zx),o=n[t];if(!o)return null;const c=({uid:u,plugin:p,title:d,restrictRelationsTo:h})=>()=>{const v=p?`${p}_${d}`:d;a(rn.onChangeRelationTarget({target:{value:u,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:v,targetContentTypeAllowedRelations:h}}))};return g.jsxs(Tn.Root,{children:[g.jsx(rZ,{children:`${o.info.displayName} ${o.plugin?`(from: ${o.plugin})`:""}`}),g.jsx(Tn.Content,{zIndex:"popover",children:s.map(({uid:u,title:p,restrictRelationsTo:d,plugin:h})=>g.jsxs(Tn.Item,{onSelect:c({uid:u,plugin:h,title:p,restrictRelationsTo:d}),children:[p,"",h&&g.jsxs(g.Fragment,{children:["(from: ",h,")"]})]},u))})]})},rZ=vt(Tn.Trigger)`
  max-width: 16.8rem;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,nv=({disabled:e=!1,error:t,header:n,isMain:r=!1,name:a,onChange:s,oneThatIsCreatingARelationWithAnother:o="",target:c,value:u=""})=>g.jsxs(ze,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[g.jsx(Te,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center",children:r?g.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:n}):g.jsx(nZ,{target:c,oneThatIsCreatingARelationWithAnother:o})}),g.jsx(cl,{background:"neutral200"}),g.jsx(ze,{padding:4,children:g.jsx(ld,{disabled:e,error:t?.id||null,intlLabel:{id:re("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:a,onChange:s,type:"text",value:u})})]});var iZ=oj,aZ=aj,oZ="[object RegExp]";function sZ(e){return aZ(e)&&iZ(e)==oZ}var lZ=sZ,cZ=lZ,uZ=sj,rv=lj,iv=rv&&rv.isRegExp,dZ=iv?uZ(iv):cZ,pZ=dZ,fZ=cj,hZ=fZ("length"),mZ=hZ,Wx="\\ud800-\\udfff",gZ="\\u0300-\\u036f",vZ="\\ufe20-\\ufe2f",yZ="\\u20d0-\\u20ff",bZ=gZ+vZ+yZ,xZ="\\ufe0e\\ufe0f",wZ="["+Wx+"]",cd="["+bZ+"]",ud="\\ud83c[\\udffb-\\udfff]",_Z="(?:"+cd+"|"+ud+")",Vx="[^"+Wx+"]",Gx="(?:\\ud83c[\\udde6-\\uddff]){2}",Kx="[\\ud800-\\udbff][\\udc00-\\udfff]",kZ="\\u200d",Jx=_Z+"?",Yx="["+xZ+"]?",CZ="(?:"+kZ+"(?:"+[Vx,Gx,Kx].join("|")+")"+Yx+Jx+")*",SZ=Yx+Jx+CZ,EZ="(?:"+[Vx+cd+"?",cd,Gx,Kx,wZ].join("|")+")",av=RegExp(ud+"(?="+ud+")|"+EZ+SZ,"g");function TZ(e){for(var t=av.lastIndex=0;av.test(e);)++t;return t}var AZ=TZ,jZ=mZ,IZ=Vv,RZ=AZ;function OZ(e){return IZ(e)?RZ(e):jZ(e)}var FZ=OZ,ov=pj,MZ=mj,zZ=Vv,NZ=uj,$Z=pZ,PZ=FZ,DZ=hj,LZ=dj,sv=fj,BZ=30,UZ="...",ZZ=/\w*$/;function HZ(e,t){var n=BZ,r=UZ;if(NZ(t)){var a="separator"in t?t.separator:a;n="length"in t?LZ(t.length):n,r="omission"in t?ov(t.omission):r}e=sv(e);var s=e.length;if(zZ(e)){var o=DZ(e);s=o.length}if(n>=s)return e;var c=n-PZ(r);if(c<1)return r;var u=o?MZ(o,0,c).join(""):e.slice(0,c);if(a===void 0)return u+r;if(o&&(c+=u.length-c),$Z(a)){if(e.slice(c).search(a)){var p,d=u;for(a.global||(a=RegExp(a.source,sv(ZZ.exec(a))+"g")),a.lastIndex=0;p=a.exec(d);)var h=p.index;u=u.slice(0,h===void 0?c:h)}}else if(e.indexOf(ov(a),c)!=c){var v=u.lastIndexOf(a);v>-1&&(u=u.slice(0,v))}return u+r}var qZ=HZ;const lv=hi(qZ),WZ=vt(ze)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,VZ=vt(ze)`
  background: ${({theme:e,$isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  flex: 0 0 2.4rem;
  svg {
    width: 2.4rem;
    height: 2.4rem;
    max-width: unset;
    path {
      fill: ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  cursor: pointer;
  &:disabled {
    cursor: not-allowed;
    background: ${({theme:e})=>e.colors.neutral150};

    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral300};
      }
    }
  }
  display: flex;
  justify-content: center;
  align-items: center;
`,GZ=vt(Te)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,KZ={oneWay:Dv,oneToOne:Lv,oneToMany:Bv,manyToOne:Zv,manyToMany:Hv,manyWay:Uv},JZ=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],YZ=["oneWay","manyWay"],XZ=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:r,targetUid:a})=>{const s=ul(),{formatMessage:o}=mt(),{contentTypes:c}=Jn(),p=(e==="component"?"component":Kt(c,[a,"kind"],""))==="collectionType"?JZ:YZ,d=n==="manyToOne",h=Kt(c,[r,"info","displayName"],"unknown"),v=d?h:t,y=d?t:h,m=xa(v,n==="manyToMany"?2:1),x=Kt(c,[r,"restrictRelationsTo"],null),b=xa(y,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?g.jsxs(Te,{style:{flex:1},children:[g.jsx(WZ,{children:g.jsx(Te,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:g.jsx(_d,{tagName:"button",children:g.jsx(Te,{gap:3,children:p.map(k=>{const C=KZ[k],T=x===null||x.includes(k);return g.jsx(VZ,{tag:"button",$isSelected:n===k,disabled:!T,onClick:()=>{T&&s(rn.onChangeRelationType({target:{oneThatIsCreatingARelationWithAnother:t,value:k}}))},padding:2,type:"button","aria-label":o({id:re(`relation.${k}`)}),"aria-pressed":n===k,"data-relation-type":k,children:g.jsx(C,{"aria-hidden":"true"},k)},k)})})})})}),g.jsxs(GZ,{justifyContent:"center",children:[g.jsxs(Fe,{children:[lv(m,{length:24}),""]}),g.jsxs(Fe,{textColor:"primary600",children:[o({id:re(`relation.${n}`)}),""]}),g.jsx(Fe,{children:lv(b,{length:24})})]})]}):null},QZ=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:r,onChange:a,targetUid:s})=>{const o=kd(n.relation,n.targetAttribute);return g.jsxs(Te,{style:{position:"relative"},children:[g.jsx(nv,{isMain:!0,header:t,error:e?.name||null,name:"name",onChange:a,value:n?.name||""}),g.jsx(XZ,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:t,relationType:o,target:n.target,targetUid:s}),g.jsx(nv,{disabled:["oneWay","manyWay"].includes(o),error:e?.targetAttribute||null,name:"targetAttribute",onChange:a,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:n?.targetAttribute||""})]})},e8=({error:e=null,intlLabel:t,name:n,onChange:r,value:a=void 0,isCreating:s,dynamicZoneTarget:o})=>{const{formatMessage:c}=mt(),{allComponentsCategories:u}=Jn(),[p,d]=K.useState(u),h=e?c({id:e,defaultMessage:e}):"",v=c(t),y=x=>{r({target:{name:n,value:x,type:"select-category"}})},m=x=>{d(b=>[...b,x]),y(x)};return g.jsxs(tt.Root,{error:h,name:n,children:[g.jsx(tt.Label,{children:v}),g.jsx(gj,{disabled:!s&&!o,onChange:y,onCreateOption:m,value:a,creatable:!0,children:p.map(x=>g.jsx(vj,{value:x,children:x},x))}),g.jsx(tt.Error,{})]})},dd=(e,t)=>t.find(n=>n.component===e),Xx=(e,t,n=0)=>{const r=dd(e,t);if(!r||!r.childComponents||r.childComponents.length===0)return n;let a=n;return r.childComponents.forEach(s=>{const o=Xx(s.component,t,n+1);o>a&&(a=o)}),a},Qx=(e,t)=>{const n=(s,o)=>{const c=[];if(c.push(o),!s.uidsOfAllParents)return c;for(const u of s.uidsOfAllParents){const p=dd(u,t);p&&c.push(...n(p,o+1))}return c},r=dd(e,t);return r?Math.max(...n(r,1)):0},t8=({error:e=null,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:r,isCreatingComponentWhileAddingAField:a,componentToCreate:s,name:o,onChange:c,targetUid:u,forTarget:p,value:d})=>{const{formatMessage:h}=mt(),v=e?h({id:e,defaultMessage:e}):"",y=h(t),{componentsGroupedByCategory:m,componentsThatHaveOtherComponentInTheirAttributes:x,nestedComponents:b}=Jn(),k=p==="component";let C=Object.entries(m).reduce((T,I)=>{const[$,M]=I,B=M.map(U=>({uid:U.uid,label:U.info.displayName,categoryName:$}));return[...T,...B]},[]);return n&&(C=C.filter(({uid:T})=>{const I=Xx(T,x),$=Qx(u,b);return I+$<=Gv})),k&&(C=C.filter(T=>T.uid!==u)),a&&(C=[{uid:d,label:s?.displayName,categoryName:s?.category}]),g.jsxs(tt.Root,{error:v,name:o,children:[g.jsx(tt.Label,{children:y}),g.jsx(Wr,{disabled:a||!r,onChange:T=>{c({target:{name:o,value:T,type:"select-category"}})},value:d||"",children:C.map(T=>g.jsx(qn,{value:T.uid,children:`${T.categoryName} - ${T.label}`},T.uid))}),g.jsx(tt.Error,{})]})},n8=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:r,value:a,targetUid:s})=>{const{formatMessage:o}=mt(),{componentsGroupedByCategory:c,contentTypes:u}=Jn(),p=sd(u[s].attributes,e);if(!p)return null;const d="components"in p?p?.components:[],h=Object.keys(c).reduce((m,x)=>{const b=c[x].filter(({uid:k})=>!d.includes(k));return b.length>0&&(m[x]=b),m},{}),v=Object.entries(h).reduce((m,x)=>{const[b,k]=x,C={label:b,children:k.map(({uid:T,info:{displayName:I}})=>({label:I,value:T}))};return m.push(C),m},[]),y=o({id:re("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:a?.length??0});return g.jsxs(tt.Root,{name:n,children:[g.jsx(tt.Label,{children:o(t)}),g.jsx(Fv,{id:"select1",customizeContent:()=>y,onChange:m=>{r({target:{name:n,value:m,type:"select-components"}})},options:v,value:a||[]})]})},r8=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:a,options:s,value:o=""})=>{const{formatMessage:c}=mt(),u=c(e),p=t?c({id:t,defaultMessage:t}):"",d=h=>{a({target:{name:r,value:h,type:"select"}}),o&&n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}})};return g.jsxs(tt.Root,{error:p,name:r,children:[g.jsx(tt.Label,{children:u}),g.jsx(Wr,{onChange:d,value:o||"",children:s.map(({metadatas:{intlLabel:h,disabled:v,hidden:y},key:m,value:x})=>g.jsx(qn,{value:x,disabled:v,hidden:y,children:c({id:h.id,defaultMessage:h.defaultMessage},h.values)},m))}),g.jsx(tt.Error,{})]})},i8=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:a,options:s,value:o=""})=>{const{formatMessage:c}=mt(),u=c(e),p=t?c({id:t,defaultMessage:t}):"",d=h=>{a({target:{name:r,value:h,type:"select"}}),o&&(h==="biginteger"&&o!=="biginteger"&&(n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&a({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&a({target:{name:"min",value:null}})),typeof h=="string"&&["decimal","float","integer"].includes(h)&&o==="biginteger"&&(n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&a({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&a({target:{name:"min",value:null}})))};return g.jsxs(tt.Root,{error:p,name:r,children:[g.jsx(tt.Label,{children:u}),g.jsx(Wr,{onChange:d,value:o||"",children:s.map(({metadatas:{intlLabel:h,disabled:v,hidden:y},key:m,value:x})=>g.jsx(qn,{value:x,disabled:v,hidden:y,children:c(h)},m))}),g.jsx(tt.Error,{})]})},a8=({description:e=null,error:t=null,intlLabel:n,modifiedData:r,name:a,onChange:s,value:o=null})=>{const{formatMessage:c}=mt(),u=K.useRef(s),p=K.useRef(o),d=K.useRef(r?.displayName||""),h=r?.displayName||"";K.useEffect(()=>{if(h&&h!==d.current){const x=Wv(h);u.current({target:{name:a,value:x}}),p.current=x,d.current=h}else h||(u.current({target:{name:a,value:""}}),p.current="",d.current="")},[h,a,o]);const v=t?c({id:t,defaultMessage:t}):"",y=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",m=c(n);return g.jsxs(tt.Root,{error:v,hint:y,name:a,children:[g.jsx(tt.Label,{children:m}),g.jsx(qr,{onChange:s,value:o||"",type:"text"}),g.jsx(tt.Error,{}),g.jsx(tt.Hint,{})]})},Z8=(e,t)=>{const n=[];return Object.entries(e).forEach(([r,a])=>{if(a.attributes){const s=Array.isArray(a.attributes)?a.attributes.reduce((o,c,u)=>(o[u.toString()]=c,o),{}):a.attributes;Object.entries(s).forEach(([o,c])=>{c.conditions?.visible&&Object.entries(c.conditions.visible).forEach(([,u])=>{const[p]=u;p&&p.var===t&&n.push({contentTypeUid:r,contentType:a.info.displayName,attribute:c.name||o})})})}}),n},o8=(e,t,n)=>{if(!e?.visible)return"";const[[r,a]]=Object.entries(e.visible),[s,o]=a,c=t.find(v=>v.name===s.var),u=c?c.name:s.var,p=r==="=="?"is":"is not",d=String(o);return`If ${u} ${p} ${d}, then ${r==="=="?"Show":"Hide"} ${n}`},s8=(e,t)=>e.filter(n=>{const r=n.type==="boolean"||n.type==="enumeration",a=n.name!==t;return r&&a}).map(n=>({name:n.name,type:n.type,enum:n.type==="enumeration"?n.enum:void 0})),cv=({form:e,formErrors:t,genericInputProps:n,modifiedData:r,onChange:a})=>{const{formatMessage:s}=mt();return g.jsx(g.Fragment,{children:e.map((o,c)=>o.items.length===0?null:g.jsxs(ze,{children:[o.sectionTitle&&g.jsx(ze,{paddingBottom:4,children:g.jsx(Fe,{variant:"delta",tag:"h3",children:s(o.sectionTitle)})}),o.intlLabel&&g.jsx(Fe,{variant:"pi",textColor:"neutral600",children:s(o.intlLabel)}),g.jsx(ur.Root,{gap:4,children:o.items.map((u,p)=>{const d=`${c}.${p}`,h=Kt(r,u.name,void 0),v=Object.keys(t).find(m=>m===u.name),y=v?t[v].id:Kt(t,[...u.name.split(".").filter(m=>m!=="componentToCreate"),"id"],null);if(u.type==="pushRight")return g.jsx(ur.Item,{col:u.size||6,xs:12,direction:"column",alignItems:"stretch",children:g.jsx("div",{})},u.name||d);if(u.type==="condition-form"){const m=Kt(r,u.name),x=n.contentTypeSchema?.attributes||[];if(!n.contentTypeSchema)return console.warn("contentTypeSchema is undefined, skipping condition form"),null;const b=s8(x,r.name),k=s({id:"form.attribute.condition.no-fields",defaultMessage:"No boolean or enumeration fields available to set conditions on."});return g.jsx(ur.Item,{col:u.size||12,xs:12,direction:"column",alignItems:"stretch",children:!m||Object.keys(m).length===0?g.jsxs(ze,{children:[m&&Object.keys(m).length>0&&g.jsx(Fe,{variant:"sigma",textColor:"neutral800",marginBottom:2,children:o8(m,b,n.attributeName||r.name)}),g.jsx(dl,{label:k,children:g.jsx(gt,{marginTop:m&&Object.keys(m).length>0?0:4,fullWidth:!0,variant:"secondary",onClick:()=>{a({target:{name:u.name,value:{visible:{"==":[{var:""},""]}}}})},startIcon:g.jsx("span",{"aria-hidden":!0,children:""}),disabled:b.length===0,children:s({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})})})]}):g.jsx(ld,{...u,...n,error:y,onChange:a,value:h,autoFocus:p===0,attributeName:r.name,conditionFields:b,onDelete:()=>{a({target:{name:u.name}})}})},u.name||d)}return g.jsx(ur.Item,{col:u.size||6,xs:12,direction:"column",alignItems:"stretch",children:g.jsx(ld,{...u,...n,error:y,onChange:a,value:h,autoFocus:p===0})},u.name||d)})})]},c))})},l8=({description:e=null,disabled:t=!1,error:n="",intlLabel:r,labelAction:a,name:s,onChange:o,placeholder:c=null,value:u=""})=>{const{formatMessage:p}=mt(),d=n?p({id:n,defaultMessage:n}):"",h=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",v=p(r),y=c?p({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",m=Array.isArray(u)?u.join(`
`):"",x=b=>{const k=b.target.value.split(`
`);o({target:{name:s,value:k}})};return g.jsxs(tt.Root,{error:d,hint:h,name:s,children:[g.jsx(tt.Label,{action:a,children:v}),g.jsx(yd,{disabled:t,onChange:x,placeholder:y,value:m}),g.jsx(tt.Error,{}),g.jsx(tt.Hint,{})]})},c8=({disabled:e,tooltipMessage:t,onClick:n,marginTop:r=4})=>{const{formatMessage:a}=mt(),s=g.jsx(gt,{marginTop:r,fullWidth:!0,variant:"secondary",disabled:e,onClick:n,startIcon:g.jsx("span",{"aria-hidden":!0,children:""}),children:a({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})});return t?g.jsx(dl,{description:t,children:s}):s},u8=vt(ko)`
  width: 16px !important;
  height: 16px !important;
  svg {
    width: 16px !important;
    height: 16px !important;
  }
`,d8=e=>{if(!e?.visible)return{dependsOn:"",operator:"is",value:"",action:"show"};const[[t,n]]=Object.entries(e.visible),[r,a]=n;return{dependsOn:r.var,operator:t==="=="?"is":"isNot",value:a,action:"show"}},p8=e=>{if(!e.dependsOn)return null;const t=Kv(),n={dependsOn:e.dependsOn,operator:e.operator,value:e.value};try{return t.validate(n),{visible:{[e.operator==="is"&&e.action==="show"||e.operator==="isNot"&&e.action==="hide"?"==":"!="]:[{var:e.dependsOn},e.value]}}}catch{return null}},f8=({name:e,value:t,onChange:n,onDelete:r,attributeName:a,conditionFields:s=[]})=>{const{formatMessage:o}=mt(),[c,u]=K.useState(d8(t)),[p,d]=K.useState(!1),h=!!t?.visible;Array.isArray(s)||(s=[]);const v=s.find($=>$.name===c.dependsOn),y=v?.type==="enumeration",m=$=>{u($);const M=Kv(),B={dependsOn:$.dependsOn,operator:$.operator,value:$.value};try{M.validate(B);const U=$.operator==="is"&&$.action==="show"||$.operator==="isNot"&&$.action==="hide"?"==":"!=",X=$.dependsOn?{visible:{[U]:[{var:$.dependsOn},$.value]}}:null;X&&n({target:{name:e,value:X}})}catch{}},x=()=>{const $={dependsOn:"",operator:"is",value:"",action:"show"};u($),n({target:{name:e,value:p8($)}})},b=()=>{u({dependsOn:"",operator:"is",value:"",action:"show"}),n({target:{name:e,value:null}}),r(),d(!1)},k=$=>{const M=$?.toString()||"",U=s.find(Y=>Y.name===M)?.type==="enumeration",X={...c,dependsOn:M,value:M?U?"":!1:c.value};m(X)},C=$=>{const M=$?.toString()||"is",B={...c,operator:M};m(B)},T=$=>{const M=y?$?.toString():$?.toString()==="true",B={...c,value:M};m(B)},I=$=>{const M=$?.toString()||"show",B={...c,action:M};m(B)};return h?g.jsx(ze,{marginTop:2,children:g.jsxs(ze,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderWidth:.5,borderStyle:"solid",children:[g.jsxs(Te,{justifyContent:"space-between",alignItems:"center",padding:4,children:[g.jsx(Fe,{variant:"sigma",textColor:"neutral800",children:o({id:re("form.attribute.condition.title"),defaultMessage:"Condition for {name}"},{name:g.jsx("strong",{children:a})})}),g.jsxs(Pi.Root,{open:p,onOpenChange:d,children:[g.jsx(Pi.Trigger,{children:g.jsx(dr,{label:"Delete",children:g.jsx(md,{})})}),g.jsx(Co,{onConfirm:b,children:o({id:re("popUpWarning.bodyMessage.delete-condition"),defaultMessage:"Are you sure you want to delete this condition?"})})]})]}),g.jsxs(ze,{background:"neutral100",padding:4,children:[g.jsx(ze,{paddingBottom:2,children:g.jsx(Fe,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:o({id:re("form.attribute.condition.if"),defaultMessage:"IF"})})}),g.jsxs(Te,{gap:4,children:[g.jsx(ze,{minWidth:0,flex:1,children:g.jsx(tt.Root,{name:`${e}.field`,children:g.jsx(Wr,{value:c.dependsOn,onChange:k,placeholder:o({id:re("form.attribute.condition.field"),defaultMessage:"field"}),children:s.map($=>g.jsx(qn,{value:$.name,children:g.jsxs(Te,{gap:2,alignItems:"center",children:[g.jsx(u8,{type:$.type}),g.jsx("span",{children:$.name})]})},$.name))})})}),g.jsx(ze,{minWidth:0,flex:1,children:g.jsx(tt.Root,{name:`${e}.operator`,children:g.jsxs(Wr,{value:c.operator,onChange:C,disabled:!c.dependsOn,placeholder:o({id:re("form.attribute.condition.operator"),defaultMessage:"condition"}),children:[g.jsx(qn,{value:"is",children:o({id:re("form.attribute.condition.operator.is"),defaultMessage:"is"})}),g.jsx(qn,{value:"isNot",children:o({id:re("form.attribute.condition.operator.isNot"),defaultMessage:"is not"})})]})})}),g.jsx(ze,{minWidth:0,flex:1,children:g.jsx(tt.Root,{name:`${e}.value`,children:g.jsx(Wr,{value:c.value?.toString()||"",onChange:T,disabled:!c.dependsOn,placeholder:o({id:re("form.attribute.condition.value"),defaultMessage:"value"}),children:y&&v?.enum?v.enum.map($=>g.jsx(qn,{value:$,children:$},$)):g.jsxs(g.Fragment,{children:[g.jsx(qn,{value:"true",children:o({id:re("form.attribute.condition.value.true"),defaultMessage:"true"})}),g.jsx(qn,{value:"false",children:o({id:re("form.attribute.condition.value.false"),defaultMessage:"false"})})]})})})})]})]}),g.jsxs(ze,{background:"neutral100",padding:4,children:[g.jsx(ze,{paddingBottom:4,children:g.jsx(Fe,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:o({id:re("form.attribute.condition.then"),defaultMessage:"THEN"})})}),g.jsx(ze,{paddingBottom:4,children:g.jsx(tt.Root,{name:`${e}.action`,children:g.jsxs(Wr,{value:c.action,onChange:I,placeholder:o({id:re("form.attribute.condition.action"),defaultMessage:"action"}),children:[g.jsxs(qn,{value:"show",children:["Show ",g.jsx("span",{style:{fontWeight:"bold"},children:a||e})]}),g.jsxs(qn,{value:"hide",children:["Hide ",g.jsx("span",{style:{fontWeight:"bold"},children:a||e})]})]})})})]})]})}):g.jsx(ze,{padding:4,margin:4,hasRadius:!0,background:"neutral0",borderColor:"neutral200",children:g.jsx(c8,{onClick:x})})},Tr={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:re("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},h8={sections:[{sectionTitle:null,items:[Tr]}]},Ca={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:re("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:re("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:re("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},qe={default:{name:"default",type:"text",intlLabel:{id:re("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:re("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:re("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:re("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:re("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:re("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:re("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:re("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:re("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:re("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:re("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:re("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:re("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},wn={sectionTitle:{id:re("form.attribute.condition.title"),defaultMessage:"Condition"},intlLabel:{id:re("form.attribute.condition.description"),defaultMessage:"Toggle field settings depending on the value of another boolean or enumeration field."},items:[{name:"conditions",type:"condition-form",intlLabel:{id:re("form.attribute.condition.label"),defaultMessage:"Conditions"},validations:{required:!0}}]},m8={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.private]},wn]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:re("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.private]},wn]}},component({repeatable:e},t){if(t==="1")return{sections:Ca.advanced()};if(e){const n={...qe.min,intlLabel:{id:re("form.attribute.item.minimumComponents"),defaultMessage:"Minimum components"}},r={...qe.max,intlLabel:{id:re("form.attribute.item.maximumComponents"),defaultMessage:"Maximum components"}};return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.private,n,r]},wn]}}return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.private]},wn]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...qe.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.unique,qe.private]},wn]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.max,qe.min]},wn]}},email(){return{sections:[{sectionTitle:null,items:[{...qe.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.unique,qe.maxLength,qe.minLength,qe.private]},wn]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:re("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:re("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:re("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.private]},wn]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.private]},wn]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:re("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.private]},wn]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:re("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.unique,qe.max,qe.min,qe.private]},wn]}},password(){return{sections:[{sectionTitle:null,items:[qe.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.maxLength,qe.minLength,qe.private]},wn]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.private]},wn]}},richtext(){return{sections:[{sectionTitle:null,items:[qe.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.maxLength,qe.minLength,qe.private]},wn]}},text(){return{sections:[{sectionTitle:null,items:[qe.default,qe.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.unique,qe.maxLength,qe.minLength,qe.private]},wn]}},uid(e){return{sections:[{sectionTitle:null,items:[{...qe.default,disabled:!!e.targetField,type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[qe.required,qe.maxLength,qe.minLength,qe.private,qe.regex]},wn]}}},pd={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:re("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:re("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:re("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:re("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},g8={component(e,t){if(t==="1"){const n=e.createComponent===!0?Ca.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[pd]},...n]}}return{sections:[{sectionTitle:null,items:[Tr,{name:"component",type:"select-component",intlLabel:{id:re("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:re("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:re("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:re("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:re("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Tr,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:re("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:re("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:re("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Tr]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:re("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:re("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Tr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:re("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:re("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:re("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:re("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Tr,{intlLabel:{id:re("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:re("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:re("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:re("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:re("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Tr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:re("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:re("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:re("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:re("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Tr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:re("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:re("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:re("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:re("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const r=n.filter(({type:a})=>["string","text"].includes(a)).map(({name:a})=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}));return{sections:[{sectionTitle:null,items:[{...Tr,placeholder:{id:re("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:re("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}},uv={advanced:m8,base:g8};var v8=yj;function y8(e){return e&&e.length?v8(e):[]}var b8=y8;const x8=hi(b8),Eu=e=>e?bj(e,{decamelize:!1,lowercase:!1,separator:"_"}):"";var al={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */al.exports;(function(e,t){(function(){function n(te,fe,A){switch(A.length){case 0:return te.call(fe);case 1:return te.call(fe,A[0]);case 2:return te.call(fe,A[0],A[1]);case 3:return te.call(fe,A[0],A[1],A[2])}return te.apply(fe,A)}function r(te,fe,A,Pe){for(var Je=-1,Le=te==null?0:te.length;++Je<Le;){var jn=te[Je];fe(Pe,jn,A(jn),te)}return Pe}function a(te,fe){for(var A=-1,Pe=te==null?0:te.length;++A<Pe&&fe(te[A],A,te)!==!1;);return te}function s(te,fe){for(var A=te==null?0:te.length;A--&&fe(te[A],A,te)!==!1;);return te}function o(te,fe){for(var A=-1,Pe=te==null?0:te.length;++A<Pe;)if(!fe(te[A],A,te))return!1;return!0}function c(te,fe){for(var A=-1,Pe=te==null?0:te.length,Je=0,Le=[];++A<Pe;){var jn=te[A];fe(jn,A,te)&&(Le[Je++]=jn)}return Le}function u(te,fe){return!!(te!=null&&te.length)&&T(te,fe,0)>-1}function p(te,fe,A){for(var Pe=-1,Je=te==null?0:te.length;++Pe<Je;)if(A(fe,te[Pe]))return!0;return!1}function d(te,fe){for(var A=-1,Pe=te==null?0:te.length,Je=Array(Pe);++A<Pe;)Je[A]=fe(te[A],A,te);return Je}function h(te,fe){for(var A=-1,Pe=fe.length,Je=te.length;++A<Pe;)te[Je+A]=fe[A];return te}function v(te,fe,A,Pe){var Je=-1,Le=te==null?0:te.length;for(Pe&&Le&&(A=te[++Je]);++Je<Le;)A=fe(A,te[Je],Je,te);return A}function y(te,fe,A,Pe){var Je=te==null?0:te.length;for(Pe&&Je&&(A=te[--Je]);Je--;)A=fe(A,te[Je],Je,te);return A}function m(te,fe){for(var A=-1,Pe=te==null?0:te.length;++A<Pe;)if(fe(te[A],A,te))return!0;return!1}function x(te){return te.split("")}function b(te){return te.match(w0)||[]}function k(te,fe,A){var Pe;return A(te,function(Je,Le,jn){if(fe(Je,Le,jn))return Pe=Le,!1}),Pe}function C(te,fe,A,Pe){for(var Je=te.length,Le=A+(Pe?1:-1);Pe?Le--:++Le<Je;)if(fe(te[Le],Le,te))return Le;return-1}function T(te,fe,A){return fe===fe?xe(te,fe,A):C(te,$,A)}function I(te,fe,A,Pe){for(var Je=A-1,Le=te.length;++Je<Le;)if(Pe(te[Je],fe))return Je;return-1}function $(te){return te!==te}function M(te,fe){var A=te==null?0:te.length;return A?q(te,fe)/A:qi}function B(te){return function(fe){return fe==null?S:fe[te]}}function U(te){return function(fe){return te==null?S:te[fe]}}function X(te,fe,A,Pe,Je){return Je(te,function(Le,jn,Gl){A=Pe?(Pe=!1,Le):fe(A,Le,jn,Gl)}),A}function Y(te,fe){var A=te.length;for(te.sort(fe);A--;)te[A]=te[A].value;return te}function q(te,fe){for(var A,Pe=-1,Je=te.length;++Pe<Je;){var Le=fe(te[Pe]);Le!==S&&(A=A===S?Le:A+Le)}return A}function se(te,fe){for(var A=-1,Pe=Array(te);++A<te;)Pe[A]=fe(A);return Pe}function R(te,fe){return d(fe,function(A){return[A,te[A]]})}function G(te){return te&&te.slice(0,E(te)+1).replace(Ll,"")}function _(te){return function(fe){return te(fe)}}function L(te,fe){return d(fe,function(A){return te[A]})}function Ce(te,fe){return te.has(fe)}function le(te,fe){for(var A=-1,Pe=te.length;++A<Pe&&T(fe,te[A],0)>-1;);return A}function de(te,fe){for(var A=te.length;A--&&T(fe,te[A],0)>-1;);return A}function N(te,fe){for(var A=te.length,Pe=0;A--;)te[A]===fe&&++Pe;return Pe}function ce(te){return"\\"+iw[te]}function ne(te,fe){return te==null?S:te[fe]}function O(te){return Y0.test(te)}function Re(te){return X0.test(te)}function Ee(te){for(var fe,A=[];!(fe=te.next()).done;)A.push(fe.value);return A}function ue(te){var fe=-1,A=Array(te.size);return te.forEach(function(Pe,Je){A[++fe]=[Je,Pe]}),A}function at(te,fe){return function(A){return te(fe(A))}}function Ve(te,fe){for(var A=-1,Pe=te.length,Je=0,Le=[];++A<Pe;){var jn=te[A];jn!==fe&&jn!==V||(te[A]=V,Le[Je++]=A)}return Le}function ve(te){var fe=-1,A=Array(te.size);return te.forEach(function(Pe){A[++fe]=Pe}),A}function Me(te){var fe=-1,A=Array(te.size);return te.forEach(function(Pe){A[++fe]=[Pe,Pe]}),A}function xe(te,fe,A){for(var Pe=A-1,Je=te.length;++Pe<Je;)if(te[Pe]===fe)return Pe;return-1}function Oe(te,fe,A){for(var Pe=A+1;Pe--;)if(te[Pe]===fe)return Pe;return Pe}function Ye(te){return O(te)?pe(te):lw(te)}function Xe(te){return O(te)?W(te):x(te)}function E(te){for(var fe=te.length;fe--&&v0.test(te.charAt(fe)););return fe}function pe(te){for(var fe=ql.lastIndex=0;ql.test(te);)++fe;return fe}function W(te){return te.match(ql)||[]}function D(te){return te.match(J0)||[]}var S,ee="4.17.21",be=200,_e="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",oe="Invalid `variable` option passed into `_.template`",he="__lodash_hash_undefined__",Z=500,V="__lodash_placeholder__",ye=1,Ie=2,Be=4,ut=1,St=2,yt=1,nt=2,cn=4,bt=8,Tt=16,dt=32,hr=64,An=128,Or=256,Kr=512,Fr=30,Jr="...",Io=800,El=16,Ia=1,Ro=2,Oo=3,Hi=1/0,Yr=9007199254740991,Tl=17976931348623157e292,qi=NaN,Yn=4294967295,Al=Yn-1,jl=Yn>>>1,Ke=[["ary",An],["bind",yt],["bindKey",nt],["curry",bt],["curryRight",Tt],["flip",Kr],["partial",dt],["partialRight",hr],["rearg",Or]],wt="[object Arguments]",Qt="[object Array]",pt="[object AsyncFunction]",Ut="[object Boolean]",Zt="[object Date]",mn="[object DOMException]",Wi="[object Error]",Vi="[object Function]",Fo="[object GeneratorFunction]",Xn="[object Map]",vi="[object Number]",n0="[object Null]",Mr="[object Object]",up="[object Promise]",r0="[object Proxy]",Ra="[object RegExp]",mr="[object Set]",Oa="[object String]",Mo="[object Symbol]",i0="[object Undefined]",Fa="[object WeakMap]",a0="[object WeakSet]",Ma="[object ArrayBuffer]",Gi="[object DataView]",Il="[object Float32Array]",Rl="[object Float64Array]",Ol="[object Int8Array]",Fl="[object Int16Array]",Ml="[object Int32Array]",zl="[object Uint8Array]",Nl="[object Uint8ClampedArray]",$l="[object Uint16Array]",Pl="[object Uint32Array]",o0=/\b__p \+= '';/g,s0=/\b(__p \+=) '' \+/g,l0=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dp=/&(?:amp|lt|gt|quot|#39);/g,pp=/[&<>"']/g,c0=RegExp(dp.source),u0=RegExp(pp.source),d0=/<%-([\s\S]+?)%>/g,p0=/<%([\s\S]+?)%>/g,fp=/<%=([\s\S]+?)%>/g,f0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h0=/^\w*$/,m0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dl=/[\\^$.*+?()[\]{}|]/g,g0=RegExp(Dl.source),Ll=/^\s+/,v0=/\s/,y0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,b0=/\{\n\/\* \[wrapped with (.+)\] \*/,x0=/,? & /,w0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_0=/[()=,{}\[\]\/\s]/,k0=/\\(\\)?/g,C0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hp=/\w*$/,S0=/^[-+]0x[0-9a-f]+$/i,E0=/^0b[01]+$/i,T0=/^\[object .+?Constructor\]$/,A0=/^0o[0-7]+$/i,j0=/^(?:0|[1-9]\d*)$/,I0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zo=/($^)/,R0=/['\n\r\u2028\u2029\\]/g,No="\\ud800-\\udfff",O0="\\u0300-\\u036f",F0="\\ufe20-\\ufe2f",M0="\\u20d0-\\u20ff",mp=O0+F0+M0,gp="\\u2700-\\u27bf",vp="a-z\\xdf-\\xf6\\xf8-\\xff",z0="\\xac\\xb1\\xd7\\xf7",N0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$0="\\u2000-\\u206f",P0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yp="A-Z\\xc0-\\xd6\\xd8-\\xde",bp="\\ufe0e\\ufe0f",xp=z0+N0+$0+P0,Bl="[']",D0="["+No+"]",wp="["+xp+"]",$o="["+mp+"]",_p="\\d+",L0="["+gp+"]",kp="["+vp+"]",Cp="[^"+No+xp+_p+gp+vp+yp+"]",Ul="\\ud83c[\\udffb-\\udfff]",B0="(?:"+$o+"|"+Ul+")",Sp="[^"+No+"]",Zl="(?:\\ud83c[\\udde6-\\uddff]){2}",Hl="[\\ud800-\\udbff][\\udc00-\\udfff]",Ki="["+yp+"]",Ep="\\u200d",Tp="(?:"+kp+"|"+Cp+")",U0="(?:"+Ki+"|"+Cp+")",Ap="(?:"+Bl+"(?:d|ll|m|re|s|t|ve))?",jp="(?:"+Bl+"(?:D|LL|M|RE|S|T|VE))?",Ip=B0+"?",Rp="["+bp+"]?",Z0="(?:"+Ep+"(?:"+[Sp,Zl,Hl].join("|")+")"+Rp+Ip+")*",H0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",q0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Op=Rp+Ip+Z0,W0="(?:"+[L0,Zl,Hl].join("|")+")"+Op,V0="(?:"+[Sp+$o+"?",$o,Zl,Hl,D0].join("|")+")",G0=RegExp(Bl,"g"),K0=RegExp($o,"g"),ql=RegExp(Ul+"(?="+Ul+")|"+V0+Op,"g"),J0=RegExp([Ki+"?"+kp+"+"+Ap+"(?="+[wp,Ki,"$"].join("|")+")",U0+"+"+jp+"(?="+[wp,Ki+Tp,"$"].join("|")+")",Ki+"?"+Tp+"+"+Ap,Ki+"+"+jp,q0,H0,_p,W0].join("|"),"g"),Y0=RegExp("["+Ep+No+mp+bp+"]"),X0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Q0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ew=-1,zt={};zt[Il]=zt[Rl]=zt[Ol]=zt[Fl]=zt[Ml]=zt[zl]=zt[Nl]=zt[$l]=zt[Pl]=!0,zt[wt]=zt[Qt]=zt[Ma]=zt[Ut]=zt[Gi]=zt[Zt]=zt[Wi]=zt[Vi]=zt[Xn]=zt[vi]=zt[Mr]=zt[Ra]=zt[mr]=zt[Oa]=zt[Fa]=!1;var Rt={};Rt[wt]=Rt[Qt]=Rt[Ma]=Rt[Gi]=Rt[Ut]=Rt[Zt]=Rt[Il]=Rt[Rl]=Rt[Ol]=Rt[Fl]=Rt[Ml]=Rt[Xn]=Rt[vi]=Rt[Mr]=Rt[Ra]=Rt[mr]=Rt[Oa]=Rt[Mo]=Rt[zl]=Rt[Nl]=Rt[$l]=Rt[Pl]=!0,Rt[Wi]=Rt[Vi]=Rt[Fa]=!1;var tw={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},nw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rw={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},iw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},aw=parseFloat,ow=parseInt,Fp=typeof Wn=="object"&&Wn&&Wn.Object===Object&&Wn,sw=typeof self=="object"&&self&&self.Object===Object&&self,gn=Fp||sw||Function("return this")(),Wl=t&&!t.nodeType&&t,yi=Wl&&!0&&e&&!e.nodeType&&e,Mp=yi&&yi.exports===Wl,Vl=Mp&&Fp.process,Qn=function(){try{var te=yi&&yi.require&&yi.require("util").types;return te||Vl&&Vl.binding&&Vl.binding("util")}catch{}}(),zp=Qn&&Qn.isArrayBuffer,Np=Qn&&Qn.isDate,$p=Qn&&Qn.isMap,Pp=Qn&&Qn.isRegExp,Dp=Qn&&Qn.isSet,Lp=Qn&&Qn.isTypedArray,lw=B("length"),cw=U(tw),uw=U(nw),dw=U(rw),pw=function te(fe){function A(i){if(en(i)&&!rt(i)&&!(i instanceof Le)){if(i instanceof Je)return i;if(At.call(i,"__wrapped__"))return zf(i)}return new Je(i)}function Pe(){}function Je(i,l){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=S}function Le(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Yn,this.__views__=[]}function jn(){var i=new Le(this.__wrapped__);return i.__actions__=In(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=In(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=In(this.__views__),i}function Gl(){if(this.__filtered__){var i=new Le(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function fw(){var i=this.__wrapped__.value(),l=this.__dir__,f=rt(i),w=l<0,j=f?i.length:0,P=__(0,j,this.__views__),H=P.start,J=P.end,ae=J-H,we=w?J:H-1,ge=this.__iteratees__,Se=ge.length,Ne=0,Ue=yn(ae,this.__takeCount__);if(!f||!w&&j==ae&&Ue==ae)return lf(i,this.__actions__);var We=[];e:for(;ae--&&Ne<Ue;){we+=l;for(var ot=-1,Ge=i[we];++ot<Se;){var ft=ge[ot],ht=ft.iteratee,xn=ft.type,Mn=ht(Ge);if(xn==Ro)Ge=Mn;else if(!Mn){if(xn==Ia)continue e;break e}}We[Ne++]=Ge}return We}function bi(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var w=i[l];this.set(w[0],w[1])}}function hw(){this.__data__=Wa?Wa(null):{},this.size=0}function mw(i){var l=this.has(i)&&delete this.__data__[i];return this.size-=l?1:0,l}function gw(i){var l=this.__data__;if(Wa){var f=l[i];return f===he?S:f}return At.call(l,i)?l[i]:S}function vw(i){var l=this.__data__;return Wa?l[i]!==S:At.call(l,i)}function yw(i,l){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=Wa&&l===S?he:l,this}function zr(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var w=i[l];this.set(w[0],w[1])}}function bw(){this.__data__=[],this.size=0}function xw(i){var l=this.__data__,f=Po(l,i);return!(f<0)&&(f==l.length-1?l.pop():ps.call(l,f,1),--this.size,!0)}function ww(i){var l=this.__data__,f=Po(l,i);return f<0?S:l[f][1]}function _w(i){return Po(this.__data__,i)>-1}function kw(i,l){var f=this.__data__,w=Po(f,i);return w<0?(++this.size,f.push([i,l])):f[w][1]=l,this}function Nr(i){var l=-1,f=i==null?0:i.length;for(this.clear();++l<f;){var w=i[l];this.set(w[0],w[1])}}function Cw(){this.size=0,this.__data__={hash:new bi,map:new(Ha||zr),string:new bi}}function Sw(i){var l=Jo(this,i).delete(i);return this.size-=l?1:0,l}function Ew(i){return Jo(this,i).get(i)}function Tw(i){return Jo(this,i).has(i)}function Aw(i,l){var f=Jo(this,i),w=f.size;return f.set(i,l),this.size+=f.size==w?0:1,this}function xi(i){var l=-1,f=i==null?0:i.length;for(this.__data__=new Nr;++l<f;)this.add(i[l])}function jw(i){return this.__data__.set(i,he),this}function Iw(i){return this.__data__.has(i)}function gr(i){this.size=(this.__data__=new zr(i)).size}function Rw(){this.__data__=new zr,this.size=0}function Ow(i){var l=this.__data__,f=l.delete(i);return this.size=l.size,f}function Fw(i){return this.__data__.get(i)}function Mw(i){return this.__data__.has(i)}function zw(i,l){var f=this.__data__;if(f instanceof zr){var w=f.__data__;if(!Ha||w.length<be-1)return w.push([i,l]),this.size=++f.size,this;f=this.__data__=new Nr(w)}return f.set(i,l),this.size=f.size,this}function Bp(i,l){var f=rt(i),w=!f&&Ei(i),j=!f&&!w&&ri(i),P=!f&&!w&&!j&&oa(i),H=f||w||j||P,J=H?se(i.length,RC):[],ae=J.length;for(var we in i)!l&&!At.call(i,we)||H&&(we=="length"||j&&(we=="offset"||we=="parent")||P&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Lr(we,ae))||J.push(we);return J}function Up(i){var l=i.length;return l?i[ic(0,l-1)]:S}function Nw(i,l){return Yo(In(i),wi(l,0,i.length))}function $w(i){return Yo(In(i))}function Kl(i,l,f){(f===S||vr(i[l],f))&&(f!==S||l in i)||$r(i,l,f)}function za(i,l,f){var w=i[l];At.call(i,l)&&vr(w,f)&&(f!==S||l in i)||$r(i,l,f)}function Po(i,l){for(var f=i.length;f--;)if(vr(i[f][0],l))return f;return-1}function Pw(i,l,f,w){return ni(i,function(j,P,H){l(w,j,f(j),H)}),w}function Zp(i,l){return i&&wr(l,hn(l),i)}function Dw(i,l){return i&&wr(l,On(l),i)}function $r(i,l,f){l=="__proto__"&&fs?fs(i,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[l]=f}function Jl(i,l){for(var f=-1,w=l.length,j=un(w),P=i==null;++f<w;)j[f]=P?S:kc(i,l[f]);return j}function wi(i,l,f){return i===i&&(f!==S&&(i=i<=f?i:f),l!==S&&(i=i>=l?i:l)),i}function er(i,l,f,w,j,P){var H,J=l&ye,ae=l&Ie,we=l&Be;if(f&&(H=j?f(i,w,j,P):f(i)),H!==S)return H;if(!Vt(i))return i;var ge=rt(i);if(ge){if(H=C_(i),!J)return In(i,H)}else{var Se=bn(i),Ne=Se==Vi||Se==Fo;if(ri(i))return uf(i,J);if(Se==Mr||Se==wt||Ne&&!j){if(H=ae||Ne?{}:Af(i),!J)return ae?h_(i,Dw(H,i)):f_(i,Zp(H,i))}else{if(!Rt[Se])return j?i:{};H=S_(i,Se,J)}}P||(P=new gr);var Ue=P.get(i);if(Ue)return Ue;P.set(i,H),Sh(i)?i.forEach(function(Ge){H.add(er(Ge,l,f,Ge,i,P))}):Ch(i)&&i.forEach(function(Ge,ft){H.set(ft,er(Ge,l,f,ft,i,P))});var We=we?ae?mc:hc:ae?On:hn,ot=ge?S:We(i);return a(ot||i,function(Ge,ft){ot&&(ft=Ge,Ge=i[ft]),za(H,ft,er(Ge,l,f,ft,i,P))}),H}function Lw(i){var l=hn(i);return function(f){return Hp(f,i,l)}}function Hp(i,l,f){var w=f.length;if(i==null)return!w;for(i=Nt(i);w--;){var j=f[w],P=l[j],H=i[j];if(H===S&&!(j in i)||!P(H))return!1}return!0}function qp(i,l,f){if(typeof i!="function")throw new ir(ie);return Ga(function(){i.apply(S,f)},l)}function Na(i,l,f,w){var j=-1,P=u,H=!0,J=i.length,ae=[],we=l.length;if(!J)return ae;f&&(l=d(l,_(f))),w?(P=p,H=!1):l.length>=be&&(P=Ce,H=!1,l=new xi(l));e:for(;++j<J;){var ge=i[j],Se=f==null?ge:f(ge);if(ge=w||ge!==0?ge:0,H&&Se===Se){for(var Ne=we;Ne--;)if(l[Ne]===Se)continue e;ae.push(ge)}else P(l,Se,w)||ae.push(ge)}return ae}function Bw(i,l){var f=!0;return ni(i,function(w,j,P){return f=!!l(w,j,P)}),f}function Do(i,l,f){for(var w=-1,j=i.length;++w<j;){var P=i[w],H=l(P);if(H!=null&&(J===S?H===H&&!Un(H):f(H,J)))var J=H,ae=P}return ae}function Uw(i,l,f,w){var j=i.length;for(f=st(f),f<0&&(f=-f>j?0:j+f),w=w===S||w>j?j:st(w),w<0&&(w+=j),w=f>w?0:Qf(w);f<w;)i[f++]=l;return i}function Wp(i,l){var f=[];return ni(i,function(w,j,P){l(w,j,P)&&f.push(w)}),f}function vn(i,l,f,w,j){var P=-1,H=i.length;for(f||(f=T_),j||(j=[]);++P<H;){var J=i[P];l>0&&f(J)?l>1?vn(J,l-1,f,w,j):h(j,J):w||(j[j.length]=J)}return j}function xr(i,l){return i&&Nc(i,l,hn)}function Yl(i,l){return i&&gh(i,l,hn)}function Lo(i,l){return c(l,function(f){return Br(i[f])})}function _i(i,l){l=Qr(l,i);for(var f=0,w=l.length;i!=null&&f<w;)i=i[_r(l[f++])];return f&&f==w?i:S}function Vp(i,l,f){var w=l(i);return rt(i)?w:h(w,f(i))}function kn(i){return i==null?i===S?i0:n0:Si&&Si in Nt(i)?w_(i):F_(i)}function Xl(i,l){return i>l}function Zw(i,l){return i!=null&&At.call(i,l)}function Hw(i,l){return i!=null&&l in Nt(i)}function qw(i,l,f){return i>=yn(l,f)&&i<dn(l,f)}function Ql(i,l,f){for(var w=f?p:u,j=i[0].length,P=i.length,H=P,J=un(P),ae=1/0,we=[];H--;){var ge=i[H];H&&l&&(ge=d(ge,_(l))),ae=yn(ge.length,ae),J[H]=!f&&(l||j>=120&&ge.length>=120)?new xi(H&&ge):S}ge=i[0];var Se=-1,Ne=J[0];e:for(;++Se<j&&we.length<ae;){var Ue=ge[Se],We=l?l(Ue):Ue;if(Ue=f||Ue!==0?Ue:0,!(Ne?Ce(Ne,We):w(we,We,f))){for(H=P;--H;){var ot=J[H];if(!(ot?Ce(ot,We):w(i[H],We,f)))continue e}Ne&&Ne.push(We),we.push(Ue)}}return we}function Ww(i,l,f,w){return xr(i,function(j,P,H){l(w,f(j),P,H)}),w}function $a(i,l,f){l=Qr(l,i),i=Of(i,l);var w=i==null?i:i[_r(nr(l))];return w==null?S:n(w,i,f)}function Gp(i){return en(i)&&kn(i)==wt}function Vw(i){return en(i)&&kn(i)==Ma}function Gw(i){return en(i)&&kn(i)==Zt}function Pa(i,l,f,w,j){return i===l||(i==null||l==null||!en(i)&&!en(l)?i!==i&&l!==l:Kw(i,l,f,w,Pa,j))}function Kw(i,l,f,w,j,P){var H=rt(i),J=rt(l),ae=H?Qt:bn(i),we=J?Qt:bn(l);ae=ae==wt?Mr:ae,we=we==wt?Mr:we;var ge=ae==Mr,Se=we==Mr,Ne=ae==we;if(Ne&&ri(i)){if(!ri(l))return!1;H=!0,ge=!1}if(Ne&&!ge)return P||(P=new gr),H||oa(i)?Ef(i,l,f,w,j,P):b_(i,l,ae,f,w,j,P);if(!(f&ut)){var Ue=ge&&At.call(i,"__wrapped__"),We=Se&&At.call(l,"__wrapped__");if(Ue||We){var ot=Ue?i.value():i,Ge=We?l.value():l;return P||(P=new gr),j(ot,Ge,f,w,P)}}return!!Ne&&(P||(P=new gr),x_(i,l,f,w,j,P))}function Jw(i){return en(i)&&bn(i)==Xn}function ec(i,l,f,w){var j=f.length,P=j,H=!w;if(i==null)return!P;for(i=Nt(i);j--;){var J=f[j];if(H&&J[2]?J[1]!==i[J[0]]:!(J[0]in i))return!1}for(;++j<P;){J=f[j];var ae=J[0],we=i[ae],ge=J[1];if(H&&J[2]){if(we===S&&!(ae in i))return!1}else{var Se=new gr;if(w)var Ne=w(we,ge,ae,i,l,Se);if(!(Ne===S?Pa(ge,we,ut|St,w,Se):Ne))return!1}}return!0}function Kp(i){return!(!Vt(i)||j_(i))&&(Br(i)?NC:T0).test(Ci(i))}function Yw(i){return en(i)&&kn(i)==Ra}function Xw(i){return en(i)&&bn(i)==mr}function Qw(i){return en(i)&&ns(i.length)&&!!zt[kn(i)]}function Jp(i){return typeof i=="function"?i:i==null?Fn:typeof i=="object"?rt(i)?Qp(i[0],i[1]):Xp(i):ah(i)}function tc(i){if(!Ba(i))return UC(i);var l=[];for(var f in Nt(i))At.call(i,f)&&f!="constructor"&&l.push(f);return l}function e_(i){if(!Vt(i))return O_(i);var l=Ba(i),f=[];for(var w in i)(w!="constructor"||!l&&At.call(i,w))&&f.push(w);return f}function nc(i,l){return i<l}function Yp(i,l){var f=-1,w=Rn(i)?un(i.length):[];return ni(i,function(j,P,H){w[++f]=l(j,P,H)}),w}function Xp(i){var l=gc(i);return l.length==1&&l[0][2]?If(l[0][0],l[0][1]):function(f){return f===i||ec(f,i,l)}}function Qp(i,l){return vc(i)&&jf(l)?If(_r(i),l):function(f){var w=kc(f,i);return w===S&&w===l?Cc(f,i):Pa(l,w,ut|St)}}function Bo(i,l,f,w,j){i!==l&&Nc(l,function(P,H){if(j||(j=new gr),Vt(P))t_(i,l,H,f,Bo,w,j);else{var J=w?w(bc(i,H),P,H+"",i,l,j):S;J===S&&(J=P),Kl(i,H,J)}},On)}function t_(i,l,f,w,j,P,H){var J=bc(i,f),ae=bc(l,f),we=H.get(ae);if(we)return Kl(i,f,we),S;var ge=P?P(J,ae,f+"",i,l,H):S,Se=ge===S;if(Se){var Ne=rt(ae),Ue=!Ne&&ri(ae),We=!Ne&&!Ue&&oa(ae);ge=ae,Ne||Ue||We?rt(J)?ge=J:nn(J)?ge=In(J):Ue?(Se=!1,ge=uf(ae,!0)):We?(Se=!1,ge=df(ae,!0)):ge=[]:Ua(ae)||Ei(ae)?(ge=J,Ei(J)?ge=eh(J):Vt(J)&&!Br(J)||(ge=Af(ae))):Se=!1}Se&&(H.set(ae,ge),j(ge,ae,w,P,H),H.delete(ae)),Kl(i,f,ge)}function ef(i,l){var f=i.length;if(f)return l+=l<0?f:0,Lr(l,f)?i[l]:S}function tf(i,l,f){l=l.length?d(l,function(j){return rt(j)?function(P){return _i(P,j.length===1?j[0]:j)}:j}):[Fn];var w=-1;return l=d(l,_(Qe())),Y(Yp(i,function(j,P,H){return{criteria:d(l,function(J){return J(j)}),index:++w,value:j}}),function(j,P){return p_(j,P,f)})}function n_(i,l){return nf(i,l,function(f,w){return Cc(i,w)})}function nf(i,l,f){for(var w=-1,j=l.length,P={};++w<j;){var H=l[w],J=_i(i,H);f(J,H)&&Da(P,Qr(H,i),J)}return P}function r_(i){return function(l){return _i(l,i)}}function rc(i,l,f,w){var j=w?I:T,P=-1,H=l.length,J=i;for(i===l&&(l=In(l)),f&&(J=d(i,_(f)));++P<H;)for(var ae=0,we=l[P],ge=f?f(we):we;(ae=j(J,ge,ae,w))>-1;)J!==i&&ps.call(J,ae,1),ps.call(i,ae,1);return i}function rf(i,l){for(var f=i?l.length:0,w=f-1;f--;){var j=l[f];if(f==w||j!==P){var P=j;Lr(j)?ps.call(i,j,1):sc(i,j)}}return i}function ic(i,l){return i+ms(fh()*(l-i+1))}function i_(i,l,f,w){for(var j=-1,P=dn(hs((l-i)/(f||1)),0),H=un(P);P--;)H[w?P:++j]=i,i+=f;return H}function ac(i,l){var f="";if(!i||l<1||l>Yr)return f;do l%2&&(f+=i),l=ms(l/2),l&&(i+=i);while(l);return f}function ct(i,l){return Dc(Rf(i,l,Fn),i+"")}function a_(i){return Up(ea(i))}function o_(i,l){var f=ea(i);return Yo(f,wi(l,0,f.length))}function Da(i,l,f,w){if(!Vt(i))return i;l=Qr(l,i);for(var j=-1,P=l.length,H=P-1,J=i;J!=null&&++j<P;){var ae=_r(l[j]),we=f;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return i;if(j!=H){var ge=J[ae];we=w?w(ge,ae,J):S,we===S&&(we=Vt(ge)?ge:Lr(l[j+1])?[]:{})}za(J,ae,we),J=J[ae]}return i}function s_(i){return Yo(ea(i))}function tr(i,l,f){var w=-1,j=i.length;l<0&&(l=-l>j?0:j+l),f=f>j?j:f,f<0&&(f+=j),j=l>f?0:f-l>>>0,l>>>=0;for(var P=un(j);++w<j;)P[w]=i[w+l];return P}function l_(i,l){var f;return ni(i,function(w,j,P){return f=l(w,j,P),!f}),!!f}function Uo(i,l,f){var w=0,j=i==null?w:i.length;if(typeof l=="number"&&l===l&&j<=jl){for(;w<j;){var P=w+j>>>1,H=i[P];H!==null&&!Un(H)&&(f?H<=l:H<l)?w=P+1:j=P}return j}return oc(i,l,Fn,f)}function oc(i,l,f,w){var j=0,P=i==null?0:i.length;if(P===0)return 0;l=f(l);for(var H=l!==l,J=l===null,ae=Un(l),we=l===S;j<P;){var ge=ms((j+P)/2),Se=f(i[ge]),Ne=Se!==S,Ue=Se===null,We=Se===Se,ot=Un(Se);if(H)var Ge=w||We;else Ge=we?We&&(w||Ne):J?We&&Ne&&(w||!Ue):ae?We&&Ne&&!Ue&&(w||!ot):!Ue&&!ot&&(w?Se<=l:Se<l);Ge?j=ge+1:P=ge}return yn(P,Al)}function af(i,l){for(var f=-1,w=i.length,j=0,P=[];++f<w;){var H=i[f],J=l?l(H):H;if(!f||!vr(J,ae)){var ae=J;P[j++]=H===0?0:H}}return P}function of(i){return typeof i=="number"?i:Un(i)?qi:+i}function Bn(i){if(typeof i=="string")return i;if(rt(i))return d(i,Bn)+"";if(Un(i))return hh?hh.call(i):"";var l=i+"";return l=="0"&&1/i==-1/0?"-0":l}function Xr(i,l,f){var w=-1,j=u,P=i.length,H=!0,J=[],ae=J;if(f)H=!1,j=p;else if(P>=be){var we=l?null:QC(i);if(we)return ve(we);H=!1,j=Ce,ae=new xi}else ae=l?[]:J;e:for(;++w<P;){var ge=i[w],Se=l?l(ge):ge;if(ge=f||ge!==0?ge:0,H&&Se===Se){for(var Ne=ae.length;Ne--;)if(ae[Ne]===Se)continue e;l&&ae.push(Se),J.push(ge)}else j(ae,Se,f)||(ae!==J&&ae.push(Se),J.push(ge))}return J}function sc(i,l){return l=Qr(l,i),i=Of(i,l),i==null||delete i[_r(nr(l))]}function sf(i,l,f,w){return Da(i,l,f(_i(i,l)),w)}function Zo(i,l,f,w){for(var j=i.length,P=w?j:-1;(w?P--:++P<j)&&l(i[P],P,i););return f?tr(i,w?0:P,w?P+1:j):tr(i,w?P+1:0,w?j:P)}function lf(i,l){var f=i;return f instanceof Le&&(f=f.value()),v(l,function(w,j){return j.func.apply(j.thisArg,h([w],j.args))},f)}function lc(i,l,f){var w=i.length;if(w<2)return w?Xr(i[0]):[];for(var j=-1,P=un(w);++j<w;)for(var H=i[j],J=-1;++J<w;)J!=j&&(P[j]=Na(P[j]||H,i[J],l,f));return Xr(vn(P,1),l,f)}function cf(i,l,f){for(var w=-1,j=i.length,P=l.length,H={};++w<j;)f(H,i[w],w<P?l[w]:S);return H}function cc(i){return nn(i)?i:[]}function uc(i){return typeof i=="function"?i:Fn}function Qr(i,l){return rt(i)?i:vc(i,l)?[i]:wh(Et(i))}function ei(i,l,f){var w=i.length;return f=f===S?w:f,!l&&f>=w?i:tr(i,l,f)}function uf(i,l){if(l)return i.slice();var f=i.length,w=lh?lh(f):new i.constructor(f);return i.copy(w),w}function dc(i){var l=new i.constructor(i.byteLength);return new us(l).set(new us(i)),l}function c_(i,l){return new i.constructor(l?dc(i.buffer):i.buffer,i.byteOffset,i.byteLength)}function u_(i){var l=new i.constructor(i.source,hp.exec(i));return l.lastIndex=i.lastIndex,l}function d_(i){return Va?Nt(Va.call(i)):{}}function df(i,l){return new i.constructor(l?dc(i.buffer):i.buffer,i.byteOffset,i.length)}function pf(i,l){if(i!==l){var f=i!==S,w=i===null,j=i===i,P=Un(i),H=l!==S,J=l===null,ae=l===l,we=Un(l);if(!J&&!we&&!P&&i>l||P&&H&&ae&&!J&&!we||w&&H&&ae||!f&&ae||!j)return 1;if(!w&&!P&&!we&&i<l||we&&f&&j&&!w&&!P||J&&f&&j||!H&&j||!ae)return-1}return 0}function p_(i,l,f){for(var w=-1,j=i.criteria,P=l.criteria,H=j.length,J=f.length;++w<H;){var ae=pf(j[w],P[w]);if(ae)return w>=J?ae:ae*(f[w]=="desc"?-1:1)}return i.index-l.index}function ff(i,l,f,w){for(var j=-1,P=i.length,H=f.length,J=-1,ae=l.length,we=dn(P-H,0),ge=un(ae+we),Se=!w;++J<ae;)ge[J]=l[J];for(;++j<H;)(Se||j<P)&&(ge[f[j]]=i[j]);for(;we--;)ge[J++]=i[j++];return ge}function hf(i,l,f,w){for(var j=-1,P=i.length,H=-1,J=f.length,ae=-1,we=l.length,ge=dn(P-J,0),Se=un(ge+we),Ne=!w;++j<ge;)Se[j]=i[j];for(var Ue=j;++ae<we;)Se[Ue+ae]=l[ae];for(;++H<J;)(Ne||j<P)&&(Se[Ue+f[H]]=i[j++]);return Se}function In(i,l){var f=-1,w=i.length;for(l||(l=un(w));++f<w;)l[f]=i[f];return l}function wr(i,l,f,w){var j=!f;f||(f={});for(var P=-1,H=l.length;++P<H;){var J=l[P],ae=w?w(f[J],i[J],J,f,i):S;ae===S&&(ae=i[J]),j?$r(f,J,ae):za(f,J,ae)}return f}function f_(i,l){return wr(i,Pc(i),l)}function h_(i,l){return wr(i,bh(i),l)}function Ho(i,l){return function(f,w){var j=rt(f)?r:Pw,P=l?l():{};return j(f,i,Qe(w,2),P)}}function Yi(i){return ct(function(l,f){var w=-1,j=f.length,P=j>1?f[j-1]:S,H=j>2?f[2]:S;for(P=i.length>3&&typeof P=="function"?(j--,P):S,H&&Cn(f[0],f[1],H)&&(P=j<3?S:P,j=1),l=Nt(l);++w<j;){var J=f[w];J&&i(l,J,w,P)}return l})}function mf(i,l){return function(f,w){if(f==null)return f;if(!Rn(f))return i(f,w);for(var j=f.length,P=l?j:-1,H=Nt(f);(l?P--:++P<j)&&w(H[P],P,H)!==!1;);return f}}function gf(i){return function(l,f,w){for(var j=-1,P=Nt(l),H=w(l),J=H.length;J--;){var ae=H[i?J:++j];if(f(P[ae],ae,P)===!1)break}return l}}function m_(i,l,f){function w(){return(this&&this!==gn&&this instanceof w?P:i).apply(j?f:this,arguments)}var j=l&yt,P=La(i);return w}function vf(i){return function(l){l=Et(l);var f=O(l)?Xe(l):S,w=f?f[0]:l.charAt(0),j=f?ei(f,1).join(""):l.slice(1);return w[i]()+j}}function Xi(i){return function(l){return v(ih(rh(l).replace(G0,"")),i,"")}}function La(i){return function(){var l=arguments;switch(l.length){case 0:return new i;case 1:return new i(l[0]);case 2:return new i(l[0],l[1]);case 3:return new i(l[0],l[1],l[2]);case 4:return new i(l[0],l[1],l[2],l[3]);case 5:return new i(l[0],l[1],l[2],l[3],l[4]);case 6:return new i(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new i(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=aa(i.prototype),w=i.apply(f,l);return Vt(w)?w:f}}function g_(i,l,f){function w(){for(var P=arguments.length,H=un(P),J=P,ae=Qi(w);J--;)H[J]=arguments[J];var we=P<3&&H[0]!==ae&&H[P-1]!==ae?[]:Ve(H,ae);return P-=we.length,P<f?_f(i,l,qo,w.placeholder,S,H,we,S,S,f-P):n(this&&this!==gn&&this instanceof w?j:i,this,H)}var j=La(i);return w}function yf(i){return function(l,f,w){var j=Nt(l);if(!Rn(l)){var P=Qe(f,3);l=hn(l),f=function(J){return P(j[J],J,j)}}var H=i(l,f,w);return H>-1?j[P?l[H]:H]:S}}function bf(i){return Dr(function(l){var f=l.length,w=f,j=Je.prototype.thru;for(i&&l.reverse();w--;){var P=l[w];if(typeof P!="function")throw new ir(ie);if(j&&!H&&Ko(P)=="wrapper")var H=new Je([],!0)}for(w=H?w:f;++w<f;){P=l[w];var J=Ko(P),ae=J=="wrapper"?$c(P):S;H=ae&&yc(ae[0])&&ae[1]==(An|bt|dt|Or)&&!ae[4].length&&ae[9]==1?H[Ko(ae[0])].apply(H,ae[3]):P.length==1&&yc(P)?H[J]():H.thru(P)}return function(){var we=arguments,ge=we[0];if(H&&we.length==1&&rt(ge))return H.plant(ge).value();for(var Se=0,Ne=f?l[Se].apply(this,we):ge;++Se<f;)Ne=l[Se].call(this,Ne);return Ne}})}function qo(i,l,f,w,j,P,H,J,ae,we){function ge(){for(var ft=arguments.length,ht=un(ft),xn=ft;xn--;)ht[xn]=arguments[xn];if(We)var Mn=Qi(ge),ii=N(ht,Mn);if(w&&(ht=ff(ht,w,j,We)),P&&(ht=hf(ht,P,H,We)),ft-=ii,We&&ft<we)return _f(i,l,qo,ge.placeholder,f,ht,Ve(ht,Mn),J,ae,we-ft);var tn=Ne?f:this,ar=Ue?tn[i]:i;return ft=ht.length,J?ht=M_(ht,J):ot&&ft>1&&ht.reverse(),Se&&ae<ft&&(ht.length=ae),this&&this!==gn&&this instanceof ge&&(ar=Ge||La(ar)),ar.apply(tn,ht)}var Se=l&An,Ne=l&yt,Ue=l&nt,We=l&(bt|Tt),ot=l&Kr,Ge=Ue?S:La(i);return ge}function xf(i,l){return function(f,w){return Ww(f,i,l(w),{})}}function Wo(i,l){return function(f,w){var j;if(f===S&&w===S)return l;if(f!==S&&(j=f),w!==S){if(j===S)return w;typeof f=="string"||typeof w=="string"?(f=Bn(f),w=Bn(w)):(f=of(f),w=of(w)),j=i(f,w)}return j}}function pc(i){return Dr(function(l){return l=d(l,_(Qe())),ct(function(f){var w=this;return i(l,function(j){return n(j,w,f)})})})}function Vo(i,l){l=l===S?" ":Bn(l);var f=l.length;if(f<2)return f?ac(l,i):l;var w=ac(l,hs(i/Ye(l)));return O(l)?ei(Xe(w),0,i).join(""):w.slice(0,i)}function v_(i,l,f,w){function j(){for(var J=-1,ae=arguments.length,we=-1,ge=w.length,Se=un(ge+ae),Ne=this&&this!==gn&&this instanceof j?H:i;++we<ge;)Se[we]=w[we];for(;ae--;)Se[we++]=arguments[++J];return n(Ne,P?f:this,Se)}var P=l&yt,H=La(i);return j}function wf(i){return function(l,f,w){return w&&typeof w!="number"&&Cn(l,f,w)&&(f=w=S),l=Ur(l),f===S?(f=l,l=0):f=Ur(f),w=w===S?l<f?1:-1:Ur(w),i_(l,f,w,i)}}function Go(i){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=rr(l),f=rr(f)),i(l,f)}}function _f(i,l,f,w,j,P,H,J,ae,we){var ge=l&bt,Se=ge?H:S,Ne=ge?S:H,Ue=ge?P:S,We=ge?S:P;l|=ge?dt:hr,l&=~(ge?hr:dt),l&cn||(l&=-4);var ot=[i,l,j,Ue,Se,We,Ne,J,ae,we],Ge=f.apply(S,ot);return yc(i)&&xh(Ge,ot),Ge.placeholder=w,Ff(Ge,i,l)}function fc(i){var l=ta[i];return function(f,w){if(f=rr(f),w=w==null?0:yn(st(w),292),w&&ph(f)){var j=(Et(f)+"e").split("e");return j=(Et(l(j[0]+"e"+(+j[1]+w)))+"e").split("e"),+(j[0]+"e"+(+j[1]-w))}return l(f)}}function kf(i){return function(l){var f=bn(l);return f==Xn?ue(l):f==mr?Me(l):R(l,i(l))}}function Pr(i,l,f,w,j,P,H,J){var ae=l&nt;if(!ae&&typeof i!="function")throw new ir(ie);var we=w?w.length:0;if(we||(l&=-97,w=j=S),H=H===S?H:dn(st(H),0),J=J===S?J:st(J),we-=j?j.length:0,l&hr){var ge=w,Se=j;w=j=S}var Ne=ae?S:$c(i),Ue=[i,l,f,w,j,ge,Se,P,H,J];if(Ne&&R_(Ue,Ne),i=Ue[0],l=Ue[1],f=Ue[2],w=Ue[3],j=Ue[4],J=Ue[9]=Ue[9]===S?ae?0:i.length:dn(Ue[9]-we,0),!J&&l&(bt|Tt)&&(l&=-25),l&&l!=yt)We=l==bt||l==Tt?g_(i,l,J):l!=dt&&l!=(yt|dt)||j.length?qo.apply(S,Ue):v_(i,l,f,w);else var We=m_(i,l,f);return Ff((Ne?vh:xh)(We,Ue),i,l)}function Cf(i,l,f,w){return i===S||vr(i,na[f])&&!At.call(w,f)?l:i}function Sf(i,l,f,w,j,P){return Vt(i)&&Vt(l)&&(P.set(l,i),Bo(i,l,S,Sf,P),P.delete(l)),i}function y_(i){return Ua(i)?S:i}function Ef(i,l,f,w,j,P){var H=f&ut,J=i.length,ae=l.length;if(J!=ae&&!(H&&ae>J))return!1;var we=P.get(i),ge=P.get(l);if(we&&ge)return we==l&&ge==i;var Se=-1,Ne=!0,Ue=f&St?new xi:S;for(P.set(i,l),P.set(l,i);++Se<J;){var We=i[Se],ot=l[Se];if(w)var Ge=H?w(ot,We,Se,l,i,P):w(We,ot,Se,i,l,P);if(Ge!==S){if(Ge)continue;Ne=!1;break}if(Ue){if(!m(l,function(ft,ht){if(!Ce(Ue,ht)&&(We===ft||j(We,ft,f,w,P)))return Ue.push(ht)})){Ne=!1;break}}else if(We!==ot&&!j(We,ot,f,w,P)){Ne=!1;break}}return P.delete(i),P.delete(l),Ne}function b_(i,l,f,w,j,P,H){switch(f){case Gi:if(i.byteLength!=l.byteLength||i.byteOffset!=l.byteOffset)return!1;i=i.buffer,l=l.buffer;case Ma:return!(i.byteLength!=l.byteLength||!P(new us(i),new us(l)));case Ut:case Zt:case vi:return vr(+i,+l);case Wi:return i.name==l.name&&i.message==l.message;case Ra:case Oa:return i==l+"";case Xn:var J=ue;case mr:var ae=w&ut;if(J||(J=ve),i.size!=l.size&&!ae)return!1;var we=H.get(i);if(we)return we==l;w|=St,H.set(i,l);var ge=Ef(J(i),J(l),w,j,P,H);return H.delete(i),ge;case Mo:if(Va)return Va.call(i)==Va.call(l)}return!1}function x_(i,l,f,w,j,P){var H=f&ut,J=hc(i),ae=J.length;if(ae!=hc(l).length&&!H)return!1;for(var we=ae;we--;){var ge=J[we];if(!(H?ge in l:At.call(l,ge)))return!1}var Se=P.get(i),Ne=P.get(l);if(Se&&Ne)return Se==l&&Ne==i;var Ue=!0;P.set(i,l),P.set(l,i);for(var We=H;++we<ae;){ge=J[we];var ot=i[ge],Ge=l[ge];if(w)var ft=H?w(Ge,ot,ge,l,i,P):w(ot,Ge,ge,i,l,P);if(!(ft===S?ot===Ge||j(ot,Ge,f,w,P):ft)){Ue=!1;break}We||(We=ge=="constructor")}if(Ue&&!We){var ht=i.constructor,xn=l.constructor;ht!=xn&&"constructor"in i&&"constructor"in l&&!(typeof ht=="function"&&ht instanceof ht&&typeof xn=="function"&&xn instanceof xn)&&(Ue=!1)}return P.delete(i),P.delete(l),Ue}function Dr(i){return Dc(Rf(i,S,Pf),i+"")}function hc(i){return Vp(i,hn,Pc)}function mc(i){return Vp(i,On,bh)}function Ko(i){for(var l=i.name+"",f=ia[l],w=At.call(ia,l)?f.length:0;w--;){var j=f[w],P=j.func;if(P==null||P==i)return j.name}return l}function Qi(i){return(At.call(A,"placeholder")?A:i).placeholder}function Qe(){var i=A.iteratee||Ec;return i=i===Ec?Jp:i,arguments.length?i(arguments[0],arguments[1]):i}function Jo(i,l){var f=i.__data__;return A_(l)?f[typeof l=="string"?"string":"hash"]:f.map}function gc(i){for(var l=hn(i),f=l.length;f--;){var w=l[f],j=i[w];l[f]=[w,j,jf(j)]}return l}function ki(i,l){var f=ne(i,l);return Kp(f)?f:S}function w_(i){var l=At.call(i,Si),f=i[Si];try{i[Si]=S;var w=!0}catch{}var j=ls.call(i);return w&&(l?i[Si]=f:delete i[Si]),j}function __(i,l,f){for(var w=-1,j=f.length;++w<j;){var P=f[w],H=P.size;switch(P.type){case"drop":i+=H;break;case"dropRight":l-=H;break;case"take":l=yn(l,i+H);break;case"takeRight":i=dn(i,l-H)}}return{start:i,end:l}}function k_(i){var l=i.match(b0);return l?l[1].split(x0):[]}function Tf(i,l,f){l=Qr(l,i);for(var w=-1,j=l.length,P=!1;++w<j;){var H=_r(l[w]);if(!(P=i!=null&&f(i,H)))break;i=i[H]}return P||++w!=j?P:(j=i==null?0:i.length,!!j&&ns(j)&&Lr(H,j)&&(rt(i)||Ei(i)))}function C_(i){var l=i.length,f=new i.constructor(l);return l&&typeof i[0]=="string"&&At.call(i,"index")&&(f.index=i.index,f.input=i.input),f}function Af(i){return typeof i.constructor!="function"||Ba(i)?{}:aa(ds(i))}function S_(i,l,f){var w=i.constructor;switch(l){case Ma:return dc(i);case Ut:case Zt:return new w(+i);case Gi:return c_(i,f);case Il:case Rl:case Ol:case Fl:case Ml:case zl:case Nl:case $l:case Pl:return df(i,f);case Xn:return new w;case vi:case Oa:return new w(i);case Ra:return u_(i);case mr:return new w;case Mo:return d_(i)}}function E_(i,l){var f=l.length;if(!f)return i;var w=f-1;return l[w]=(f>1?"& ":"")+l[w],l=l.join(f>2?", ":" "),i.replace(y0,`{
/* [wrapped with `+l+`] */
`)}function T_(i){return rt(i)||Ei(i)||!!(dh&&i&&i[dh])}function Lr(i,l){var f=typeof i;return l=l??Yr,!!l&&(f=="number"||f!="symbol"&&j0.test(i))&&i>-1&&i%1==0&&i<l}function Cn(i,l,f){if(!Vt(f))return!1;var w=typeof l;return!!(w=="number"?Rn(f)&&Lr(l,f.length):w=="string"&&l in f)&&vr(f[l],i)}function vc(i,l){if(rt(i))return!1;var f=typeof i;return!(f!="number"&&f!="symbol"&&f!="boolean"&&i!=null&&!Un(i))||h0.test(i)||!f0.test(i)||l!=null&&i in Nt(l)}function A_(i){var l=typeof i;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?i!=="__proto__":i===null}function yc(i){var l=Ko(i),f=A[l];if(typeof f!="function"||!(l in Le.prototype))return!1;if(i===f)return!0;var w=$c(f);return!!w&&i===w[0]}function j_(i){return!!sh&&sh in i}function Ba(i){var l=i&&i.constructor;return i===(typeof l=="function"&&l.prototype||na)}function jf(i){return i===i&&!Vt(i)}function If(i,l){return function(f){return f!=null&&f[i]===l&&(l!==S||i in Nt(f))}}function I_(i){var l=es(i,function(w){return f.size===Z&&f.clear(),w}),f=l.cache;return l}function R_(i,l){var f=i[1],w=l[1],j=f|w,P=j<(yt|nt|An),H=w==An&&f==bt||w==An&&f==Or&&i[7].length<=l[8]||w==(An|Or)&&l[7].length<=l[8]&&f==bt;if(!P&&!H)return i;w&yt&&(i[2]=l[2],j|=f&yt?0:cn);var J=l[3];if(J){var ae=i[3];i[3]=ae?ff(ae,J,l[4]):J,i[4]=ae?Ve(i[3],V):l[4]}return J=l[5],J&&(ae=i[5],i[5]=ae?hf(ae,J,l[6]):J,i[6]=ae?Ve(i[5],V):l[6]),J=l[7],J&&(i[7]=J),w&An&&(i[8]=i[8]==null?l[8]:yn(i[8],l[8])),i[9]==null&&(i[9]=l[9]),i[0]=l[0],i[1]=j,i}function O_(i){var l=[];if(i!=null)for(var f in Nt(i))l.push(f);return l}function F_(i){return ls.call(i)}function Rf(i,l,f){return l=dn(l===S?i.length-1:l,0),function(){for(var w=arguments,j=-1,P=dn(w.length-l,0),H=un(P);++j<P;)H[j]=w[l+j];j=-1;for(var J=un(l+1);++j<l;)J[j]=w[j];return J[l]=f(H),n(i,this,J)}}function Of(i,l){return l.length<2?i:_i(i,tr(l,0,-1))}function M_(i,l){for(var f=i.length,w=yn(l.length,f),j=In(i);w--;){var P=l[w];i[w]=Lr(P,f)?j[P]:S}return i}function bc(i,l){if((l!=="constructor"||typeof i[l]!="function")&&l!="__proto__")return i[l]}function Ff(i,l,f){var w=l+"";return Dc(i,E_(w,z_(k_(w),f)))}function Mf(i){var l=0,f=0;return function(){var w=ZC(),j=El-(w-f);if(f=w,j>0){if(++l>=Io)return arguments[0]}else l=0;return i.apply(S,arguments)}}function Yo(i,l){var f=-1,w=i.length,j=w-1;for(l=l===S?w:l;++f<l;){var P=ic(f,j),H=i[P];i[P]=i[f],i[f]=H}return i.length=l,i}function _r(i){if(typeof i=="string"||Un(i))return i;var l=i+"";return l=="0"&&1/i==-1/0?"-0":l}function Ci(i){if(i!=null){try{return ss.call(i)}catch{}try{return i+""}catch{}}return""}function z_(i,l){return a(Ke,function(f){var w="_."+f[0];l&f[1]&&!u(i,w)&&i.push(w)}),i.sort()}function zf(i){if(i instanceof Le)return i.clone();var l=new Je(i.__wrapped__,i.__chain__);return l.__actions__=In(i.__actions__),l.__index__=i.__index__,l.__values__=i.__values__,l}function N_(i,l,f){l=(f?Cn(i,l,f):l===S)?1:dn(st(l),0);var w=i==null?0:i.length;if(!w||l<1)return[];for(var j=0,P=0,H=un(hs(w/l));j<w;)H[P++]=tr(i,j,j+=l);return H}function $_(i){for(var l=-1,f=i==null?0:i.length,w=0,j=[];++l<f;){var P=i[l];P&&(j[w++]=P)}return j}function P_(){var i=arguments.length;if(!i)return[];for(var l=un(i-1),f=arguments[0],w=i;w--;)l[w-1]=arguments[w];return h(rt(f)?In(f):[f],vn(l,1))}function D_(i,l,f){var w=i==null?0:i.length;return w?(l=f||l===S?1:st(l),tr(i,l<0?0:l,w)):[]}function L_(i,l,f){var w=i==null?0:i.length;return w?(l=f||l===S?1:st(l),l=w-l,tr(i,0,l<0?0:l)):[]}function B_(i,l){return i&&i.length?Zo(i,Qe(l,3),!0,!0):[]}function U_(i,l){return i&&i.length?Zo(i,Qe(l,3),!0):[]}function Z_(i,l,f,w){var j=i==null?0:i.length;return j?(f&&typeof f!="number"&&Cn(i,l,f)&&(f=0,w=j),Uw(i,l,f,w)):[]}function Nf(i,l,f){var w=i==null?0:i.length;if(!w)return-1;var j=f==null?0:st(f);return j<0&&(j=dn(w+j,0)),C(i,Qe(l,3),j)}function $f(i,l,f){var w=i==null?0:i.length;if(!w)return-1;var j=w-1;return f!==S&&(j=st(f),j=f<0?dn(w+j,0):yn(j,w-1)),C(i,Qe(l,3),j,!0)}function Pf(i){return i!=null&&i.length?vn(i,1):[]}function H_(i){return i!=null&&i.length?vn(i,Hi):[]}function q_(i,l){return i!=null&&i.length?(l=l===S?1:st(l),vn(i,l)):[]}function W_(i){for(var l=-1,f=i==null?0:i.length,w={};++l<f;){var j=i[l];w[j[0]]=j[1]}return w}function Df(i){return i&&i.length?i[0]:S}function V_(i,l,f){var w=i==null?0:i.length;if(!w)return-1;var j=f==null?0:st(f);return j<0&&(j=dn(w+j,0)),T(i,l,j)}function G_(i){return i!=null&&i.length?tr(i,0,-1):[]}function K_(i,l){return i==null?"":BC.call(i,l)}function nr(i){var l=i==null?0:i.length;return l?i[l-1]:S}function J_(i,l,f){var w=i==null?0:i.length;if(!w)return-1;var j=w;return f!==S&&(j=st(f),j=j<0?dn(w+j,0):yn(j,w-1)),l===l?Oe(i,l,j):C(i,$,j,!0)}function Y_(i,l){return i&&i.length?ef(i,st(l)):S}function Lf(i,l){return i&&i.length&&l&&l.length?rc(i,l):i}function X_(i,l,f){return i&&i.length&&l&&l.length?rc(i,l,Qe(f,2)):i}function Q_(i,l,f){return i&&i.length&&l&&l.length?rc(i,l,S,f):i}function ek(i,l){var f=[];if(!i||!i.length)return f;var w=-1,j=[],P=i.length;for(l=Qe(l,3);++w<P;){var H=i[w];l(H,w,i)&&(f.push(H),j.push(w))}return rf(i,j),f}function xc(i){return i==null?i:qC.call(i)}function tk(i,l,f){var w=i==null?0:i.length;return w?(f&&typeof f!="number"&&Cn(i,l,f)?(l=0,f=w):(l=l==null?0:st(l),f=f===S?w:st(f)),tr(i,l,f)):[]}function nk(i,l){return Uo(i,l)}function rk(i,l,f){return oc(i,l,Qe(f,2))}function ik(i,l){var f=i==null?0:i.length;if(f){var w=Uo(i,l);if(w<f&&vr(i[w],l))return w}return-1}function ak(i,l){return Uo(i,l,!0)}function ok(i,l,f){return oc(i,l,Qe(f,2),!0)}function sk(i,l){if(i!=null&&i.length){var f=Uo(i,l,!0)-1;if(vr(i[f],l))return f}return-1}function lk(i){return i&&i.length?af(i):[]}function ck(i,l){return i&&i.length?af(i,Qe(l,2)):[]}function uk(i){var l=i==null?0:i.length;return l?tr(i,1,l):[]}function dk(i,l,f){return i&&i.length?(l=f||l===S?1:st(l),tr(i,0,l<0?0:l)):[]}function pk(i,l,f){var w=i==null?0:i.length;return w?(l=f||l===S?1:st(l),l=w-l,tr(i,l<0?0:l,w)):[]}function fk(i,l){return i&&i.length?Zo(i,Qe(l,3),!1,!0):[]}function hk(i,l){return i&&i.length?Zo(i,Qe(l,3)):[]}function mk(i){return i&&i.length?Xr(i):[]}function gk(i,l){return i&&i.length?Xr(i,Qe(l,2)):[]}function vk(i,l){return l=typeof l=="function"?l:S,i&&i.length?Xr(i,S,l):[]}function wc(i){if(!i||!i.length)return[];var l=0;return i=c(i,function(f){if(nn(f))return l=dn(f.length,l),!0}),se(l,function(f){return d(i,B(f))})}function Bf(i,l){if(!i||!i.length)return[];var f=wc(i);return l==null?f:d(f,function(w){return n(l,S,w)})}function yk(i,l){return cf(i||[],l||[],za)}function bk(i,l){return cf(i||[],l||[],Da)}function Uf(i){var l=A(i);return l.__chain__=!0,l}function xk(i,l){return l(i),i}function Xo(i,l){return l(i)}function wk(){return Uf(this)}function _k(){return new Je(this.value(),this.__chain__)}function kk(){this.__values__===S&&(this.__values__=Xf(this.value()));var i=this.__index__>=this.__values__.length;return{done:i,value:i?S:this.__values__[this.__index__++]}}function Ck(){return this}function Sk(i){for(var l,f=this;f instanceof Pe;){var w=zf(f);w.__index__=0,w.__values__=S,l?j.__wrapped__=w:l=w;var j=w;f=f.__wrapped__}return j.__wrapped__=i,l}function Ek(){var i=this.__wrapped__;if(i instanceof Le){var l=i;return this.__actions__.length&&(l=new Le(this)),l=l.reverse(),l.__actions__.push({func:Xo,args:[xc],thisArg:S}),new Je(l,this.__chain__)}return this.thru(xc)}function Tk(){return lf(this.__wrapped__,this.__actions__)}function Ak(i,l,f){var w=rt(i)?o:Bw;return f&&Cn(i,l,f)&&(l=S),w(i,Qe(l,3))}function jk(i,l){return(rt(i)?c:Wp)(i,Qe(l,3))}function Ik(i,l){return vn(Qo(i,l),1)}function Rk(i,l){return vn(Qo(i,l),Hi)}function Ok(i,l,f){return f=f===S?1:st(f),vn(Qo(i,l),f)}function Zf(i,l){return(rt(i)?a:ni)(i,Qe(l,3))}function Hf(i,l){return(rt(i)?s:mh)(i,Qe(l,3))}function Fk(i,l,f,w){i=Rn(i)?i:ea(i),f=f&&!w?st(f):0;var j=i.length;return f<0&&(f=dn(j+f,0)),rs(i)?f<=j&&i.indexOf(l,f)>-1:!!j&&T(i,l,f)>-1}function Qo(i,l){return(rt(i)?d:Yp)(i,Qe(l,3))}function Mk(i,l,f,w){return i==null?[]:(rt(l)||(l=l==null?[]:[l]),f=w?S:f,rt(f)||(f=f==null?[]:[f]),tf(i,l,f))}function zk(i,l,f){var w=rt(i)?v:X,j=arguments.length<3;return w(i,Qe(l,4),f,j,ni)}function Nk(i,l,f){var w=rt(i)?y:X,j=arguments.length<3;return w(i,Qe(l,4),f,j,mh)}function $k(i,l){return(rt(i)?c:Wp)(i,ts(Qe(l,3)))}function Pk(i){return(rt(i)?Up:a_)(i)}function Dk(i,l,f){return l=(f?Cn(i,l,f):l===S)?1:st(l),(rt(i)?Nw:o_)(i,l)}function Lk(i){return(rt(i)?$w:s_)(i)}function Bk(i){if(i==null)return 0;if(Rn(i))return rs(i)?Ye(i):i.length;var l=bn(i);return l==Xn||l==mr?i.size:tc(i).length}function Uk(i,l,f){var w=rt(i)?m:l_;return f&&Cn(i,l,f)&&(l=S),w(i,Qe(l,3))}function Zk(i,l){if(typeof l!="function")throw new ir(ie);return i=st(i),function(){if(--i<1)return l.apply(this,arguments)}}function qf(i,l,f){return l=f?S:l,l=i&&l==null?i.length:l,Pr(i,An,S,S,S,S,l)}function Wf(i,l){var f;if(typeof l!="function")throw new ir(ie);return i=st(i),function(){return--i>0&&(f=l.apply(this,arguments)),i<=1&&(l=S),f}}function Vf(i,l,f){l=f?S:l;var w=Pr(i,bt,S,S,S,S,S,l);return w.placeholder=Vf.placeholder,w}function Gf(i,l,f){l=f?S:l;var w=Pr(i,Tt,S,S,S,S,S,l);return w.placeholder=Gf.placeholder,w}function Kf(i,l,f){function w(tn){var ar=Ne,Ka=Ue;return Ne=Ue=S,ht=tn,ot=i.apply(Ka,ar)}function j(tn){return ht=tn,Ge=Ga(J,l),xn?w(tn):ot}function P(tn){var ar=tn-ft,Ka=tn-ht,Rh=l-ar;return Mn?yn(Rh,We-Ka):Rh}function H(tn){var ar=tn-ft,Ka=tn-ht;return ft===S||ar>=l||ar<0||Mn&&Ka>=We}function J(){var tn=ys();return H(tn)?ae(tn):(Ge=Ga(J,P(tn)),S)}function ae(tn){return Ge=S,ii&&Ne?w(tn):(Ne=Ue=S,ot)}function we(){Ge!==S&&yh(Ge),ht=0,Ne=ft=Ue=Ge=S}function ge(){return Ge===S?ot:ae(ys())}function Se(){var tn=ys(),ar=H(tn);if(Ne=arguments,Ue=this,ft=tn,ar){if(Ge===S)return j(ft);if(Mn)return yh(Ge),Ge=Ga(J,l),w(ft)}return Ge===S&&(Ge=Ga(J,l)),ot}var Ne,Ue,We,ot,Ge,ft,ht=0,xn=!1,Mn=!1,ii=!0;if(typeof i!="function")throw new ir(ie);return l=rr(l)||0,Vt(f)&&(xn=!!f.leading,Mn="maxWait"in f,We=Mn?dn(rr(f.maxWait)||0,l):We,ii="trailing"in f?!!f.trailing:ii),Se.cancel=we,Se.flush=ge,Se}function Hk(i){return Pr(i,Kr)}function es(i,l){if(typeof i!="function"||l!=null&&typeof l!="function")throw new ir(ie);var f=function(){var w=arguments,j=l?l.apply(this,w):w[0],P=f.cache;if(P.has(j))return P.get(j);var H=i.apply(this,w);return f.cache=P.set(j,H)||P,H};return f.cache=new(es.Cache||Nr),f}function ts(i){if(typeof i!="function")throw new ir(ie);return function(){var l=arguments;switch(l.length){case 0:return!i.call(this);case 1:return!i.call(this,l[0]);case 2:return!i.call(this,l[0],l[1]);case 3:return!i.call(this,l[0],l[1],l[2])}return!i.apply(this,l)}}function qk(i){return Wf(2,i)}function Wk(i,l){if(typeof i!="function")throw new ir(ie);return l=l===S?l:st(l),ct(i,l)}function Vk(i,l){if(typeof i!="function")throw new ir(ie);return l=l==null?0:dn(st(l),0),ct(function(f){var w=f[l],j=ei(f,0,l);return w&&h(j,w),n(i,this,j)})}function Gk(i,l,f){var w=!0,j=!0;if(typeof i!="function")throw new ir(ie);return Vt(f)&&(w="leading"in f?!!f.leading:w,j="trailing"in f?!!f.trailing:j),Kf(i,l,{leading:w,maxWait:l,trailing:j})}function Kk(i){return qf(i,1)}function Jk(i,l){return Bc(uc(l),i)}function Yk(){if(!arguments.length)return[];var i=arguments[0];return rt(i)?i:[i]}function Xk(i){return er(i,Be)}function Qk(i,l){return l=typeof l=="function"?l:S,er(i,Be,l)}function e1(i){return er(i,ye|Be)}function t1(i,l){return l=typeof l=="function"?l:S,er(i,ye|Be,l)}function n1(i,l){return l==null||Hp(i,l,hn(l))}function vr(i,l){return i===l||i!==i&&l!==l}function Rn(i){return i!=null&&ns(i.length)&&!Br(i)}function nn(i){return en(i)&&Rn(i)}function r1(i){return i===!0||i===!1||en(i)&&kn(i)==Ut}function i1(i){return en(i)&&i.nodeType===1&&!Ua(i)}function a1(i){if(i==null)return!0;if(Rn(i)&&(rt(i)||typeof i=="string"||typeof i.splice=="function"||ri(i)||oa(i)||Ei(i)))return!i.length;var l=bn(i);if(l==Xn||l==mr)return!i.size;if(Ba(i))return!tc(i).length;for(var f in i)if(At.call(i,f))return!1;return!0}function o1(i,l){return Pa(i,l)}function s1(i,l,f){f=typeof f=="function"?f:S;var w=f?f(i,l):S;return w===S?Pa(i,l,S,f):!!w}function _c(i){if(!en(i))return!1;var l=kn(i);return l==Wi||l==mn||typeof i.message=="string"&&typeof i.name=="string"&&!Ua(i)}function l1(i){return typeof i=="number"&&ph(i)}function Br(i){if(!Vt(i))return!1;var l=kn(i);return l==Vi||l==Fo||l==pt||l==r0}function Jf(i){return typeof i=="number"&&i==st(i)}function ns(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Yr}function Vt(i){var l=typeof i;return i!=null&&(l=="object"||l=="function")}function en(i){return i!=null&&typeof i=="object"}function c1(i,l){return i===l||ec(i,l,gc(l))}function u1(i,l,f){return f=typeof f=="function"?f:S,ec(i,l,gc(l),f)}function d1(i){return Yf(i)&&i!=+i}function p1(i){if(eS(i))throw new Rc(_e);return Kp(i)}function f1(i){return i===null}function h1(i){return i==null}function Yf(i){return typeof i=="number"||en(i)&&kn(i)==vi}function Ua(i){if(!en(i)||kn(i)!=Mr)return!1;var l=ds(i);if(l===null)return!0;var f=At.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&ss.call(f)==MC}function m1(i){return Jf(i)&&i>=-9007199254740991&&i<=Yr}function rs(i){return typeof i=="string"||!rt(i)&&en(i)&&kn(i)==Oa}function Un(i){return typeof i=="symbol"||en(i)&&kn(i)==Mo}function g1(i){return i===S}function v1(i){return en(i)&&bn(i)==Fa}function y1(i){return en(i)&&kn(i)==a0}function Xf(i){if(!i)return[];if(Rn(i))return rs(i)?Xe(i):In(i);if(Za&&i[Za])return Ee(i[Za]());var l=bn(i);return(l==Xn?ue:l==mr?ve:ea)(i)}function Ur(i){return i?(i=rr(i),i===Hi||i===-1/0?(i<0?-1:1)*Tl:i===i?i:0):i===0?i:0}function st(i){var l=Ur(i),f=l%1;return l===l?f?l-f:l:0}function Qf(i){return i?wi(st(i),0,Yn):0}function rr(i){if(typeof i=="number")return i;if(Un(i))return qi;if(Vt(i)){var l=typeof i.valueOf=="function"?i.valueOf():i;i=Vt(l)?l+"":l}if(typeof i!="string")return i===0?i:+i;i=G(i);var f=E0.test(i);return f||A0.test(i)?ow(i.slice(2),f?2:8):S0.test(i)?qi:+i}function eh(i){return wr(i,On(i))}function b1(i){return i?wi(st(i),-9007199254740991,Yr):i===0?i:0}function Et(i){return i==null?"":Bn(i)}function x1(i,l){var f=aa(i);return l==null?f:Zp(f,l)}function w1(i,l){return k(i,Qe(l,3),xr)}function _1(i,l){return k(i,Qe(l,3),Yl)}function k1(i,l){return i==null?i:Nc(i,Qe(l,3),On)}function C1(i,l){return i==null?i:gh(i,Qe(l,3),On)}function S1(i,l){return i&&xr(i,Qe(l,3))}function E1(i,l){return i&&Yl(i,Qe(l,3))}function T1(i){return i==null?[]:Lo(i,hn(i))}function A1(i){return i==null?[]:Lo(i,On(i))}function kc(i,l,f){var w=i==null?S:_i(i,l);return w===S?f:w}function j1(i,l){return i!=null&&Tf(i,l,Zw)}function Cc(i,l){return i!=null&&Tf(i,l,Hw)}function hn(i){return Rn(i)?Bp(i):tc(i)}function On(i){return Rn(i)?Bp(i,!0):e_(i)}function I1(i,l){var f={};return l=Qe(l,3),xr(i,function(w,j,P){$r(f,l(w,j,P),w)}),f}function R1(i,l){var f={};return l=Qe(l,3),xr(i,function(w,j,P){$r(f,j,l(w,j,P))}),f}function O1(i,l){return th(i,ts(Qe(l)))}function th(i,l){if(i==null)return{};var f=d(mc(i),function(w){return[w]});return l=Qe(l),nf(i,f,function(w,j){return l(w,j[0])})}function F1(i,l,f){l=Qr(l,i);var w=-1,j=l.length;for(j||(j=1,i=S);++w<j;){var P=i==null?S:i[_r(l[w])];P===S&&(w=j,P=f),i=Br(P)?P.call(i):P}return i}function M1(i,l,f){return i==null?i:Da(i,l,f)}function z1(i,l,f,w){return w=typeof w=="function"?w:S,i==null?i:Da(i,l,f,w)}function N1(i,l,f){var w=rt(i),j=w||ri(i)||oa(i);if(l=Qe(l,4),f==null){var P=i&&i.constructor;f=j?w?new P:[]:Vt(i)&&Br(P)?aa(ds(i)):{}}return(j?a:xr)(i,function(H,J,ae){return l(f,H,J,ae)}),f}function $1(i,l){return i==null||sc(i,l)}function P1(i,l,f){return i==null?i:sf(i,l,uc(f))}function D1(i,l,f,w){return w=typeof w=="function"?w:S,i==null?i:sf(i,l,uc(f),w)}function ea(i){return i==null?[]:L(i,hn(i))}function L1(i){return i==null?[]:L(i,On(i))}function B1(i,l,f){return f===S&&(f=l,l=S),f!==S&&(f=rr(f),f=f===f?f:0),l!==S&&(l=rr(l),l=l===l?l:0),wi(rr(i),l,f)}function U1(i,l,f){return l=Ur(l),f===S?(f=l,l=0):f=Ur(f),i=rr(i),qw(i,l,f)}function Z1(i,l,f){if(f&&typeof f!="boolean"&&Cn(i,l,f)&&(l=f=S),f===S&&(typeof l=="boolean"?(f=l,l=S):typeof i=="boolean"&&(f=i,i=S)),i===S&&l===S?(i=0,l=1):(i=Ur(i),l===S?(l=i,i=0):l=Ur(l)),i>l){var w=i;i=l,l=w}if(f||i%1||l%1){var j=fh();return yn(i+j*(l-i+aw("1e-"+((j+"").length-1))),l)}return ic(i,l)}function nh(i){return Zc(Et(i).toLowerCase())}function rh(i){return i=Et(i),i&&i.replace(I0,cw).replace(K0,"")}function H1(i,l,f){i=Et(i),l=Bn(l);var w=i.length;f=f===S?w:wi(st(f),0,w);var j=f;return f-=l.length,f>=0&&i.slice(f,j)==l}function q1(i){return i=Et(i),i&&u0.test(i)?i.replace(pp,uw):i}function W1(i){return i=Et(i),i&&g0.test(i)?i.replace(Dl,"\\$&"):i}function V1(i,l,f){i=Et(i),l=st(l);var w=l?Ye(i):0;if(!l||w>=l)return i;var j=(l-w)/2;return Vo(ms(j),f)+i+Vo(hs(j),f)}function G1(i,l,f){i=Et(i),l=st(l);var w=l?Ye(i):0;return l&&w<l?i+Vo(l-w,f):i}function K1(i,l,f){i=Et(i),l=st(l);var w=l?Ye(i):0;return l&&w<l?Vo(l-w,f)+i:i}function J1(i,l,f){return f||l==null?l=0:l&&(l=+l),HC(Et(i).replace(Ll,""),l||0)}function Y1(i,l,f){return l=(f?Cn(i,l,f):l===S)?1:st(l),ac(Et(i),l)}function X1(){var i=arguments,l=Et(i[0]);return i.length<3?l:l.replace(i[1],i[2])}function Q1(i,l,f){return f&&typeof f!="number"&&Cn(i,l,f)&&(l=f=S),(f=f===S?Yn:f>>>0)?(i=Et(i),i&&(typeof l=="string"||l!=null&&!Uc(l))&&(l=Bn(l),!l&&O(i))?ei(Xe(i),0,f):i.split(l,f)):[]}function eC(i,l,f){return i=Et(i),f=f==null?0:wi(st(f),0,i.length),l=Bn(l),i.slice(f,f+l.length)==l}function tC(i,l,f){var w=A.templateSettings;f&&Cn(i,l,f)&&(l=S),i=Et(i),l=bs({},l,w,Cf);var j,P,H=bs({},l.imports,w.imports,Cf),J=hn(H),ae=L(H,J),we=0,ge=l.interpolate||zo,Se="__p += '",Ne=Oc((l.escape||zo).source+"|"+ge.source+"|"+(ge===fp?C0:zo).source+"|"+(l.evaluate||zo).source+"|$","g"),Ue="//# sourceURL="+(At.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ew+"]")+`
`;i.replace(Ne,function(Ge,ft,ht,xn,Mn,ii){return ht||(ht=xn),Se+=i.slice(we,ii).replace(R0,ce),ft&&(j=!0,Se+=`' +
__e(`+ft+`) +
'`),Mn&&(P=!0,Se+=`';
`+Mn+`;
__p += '`),ht&&(Se+=`' +
((__t = (`+ht+`)) == null ? '' : __t) +
'`),we=ii+Ge.length,Ge}),Se+=`';
`;var We=At.call(l,"variable")&&l.variable;if(We){if(_0.test(We))throw new Rc(oe)}else Se=`with (obj) {
`+Se+`
}
`;Se=(P?Se.replace(o0,""):Se).replace(s0,"$1").replace(l0,"$1;"),Se="function("+(We||"obj")+`) {
`+(We?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(j?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Se+`return __p
}`;var ot=Ih(function(){return oh(J,Ue+"return "+Se).apply(S,ae)});if(ot.source=Se,_c(ot))throw ot;return ot}function nC(i){return Et(i).toLowerCase()}function rC(i){return Et(i).toUpperCase()}function iC(i,l,f){if(i=Et(i),i&&(f||l===S))return G(i);if(!i||!(l=Bn(l)))return i;var w=Xe(i),j=Xe(l);return ei(w,le(w,j),de(w,j)+1).join("")}function aC(i,l,f){if(i=Et(i),i&&(f||l===S))return i.slice(0,E(i)+1);if(!i||!(l=Bn(l)))return i;var w=Xe(i);return ei(w,0,de(w,Xe(l))+1).join("")}function oC(i,l,f){if(i=Et(i),i&&(f||l===S))return i.replace(Ll,"");if(!i||!(l=Bn(l)))return i;var w=Xe(i);return ei(w,le(w,Xe(l))).join("")}function sC(i,l){var f=Fr,w=Jr;if(Vt(l)){var j="separator"in l?l.separator:j;f="length"in l?st(l.length):f,w="omission"in l?Bn(l.omission):w}i=Et(i);var P=i.length;if(O(i)){var H=Xe(i);P=H.length}if(f>=P)return i;var J=f-Ye(w);if(J<1)return w;var ae=H?ei(H,0,J).join(""):i.slice(0,J);if(j===S)return ae+w;if(H&&(J+=ae.length-J),Uc(j)){if(i.slice(J).search(j)){var we,ge=ae;for(j.global||(j=Oc(j.source,Et(hp.exec(j))+"g")),j.lastIndex=0;we=j.exec(ge);)var Se=we.index;ae=ae.slice(0,Se===S?J:Se)}}else if(i.indexOf(Bn(j),J)!=J){var Ne=ae.lastIndexOf(j);Ne>-1&&(ae=ae.slice(0,Ne))}return ae+w}function lC(i){return i=Et(i),i&&c0.test(i)?i.replace(dp,dw):i}function ih(i,l,f){return i=Et(i),l=f?S:l,l===S?Re(i)?D(i):b(i):i.match(l)||[]}function cC(i){var l=i==null?0:i.length,f=Qe();return i=l?d(i,function(w){if(typeof w[1]!="function")throw new ir(ie);return[f(w[0]),w[1]]}):[],ct(function(w){for(var j=-1;++j<l;){var P=i[j];if(n(P[0],this,w))return n(P[1],this,w)}})}function uC(i){return Lw(er(i,ye))}function Sc(i){return function(){return i}}function dC(i,l){return i==null||i!==i?l:i}function Fn(i){return i}function Ec(i){return Jp(typeof i=="function"?i:er(i,ye))}function pC(i){return Xp(er(i,ye))}function fC(i,l){return Qp(i,er(l,ye))}function Tc(i,l,f){var w=hn(l),j=Lo(l,w);f!=null||Vt(l)&&(j.length||!w.length)||(f=l,l=i,i=this,j=Lo(l,hn(l)));var P=!(Vt(f)&&"chain"in f&&!f.chain),H=Br(i);return a(j,function(J){var ae=l[J];i[J]=ae,H&&(i.prototype[J]=function(){var we=this.__chain__;if(P||we){var ge=i(this.__wrapped__);return(ge.__actions__=In(this.__actions__)).push({func:ae,args:arguments,thisArg:i}),ge.__chain__=we,ge}return ae.apply(i,h([this.value()],arguments))})}),i}function hC(){return gn._===this&&(gn._=zC),this}function Ac(){}function mC(i){return i=st(i),ct(function(l){return ef(l,i)})}function ah(i){return vc(i)?B(_r(i)):r_(i)}function gC(i){return function(l){return i==null?S:_i(i,l)}}function jc(){return[]}function Ic(){return!1}function vC(){return{}}function yC(){return""}function bC(){return!0}function xC(i,l){if(i=st(i),i<1||i>Yr)return[];var f=Yn,w=yn(i,Yn);l=Qe(l),i-=Yn;for(var j=se(w,l);++f<i;)l(f);return j}function wC(i){return rt(i)?d(i,_r):Un(i)?[i]:In(wh(Et(i)))}function _C(i){var l=++FC;return Et(i)+l}function kC(i){return i&&i.length?Do(i,Fn,Xl):S}function CC(i,l){return i&&i.length?Do(i,Qe(l,2),Xl):S}function SC(i){return M(i,Fn)}function EC(i,l){return M(i,Qe(l,2))}function TC(i){return i&&i.length?Do(i,Fn,nc):S}function AC(i,l){return i&&i.length?Do(i,Qe(l,2),nc):S}function jC(i){return i&&i.length?q(i,Fn):0}function IC(i,l){return i&&i.length?q(i,Qe(l,2)):0}fe=fe==null?gn:Ji.defaults(gn.Object(),fe,Ji.pick(gn,Q0));var un=fe.Array,is=fe.Date,Rc=fe.Error,oh=fe.Function,ta=fe.Math,Nt=fe.Object,Oc=fe.RegExp,RC=fe.String,ir=fe.TypeError,as=un.prototype,OC=oh.prototype,na=Nt.prototype,os=fe["__core-js_shared__"],ss=OC.toString,At=na.hasOwnProperty,FC=0,sh=function(){var i=/[^.]+$/.exec(os&&os.keys&&os.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ls=na.toString,MC=ss.call(Nt),zC=gn._,NC=Oc("^"+ss.call(At).replace(Dl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cs=Mp?fe.Buffer:S,ti=fe.Symbol,us=fe.Uint8Array,lh=cs?cs.allocUnsafe:S,ds=at(Nt.getPrototypeOf,Nt),ch=Nt.create,uh=na.propertyIsEnumerable,ps=as.splice,dh=ti?ti.isConcatSpreadable:S,Za=ti?ti.iterator:S,Si=ti?ti.toStringTag:S,fs=function(){try{var i=ki(Nt,"defineProperty");return i({},"",{}),i}catch{}}(),$C=fe.clearTimeout!==gn.clearTimeout&&fe.clearTimeout,PC=is&&is.now!==gn.Date.now&&is.now,DC=fe.setTimeout!==gn.setTimeout&&fe.setTimeout,hs=ta.ceil,ms=ta.floor,Fc=Nt.getOwnPropertySymbols,LC=cs?cs.isBuffer:S,ph=fe.isFinite,BC=as.join,UC=at(Nt.keys,Nt),dn=ta.max,yn=ta.min,ZC=is.now,HC=fe.parseInt,fh=ta.random,qC=as.reverse,Mc=ki(fe,"DataView"),Ha=ki(fe,"Map"),zc=ki(fe,"Promise"),ra=ki(fe,"Set"),qa=ki(fe,"WeakMap"),Wa=ki(Nt,"create"),gs=qa&&new qa,ia={},WC=Ci(Mc),VC=Ci(Ha),GC=Ci(zc),KC=Ci(ra),JC=Ci(qa),vs=ti?ti.prototype:S,Va=vs?vs.valueOf:S,hh=vs?vs.toString:S,aa=function(){function i(){}return function(l){if(!Vt(l))return{};if(ch)return ch(l);i.prototype=l;var f=new i;return i.prototype=S,f}}();A.templateSettings={escape:d0,evaluate:p0,interpolate:fp,variable:"",imports:{_:A}},A.prototype=Pe.prototype,A.prototype.constructor=A,Je.prototype=aa(Pe.prototype),Je.prototype.constructor=Je,Le.prototype=aa(Pe.prototype),Le.prototype.constructor=Le,bi.prototype.clear=hw,bi.prototype.delete=mw,bi.prototype.get=gw,bi.prototype.has=vw,bi.prototype.set=yw,zr.prototype.clear=bw,zr.prototype.delete=xw,zr.prototype.get=ww,zr.prototype.has=_w,zr.prototype.set=kw,Nr.prototype.clear=Cw,Nr.prototype.delete=Sw,Nr.prototype.get=Ew,Nr.prototype.has=Tw,Nr.prototype.set=Aw,xi.prototype.add=xi.prototype.push=jw,xi.prototype.has=Iw,gr.prototype.clear=Rw,gr.prototype.delete=Ow,gr.prototype.get=Fw,gr.prototype.has=Mw,gr.prototype.set=zw;var ni=mf(xr),mh=mf(Yl,!0),Nc=gf(),gh=gf(!0),vh=gs?function(i,l){return gs.set(i,l),i}:Fn,YC=fs?function(i,l){return fs(i,"toString",{configurable:!0,enumerable:!1,value:Sc(l),writable:!0})}:Fn,XC=ct,yh=$C||function(i){return gn.clearTimeout(i)},QC=ra&&1/ve(new ra([,-0]))[1]==Hi?function(i){return new ra(i)}:Ac,$c=gs?function(i){return gs.get(i)}:Ac,Pc=Fc?function(i){return i==null?[]:(i=Nt(i),c(Fc(i),function(l){return uh.call(i,l)}))}:jc,bh=Fc?function(i){for(var l=[];i;)h(l,Pc(i)),i=ds(i);return l}:jc,bn=kn;(Mc&&bn(new Mc(new ArrayBuffer(1)))!=Gi||Ha&&bn(new Ha)!=Xn||zc&&bn(zc.resolve())!=up||ra&&bn(new ra)!=mr||qa&&bn(new qa)!=Fa)&&(bn=function(i){var l=kn(i),f=l==Mr?i.constructor:S,w=f?Ci(f):"";if(w)switch(w){case WC:return Gi;case VC:return Xn;case GC:return up;case KC:return mr;case JC:return Fa}return l});var eS=os?Br:Ic,xh=Mf(vh),Ga=DC||function(i,l){return gn.setTimeout(i,l)},Dc=Mf(YC),wh=I_(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(m0,function(f,w,j,P){l.push(j?P.replace(k0,"$1"):w||f)}),l}),tS=ct(function(i,l){return nn(i)?Na(i,vn(l,1,nn,!0)):[]}),nS=ct(function(i,l){var f=nr(l);return nn(f)&&(f=S),nn(i)?Na(i,vn(l,1,nn,!0),Qe(f,2)):[]}),rS=ct(function(i,l){var f=nr(l);return nn(f)&&(f=S),nn(i)?Na(i,vn(l,1,nn,!0),S,f):[]}),iS=ct(function(i){var l=d(i,cc);return l.length&&l[0]===i[0]?Ql(l):[]}),aS=ct(function(i){var l=nr(i),f=d(i,cc);return l===nr(f)?l=S:f.pop(),f.length&&f[0]===i[0]?Ql(f,Qe(l,2)):[]}),oS=ct(function(i){var l=nr(i),f=d(i,cc);return l=typeof l=="function"?l:S,l&&f.pop(),f.length&&f[0]===i[0]?Ql(f,S,l):[]}),sS=ct(Lf),lS=Dr(function(i,l){var f=i==null?0:i.length,w=Jl(i,l);return rf(i,d(l,function(j){return Lr(j,f)?+j:j}).sort(pf)),w}),cS=ct(function(i){return Xr(vn(i,1,nn,!0))}),uS=ct(function(i){var l=nr(i);return nn(l)&&(l=S),Xr(vn(i,1,nn,!0),Qe(l,2))}),dS=ct(function(i){var l=nr(i);return l=typeof l=="function"?l:S,Xr(vn(i,1,nn,!0),S,l)}),pS=ct(function(i,l){return nn(i)?Na(i,l):[]}),fS=ct(function(i){return lc(c(i,nn))}),hS=ct(function(i){var l=nr(i);return nn(l)&&(l=S),lc(c(i,nn),Qe(l,2))}),mS=ct(function(i){var l=nr(i);return l=typeof l=="function"?l:S,lc(c(i,nn),S,l)}),gS=ct(wc),vS=ct(function(i){var l=i.length,f=l>1?i[l-1]:S;return f=typeof f=="function"?(i.pop(),f):S,Bf(i,f)}),yS=Dr(function(i){var l=i.length,f=l?i[0]:0,w=this.__wrapped__,j=function(P){return Jl(P,i)};return!(l>1||this.__actions__.length)&&w instanceof Le&&Lr(f)?(w=w.slice(f,+f+(l?1:0)),w.__actions__.push({func:Xo,args:[j],thisArg:S}),new Je(w,this.__chain__).thru(function(P){return l&&!P.length&&P.push(S),P})):this.thru(j)}),bS=Ho(function(i,l,f){At.call(i,f)?++i[f]:$r(i,f,1)}),xS=yf(Nf),wS=yf($f),_S=Ho(function(i,l,f){At.call(i,f)?i[f].push(l):$r(i,f,[l])}),kS=ct(function(i,l,f){var w=-1,j=typeof l=="function",P=Rn(i)?un(i.length):[];return ni(i,function(H){P[++w]=j?n(l,H,f):$a(H,l,f)}),P}),CS=Ho(function(i,l,f){$r(i,f,l)}),SS=Ho(function(i,l,f){i[f?0:1].push(l)},function(){return[[],[]]}),ES=ct(function(i,l){if(i==null)return[];var f=l.length;return f>1&&Cn(i,l[0],l[1])?l=[]:f>2&&Cn(l[0],l[1],l[2])&&(l=[l[0]]),tf(i,vn(l,1),[])}),ys=PC||function(){return gn.Date.now()},Lc=ct(function(i,l,f){var w=yt;if(f.length){var j=Ve(f,Qi(Lc));w|=dt}return Pr(i,w,l,f,j)}),_h=ct(function(i,l,f){var w=yt|nt;if(f.length){var j=Ve(f,Qi(_h));w|=dt}return Pr(l,w,i,f,j)}),TS=ct(function(i,l){return qp(i,1,l)}),AS=ct(function(i,l,f){return qp(i,rr(l)||0,f)});es.Cache=Nr;var jS=XC(function(i,l){l=l.length==1&&rt(l[0])?d(l[0],_(Qe())):d(vn(l,1),_(Qe()));var f=l.length;return ct(function(w){for(var j=-1,P=yn(w.length,f);++j<P;)w[j]=l[j].call(this,w[j]);return n(i,this,w)})}),Bc=ct(function(i,l){return Pr(i,dt,S,l,Ve(l,Qi(Bc)))}),kh=ct(function(i,l){return Pr(i,hr,S,l,Ve(l,Qi(kh)))}),IS=Dr(function(i,l){return Pr(i,Or,S,S,S,l)}),RS=Go(Xl),OS=Go(function(i,l){return i>=l}),Ei=Gp(function(){return arguments}())?Gp:function(i){return en(i)&&At.call(i,"callee")&&!uh.call(i,"callee")},rt=un.isArray,FS=zp?_(zp):Vw,ri=LC||Ic,MS=Np?_(Np):Gw,Ch=$p?_($p):Jw,Uc=Pp?_(Pp):Yw,Sh=Dp?_(Dp):Xw,oa=Lp?_(Lp):Qw,zS=Go(nc),NS=Go(function(i,l){return i<=l}),$S=Yi(function(i,l){if(Ba(l)||Rn(l))return wr(l,hn(l),i),S;for(var f in l)At.call(l,f)&&za(i,f,l[f])}),Eh=Yi(function(i,l){wr(l,On(l),i)}),bs=Yi(function(i,l,f,w){wr(l,On(l),i,w)}),PS=Yi(function(i,l,f,w){wr(l,hn(l),i,w)}),DS=Dr(Jl),LS=ct(function(i,l){i=Nt(i);var f=-1,w=l.length,j=w>2?l[2]:S;for(j&&Cn(l[0],l[1],j)&&(w=1);++f<w;)for(var P=l[f],H=On(P),J=-1,ae=H.length;++J<ae;){var we=H[J],ge=i[we];(ge===S||vr(ge,na[we])&&!At.call(i,we))&&(i[we]=P[we])}return i}),BS=ct(function(i){return i.push(S,Sf),n(Th,S,i)}),US=xf(function(i,l,f){l!=null&&typeof l.toString!="function"&&(l=ls.call(l)),i[l]=f},Sc(Fn)),ZS=xf(function(i,l,f){l!=null&&typeof l.toString!="function"&&(l=ls.call(l)),At.call(i,l)?i[l].push(f):i[l]=[f]},Qe),HS=ct($a),qS=Yi(function(i,l,f){Bo(i,l,f)}),Th=Yi(function(i,l,f,w){Bo(i,l,f,w)}),WS=Dr(function(i,l){var f={};if(i==null)return f;var w=!1;l=d(l,function(P){return P=Qr(P,i),w||(w=P.length>1),P}),wr(i,mc(i),f),w&&(f=er(f,ye|Ie|Be,y_));for(var j=l.length;j--;)sc(f,l[j]);return f}),VS=Dr(function(i,l){return i==null?{}:n_(i,l)}),Ah=kf(hn),jh=kf(On),GS=Xi(function(i,l,f){return l=l.toLowerCase(),i+(f?nh(l):l)}),KS=Xi(function(i,l,f){return i+(f?"-":"")+l.toLowerCase()}),JS=Xi(function(i,l,f){return i+(f?" ":"")+l.toLowerCase()}),YS=vf("toLowerCase"),XS=Xi(function(i,l,f){return i+(f?"_":"")+l.toLowerCase()}),QS=Xi(function(i,l,f){return i+(f?" ":"")+Zc(l)}),eE=Xi(function(i,l,f){return i+(f?" ":"")+l.toUpperCase()}),Zc=vf("toUpperCase"),Ih=ct(function(i,l){try{return n(i,S,l)}catch(f){return _c(f)?f:new Rc(f)}}),tE=Dr(function(i,l){return a(l,function(f){f=_r(f),$r(i,f,Lc(i[f],i))}),i}),nE=bf(),rE=bf(!0),iE=ct(function(i,l){return function(f){return $a(f,i,l)}}),aE=ct(function(i,l){return function(f){return $a(i,f,l)}}),oE=pc(d),sE=pc(o),lE=pc(m),cE=wf(),uE=wf(!0),dE=Wo(function(i,l){return i+l},0),pE=fc("ceil"),fE=Wo(function(i,l){return i/l},1),hE=fc("floor"),mE=Wo(function(i,l){return i*l},1),gE=fc("round"),vE=Wo(function(i,l){return i-l},0);return A.after=Zk,A.ary=qf,A.assign=$S,A.assignIn=Eh,A.assignInWith=bs,A.assignWith=PS,A.at=DS,A.before=Wf,A.bind=Lc,A.bindAll=tE,A.bindKey=_h,A.castArray=Yk,A.chain=Uf,A.chunk=N_,A.compact=$_,A.concat=P_,A.cond=cC,A.conforms=uC,A.constant=Sc,A.countBy=bS,A.create=x1,A.curry=Vf,A.curryRight=Gf,A.debounce=Kf,A.defaults=LS,A.defaultsDeep=BS,A.defer=TS,A.delay=AS,A.difference=tS,A.differenceBy=nS,A.differenceWith=rS,A.drop=D_,A.dropRight=L_,A.dropRightWhile=B_,A.dropWhile=U_,A.fill=Z_,A.filter=jk,A.flatMap=Ik,A.flatMapDeep=Rk,A.flatMapDepth=Ok,A.flatten=Pf,A.flattenDeep=H_,A.flattenDepth=q_,A.flip=Hk,A.flow=nE,A.flowRight=rE,A.fromPairs=W_,A.functions=T1,A.functionsIn=A1,A.groupBy=_S,A.initial=G_,A.intersection=iS,A.intersectionBy=aS,A.intersectionWith=oS,A.invert=US,A.invertBy=ZS,A.invokeMap=kS,A.iteratee=Ec,A.keyBy=CS,A.keys=hn,A.keysIn=On,A.map=Qo,A.mapKeys=I1,A.mapValues=R1,A.matches=pC,A.matchesProperty=fC,A.memoize=es,A.merge=qS,A.mergeWith=Th,A.method=iE,A.methodOf=aE,A.mixin=Tc,A.negate=ts,A.nthArg=mC,A.omit=WS,A.omitBy=O1,A.once=qk,A.orderBy=Mk,A.over=oE,A.overArgs=jS,A.overEvery=sE,A.overSome=lE,A.partial=Bc,A.partialRight=kh,A.partition=SS,A.pick=VS,A.pickBy=th,A.property=ah,A.propertyOf=gC,A.pull=sS,A.pullAll=Lf,A.pullAllBy=X_,A.pullAllWith=Q_,A.pullAt=lS,A.range=cE,A.rangeRight=uE,A.rearg=IS,A.reject=$k,A.remove=ek,A.rest=Wk,A.reverse=xc,A.sampleSize=Dk,A.set=M1,A.setWith=z1,A.shuffle=Lk,A.slice=tk,A.sortBy=ES,A.sortedUniq=lk,A.sortedUniqBy=ck,A.split=Q1,A.spread=Vk,A.tail=uk,A.take=dk,A.takeRight=pk,A.takeRightWhile=fk,A.takeWhile=hk,A.tap=xk,A.throttle=Gk,A.thru=Xo,A.toArray=Xf,A.toPairs=Ah,A.toPairsIn=jh,A.toPath=wC,A.toPlainObject=eh,A.transform=N1,A.unary=Kk,A.union=cS,A.unionBy=uS,A.unionWith=dS,A.uniq=mk,A.uniqBy=gk,A.uniqWith=vk,A.unset=$1,A.unzip=wc,A.unzipWith=Bf,A.update=P1,A.updateWith=D1,A.values=ea,A.valuesIn=L1,A.without=pS,A.words=ih,A.wrap=Jk,A.xor=fS,A.xorBy=hS,A.xorWith=mS,A.zip=gS,A.zipObject=yk,A.zipObjectDeep=bk,A.zipWith=vS,A.entries=Ah,A.entriesIn=jh,A.extend=Eh,A.extendWith=bs,Tc(A,A),A.add=dE,A.attempt=Ih,A.camelCase=GS,A.capitalize=nh,A.ceil=pE,A.clamp=B1,A.clone=Xk,A.cloneDeep=e1,A.cloneDeepWith=t1,A.cloneWith=Qk,A.conformsTo=n1,A.deburr=rh,A.defaultTo=dC,A.divide=fE,A.endsWith=H1,A.eq=vr,A.escape=q1,A.escapeRegExp=W1,A.every=Ak,A.find=xS,A.findIndex=Nf,A.findKey=w1,A.findLast=wS,A.findLastIndex=$f,A.findLastKey=_1,A.floor=hE,A.forEach=Zf,A.forEachRight=Hf,A.forIn=k1,A.forInRight=C1,A.forOwn=S1,A.forOwnRight=E1,A.get=kc,A.gt=RS,A.gte=OS,A.has=j1,A.hasIn=Cc,A.head=Df,A.identity=Fn,A.includes=Fk,A.indexOf=V_,A.inRange=U1,A.invoke=HS,A.isArguments=Ei,A.isArray=rt,A.isArrayBuffer=FS,A.isArrayLike=Rn,A.isArrayLikeObject=nn,A.isBoolean=r1,A.isBuffer=ri,A.isDate=MS,A.isElement=i1,A.isEmpty=a1,A.isEqual=o1,A.isEqualWith=s1,A.isError=_c,A.isFinite=l1,A.isFunction=Br,A.isInteger=Jf,A.isLength=ns,A.isMap=Ch,A.isMatch=c1,A.isMatchWith=u1,A.isNaN=d1,A.isNative=p1,A.isNil=h1,A.isNull=f1,A.isNumber=Yf,A.isObject=Vt,A.isObjectLike=en,A.isPlainObject=Ua,A.isRegExp=Uc,A.isSafeInteger=m1,A.isSet=Sh,A.isString=rs,A.isSymbol=Un,A.isTypedArray=oa,A.isUndefined=g1,A.isWeakMap=v1,A.isWeakSet=y1,A.join=K_,A.kebabCase=KS,A.last=nr,A.lastIndexOf=J_,A.lowerCase=JS,A.lowerFirst=YS,A.lt=zS,A.lte=NS,A.max=kC,A.maxBy=CC,A.mean=SC,A.meanBy=EC,A.min=TC,A.minBy=AC,A.stubArray=jc,A.stubFalse=Ic,A.stubObject=vC,A.stubString=yC,A.stubTrue=bC,A.multiply=mE,A.nth=Y_,A.noConflict=hC,A.noop=Ac,A.now=ys,A.pad=V1,A.padEnd=G1,A.padStart=K1,A.parseInt=J1,A.random=Z1,A.reduce=zk,A.reduceRight=Nk,A.repeat=Y1,A.replace=X1,A.result=F1,A.round=gE,A.runInContext=te,A.sample=Pk,A.size=Bk,A.snakeCase=XS,A.some=Uk,A.sortedIndex=nk,A.sortedIndexBy=rk,A.sortedIndexOf=ik,A.sortedLastIndex=ak,A.sortedLastIndexBy=ok,A.sortedLastIndexOf=sk,A.startCase=QS,A.startsWith=eC,A.subtract=vE,A.sum=jC,A.sumBy=IC,A.template=tC,A.times=xC,A.toFinite=Ur,A.toInteger=st,A.toLength=Qf,A.toLower=nC,A.toNumber=rr,A.toSafeInteger=b1,A.toString=Et,A.toUpper=rC,A.trim=iC,A.trimEnd=aC,A.trimStart=oC,A.truncate=sC,A.unescape=lC,A.uniqueId=_C,A.upperCase=eE,A.upperFirst=Zc,A.each=Zf,A.eachRight=Hf,A.first=Df,Tc(A,function(){var i={};return xr(A,function(l,f){At.call(A.prototype,f)||(i[f]=l)}),i}(),{chain:!1}),A.VERSION=ee,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){A[i].placeholder=A}),a(["drop","take"],function(i,l){Le.prototype[i]=function(f){f=f===S?1:dn(st(f),0);var w=this.__filtered__&&!l?new Le(this):this.clone();return w.__filtered__?w.__takeCount__=yn(f,w.__takeCount__):w.__views__.push({size:yn(f,Yn),type:i+(w.__dir__<0?"Right":"")}),w},Le.prototype[i+"Right"]=function(f){return this.reverse()[i](f).reverse()}}),a(["filter","map","takeWhile"],function(i,l){var f=l+1,w=f==Ia||f==Oo;Le.prototype[i]=function(j){var P=this.clone();return P.__iteratees__.push({iteratee:Qe(j,3),type:f}),P.__filtered__=P.__filtered__||w,P}}),a(["head","last"],function(i,l){var f="take"+(l?"Right":"");Le.prototype[i]=function(){return this[f](1).value()[0]}}),a(["initial","tail"],function(i,l){var f="drop"+(l?"":"Right");Le.prototype[i]=function(){return this.__filtered__?new Le(this):this[f](1)}}),Le.prototype.compact=function(){return this.filter(Fn)},Le.prototype.find=function(i){return this.filter(i).head()},Le.prototype.findLast=function(i){return this.reverse().find(i)},Le.prototype.invokeMap=ct(function(i,l){return typeof i=="function"?new Le(this):this.map(function(f){return $a(f,i,l)})}),Le.prototype.reject=function(i){return this.filter(ts(Qe(i)))},Le.prototype.slice=function(i,l){i=st(i);var f=this;return f.__filtered__&&(i>0||l<0)?new Le(f):(i<0?f=f.takeRight(-i):i&&(f=f.drop(i)),l!==S&&(l=st(l),f=l<0?f.dropRight(-l):f.take(l-i)),f)},Le.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Le.prototype.toArray=function(){return this.take(Yn)},xr(Le.prototype,function(i,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),w=/^(?:head|last)$/.test(l),j=A[w?"take"+(l=="last"?"Right":""):l],P=w||/^find/.test(l);j&&(A.prototype[l]=function(){var H=this.__wrapped__,J=w?[1]:arguments,ae=H instanceof Le,we=J[0],ge=ae||rt(H),Se=function(ft){var ht=j.apply(A,h([ft],J));return w&&Ne?ht[0]:ht};ge&&f&&typeof we=="function"&&we.length!=1&&(ae=ge=!1);var Ne=this.__chain__,Ue=!!this.__actions__.length,We=P&&!Ne,ot=ae&&!Ue;if(!P&&ge){H=ot?H:new Le(this);var Ge=i.apply(H,J);return Ge.__actions__.push({func:Xo,args:[Se],thisArg:S}),new Je(Ge,Ne)}return We&&ot?i.apply(this,J):(Ge=this.thru(Se),We?w?Ge.value()[0]:Ge.value():Ge)})}),a(["pop","push","shift","sort","splice","unshift"],function(i){var l=as[i],f=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",w=/^(?:pop|shift)$/.test(i);A.prototype[i]=function(){var j=arguments;if(w&&!this.__chain__){var P=this.value();return l.apply(rt(P)?P:[],j)}return this[f](function(H){return l.apply(rt(H)?H:[],j)})}}),xr(Le.prototype,function(i,l){var f=A[l];if(f){var w=f.name+"";At.call(ia,w)||(ia[w]=[]),ia[w].push({name:l,func:f})}}),ia[qo(S,nt).name]=[{name:"wrapper",func:S}],Le.prototype.clone=jn,Le.prototype.reverse=Gl,Le.prototype.value=fw,A.prototype.at=yS,A.prototype.chain=wk,A.prototype.commit=_k,A.prototype.next=kk,A.prototype.plant=Sk,A.prototype.reverse=Ek,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=Tk,A.prototype.first=A.prototype.head,Za&&(A.prototype[Za]=Ck),A},Ji=pw();yi?((yi.exports=Ji)._=Ji,Wl._=Ji):gn._=Ji}).call(Wn)})(al,al.exports);var w8=al.exports,dv=w8.runInContext(),xt=xj(dv,dv);const e0=/^[A-Za-z][_0-9A-Za-z]*$/,t0=e=>({name:"attributeNameAlreadyUsed",message:Yt.unique.id,test(t){if(!t)return!1;const n=xt.snakeCase(t);return!e.some(r=>xt.snakeCase(r)===n)}}),fd=e=>({name:"forbiddenAttributeName",message:re("error.attributeName.reserved-name"),test(t){if(!t)return!1;const n=xt.snakeCase(t);return!e.some(r=>xt.snakeCase(r)===n)}}),je={default:()=>Ft().nullable(),max:()=>sr().integer().nullable(),min:()=>sr().integer().when("max",(e,t)=>e?t.max(e,re("error.validation.minSupMax")):t).nullable(),maxLength:()=>sr().integer().positive(re("error.validation.positive")).nullable(),maxLengthString:()=>sr().integer().positive(re("error.validation.positive")).max(255,"Maximum length for short text fields is 255 characters").nullable(),minLength:()=>sr().integer().min(1).when("maxLength",(e,t)=>e?t.max(e,re("error.validation.minSupMax")):t).nullable(),name(e,t){return Ft().test(t0(e)).test(fd(t)).matches(e0,Yt.regex.id).required(Yt.required.id)},required:()=>ho(),type:()=>Ft().required(Yt.required.id),unique:()=>ho().nullable()},pv=(e,t)=>({name:je.name(e,t),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),maxLength:je.maxLength(),minLength:je.minLength(),regex:Ft().test({name:"isValidRegExpPattern",message:re("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),_8=(e,t)=>({name:je.name(e,t),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),maxLength:je.maxLengthString(),minLength:je.minLength(),regex:Ft().test({name:"isValidRegExpPattern",message:re("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),Tu=()=>({name:"isMinSuperiorThanMax",message:re("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN(Wc(e))?!0:Wc(t)>=Wc(e)}}),Os={date(e,t){const n={name:je.name(e,t),type:je.type()};return Ht(n)},datetime(e,t){const n={name:je.name(e,t),type:je.type()};return Ht(n)},time(e,t){const n={name:je.name(e,t),type:je.type()};return Ht(n)},default(e,t){const n={name:je.name(e,t),type:je.type()};return Ht(n)},biginteger(e,t){const n={name:je.name(e,t),type:je.type(),default:Ft().nullable().matches(/^-?\d*$/),unique:je.unique(),required:je.required(),max:Ft().nullable().matches(/^-?\d*$/,Yt.regex.id),min:Ft().nullable().test(Tu()).matches(/^-?\d*$/,Yt.regex.id)};return Ht(n)},boolean(e,t){const n={name:je.name(e,t),default:ho().nullable(),required:je.required(),unique:je.unique()};return Ht(n)},component(e,t){const n={name:je.name(e,t),type:je.type(),required:je.required(),max:je.max(),min:je.min(),component:Ft().required(Yt.required.id)};return Ht(n)},decimal(e,t){const n={name:je.name(e,t),type:je.type(),default:sr(),required:je.required(),max:sr(),min:sr().test(Tu())};return Ht(n)},dynamiczone(e,t){const n={name:je.name(e,t),type:je.type(),required:je.required(),max:je.max(),min:je.min()};return Ht(n)},email(e,t){const n={name:je.name(e,t),type:je.type(),default:Ft().email().nullable(),unique:je.unique(),required:je.required(),maxLength:je.maxLength(),minLength:je.minLength()};return Ht(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:Ft().test(t0(e)).test(fd(t)).matches(n,Yt.regex.id).required(Yt.required.id),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),enum:Ph().of(Ft()).min(1,Yt.min.id).test({name:"areEnumValuesUnique",message:re("error.validation.enum-duplicate"),test(a){return a?!x8(a.map(Eu).filter((o,c,u)=>u.indexOf(o)!==c)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:re("error.validation.enum-empty-string"),test:a=>a?!a.map(Eu).some(s=>s===""):!1}).test({name:"doesMatchRegex",message:re("error.validation.enum-regex"),test:a=>a?a.map(Eu).every(s=>n.test(s)):!1}),enumName:Ft().nullable()};return Ht(r)},float(e,t){const n={name:je.name(e,t),type:je.type(),required:je.required(),default:sr(),max:sr(),min:sr().test(Tu())};return Ht(n)},integer(e,t){const n={name:je.name(e,t),type:je.type(),default:sr().integer(),unique:je.unique(),required:je.required(),max:je.max(),min:je.min()};return Ht(n)},json(e,t){const n={name:je.name(e,t),type:je.type(),required:je.required(),unique:je.unique()};return Ht(n)},media(e,t){const n={name:je.name(e,t),type:je.type(),multiple:ho(),required:je.required(),allowedTypes:Ph().of(Ft().oneOf(["images","videos","files","audios"])).min(1).nullable()};return Ht(n)},password(e,t){const n={name:je.name(e,t),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),maxLength:je.maxLength(),minLength:je.minLength()};return Ht(n)},relation(e,t,n,{initialData:r,modifiedData:a}){const s={name:je.name(e,t),target:Ft().required(Yt.required.id),relation:Ft().required(),type:Ft().required(),targetAttribute:wj(()=>{const o=kd(a.relation,a.targetAttribute);if(o==="oneWay"||o==="manyWay")return Ft().nullable();const c=Ft().test(fd(t)),p=[...n.map(({name:d})=>d),a.name].filter(d=>d!==r.targetAttribute);return c.matches(e0,Yt.regex.id).test({name:"forbiddenTargetAttributeName",message:re("error.validation.relation.targetAttribute-taken"),test(d){return d?!p.includes(d):!1}}).required(Yt.required.id)})};return Ht(s)},richtext(e,t){const n={name:je.name(e,t),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),maxLength:je.maxLength(),minLength:je.minLength()};return Ht(n)},blocks(e,t){const n={name:je.name(e,t),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),maxLength:je.maxLength(),minLength:je.minLength()};return Ht(n)},string(e,t){const n=_8(e,t);return Ht(n)},text(e,t){const n=pv(e,t);return Ht(n)},uid(e,t){const n=pv(e,t);return Ht(n)}},k8=/^[A-Za-z][-_0-9A-Za-z]*$/,C8=(e,t,n,r,a)=>{const s={displayName:Ft().test({name:"nameAlreadyUsed",message:Yt.unique.id,test(o){if(!o)return!1;const c=to(o,n),u=xt.snakeCase(c),p=xt.snakeCase(a);return e.every(d=>xt.snakeCase(d)!==u)&&r.every(d=>xt.snakeCase(d)!==p)}}).test({name:"nameNotAllowed",message:re("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return t.every(u=>xt.snakeCase(u)!==c)}}).required(Yt.required.id),category:Ft().matches(k8,Yt.regex.id).required(Yt.required.id),icon:Ft()};return Ht(s)},fv={name:"displayName",type:"text",intlLabel:{id:re("contentType.displayName.label"),defaultMessage:"Display name"}},Au={advanced:{default(){return{sections:[{items:[{intlLabel:{id:re("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:re("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[fv,{description:{id:re("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:re("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:re("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:re("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[fv,{disabled:!0,description:{id:re("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:re("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:re("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:re("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:re("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:re("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:re("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:re("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},S8=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:r=[],collectionNames:a=[]})=>{const s={displayName:Ft().test({name:"nameAlreadyUsed",message:Yt.unique.id,test(o){if(!o)return!1;const c=Jv(o),u=xt.snakeCase(c);return!e.some(p=>xt.snakeCase(p)===u)}}).test({name:"nameNotAllowed",message:re("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!t.some(u=>xt.snakeCase(u)===c)}}).required(Yt.required.id),pluralName:Ft().test({name:"pluralNameAlreadyUsed",message:Yt.unique.id,test(o){if(!o)return!1;const c=xt.snakeCase(o);return!r.some(u=>xt.snakeCase(u)===c)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:re("error.contentType.pluralName-equals-singularName"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!n.some(u=>xt.snakeCase(u)===c)}}).test({name:"pluralAndSingularAreUnique",message:re("error.contentType.pluralName-used"),test(o,c){return o?xt.snakeCase(c.parent.singularName)!==xt.snakeCase(o):!1}}).test({name:"pluralNameNotAllowed",message:re("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!t.some(u=>xt.snakeCase(u)===c)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:re("error.contentType.pluralName-equals-collectionName"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!a.some(u=>xt.snakeCase(u)===c)}}).required(Yt.required.id),singularName:Ft().test({name:"singularNameAlreadyUsed",message:Yt.unique.id,test(o){if(!o)return!1;const c=xt.snakeCase(o);return!n.some(u=>xt.snakeCase(u)===c)}}).test({name:"singularNameAlreadyUsedAsPlural",message:re("error.contentType.singularName-equals-pluralName"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!r.some(u=>xt.snakeCase(u)===c)}}).test({name:"pluralAndSingularAreUnique",message:re("error.contentType.singularName-used"),test(o,c){return o?xt.snakeCase(c.parent.pluralName)!==xt.snakeCase(o):!1}}).test({name:"singularNameNotAllowed",message:re("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!t.some(u=>xt.snakeCase(u)===c)}}).required(Yt.required.id),draftAndPublish:ho(),kind:Ft().oneOf(["singleType","collectionType"])};return Ht(s)},ju={advanced:{default(){return{sections:Ca.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[pd]},...Ca.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[pd]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:re("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},hv=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items?.push(n);return}t.push(n)})},E8=(e,t)=>`components_${xt.snakeCase(t)}_${xa(xt.snakeCase(e))}`,mv=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n),Ai={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:r,schemaData:a,ctbFormsAPI:s}){const o=mv(e,a);let c;return t==="relation"?c=Os[t](o,r.attributes,[],{initialData:{},modifiedData:{}}):c=Os[t](o,r.attributes),s.makeCustomFieldValidator(c,n,o,r.attributes,a)},form:{base({customField:e}){const t=[{sectionTitle:null,items:[Tr]}];return e.options?.base&&hv(e.options.base,t),{sections:t}},advanced({customField:e,data:t,step:n,extensions:r,...a}){const s=[{sectionTitle:null,items:[]},{sectionTitle:{id:"form.attribute.condition.section",defaultMessage:"Conditions"},items:[{name:"conditions",type:"condition-form",intlLabel:{id:"form.attribute.condition.label",defaultMessage:"Visibility condition"},description:{id:"form.attribute.condition.desc",defaultMessage:"Show this field only when a boolean/enum condition matches."}}]}],o=r.getAdvancedForm(["attribute",e.type],{data:t,type:e.type,step:n,...a});if(e.options?.advanced&&hv(e.options.advanced,s),o){const c={sectionTitle:{id:re("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:o};s.push(c)}return{sections:s}}}},attribute:{schema(e,t,n,r,a,s){const o=e?.attributes??[],c=mv(o,a);try{const u=Os[t](c,n.attributes,r,a);return s.makeValidator(["attribute",t],u,c,n.attributes,r,a)}catch(u){return console.error("Error yup build schema",u),Os.default(c,n.attributes)}},form:{advanced({data:e,type:t,step:n,extensions:r,...a}){try{const s=uv.advanced[t](e,n).sections,o=r.getAdvancedForm(["attribute",t],{data:e,type:t,step:n,...a});let c=!1;return{sections:s.reduce((p,d)=>(d.sectionTitle===null||c?p.push(d):(p.push({...d,items:[...d.items,...o]}),c=!0),p),[])}}catch(s){return console.error(s),{sections:[]}}},base({data:e,type:t,step:n,attributes:r}){try{return uv.base[t](e,n,r)}catch{return h8}}}},contentType:{schema(e,t,n,r,a,s){const o=Object.values(s).map(m=>m.info.singularName),c=Object.values(s).map(m=>m?.info?.pluralName??""),u=t?e.filter(m=>m!==n):e,p=t?o.filter(m=>{const{info:x}=s[n];return x.singularName!==m}):o,d=t?c.filter(m=>{const{info:x}=s[n];return x.pluralName!==m}):c,h=Object.values(s).map(m=>m?.collectionName??""),v=t?h.filter(m=>{const{collectionName:x}=s[n];return m!==x}):h,y=S8({usedContentTypeNames:u,reservedModels:r.models,singularNames:p,pluralNames:d,collectionNames:v});return a.makeValidator(["contentType"],y,u,r.models,p,d)},form:{base({actionType:e}){return e==="create"?Au.base.create():Au.base.edit()},advanced({extensions:e}){const t=Au.advanced.default().sections.map(r=>r.items).flat(),n=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...t,...n]}]}}}},component:{schema(e,t,n,r=!1,a,s,o=null){const c=r?e.filter(h=>h!==o):e,u=Object.values(a).map(h=>h?.collectionName),p=E8(s,t),d=r?u.filter(h=>h!==p):u;return C8(c,n.models,t,d,p)},form:{advanced(){return{sections:Ca.advanced()}},base(){return{sections:Ca.base()}}}},addComponentToDynamicZone:{form:{advanced(){return ju.advanced.default()},base({data:e}){return e?.createComponent??!1?ju.base.createComponent():ju.base.default()}}}},T8=(e,t)=>{const n=e.kind;return n==="singleType"||n===t.kind?!0:(e?.attributes??[]).filter(s=>{if(s.type!=="relation")return!1;const{relation:o,targetAttribute:c}=s,u=kd(o,c);return!["oneWay","manyWay"].includes(u||"")}).length===0},A8=(e="",t,n)=>{const r=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],a=e==="contentType";if(a)return[[...r.slice(0,-1),"uid",...r.slice(-1)],["component","dynamiczone"]];if(e){const o=Qx(t,n)>=Gv;if(!a&&!o)return[r,["component"]]}return[r]},gv=e=>e.reduce((t,n)=>{const r=n.items.reduce((a,s)=>(s.name&&a.push(s.name),a),[]);return[...t,...r]},[]),j8=vt.form`
  overflow: auto;
`,I8=e=>e["content-type-builder_formModal"]||_j,R8=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:r,actionType:a,attributeName:s,attributeType:o,customFieldUid:c,dynamicZoneTarget:u,forTarget:p,modalType:d,isOpen:h,kind:v,step:y,targetUid:m,showBackLink:x,activeTab:b,setActiveTab:k}=ja(),C=fo("FormModal",Ke=>Ke.getPlugin),I=fo("FormModal",Ke=>Ke.customFields.get)(c),$=ul(),{toggleNotification:M}=Sa(),B=Ov(I8,kj),U=Cj(),{trackUsage:X}=Li(),{formatMessage:Y}=mt(),se=C(ci)?.apis.forms,R=se.components.inputs,G=$i("FormModal",Ke=>Ke.dispatch),{addAttribute:_,editAttribute:L,addCustomFieldAttribute:Ce,addCreatedComponentToDynamicZone:le,changeDynamicZoneComponents:de,contentTypes:N,components:ce,createSchema:ne,createComponentSchema:O,deleteComponent:Re,deleteContentType:Ee,editCustomFieldAttribute:ue,updateSchema:at,nestedComponents:Ve,sortedContentTypesList:ve,updateComponentSchema:Me,updateComponentUid:xe,reservedNames:Oe}=Jn(),{componentToCreate:Ye,formErrors:Xe,initialData:E,isCreatingComponentWhileAddingAField:pe,modifiedData:W}=B,D=p==="component"?ce[m]:N[m],[S,ee]=K.useState(!1),[be,_e]=K.useState(null),ie=()=>{if(a!=="edit"||d!=="attribute")return!1;const Ke=E.name,wt=E.enum,Qt=W.enum,Ut=(D?.attributes||[]).filter(Zt=>{if(!Zt.conditions)return!1;const mn=Zt.conditions.visible;if(!mn)return!1;const[[,Wi]]=Object.entries(mn),[Vi,Fo]=Wi;return Vi.var!==Ke?!1:wt&&Qt?wt.filter(vi=>!Qt.includes(vi)).includes(Fo):!0});return Ut.length>0?Ut:!1};K.useEffect(()=>{if(h){const Ke=ve.filter(Zx);a==="edit"&&d==="attribute"&&p==="contentType"&&X("willEditFieldOfContentType");const wt=sd(Kt(D,"schema.attributes",[]),u)||null;if(d==="contentType"&&a==="create"&&$(rn.setDataToEdit({data:{draftAndPublish:!0}})),d==="contentType"&&a==="edit"&&$(rn.setDataToEdit({data:{displayName:D.info.displayName,draftAndPublish:D.options?.draftAndPublish,kind:"kind"in D&&D.kind,pluginOptions:D.pluginOptions,pluralName:"pluralName"in D.info&&D.info.pluralName,singularName:"singularName"in D.info&&D.info.singularName}})),d==="component"&&a==="edit"&&$(rn.setDataToEdit({data:{displayName:D.info.displayName,category:"category"in D&&D.category,icon:D.info.icon}})),d==="addComponentToDynamicZone"&&a==="edit"){const Qt={...wt,components:[],name:u,createComponent:!1,componentToCreate:{type:"component"}};$(rn.setDynamicZoneDataSchema({attributeToEdit:Qt}))}if(o){const pt={...sd(Kt(D,["attributes"],[]),s),name:s};o==="component"&&a==="edit"&&(!("repeatable"in pt)||!pt.repeatable)&&Sj(pt,"repeatable",!1),$(d==="customField"?a==="edit"?rn.setCustomFieldDataSchema({isEditing:!0,modifiedDataToSetForEditing:pt,uid:D.uid}):rn.setCustomFieldDataSchema({customField:Ej(I,["type","options"]),isEditing:!1,modifiedDataToSetForEditing:pt,uid:D.uid}):rn.setAttributeDataSchema({attributeType:o,nameToSetForRelation:Kt(Ke,["0","title"],"error"),targetUid:Kt(Ke,["0","uid"],"error"),isEditing:a==="edit",modifiedDataToSetForEditing:pt,step:y,uid:D.uid}))}}else $(rn.resetProps())},[a,s,o,u,p,h,d]);const oe=d==="contentType",he=d==="component",Z=d==="attribute",V=d==="customField",ye=o==="component"&&Z,Ie=a==="create",Be=Kt(W,"createComponent",!1)||pe,ut=y==="1",St=d==="chooseAttribute",yt=Jv(W.singularName||""),nt=Kt(D,["attributes"],null),cn=async()=>{let Ke;const wt=Be&&y==="1"?Kt(W,"componentToCreate",{}):W;if(oe)Ke=Ai.contentType.schema(Object.keys(N),a==="edit",D?.uid??null,Oe,se,N);else if(he)Ke=Ai.component.schema(Object.keys(ce),W.category||"",Oe,a==="edit",ce,W.displayName||"",D?.uid??null);else if(V)Ke=Ai.customField.schema({schemaAttributes:Kt(D,["attributes"],[]),attributeType:I.type,reservedNames:Oe,schemaData:{modifiedData:W,initialData:E},ctbFormsAPI:se,customFieldValidator:I.options?.validator});else if(ye&&Be&&ut)Ke=Ai.component.schema(Object.keys(ce),Kt(W,"componentToCreate.category",""),Oe,a==="edit",ce,W.componentToCreate.displayName||"");else if(Z&&!ut){const Qt=o==="relation"?"relation":W.type;let pt=[];if(Qt==="relation"){const Ut=Kt(W,["target"],null);pt=Kt(N,[Ut,"attributes"],[]).filter(({name:mn})=>a!=="edit"?!0:mn!==E.targetAttribute)}Ke=Ai.attribute.schema(D,Qt,Oe,pt,{modifiedData:W,initialData:E},se)}else if(ut&&Be)Ke=Ai.component.schema(Object.keys(ce),Kt(W,"componentToCreate.category",""),Oe,a==="edit",ce,W.componentToCreate.displayName||"");else return;await Ke.validate(wt,{abortEarly:!1})},bt=K.useCallback(({target:{name:Ke,value:wt,type:Qt,...pt}})=>{const Ut=["enumName","max","min","maxLength","minLength","regex","default"];let Zt;Ut.includes(Ke)&&wt===""?Zt=null:Ke==="enum"?Zt=Array.isArray(wt)?wt:[wt]:Zt=wt;const mn=Object.assign({},Xe);Ke==="max"&&delete mn.min,Ke==="maxLength"&&delete mn.minLength,delete mn[Ke],$(rn.setErrors({errors:mn})),$(rn.onChange({keys:Ke.split("."),value:Zt}))},[$,Xe]),Tt=async(Ke,wt=Ie)=>{try{await cn(),$(rn.setErrors({errors:{}})),Kr(wt);const Qt=m;if(oe)if(Ie)ne({data:{kind:v,displayName:W.displayName,draftAndPublish:W.draftAndPublish,pluginOptions:W.pluginOptions,singularName:W.singularName,pluralName:W.pluralName},uid:yt}),U({pathname:`/plugins/${ci}/content-types/${yt}`}),e();else{const pt=D;T8(pt,W)?(e(),await at({uid:pt.uid,data:{displayName:W.displayName,kind:W.kind,draftAndPublish:W.draftAndPublish,pluginOptions:W.pluginOptions}})):M({type:"danger",message:Y({id:"notification.contentType.relations.conflict"})});return}else if(d==="component")if(Ie){const pt=to(W.displayName,W.category),{category:Ut,...Zt}=W;O({data:{displayName:Zt.displayName,icon:Zt.icon},uid:pt,componentCategory:Ut}),U({pathname:`/plugins/${ci}/component-categories/${Ut}/${pt}`}),e();return}else{if(Me({data:{icon:W.icon,displayName:W.displayName},componentUID:m}),D.status==="NEW"){const pt=to(W.displayName,W.category);xe({componentUID:m,newComponentUID:pt}),U({pathname:`/plugins/${ci}/component-categories/${W.category}/${pt}`})}e();return}else if(V){const pt={attributeToSet:{...W,customField:c},forTarget:p,targetUid:m,name:E.name};a==="edit"?ue(pt):Ce(pt),wt?t({forTarget:p,targetUid:Qt}):e();return}else if(Z&&!Be){if(o==="dynamiczone"){a==="create"?_({attributeToSet:W,forTarget:p,targetUid:m}):L({attributeToSet:W,forTarget:p,targetUid:m,name:E.name}),Ie?($(rn.resetPropsAndSetTheFormForAddingACompoToADz()),k("basic"),n({dynamicZoneTarget:W.name})):e();return}if(!ye){a==="create"?_({attributeToSet:W,forTarget:p,targetUid:m}):L({attributeToSet:W,forTarget:p,targetUid:m,name:E.name}),wt?t({forTarget:p,targetUid:Qt}):e();return}if(ut){r(),$(rn.resetPropsAndSetFormForAddingAnExistingCompo({uid:D.uid}));return}if(a==="create")_({attributeToSet:W,forTarget:p,targetUid:m});else{const Ut={...W};(!("conditions"in W)||W.conditions===void 0)&&(Ut.conditions=void 0),L({attributeToSet:Ut,forTarget:p,targetUid:m,name:E.name})}wt?t({forTarget:p,targetUid:m}):e()}else if(Z&&Be){if(ut){X("willCreateComponentFromAttributesModal"),$(rn.resetPropsAndSaveCurrentData({uid:D.uid})),r();return}const{category:pt,...Ut}=Ye,Zt=to(Ye.displayName,pt);O({data:{icon:Ut.icon,displayName:Ut.displayName},uid:Zt,componentCategory:pt}),_({attributeToSet:W,forTarget:p,targetUid:m}),$(rn.resetProps()),wt?t({forTarget:"component",targetUid:Zt}):e();return}else{if(ut)if(Be){const{category:pt,type:Ut,...Zt}=W.componentToCreate,mn=to(W.componentToCreate.displayName,pt);O({data:Zt,uid:mn,componentCategory:pt}),le({forTarget:p,targetUid:m,dynamicZoneTarget:u,componentsToAdd:[mn]}),t({forTarget:"component",targetUid:mn})}else de({forTarget:p,targetUid:m,dynamicZoneTarget:u,newComponents:W.components}),e();else console.error("This case is not handled");return}$(rn.resetProps())}catch(Qt){if(Tj.isError(Qt)){const pt=b3(Qt);$(rn.setErrors({errors:pt}))}}},dt=async(Ke,wt=Ie)=>{if(Ke.preventDefault(),ie()){_e({e:Ke,shouldContinue:wt}),ee(!0);return}await Tt(Ke,wt)},hr=()=>{window.confirm(Y({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),$(rn.resetProps()))},An=()=>{po(W,E)?(e(),$(rn.resetProps())):hr()},Or=Ke=>{if(Ke==="advanced"){if(oe){X("didSelectContentTypeSettings");return}p==="contentType"&&X("didSelectContentTypeFieldSettings")}},Kr=Ke=>{d==="attribute"&&p==="contentType"&&o!=="dynamiczone"&&Ke&&X("willAddMoreFieldToContentType")},Fr=()=>!!(d==="component"||Aj(W,"createComponent")),Jr=A8(p,m,Ve);if(!d)return null;const Io=Kt(Ai,[d,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),El=p==="component",Ia={customInputs:{"allowed-types-select":w3,"boolean-radio-group":z3,"checkbox-with-number-field":N3,"icon-picker":q3,"content-type-radio-group":$3,"radio-group":cp,relation:QZ,"select-category":e8,"select-component":t8,"select-components":n8,"select-default-boolean":F3,"select-number":i8,"select-date":r8,"toggle-draft-publish":P3,"text-plural":W3,"text-singular":a8,"textarea-enum":l8,"condition-form":f8,...R},componentToCreate:Ye,dynamicZoneTarget:u,formErrors:Xe,isAddingAComponentToAnotherComponent:El,isCreatingComponentWhileAddingAField:pe,mainBoxHeader:Kt(D,["info","displayName"],""),modifiedData:W,naturePickerType:p,isCreating:Ie,targetUid:m,forTarget:p,contentTypeSchema:D},Ro=Io.advanced({data:W,type:o,step:y,actionType:a,attributes:nt,extensions:se,forTarget:p,contentTypeSchema:D||{},customField:I}).sections,Oo=Io.base({data:W,type:o,step:y,actionType:a,attributes:nt,extensions:se,forTarget:p,contentTypeSchema:D||{},customField:I}).sections,Hi=gv(Oo),Yr=gv(Ro),Tl=Object.keys(Xe).some(Ke=>Hi.includes(Ke)),qi=Object.keys(Xe).some(Ke=>Yr.includes(Ke)),Yn=Kt(N,[m,"kind"]),Al=()=>a==="edit"&&nt.every(({name:Ke})=>Ke!==W?.name),jl=()=>{Al()&&X("didEditFieldNameOnContentType"),G({type:"set_completed_actions",payload:[Ls.contentTypeBuilder.addField]})};return g.jsx(pn.Root,{open:h,onOpenChange:An,children:g.jsxs(pn.Content,{children:[g.jsxs(Pi.Root,{open:S,onOpenChange:ee,children:[g.jsx(Pi.Trigger,{}),g.jsx(Co,{onConfirm:()=>{if(be){const{e:Ke,shouldContinue:wt}=be;ee(!1),_e(null),Tt(Ke,wt)}},onCancel:()=>{ee(!1),_e(null)},children:(()=>{const Ke=ie();if(!Ke)return null;const wt=Ke.map(pt=>pt.name).join(", ");if(E.enum&&W.enum){const pt=E.enum,Ut=W.enum,Zt=pt.filter(mn=>!Ut.includes(mn));return g.jsx(ze,{children:g.jsxs(Fe,{children:[Y({id:"form.attribute.condition.enum-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),g.jsx(Fe,{fontWeight:"bold",children:wt}),Y({id:"form.attribute.condition.enum-change-warning-values",defaultMessage:". Changing or removing the enum values "}),g.jsx(Fe,{fontWeight:"bold",children:Zt.join(", ")}),Y({id:"form.attribute.condition.enum-change-warning-end",defaultMessage:" will break these conditions. Do you want to proceed?"})]})})}return g.jsx(ze,{children:g.jsxs(Fe,{children:[Y({id:"form.attribute.condition.field-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),g.jsx(Fe,{fontWeight:"bold",children:wt}),Y({id:"form.attribute.condition.field-change-warning-end",defaultMessage:". Renaming it will break these conditions. Do you want to proceed?"})]})})})()})]}),g.jsx(L3,{actionType:a,attributeName:s,contentTypeKind:v,dynamicZoneTarget:u,modalType:d,forTarget:p,targetUid:m,attributeType:o,customFieldUid:c,showBackLink:x}),St&&g.jsx(O3,{attributes:Jr,forTarget:p,kind:Yn||"collectionType"}),!St&&g.jsxs(j8,{onSubmit:dt,children:[g.jsx(pn.Body,{children:g.jsxs(lr.Root,{variant:"simple",value:b,onValueChange:Ke=>{k(Ke),Or(Ke)},hasError:Tl?"basic":qi?"advanced":void 0,children:[g.jsxs(Te,{justifyContent:"space-between",children:[g.jsx(U3,{actionType:a,forTarget:p,kind:v,step:y,modalType:d,attributeType:o,attributeName:s,customField:I}),g.jsxs(lr.List,{children:[g.jsx(lr.Trigger,{value:"basic",children:Y({id:re("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),g.jsx(lr.Trigger,{value:"advanced",disabled:Fr(),children:Y({id:re("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),g.jsx(cl,{marginBottom:6}),g.jsx(lr.Content,{value:"basic",children:g.jsx(Te,{direction:"column",alignItems:"stretch",gap:6,children:g.jsx(cv,{form:Oo,formErrors:Xe,genericInputProps:Ia,modifiedData:W,onChange:bt})})}),g.jsx(lr.Content,{value:"advanced",children:g.jsx(Te,{direction:"column",alignItems:"stretch",gap:6,children:g.jsx(cv,{form:Ro,formErrors:Xe,genericInputProps:Ia,modifiedData:W,onChange:bt})})})]})}),g.jsxs(pn.Footer,{children:[g.jsx(gt,{type:"button",variant:"tertiary",onClick:Ke=>{Ke.preventDefault(),An()},children:Y({id:"app.components.Button.cancel",defaultMessage:"Cancel"})}),g.jsx(D3,{deleteContentType:()=>Ee(m),deleteComponent:()=>Re(m),isAttributeModal:d==="attribute",isCustomFieldModal:d==="customField",isComponentToDzModal:d==="addComponentToDynamicZone",isComponentAttribute:o==="component",isComponentModal:d==="component",isContentTypeModal:d==="contentType",isCreatingComponent:a==="create",isCreatingDz:a==="create",isCreatingComponentAttribute:W.createComponent||!1,isCreatingComponentInDz:W.createComponent||!1,isCreatingComponentWhileAddingAField:pe,isCreatingContentType:a==="create",isEditingAttribute:a==="edit",isDzAttribute:o==="dynamiczone",isInFirstComponentStep:y==="1",onSubmitAddComponentAttribute:dt,onSubmitAddComponentToDz:dt,onSubmitCreateComponent:dt,onSubmitCreateContentType:dt,onSubmitCreateDz:dt,onSubmitEditAttribute:dt,onSubmitEditComponent:dt,onSubmitEditContentType:dt,onSubmitEditCustomFieldAttribute:dt,onSubmitEditDz:dt,onClickFinish:jl})]})]})]})})},vv={actionType:null,attributeName:null,attributeType:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!0,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null,activeTab:"basic"},O8=({children:e})=>{const[t,n]=K.useState(vv),{trackUsage:r}=Li(),a=K.useCallback(({attributeType:C,customFieldUid:T})=>{n(I=>({...I,actionType:"create",modalType:"customField",attributeType:C,customFieldUid:T,activeTab:"basic"}))},[]),s=K.useCallback(({attributeType:C,step:T})=>{t.forTarget==="contentType"&&r("didSelectContentTypeFieldType",{type:C}),n(I=>({...I,actionType:"create",modalType:"attribute",step:T,attributeType:C,showBackLink:!0,activeTab:"basic"}))},[t.forTarget,r]),o=K.useCallback(({dynamicZoneTarget:C,targetUid:T})=>{n(I=>({...I,dynamicZoneTarget:C,targetUid:T,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},[]),c=K.useCallback(({forTarget:C,targetUid:T})=>{n(I=>({...I,actionType:"create",forTarget:C,targetUid:T,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1,activeTab:"basic"}))},[]),u=K.useCallback(C=>{n(T=>({...T,...C,isOpen:!0,activeTab:"basic"}))},[]),p=K.useCallback(({forTarget:C,targetUid:T,attributeName:I,attributeType:$,customFieldUid:M})=>{n(B=>({...B,modalType:"customField",customFieldUid:M,actionType:"edit",forTarget:C,targetUid:T,attributeName:I,attributeType:$,isOpen:!0,activeTab:"basic"}))},[]),d=K.useCallback(({forTarget:C,targetUid:T,attributeName:I,attributeType:$,step:M})=>{n(B=>({...B,modalType:"attribute",actionType:"edit",forTarget:C,targetUid:T,attributeName:I,attributeType:$,step:M,isOpen:!0}))},[]),h=K.useCallback(({modalType:C,forTarget:T,targetUid:I,kind:$})=>{n(M=>({...M,modalType:C,actionType:"edit",forTarget:T,targetUid:I,kind:$,isOpen:!0,activeTab:"basic"}))},[]),v=K.useCallback(()=>{n(vv)},[]),y=K.useCallback(({forTarget:C,targetUid:T})=>{n(I=>({...I,forTarget:C,targetUid:T,modalType:"chooseAttribute",activeTab:"basic"}))},[]),m=K.useCallback(()=>{n(C=>({...C,attributeType:"component",modalType:"attribute",step:"2",activeTab:"basic"}))},[]),x=K.useCallback(({dynamicZoneTarget:C})=>{n(T=>({...T,dynamicZoneTarget:C,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null,activeTab:"basic"}))},[]),b=K.useCallback(C=>{n(T=>({...T,activeTab:C}))},[]),k=K.useMemo(()=>({...t,onClickSelectField:s,onClickSelectCustomField:a,onCloseModal:v,onNavigateToChooseAttributeModal:y,onNavigateToAddCompoToDZModal:x,onOpenModalAddComponentsToDZ:o,onNavigateToCreateComponentStep2:m,onOpenModalAddField:c,onOpenModalCreateSchema:u,onOpenModalEditField:d,onOpenModalEditCustomField:p,onOpenModalEditSchema:h,setFormModalNavigationState:n,setActiveTab:b}),[t,s,a,v,y,x,o,m,c,u,d,p,h,b]);return g.jsx(Ux.Provider,{value:k,children:e})},F8=vt(Te)`
  @container (max-width: 200px) {
    .hide-on-small {
      display: none;
    }
  }
  container-type: inline-size;
`,M8=()=>{const{formatMessage:e}=mt(),t=e({id:re("table.content.create-first-content-type.title"),defaultMessage:"No content types"}),{isChatEnabled:n,openChat:r}=fr(),{openCodeUpload:a}=op(),{openFigmaUpload:s}=lp();return g.jsxs(F8,{justifyContent:"center",height:"100%",width:"400px",maxWidth:"90%",margin:"auto",direction:"column",gap:6,children:[g.jsx(Mv,{width:"160px",height:"88px"}),g.jsx(bd.contentTypeBuilder.Introduction,{children:g.jsx(ze,{})}),g.jsxs(Te,{gap:2,alignItems:"center",direction:"column",children:[g.jsx(Fe,{variant:"beta",textAlign:"center",children:t}),g.jsx(Fe,{variant:"omega",textAlign:"center",textColor:"neutral600",children:e({id:re("table.content.create-first-content-type.description"),defaultMessage:"Create collection types, single types and components in order to build your schema."})})]}),n&&g.jsxs(Te,{gap:2,direction:"column",className:"hide-on-small",children:[g.jsx(gt,{startIcon:g.jsx(gy,{}),variant:"tertiary",onClick:()=>s(!0),children:e({id:re("table.content.create-first-content-type.import-figma"),defaultMessage:"Import from Figma"})}),g.jsx(gt,{startIcon:g.jsx(xd,{}),variant:"tertiary",onClick:()=>a(!0),children:e({id:re("table.content.create-first-content-type.import-code"),defaultMessage:"Import from computer"})}),g.jsx(gt,{startIcon:g.jsx(ll,{}),variant:"tertiary",onClick:r,children:e({id:re("table.content.create-first-content-type.start-with-prompt"),defaultMessage:"Start with a prompt"})})]})]})},Iu=K.lazy(()=>Fj(()=>import("./ListView-BL7cU63G.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),z8=()=>{const{formatMessage:e}=mt(),t=e({id:`${ci}.plugin.name`,defaultMessage:"Content Types Builder"}),n=Vr("DataManagerProvider",o=>o.autoReload),r=_v(),a=$i("ContentTypeBuilderApp",o=>o.state),s=$i("ContentTypeBuilderApp",o=>o.dispatch);return K.useEffect(()=>{V5()},[]),K.useEffect(()=>{const o=r?"ContentTypeBuilderAI":"ContentTypeBuilderNoAI";a.tours.contentTypeBuilder.tourType!==o&&s({type:"set_tour_type",payload:{tourName:"contentTypeBuilder",tourType:o}})},[r,a.tours.contentTypeBuilder.tourType,s]),g.jsxs(Vc.Protect,{permissions:jj.main,children:[g.jsx(Vc.Title,{children:t}),g.jsx(Ij,{children:g.jsx(O8,{children:g.jsxs(g3,{children:[g.jsx(v3,{}),g.jsx(mU,{children:g.jsxs(g.Fragment,{children:[n&&g.jsx(R8,{}),g.jsx(Rj.Root,{sideNav:g.jsx(t3,{}),children:g.jsx(K.Suspense,{fallback:g.jsx(Vc.Loading,{}),children:g.jsxs(Oj,{children:[g.jsx(ks,{path:"content-types/create-content-type",element:g.jsx(M8,{})}),g.jsx(ks,{path:"content-types/:contentTypeUid",element:g.jsx(Iu,{})}),g.jsx(ks,{path:"component-categories/:categoryUid/:componentUid",element:g.jsx(Iu,{})}),g.jsx(ks,{path:"*",element:g.jsx(Iu,{})})]})})}),g.jsx(YU,{})]})})]})})})]})},H8=Object.freeze(Object.defineProperty({__proto__:null,default:z8},Symbol.toStringTag,{value:"Module"}));export{ko as A,qx as C,U8 as S,ja as a,Z8 as c,re as g,H8 as i,Jn as u};
