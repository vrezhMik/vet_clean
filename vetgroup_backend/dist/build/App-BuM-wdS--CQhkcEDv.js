import{r as p,db as Ar,h3 as zw,h4 as P6,da as Ve,j as C,h5 as xa,l as V,h6 as jw,gp as Te,cX as Ut,h7 as go,h8 as O6,h9 as Jm,ha as D6,hb as Hw,hc as Fs,hd as I6,he as _6,hf as L6,hg as N6,fs as B6,R as F6,Q as C1,hh as V6}from"./strapi-D25h1bXE.js";function St(n){const e=p.useRef(n);return p.useEffect(()=>{e.current=n}),p.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function kd(n,e){return n-e*Math.floor(n/e)}const Uw=1721426;function Pc(n,e,t,r){e=eg(n,e);let i=e-1,o=-2;return t<=2?o=0:xu(e)&&(o=-1),Uw-1+365*i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400)+Math.floor((367*t-362)/12+o+r)}function xu(n){return n%4===0&&(n%100!==0||n%400===0)}function eg(n,e){return n==="BC"?1-e:e}function W6(n){let e="AD";return n<=0&&(e="BC",n=1-n),[e,n]}const z6={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class $s{fromJulianDay(e){let t=e,r=t-Uw,i=Math.floor(r/146097),o=kd(r,146097),s=Math.floor(o/36524),a=kd(o,36524),c=Math.floor(a/1461),f=kd(a,1461),h=Math.floor(f/365),d=i*400+s*100+c*4+h+(s!==4&&h!==4?1:0),[m,b]=W6(d),x=t-Pc(m,b,1,1),v=2;t<Pc(m,b,3,1)?v=0:xu(b)&&(v=1);let w=Math.floor(((x+v)*12+373)/367),$=t-Pc(m,b,w,1)+1;return new za(m,b,w,$)}toJulianDay(e){return Pc(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return z6[xu(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return xu(e.year)?366:365}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}}const j6={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function Kw(n,e){return e=Xn(e,n.calendar),n.era===e.era&&n.year===e.year&&n.month===e.month&&n.day===e.day}function qw(n,e){let t=n.calendar.toJulianDay(n),r=Math.ceil(t+1-Y6(e))%7;return r<0&&(r+=7),r}function H6(n){return Xr(Date.now(),n)}function tg(n){return Jw(H6(n))}function Gw(n,e){return n.calendar.toJulianDay(n)-e.calendar.toJulianDay(e)}function U6(n,e){return $1(n)-$1(e)}function $1(n){return n.hour*36e5+n.minute*6e4+n.second*1e3+n.millisecond}let Ed=null;function Ss(){return Ed==null&&(Ed=new Intl.DateTimeFormat().resolvedOptions().timeZone),Ed}function K6(n){return n.subtract({days:n.day-1})}function q6(n){return n.add({days:n.calendar.getDaysInMonth(n)-n.day})}function Yw(n,e){let t=qw(n,e);return n.subtract({days:t})}const S1=new Map;function G6(n){if(Intl.Locale){let t=S1.get(n);return t||(t=new Intl.Locale(n).maximize().region,t&&S1.set(n,t)),t}let e=n.split("-")[1];return e==="u"?void 0:e}function Y6(n){let e=G6(n);return e&&j6[e]||0}function Cp(n,e){return n&&e?n.compare(e)<=0?n:e:n||e}function $p(n,e){return n&&e?n.compare(e)>=0?n:e:n||e}function ks(n){n=Xn(n,new $s);let e=eg(n.era,n.year);return Xw(e,n.month,n.day,n.hour,n.minute,n.second,n.millisecond)}function Xw(n,e,t,r,i,o,s){let a=new Date;return a.setUTCHours(r,i,o,s),a.setUTCFullYear(n,e-1,t),a.getTime()}function Sp(n,e){if(e==="UTC")return 0;if(n>0&&e===Ss())return new Date(n).getTimezoneOffset()*-6e4;let{year:t,month:r,day:i,hour:o,minute:s,second:a}=Zw(n,e);return Xw(t,r,i,o,s,a,0)-Math.floor(n/1e3)*1e3}const k1=new Map;function Zw(n,e){let t=k1.get(e);t||(t=new Intl.DateTimeFormat("en-US",{timeZone:e,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),k1.set(e,t));let r=t.formatToParts(new Date(n)),i={};for(let o of r)o.type!=="literal"&&(i[o.type]=o.value);return{year:i.era==="BC"||i.era==="B"?-i.year+1:+i.year,month:+i.month,day:+i.day,hour:i.hour==="24"?0:+i.hour,minute:+i.minute,second:+i.second}}const E1=864e5;function X6(n,e,t,r){return(t===r?[t]:[t,r]).filter(o=>Z6(n,e,o))}function Z6(n,e,t){let r=Zw(t,e);return n.year===r.year&&n.month===r.month&&n.day===r.day&&n.hour===r.hour&&n.minute===r.minute&&n.second===r.second}function qr(n,e,t="compatible"){let r=bo(n);if(e==="UTC")return ks(r);if(e===Ss()&&t==="compatible"){r=Xn(r,new $s);let c=new Date,f=eg(r.era,r.year);return c.setFullYear(f,r.month-1,r.day),c.setHours(r.hour,r.minute,r.second,r.millisecond),c.getTime()}let i=ks(r),o=Sp(i-E1,e),s=Sp(i+E1,e),a=X6(r,e,i-o,i-s);if(a.length===1)return a[0];if(a.length>1)switch(t){case"compatible":case"earlier":return a[0];case"later":return a[a.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(t){case"earlier":return Math.min(i-o,i-s);case"compatible":case"later":return Math.max(i-o,i-s);case"reject":throw new RangeError("No such absolute time found")}}function Qw(n,e,t="compatible"){return new Date(qr(n,e,t))}function Xr(n,e){let t=Sp(n,e),r=new Date(n+t),i=r.getUTCFullYear(),o=r.getUTCMonth()+1,s=r.getUTCDate(),a=r.getUTCHours(),c=r.getUTCMinutes(),f=r.getUTCSeconds(),h=r.getUTCMilliseconds();return new Es(i,o,s,e,t,a,c,f,h)}function Jw(n){return new za(n.calendar,n.era,n.year,n.month,n.day)}function bo(n,e){let t=0,r=0,i=0,o=0;if("timeZone"in n)({hour:t,minute:r,second:i,millisecond:o}=n);else if("hour"in n&&!e)return n;return e&&({hour:t,minute:r,second:i,millisecond:o}=e),new _u(n.calendar,n.era,n.year,n.month,n.day,t,r,i,o)}function Xn(n,e){if(n.calendar.identifier===e.identifier)return n;let t=e.fromJulianDay(n.calendar.toJulianDay(n)),r=n.copy();return r.calendar=e,r.era=t.era,r.year=t.year,r.month=t.month,r.day=t.day,vo(r),r}function Q6(n,e,t){if(n instanceof Es)return n.timeZone===e?n:eC(n,e);let r=qr(n,e,t);return Xr(r,e)}function J6(n){let e=ks(n)-n.offset;return new Date(e)}function eC(n,e){let t=ks(n)-n.offset;return Xn(Xr(t,e),n.calendar)}const ya=36e5;function wf(n,e){let t=n.copy(),r="hour"in t?rD(t,e):0;kp(t,e.years||0),t.calendar.balanceYearMonth&&t.calendar.balanceYearMonth(t,n),t.month+=e.months||0,Ep(t),tC(t),t.day+=(e.weeks||0)*7,t.day+=e.days||0,t.day+=r,eD(t),t.calendar.balanceDate&&t.calendar.balanceDate(t),t.year<1&&(t.year=1,t.month=1,t.day=1);let i=t.calendar.getYearsInEra(t);if(t.year>i){var o,s;let c=(o=(s=t.calendar).isInverseEra)===null||o===void 0?void 0:o.call(s,t);t.year=i,t.month=c?1:t.calendar.getMonthsInYear(t),t.day=c?1:t.calendar.getDaysInMonth(t)}t.month<1&&(t.month=1,t.day=1);let a=t.calendar.getMonthsInYear(t);return t.month>a&&(t.month=a,t.day=t.calendar.getDaysInMonth(t)),t.day=Math.max(1,Math.min(t.calendar.getDaysInMonth(t),t.day)),t}function kp(n,e){var t,r;!((t=(r=n.calendar).isInverseEra)===null||t===void 0)&&t.call(r,n)&&(e=-e),n.year+=e}function Ep(n){for(;n.month<1;)kp(n,-1),n.month+=n.calendar.getMonthsInYear(n);let e=0;for(;n.month>(e=n.calendar.getMonthsInYear(n));)n.month-=e,kp(n,1)}function eD(n){for(;n.day<1;)n.month--,Ep(n),n.day+=n.calendar.getDaysInMonth(n);for(;n.day>n.calendar.getDaysInMonth(n);)n.day-=n.calendar.getDaysInMonth(n),n.month++,Ep(n)}function tC(n){n.month=Math.max(1,Math.min(n.calendar.getMonthsInYear(n),n.month)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day))}function vo(n){n.calendar.constrainDate&&n.calendar.constrainDate(n),n.year=Math.max(1,Math.min(n.calendar.getYearsInEra(n),n.year)),tC(n)}function nC(n){let e={};for(let t in n)typeof n[t]=="number"&&(e[t]=-n[t]);return e}function rC(n,e){return wf(n,nC(e))}function ng(n,e){let t=n.copy();return e.era!=null&&(t.era=e.era),e.year!=null&&(t.year=e.year),e.month!=null&&(t.month=e.month),e.day!=null&&(t.day=e.day),vo(t),t}function Iu(n,e){let t=n.copy();return e.hour!=null&&(t.hour=e.hour),e.minute!=null&&(t.minute=e.minute),e.second!=null&&(t.second=e.second),e.millisecond!=null&&(t.millisecond=e.millisecond),nD(t),t}function tD(n){n.second+=Math.floor(n.millisecond/1e3),n.millisecond=Oc(n.millisecond,1e3),n.minute+=Math.floor(n.second/60),n.second=Oc(n.second,60),n.hour+=Math.floor(n.minute/60),n.minute=Oc(n.minute,60);let e=Math.floor(n.hour/24);return n.hour=Oc(n.hour,24),e}function nD(n){n.millisecond=Math.max(0,Math.min(n.millisecond,1e3)),n.second=Math.max(0,Math.min(n.second,59)),n.minute=Math.max(0,Math.min(n.minute,59)),n.hour=Math.max(0,Math.min(n.hour,23))}function Oc(n,e){let t=n%e;return t<0&&(t+=e),t}function rD(n,e){return n.hour+=e.hours||0,n.minute+=e.minutes||0,n.second+=e.seconds||0,n.millisecond+=e.milliseconds||0,tD(n)}function rg(n,e,t,r){let i=n.copy();switch(e){case"era":{let a=n.calendar.getEras(),c=a.indexOf(n.era);if(c<0)throw new Error("Invalid era: "+n.era);c=Zr(c,t,0,a.length-1,r?.round),i.era=a[c],vo(i);break}case"year":var o,s;!((o=(s=i.calendar).isInverseEra)===null||o===void 0)&&o.call(s,i)&&(t=-t),i.year=Zr(n.year,t,-1/0,9999,r?.round),i.year===-1/0&&(i.year=1),i.calendar.balanceYearMonth&&i.calendar.balanceYearMonth(i,n);break;case"month":i.month=Zr(n.month,t,1,n.calendar.getMonthsInYear(n),r?.round);break;case"day":i.day=Zr(n.day,t,1,n.calendar.getDaysInMonth(n),r?.round);break;default:throw new Error("Unsupported field "+e)}return n.calendar.balanceDate&&n.calendar.balanceDate(i),vo(i),i}function iC(n,e,t,r){let i=n.copy();switch(e){case"hour":{let o=n.hour,s=0,a=23;if(r?.hourCycle===12){let c=o>=12;s=c?12:0,a=c?23:11}i.hour=Zr(o,t,s,a,r?.round);break}case"minute":i.minute=Zr(n.minute,t,0,59,r?.round);break;case"second":i.second=Zr(n.second,t,0,59,r?.round);break;case"millisecond":i.millisecond=Zr(n.millisecond,t,0,999,r?.round);break;default:throw new Error("Unsupported field "+e)}return i}function Zr(n,e,t,r,i=!1){if(i){n+=Math.sign(e),n<t&&(n=r);let o=Math.abs(e);e>0?n=Math.ceil(n/o)*o:n=Math.floor(n/o)*o,n>r&&(n=t)}else n+=e,n<t?n=r-(t-n-1):n>r&&(n=t+(n-r-1));return n}function oC(n,e){let t;if(e.years!=null&&e.years!==0||e.months!=null&&e.months!==0||e.weeks!=null&&e.weeks!==0||e.days!=null&&e.days!==0){let i=wf(bo(n),{years:e.years,months:e.months,weeks:e.weeks,days:e.days});t=qr(i,n.timeZone)}else t=ks(n)-n.offset;t+=e.milliseconds||0,t+=(e.seconds||0)*1e3,t+=(e.minutes||0)*6e4,t+=(e.hours||0)*36e5;let r=Xr(t,n.timeZone);return Xn(r,n.calendar)}function iD(n,e){return oC(n,nC(e))}function oD(n,e,t,r){switch(e){case"hour":{let i=0,o=23;if(r?.hourCycle===12){let x=n.hour>=12;i=x?12:0,o=x?23:11}let s=bo(n),a=Xn(Iu(s,{hour:i}),new $s),c=[qr(a,n.timeZone,"earlier"),qr(a,n.timeZone,"later")].filter(x=>Xr(x,n.timeZone).day===a.day)[0],f=Xn(Iu(s,{hour:o}),new $s),h=[qr(f,n.timeZone,"earlier"),qr(f,n.timeZone,"later")].filter(x=>Xr(x,n.timeZone).day===f.day).pop(),d=ks(n)-n.offset,m=Math.floor(d/ya),b=d%ya;return d=Zr(m,t,Math.floor(c/ya),Math.floor(h/ya),r?.round)*ya+b,Xn(Xr(d,n.timeZone),n.calendar)}case"minute":case"second":case"millisecond":return iC(n,e,t,r);case"era":case"year":case"month":case"day":{let i=rg(bo(n),e,t,r),o=qr(i,n.timeZone);return Xn(Xr(o,n.timeZone),n.calendar)}default:throw new Error("Unsupported field "+e)}}function sD(n,e,t){let r=bo(n),i=Iu(ng(r,e),e);if(i.compare(r)===0)return n;let o=qr(i,n.timeZone,t);return Xn(Xr(o,n.timeZone),n.calendar)}const aD=/^(\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:(?:([+-]\d{2})(?::?(\d{2}))?)|Z)$/;function sC(n,e){let t=n.match(aD);if(!t)throw new Error("Invalid ISO 8601 date time string: "+n);let r=new Es(jr(t[1],1,9999),jr(t[2],1,12),1,e,0,t[4]?jr(t[4],0,23):0,t[5]?jr(t[5],0,59):0,t[6]?jr(t[6],0,59):0,t[7]?jr(t[7],0,1/0)*1e3:0);r.day=jr(t[3],0,r.calendar.getDaysInMonth(r));var i;return t[8]&&(r.offset=jr(t[8],-23,23)*36e5+jr((i=t[9])!==null&&i!==void 0?i:"0",0,59)*6e4),eC(r,e)}function lD(n){return sC(n,Ss())}function jr(n,e,t){let r=Number(n);if(r<e||r>t)throw new RangeError(`Value out of range: ${e} <= ${r} <= ${t}`);return r}function cD(n){return`${String(n.hour).padStart(2,"0")}:${String(n.minute).padStart(2,"0")}:${String(n.second).padStart(2,"0")}${n.millisecond?String(n.millisecond/1e3).slice(1):""}`}function aC(n){let e=Xn(n,new $s);return`${String(e.year).padStart(4,"0")}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`}function lC(n){return`${aC(n)}T${cD(n)}`}function uD(n){let e=Math.sign(n)<0?"-":"+";n=Math.abs(n);let t=Math.floor(n/36e5),r=n%36e5/6e4;return`${e}${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function fD(n){return`${lC(n)}${uD(n.offset)}[${n.timeZone}]`}function hD(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ig(n,e,t){hD(n,e),e.set(n,t)}function og(n){let e=typeof n[0]=="object"?n.shift():new $s,t;if(typeof n[0]=="string")t=n.shift();else{let s=e.getEras();t=s[s.length-1]}let r=n.shift(),i=n.shift(),o=n.shift();return[e,t,r,i,o]}var dD=new WeakMap;class za{copy(){return this.era?new za(this.calendar,this.era,this.year,this.month,this.day):new za(this.calendar,this.year,this.month,this.day)}add(e){return wf(this,e)}subtract(e){return rC(this,e)}set(e){return ng(this,e)}cycle(e,t,r){return rg(this,e,t,r)}toDate(e){return Qw(this,e)}toString(){return aC(this)}compare(e){return Gw(this,e)}constructor(...e){ig(this,dD,{writable:!0,value:void 0});let[t,r,i,o,s]=og(e);this.calendar=t,this.era=r,this.year=i,this.month=o,this.day=s,vo(this)}}var pD=new WeakMap;class _u{copy(){return this.era?new _u(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new _u(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(e){return wf(this,e)}subtract(e){return rC(this,e)}set(e){return ng(Iu(this,e),e)}cycle(e,t,r){switch(e){case"era":case"year":case"month":case"day":return rg(this,e,t,r);default:return iC(this,e,t,r)}}toDate(e,t){return Qw(this,e,t)}toString(){return lC(this)}compare(e){let t=Gw(this,e);return t===0?U6(this,bo(e)):t}constructor(...e){ig(this,pD,{writable:!0,value:void 0});let[t,r,i,o,s]=og(e);this.calendar=t,this.era=r,this.year=i,this.month=o,this.day=s,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,vo(this)}}var mD=new WeakMap;class Es{copy(){return this.era?new Es(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new Es(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(e){return oC(this,e)}subtract(e){return iD(this,e)}set(e,t){return sD(this,e,t)}cycle(e,t,r){return oD(this,e,t,r)}toDate(){return J6(this)}toString(){return fD(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(e){return this.toDate().getTime()-Q6(e,this.timeZone).toDate().getTime()}constructor(...e){ig(this,mD,{writable:!0,value:void 0});let[t,r,i,o,s]=og(e),a=e.shift(),c=e.shift();this.calendar=t,this.era=r,this.year=i,this.month=o,this.day=s,this.timeZone=a,this.offset=c,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,vo(this)}}let Ad=new Map;class gD{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,t){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(t)}`}formatRangeToParts(e,t){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(e),i=this.formatter.formatToParts(t);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return xD()&&(this.resolvedHourCycle||(this.resolvedHourCycle=yD(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,t={}){this.formatter=cC(e,t),this.options=t}}const bD={true:{ja:"h11"},false:{}};function cC(n,e={}){if(typeof e.hour12=="boolean"&&vD()){e={...e};let i=bD[String(e.hour12)][n.split("-")[0]],o=e.hour12?"h12":"h23";e.hourCycle=i??o,delete e.hour12}let t=n+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():"");if(Ad.has(t))return Ad.get(t);let r=new Intl.DateTimeFormat(n,e);return Ad.set(t,r),r}let Rd=null;function vD(){return Rd==null&&(Rd=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),Rd}let Td=null;function xD(){return Td==null&&(Td=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),Td}function yD(n,e){if(!e.timeStyle&&!e.hour)return;n=n.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),n+=(n.includes("-u-")?"":"-u")+"-nu-latn";let t=cC(n,{...e,timeZone:void 0}),r=parseInt(t.formatToParts(new Date(2020,2,3,0)).find(o=>o.type==="hour").value,10),i=parseInt(t.formatToParts(new Date(2020,2,3,23)).find(o=>o.type==="hour").value,10);if(r===0&&i===23)return"h23";if(r===24&&i===23)return"h24";if(r===0&&i===11)return"h11";if(r===12&&i===11)return"h12";throw new Error("Unexpected hour cycle result")}function H(){return H=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},H.apply(null,arguments)}function ne(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function wD(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Cf(...n){return e=>n.forEach(t=>wD(t,e))}function we(...n){return p.useCallback(Cf(...n),n)}function sg(n,e){const t=p.createContext(e);function r(o){const{children:s,...a}=o,c=p.useMemo(()=>a,Object.values(a));return p.createElement(t.Provider,{value:c},s)}function i(o){const s=p.useContext(t);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return r.displayName=n+"Provider",[r,i]}function Ct(n,e=[]){let t=[];function r(o,s){const a=p.createContext(s),c=t.length;t=[...t,s];function f(d){const{scope:m,children:b,...x}=d,v=m?.[n][c]||a,w=p.useMemo(()=>x,Object.values(x));return p.createElement(v.Provider,{value:w},b)}function h(d,m){const b=m?.[n][c]||a,x=p.useContext(b);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return f.displayName=o+"Provider",[f,h]}const i=()=>{const o=t.map(s=>p.createContext(s));return function(a){const c=a?.[n]||o;return p.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,CD(i,...e)]}function CD(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:f})=>{const d=c(o)[`__scope${f}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}const Sr=p.forwardRef((n,e)=>{const{children:t,...r}=n,i=p.Children.toArray(t),o=i.find($D);if(o){const s=o.props.children,a=i.map(c=>c===o?p.Children.count(s)>1?p.Children.only(null):p.isValidElement(s)?s.props.children:null:c);return p.createElement(Ap,H({},r,{ref:e}),p.isValidElement(s)?p.cloneElement(s,void 0,a):null)}return p.createElement(Ap,H({},r,{ref:e}),t)});Sr.displayName="Slot";const Ap=p.forwardRef((n,e)=>{const{children:t,...r}=n;return p.isValidElement(t)?p.cloneElement(t,{...SD(r,t.props),ref:e?Cf(e,t.ref):t.ref}):p.Children.count(t)>1?p.Children.only(null):null});Ap.displayName="SlotClone";const ag=({children:n})=>p.createElement(p.Fragment,null,n);function $D(n){return p.isValidElement(n)&&n.type===ag}function SD(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...a)=>{o(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}const kD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],me=kD.reduce((n,e)=>{const t=p.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?Sr:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,H({},s,{ref:i}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function ED(n,e){n&&Ar.flushSync(()=>n.dispatchEvent(e))}function AD(n,e=globalThis?.document){const t=St(n);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const Rp="dismissableLayer.update",RD="dismissableLayer.pointerDownOutside",TD="dismissableLayer.focusOutside";let A1;const MD=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ro=p.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...f}=n,h=p.useContext(MD),[d,m]=p.useState(null),b=(t=d?.ownerDocument)!==null&&t!==void 0?t:globalThis?.document,[,x]=p.useState({}),v=we(e,L=>m(L)),w=Array.from(h.layers),[$]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf($),E=d?w.indexOf(d):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,T=E>=S,O=PD(L=>{const B=L.target,F=[...h.branches].some(K=>K.contains(B));!T||F||(o?.(L),a?.(L),L.defaultPrevented||c?.())},b),P=OD(L=>{const B=L.target;[...h.branches].some(K=>K.contains(B))||(s?.(L),a?.(L),L.defaultPrevented||c?.())},b);return AD(L=>{E===h.layers.size-1&&(i?.(L),!L.defaultPrevented&&c&&(L.preventDefault(),c()))},b),p.useEffect(()=>{if(d)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(A1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(d)),h.layers.add(d),R1(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=A1)}},[d,b,r,h]),p.useEffect(()=>()=>{d&&(h.layers.delete(d),h.layersWithOutsidePointerEventsDisabled.delete(d),R1())},[d,h]),p.useEffect(()=>{const L=()=>x({});return document.addEventListener(Rp,L),()=>document.removeEventListener(Rp,L)},[]),p.createElement(me.div,H({},f,{ref:v,style:{pointerEvents:A?T?"auto":"none":void 0,...n.style},onFocusCapture:ne(n.onFocusCapture,P.onFocusCapture),onBlurCapture:ne(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ne(n.onPointerDownCapture,O.onPointerDownCapture)}))});function PD(n,e=globalThis?.document){const t=St(n),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let f=function(){uC(RD,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function OD(n,e=globalThis?.document){const t=St(n),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&uC(TD,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function R1(){const n=new CustomEvent(Rp);document.dispatchEvent(n)}function uC(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?ED(i,o):i.dispatchEvent(o)}const DD=Ro,pt=globalThis?.document?p.useLayoutEffect:()=>{},ID=zw.useId||(()=>{});let _D=0;function mn(n){const[e,t]=p.useState(ID());return pt(()=>{t(r=>r??String(_D++))},[n]),e?`radix-${e}`:""}const LD=["top","right","bottom","left"],Pi=Math.min,An=Math.max,Lu=Math.round,Dc=Math.floor,wr=n=>({x:n,y:n}),ND={left:"right",right:"left",bottom:"top",top:"bottom"},BD={start:"end",end:"start"};function Tp(n,e,t){return An(n,Pi(e,t))}function Jr(n,e){return typeof n=="function"?n(e):n}function ei(n){return n.split("-")[0]}function Vs(n){return n.split("-")[1]}function lg(n){return n==="x"?"y":"x"}function cg(n){return n==="y"?"height":"width"}function Oi(n){return["top","bottom"].includes(ei(n))?"y":"x"}function ug(n){return lg(Oi(n))}function FD(n,e,t){t===void 0&&(t=!1);const r=Vs(n),i=ug(n),o=cg(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Nu(s)),[s,Nu(s)]}function VD(n){const e=Nu(n);return[Mp(n),e,Mp(e)]}function Mp(n){return n.replace(/start|end/g,e=>BD[e])}function WD(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function zD(n,e,t,r){const i=Vs(n);let o=WD(ei(n),t==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Mp)))),o}function Nu(n){return n.replace(/left|right|bottom|top/g,e=>ND[e])}function jD(n){return{top:0,right:0,bottom:0,left:0,...n}}function fC(n){return typeof n!="number"?jD(n):{top:n,right:n,bottom:n,left:n}}function Bu(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function T1(n,e,t){let{reference:r,floating:i}=n;const o=Oi(e),s=ug(e),a=cg(s),c=ei(e),f=o==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let b;switch(c){case"top":b={x:h,y:r.y-i.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:d};break;case"left":b={x:r.x-i.width,y:d};break;default:b={x:r.x,y:r.y}}switch(Vs(e)){case"start":b[s]-=m*(t&&f?-1:1);break;case"end":b[s]+=m*(t&&f?-1:1);break}return b}const HD=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=t,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:h,y:d}=T1(f,r,c),m=r,b={},x=0;for(let v=0;v<a.length;v++){const{name:w,fn:$}=a[v],{x:S,y:E,data:A,reset:T}=await $({x:h,y:d,initialPlacement:r,placement:m,strategy:i,middlewareData:b,rects:f,platform:s,elements:{reference:n,floating:e}});h=S??h,d=E??d,b={...b,[w]:{...b[w],...A}},T&&x<=50&&(x++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(f=T.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):T.rects),{x:h,y:d}=T1(f,m,c)),v=-1)}return{x:h,y:d,placement:m,strategy:i,middlewareData:b}};async function ja(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=n,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:m=!1,padding:b=0}=Jr(e,n),x=fC(b),w=a[m?d==="floating"?"reference":"floating":d],$=Bu(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(w)))==null||t?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:f,rootBoundary:h,strategy:c})),S=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Bu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:E,strategy:c}):S);return{top:($.top-T.top+x.top)/A.y,bottom:(T.bottom-$.bottom+x.bottom)/A.y,left:($.left-T.left+x.left)/A.x,right:(T.right-$.right+x.right)/A.x}}const UD=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=e,{element:f,padding:h=0}=Jr(n,e)||{};if(f==null)return{};const d=fC(h),m={x:t,y:r},b=ug(i),x=cg(b),v=await s.getDimensions(f),w=b==="y",$=w?"top":"left",S=w?"bottom":"right",E=w?"clientHeight":"clientWidth",A=o.reference[x]+o.reference[b]-m[b]-o.floating[x],T=m[b]-o.reference[b],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let P=O?O[E]:0;(!P||!await(s.isElement==null?void 0:s.isElement(O)))&&(P=a.floating[E]||o.floating[x]);const L=A/2-T/2,B=P/2-v[x]/2-1,F=Pi(d[$],B),K=Pi(d[S],B),z=F,ee=P-v[x]-K,Z=P/2-v[x]/2+L,re=Tp(z,Z,ee),ue=!c.arrow&&Vs(i)!=null&&Z!==re&&o.reference[x]/2-(Z<z?F:K)-v[x]/2<0,Q=ue?Z<z?Z-z:Z-ee:0;return{[b]:m[b]+Q,data:{[b]:re,centerOffset:Z-re-Q,...ue&&{alignmentOffset:Q}},reset:ue}}}),KD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:f}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...w}=Jr(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const $=ei(i),S=Oi(a),E=ei(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(f.floating)),T=m||(E||!v?[Nu(a)]:VD(a)),O=x!=="none";!m&&O&&T.push(...zD(a,v,x,A));const P=[a,...T],L=await ja(e,w),B=[];let F=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&B.push(L[$]),d){const Z=FD(i,s,A);B.push(L[Z[0]],L[Z[1]])}if(F=[...F,{placement:i,overflows:B}],!B.every(Z=>Z<=0)){var K,z;const Z=(((K=o.flip)==null?void 0:K.index)||0)+1,re=P[Z];if(re)return{data:{index:Z,overflows:F},reset:{placement:re}};let ue=(z=F.filter(Q=>Q.overflows[0]<=0).sort((Q,ie)=>Q.overflows[1]-ie.overflows[1])[0])==null?void 0:z.placement;if(!ue)switch(b){case"bestFit":{var ee;const Q=(ee=F.filter(ie=>{if(O){const q=Oi(ie.placement);return q===S||q==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(q=>q>0).reduce((q,le)=>q+le,0)]).sort((ie,q)=>ie[1]-q[1])[0])==null?void 0:ee[0];Q&&(ue=Q);break}case"initialPlacement":ue=a;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function M1(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function P1(n){return LD.some(e=>n[e]>=0)}const qD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Jr(n,e);switch(r){case"referenceHidden":{const o=await ja(e,{...i,elementContext:"reference"}),s=M1(o,t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:P1(s)}}}case"escaped":{const o=await ja(e,{...i,altBoundary:!0}),s=M1(o,t.floating);return{data:{escapedOffsets:s,escaped:P1(s)}}}default:return{}}}}};async function GD(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ei(t),a=Vs(t),c=Oi(t)==="y",f=["left","top"].includes(s)?-1:1,h=o&&c?-1:1,d=Jr(e,n);let{mainAxis:m,crossAxis:b,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof x=="number"&&(b=a==="end"?x*-1:x),c?{x:b*h,y:m*f}:{x:m*f,y:b*h}}const YD=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:s,middlewareData:a}=e,c=await GD(e,n);return s===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},XD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:$,y:S}=w;return{x:$,y:S}}},...c}=Jr(n,e),f={x:t,y:r},h=await ja(e,c),d=Oi(ei(i)),m=lg(d);let b=f[m],x=f[d];if(o){const w=m==="y"?"top":"left",$=m==="y"?"bottom":"right",S=b+h[w],E=b-h[$];b=Tp(S,b,E)}if(s){const w=d==="y"?"top":"left",$=d==="y"?"bottom":"right",S=x+h[w],E=x-h[$];x=Tp(S,x,E)}const v=a.fn({...e,[m]:b,[d]:x});return{...v,data:{x:v.x-t,y:v.y-r,enabled:{[m]:o,[d]:s}}}}}},ZD=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:c=!0,crossAxis:f=!0}=Jr(n,e),h={x:t,y:r},d=Oi(i),m=lg(d);let b=h[m],x=h[d];const v=Jr(a,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const E=m==="y"?"height":"width",A=o.reference[m]-o.floating[E]+w.mainAxis,T=o.reference[m]+o.reference[E]-w.mainAxis;b<A?b=A:b>T&&(b=T)}if(f){var $,S;const E=m==="y"?"width":"height",A=["top","left"].includes(ei(i)),T=o.reference[d]-o.floating[E]+(A&&(($=s.offset)==null?void 0:$[d])||0)+(A?0:w.crossAxis),O=o.reference[d]+o.reference[E]+(A?0:((S=s.offset)==null?void 0:S[d])||0)-(A?w.crossAxis:0);x<T?x=T:x>O&&(x=O)}return{[m]:b,[d]:x}}}},QD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:c=()=>{},...f}=Jr(n,e),h=await ja(e,f),d=ei(i),m=Vs(i),b=Oi(i)==="y",{width:x,height:v}=o.floating;let w,$;d==="top"||d==="bottom"?(w=d,$=m===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):($=d,w=m==="end"?"top":"bottom");const S=v-h.top-h.bottom,E=x-h.left-h.right,A=Pi(v-h[w],S),T=Pi(x-h[$],E),O=!e.middlewareData.shift;let P=A,L=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(L=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=S),O&&!m){const F=An(h.left,0),K=An(h.right,0),z=An(h.top,0),ee=An(h.bottom,0);b?L=x-2*(F!==0||K!==0?F+K:An(h.left,h.right)):P=v-2*(z!==0||ee!==0?z+ee:An(h.top,h.bottom))}await c({...e,availableWidth:L,availableHeight:P});const B=await s.getDimensions(a.floating);return x!==B.width||v!==B.height?{reset:{rects:!0}}:{}}}};function $f(){return typeof window<"u"}function Ws(n){return hC(n)?(n.nodeName||"").toLowerCase():"#document"}function Tn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(n){var e;return(e=(hC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function hC(n){return $f()?n instanceof Node||n instanceof Tn(n).Node:!1}function er(n){return $f()?n instanceof Element||n instanceof Tn(n).Element:!1}function kr(n){return $f()?n instanceof HTMLElement||n instanceof Tn(n).HTMLElement:!1}function O1(n){return!$f()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Tn(n).ShadowRoot}function pl(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=tr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function JD(n){return["table","td","th"].includes(Ws(n))}function Sf(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function fg(n){const e=hg(),t=er(n)?tr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function eI(n){let e=Di(n);for(;kr(e)&&!As(e);){if(fg(e))return e;if(Sf(e))return null;e=Di(e)}return null}function hg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function As(n){return["html","body","#document"].includes(Ws(n))}function tr(n){return Tn(n).getComputedStyle(n)}function kf(n){return er(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Di(n){if(Ws(n)==="html")return n;const e=n.assignedSlot||n.parentNode||O1(n)&&n.host||Rr(n);return O1(e)?e.host:e}function dC(n){const e=Di(n);return As(e)?n.ownerDocument?n.ownerDocument.body:n.body:kr(e)&&pl(e)?e:dC(e)}function Ha(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=dC(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),s=Tn(i);if(o){const a=Pp(s);return e.concat(s,s.visualViewport||[],pl(i)?i:[],a&&t?Ha(a):[])}return e.concat(i,Ha(i,[],t))}function Pp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function pC(n){const e=tr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=kr(n),o=i?n.offsetWidth:t,s=i?n.offsetHeight:r,a=Lu(t)!==o||Lu(r)!==s;return a&&(t=o,r=s),{width:t,height:r,$:a}}function dg(n){return er(n)?n:n.contextElement}function ms(n){const e=dg(n);if(!kr(e))return wr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=pC(e);let s=(o?Lu(t.width):t.width)/r,a=(o?Lu(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const tI=wr(0);function mC(n){const e=Tn(n);return!hg()||!e.visualViewport?tI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nI(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Tn(n)?!1:e}function xo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=dg(n);let s=wr(1);e&&(r?er(r)&&(s=ms(r)):s=ms(n));const a=nI(o,t,r)?mC(o):wr(0);let c=(i.left+a.x)/s.x,f=(i.top+a.y)/s.y,h=i.width/s.x,d=i.height/s.y;if(o){const m=Tn(o),b=r&&er(r)?Tn(r):r;let x=m,v=Pp(x);for(;v&&r&&b!==x;){const w=ms(v),$=v.getBoundingClientRect(),S=tr(v),E=$.left+(v.clientLeft+parseFloat(S.paddingLeft))*w.x,A=$.top+(v.clientTop+parseFloat(S.paddingTop))*w.y;c*=w.x,f*=w.y,h*=w.x,d*=w.y,c+=E,f+=A,x=Tn(v),v=Pp(x)}}return Bu({width:h,height:d,x:c,y:f})}function pg(n,e){const t=kf(n).scrollLeft;return e?e.left+t:xo(Rr(n)).left+t}function gC(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:pg(n,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function rI(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",s=Rr(r),a=e?Sf(e.floating):!1;if(r===s||a&&o)return t;let c={scrollLeft:0,scrollTop:0},f=wr(1);const h=wr(0),d=kr(r);if((d||!d&&!o)&&((Ws(r)!=="body"||pl(s))&&(c=kf(r)),kr(r))){const b=xo(r);f=ms(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const m=s&&!d&&!o?gC(s,c,!0):wr(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-c.scrollLeft*f.x+h.x+m.x,y:t.y*f.y-c.scrollTop*f.y+h.y+m.y}}function iI(n){return Array.from(n.getClientRects())}function oI(n){const e=Rr(n),t=kf(n),r=n.ownerDocument.body,i=An(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=An(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+pg(n);const a=-t.scrollTop;return tr(r).direction==="rtl"&&(s+=An(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function sI(n,e){const t=Tn(n),r=Rr(n),i=t.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const f=hg();(!f||f&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function aI(n,e){const t=xo(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=kr(n)?ms(n):wr(1),s=n.clientWidth*o.x,a=n.clientHeight*o.y,c=i*o.x,f=r*o.y;return{width:s,height:a,x:c,y:f}}function D1(n,e,t){let r;if(e==="viewport")r=sI(n,t);else if(e==="document")r=oI(Rr(n));else if(er(e))r=aI(e,t);else{const i=mC(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Bu(r)}function bC(n,e){const t=Di(n);return t===e||!er(t)||As(t)?!1:tr(t).position==="fixed"||bC(t,e)}function lI(n,e){const t=e.get(n);if(t)return t;let r=Ha(n,[],!1).filter(a=>er(a)&&Ws(a)!=="body"),i=null;const o=tr(n).position==="fixed";let s=o?Di(n):n;for(;er(s)&&!As(s);){const a=tr(s),c=fg(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||pl(s)&&!c&&bC(n,s))?r=r.filter(h=>h!==s):i=a,s=Di(s)}return e.set(n,r),r}function cI(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?Sf(e)?[]:lI(e,this._c):[].concat(t),r],a=s[0],c=s.reduce((f,h)=>{const d=D1(e,h,i);return f.top=An(d.top,f.top),f.right=Pi(d.right,f.right),f.bottom=Pi(d.bottom,f.bottom),f.left=An(d.left,f.left),f},D1(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function uI(n){const{width:e,height:t}=pC(n);return{width:e,height:t}}function fI(n,e,t){const r=kr(e),i=Rr(e),o=t==="fixed",s=xo(n,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=wr(0);if(r||!r&&!o)if((Ws(e)!=="body"||pl(i))&&(a=kf(e)),r){const m=xo(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&(c.x=pg(i));const f=i&&!r&&!o?gC(i,a):wr(0),h=s.left+a.scrollLeft-c.x-f.x,d=s.top+a.scrollTop-c.y-f.y;return{x:h,y:d,width:s.width,height:s.height}}function Md(n){return tr(n).position==="static"}function I1(n,e){if(!kr(n)||tr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Rr(n)===t&&(t=t.ownerDocument.body),t}function vC(n,e){const t=Tn(n);if(Sf(n))return t;if(!kr(n)){let i=Di(n);for(;i&&!As(i);){if(er(i)&&!Md(i))return i;i=Di(i)}return t}let r=I1(n,e);for(;r&&JD(r)&&Md(r);)r=I1(r,e);return r&&As(r)&&Md(r)&&!fg(r)?t:r||eI(n)||t}const hI=async function(n){const e=this.getOffsetParent||vC,t=this.getDimensions,r=await t(n.floating);return{reference:fI(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dI(n){return tr(n).direction==="rtl"}const pI={convertOffsetParentRelativeRectToViewportRelativeRect:rI,getDocumentElement:Rr,getClippingRect:cI,getOffsetParent:vC,getElementRects:hI,getClientRects:iI,getDimensions:uI,getScale:ms,isElement:er,isRTL:dI};function xC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function mI(n,e){let t=null,r;const i=Rr(n);function o(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const f=n.getBoundingClientRect(),{left:h,top:d,width:m,height:b}=f;if(a||e(),!m||!b)return;const x=Dc(d),v=Dc(i.clientWidth-(h+m)),w=Dc(i.clientHeight-(d+b)),$=Dc(h),E={rootMargin:-x+"px "+-v+"px "+-w+"px "+-$+"px",threshold:An(0,Pi(1,c))||1};let A=!0;function T(O){const P=O[0].intersectionRatio;if(P!==c){if(!A)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},1e3)}P===1&&!xC(f,n.getBoundingClientRect())&&s(),A=!1}try{t=new IntersectionObserver(T,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(T,E)}t.observe(n)}return s(!0),o}function yC(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=dg(n),h=i||o?[...f?Ha(f):[],...Ha(e)]:[];h.forEach($=>{i&&$.addEventListener("scroll",t,{passive:!0}),o&&$.addEventListener("resize",t)});const d=f&&a?mI(f,t):null;let m=-1,b=null;s&&(b=new ResizeObserver($=>{let[S]=$;S&&S.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(e)})),t()}),f&&!c&&b.observe(f),b.observe(e));let x,v=c?xo(n):null;c&&w();function w(){const $=xo(n);v&&!xC(v,$)&&t(),v=$,x=requestAnimationFrame(w)}return t(),()=>{var $;h.forEach(S=>{i&&S.removeEventListener("scroll",t),o&&S.removeEventListener("resize",t)}),d?.(),($=b)==null||$.disconnect(),b=null,c&&cancelAnimationFrame(x)}}const gI=YD,bI=XD,vI=KD,xI=QD,yI=qD,_1=UD,wI=ZD,CI=(n,e,t)=>{const r=new Map,i={platform:pI,...t},o={...i.platform,_c:r};return HD(n,e,{...i,platform:o})};var yu=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Fu(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Fu(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!Fu(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function wC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function L1(n,e){const t=wC(n);return Math.round(e*t)/t}function N1(n){const e=p.useRef(n);return yu(()=>{e.current=n}),e}function CC(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:f}=n,[h,d]=p.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,b]=p.useState(r);Fu(m,r)||b(r);const[x,v]=p.useState(null),[w,$]=p.useState(null),S=p.useCallback(Q=>{Q!==O.current&&(O.current=Q,v(Q))},[]),E=p.useCallback(Q=>{Q!==P.current&&(P.current=Q,$(Q))},[]),A=o||x,T=s||w,O=p.useRef(null),P=p.useRef(null),L=p.useRef(h),B=c!=null,F=N1(c),K=N1(i),z=p.useCallback(()=>{if(!O.current||!P.current)return;const Q={placement:e,strategy:t,middleware:m};K.current&&(Q.platform=K.current),CI(O.current,P.current,Q).then(ie=>{const q={...ie,isPositioned:!0};ee.current&&!Fu(L.current,q)&&(L.current=q,Ar.flushSync(()=>{d(q)}))})},[m,e,t,K]);yu(()=>{f===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,d(Q=>({...Q,isPositioned:!1})))},[f]);const ee=p.useRef(!1);yu(()=>(ee.current=!0,()=>{ee.current=!1}),[]),yu(()=>{if(A&&(O.current=A),T&&(P.current=T),A&&T){if(F.current)return F.current(A,T,z);z()}},[A,T,z,F,B]);const Z=p.useMemo(()=>({reference:O,floating:P,setReference:S,setFloating:E}),[S,E]),re=p.useMemo(()=>({reference:A,floating:T}),[A,T]),ue=p.useMemo(()=>{const Q={position:t,left:0,top:0};if(!re.floating)return Q;const ie=L1(re.floating,h.x),q=L1(re.floating,h.y);return a?{...Q,transform:"translate("+ie+"px, "+q+"px)",...wC(re.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ie,top:q}},[t,a,re.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:z,refs:Z,elements:re,floatingStyles:ue}),[h,z,Z,re,ue])}const $I=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?_1({element:r.current,padding:i}).fn(t):{}:r?_1({element:r,padding:i}).fn(t):{}}}},$C=(n,e)=>({...gI(n),options:[n,e]}),SC=(n,e)=>({...bI(n),options:[n,e]}),SI=(n,e)=>({...wI(n),options:[n,e]}),kC=(n,e)=>({...vI(n),options:[n,e]}),kI=(n,e)=>({...xI(n),options:[n,e]}),EI=(n,e)=>({...yI(n),options:[n,e]}),AI=(n,e)=>({...$I(n),options:[n,e]}),RI=p.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...o}=n;return p.createElement(me.svg,H({},o,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:p.createElement("polygon",{points:"0,0 30,0 15,10"}))}),TI=RI;function Ef(n){const[e,t]=p.useState(void 0);return pt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,f=Array.isArray(c)?c[0]:c;s=f.inlineSize,a=f.blockSize}else s=n.offsetWidth,a=n.offsetHeight;t({width:s,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}const EC="Popper",[AC,Fi]=Ct(EC),[MI,RC]=AC(EC),PI=n=>{const{__scopePopper:e,children:t}=n,[r,i]=p.useState(null);return p.createElement(MI,{scope:e,anchor:r,onAnchorChange:i},t)},OI="PopperAnchor",DI=p.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,o=RC(OI,t),s=p.useRef(null),a=we(e,s);return p.useEffect(()=>{o.onAnchorChange(r?.current||s.current)}),r?null:p.createElement(me.div,H({},i,{ref:a}))}),TC="PopperContent",[II,_I]=AC(TC),LI=p.forwardRef((n,e)=>{var t,r,i,o,s,a,c,f;const{__scopePopper:h,side:d="bottom",sideOffset:m=0,align:b="center",alignOffset:x=0,arrowPadding:v=0,avoidCollisions:w=!0,collisionBoundary:$=[],collisionPadding:S=0,sticky:E="partial",hideWhenDetached:A=!1,updatePositionStrategy:T="optimized",onPlaced:O,...P}=n,L=RC(TC,h),[B,F]=p.useState(null),K=we(e,Ie=>F(Ie)),[z,ee]=p.useState(null),Z=Ef(z),re=(t=Z?.width)!==null&&t!==void 0?t:0,ue=(r=Z?.height)!==null&&r!==void 0?r:0,Q=d+(b!=="center"?"-"+b:""),ie=typeof S=="number"?S:{top:0,right:0,bottom:0,left:0,...S},q=Array.isArray($)?$:[$],le=q.length>0,he={padding:ie,boundary:q.filter(VI),altBoundary:le},{refs:Oe,floatingStyles:ve,placement:Ue,isPositioned:Ee,middlewareData:ze}=CC({strategy:"fixed",placement:Q,whileElementsMounted:(...Ie)=>yC(...Ie,{animationFrame:T==="always"}),elements:{reference:L.anchor},middleware:[$C({mainAxis:m+ue,alignmentAxis:x}),w&&SC({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?SI():void 0,...he}),w&&kC({...he}),kI({...he,apply:({elements:Ie,rects:Lt,availableWidth:gt,availableHeight:Do})=>{const{width:ta,height:lr}=Lt.reference,Pt=Ie.floating.style;Pt.setProperty("--radix-popper-available-width",`${gt}px`),Pt.setProperty("--radix-popper-available-height",`${Do}px`),Pt.setProperty("--radix-popper-anchor-width",`${ta}px`),Pt.setProperty("--radix-popper-anchor-height",`${lr}px`)}}),z&&AI({element:z,padding:v}),WI({arrowWidth:re,arrowHeight:ue}),A&&EI({strategy:"referenceHidden",...he})]}),[de,Ae]=MC(Ue),ke=St(O);pt(()=>{Ee&&ke?.()},[Ee,ke]);const _e=(i=ze.arrow)===null||i===void 0?void 0:i.x,Le=(o=ze.arrow)===null||o===void 0?void 0:o.y,te=((s=ze.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[at,Re]=p.useState();return pt(()=>{B&&Re(window.getComputedStyle(B).zIndex)},[B]),p.createElement("div",{ref:Oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:Ee?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(a=ze.transformOrigin)===null||a===void 0?void 0:a.x,(c=ze.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:n.dir},p.createElement(II,{scope:h,placedSide:de,onArrowChange:ee,arrowX:_e,arrowY:Le,shouldHideArrow:te},p.createElement(me.div,H({"data-side":de,"data-align":Ae},P,{ref:K,style:{...P.style,animation:Ee?void 0:"none",opacity:(f=ze.hide)!==null&&f!==void 0&&f.referenceHidden?0:void 0}}))))}),NI="PopperArrow",BI={top:"bottom",right:"left",bottom:"top",left:"right"},FI=p.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,o=_I(NI,r),s=BI[o.placedSide];return p.createElement("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0}},p.createElement(TI,H({},i,{ref:t,style:{...i.style,display:"block"}})))});function VI(n){return n!==null}const WI=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i,o,s;const{placement:a,rects:c,middlewareData:f}=e,d=((t=f.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,m=d?0:n.arrowWidth,b=d?0:n.arrowHeight,[x,v]=MC(a),w={start:"0%",center:"50%",end:"100%"}[v],$=((r=(i=f.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+m/2,S=((o=(s=f.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+b/2;let E="",A="";return x==="bottom"?(E=d?w:`${$}px`,A=`${-b}px`):x==="top"?(E=d?w:`${$}px`,A=`${c.floating.height+b}px`):x==="right"?(E=`${-b}px`,A=d?w:`${S}px`):x==="left"&&(E=`${c.floating.width+b}px`,A=d?w:`${S}px`),{data:{x:E,y:A}}}});function MC(n){const[e,t="center"]=n.split("-");return[e,t]}const Af=PI,ml=DI,gl=LI,zI=FI,zs=p.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=n;return r?P6.createPortal(p.createElement(me.div,H({},i,{ref:e})),r):null});function jI(n,e){return p.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const Mt=n=>{const{present:e,children:t}=n,r=HI(e),i=typeof t=="function"?t({present:r.isPresent}):p.Children.only(t),o=we(r.ref,i.ref);return typeof t=="function"||r.isPresent?p.cloneElement(i,{ref:o}):null};Mt.displayName="Presence";function HI(n){const[e,t]=p.useState(),r=p.useRef({}),i=p.useRef(n),o=p.useRef("none"),s=n?"mounted":"unmounted",[a,c]=jI(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const f=Ic(r.current);o.current=a==="mounted"?f:"none"},[a]),pt(()=>{const f=r.current,h=i.current;if(h!==n){const m=o.current,b=Ic(f);n?c("MOUNT"):b==="none"||f?.display==="none"?c("UNMOUNT"):c(h&&m!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),pt(()=>{if(e){const f=d=>{const b=Ic(r.current).includes(d.animationName);d.target===e&&b&&Ar.flushSync(()=>c("ANIMATION_END"))},h=d=>{d.target===e&&(o.current=Ic(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(f=>{f&&(r.current=getComputedStyle(f)),t(f)},[])}}function Ic(n){return n?.animationName||"none"}function Yt({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=UI({defaultProp:e,onChange:t}),o=n!==void 0,s=o?n:r,a=St(t),c=p.useCallback(f=>{if(o){const d=typeof f=="function"?f(n):f;d!==n&&a(d)}else i(f)},[o,n,i,a]);return[s,c]}function UI({defaultProp:n,onChange:e}){const t=p.useState(n),[r]=t,i=p.useRef(r),o=St(e);return p.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}const PC=p.forwardRef((n,e)=>p.createElement(me.span,H({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),KI=PC,[Rf,PX]=Ct("Tooltip",[Fi]),mg=Fi(),qI="TooltipProvider",Op="tooltip.open",[OX,gg]=Rf(qI),bg="Tooltip",[GI,bl]=Rf(bg),YI=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=n,c=gg(bg,n.__scopeTooltip),f=mg(e),[h,d]=p.useState(null),m=mn(),b=p.useRef(0),x=s??c.disableHoverableContent,v=a??c.delayDuration,w=p.useRef(!1),[$=!1,S]=Yt({prop:r,defaultProp:i,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(Op))):c.onClose(),o?.(P)}}),E=p.useMemo(()=>$?w.current?"delayed-open":"instant-open":"closed",[$]),A=p.useCallback(()=>{window.clearTimeout(b.current),w.current=!1,S(!0)},[S]),T=p.useCallback(()=>{window.clearTimeout(b.current),S(!1)},[S]),O=p.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,S(!0)},v)},[v,S]);return p.useEffect(()=>()=>window.clearTimeout(b.current),[]),p.createElement(Af,f,p.createElement(GI,{scope:e,contentId:m,open:$,stateAttribute:E,trigger:h,onTriggerChange:d,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayed?O():A()},[c.isOpenDelayed,O,A]),onTriggerLeave:p.useCallback(()=>{x?T():window.clearTimeout(b.current)},[T,x]),onOpen:A,onClose:T,disableHoverableContent:x},t))},B1="TooltipTrigger",XI=p.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=bl(B1,t),o=gg(B1,t),s=mg(t),a=p.useRef(null),c=we(e,a,i.onTriggerChange),f=p.useRef(!1),h=p.useRef(!1),d=p.useCallback(()=>f.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.createElement(ml,H({asChild:!0},s),p.createElement(me.button,H({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:c,onPointerMove:ne(n.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:ne(n.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:ne(n.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ne(n.onFocus,()=>{f.current||i.onOpen()}),onBlur:ne(n.onBlur,i.onClose),onClick:ne(n.onClick,i.onClose)})))}),OC="TooltipPortal",[ZI,QI]=Rf(OC,{forceMount:void 0}),JI=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:i}=n,o=bl(OC,e);return p.createElement(ZI,{scope:e,forceMount:t},p.createElement(Mt,{present:t||o.open},p.createElement(zs,{asChild:!0,container:i},r)))},Ua="TooltipContent",e4=p.forwardRef((n,e)=>{const t=QI(Ua,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...o}=n,s=bl(Ua,n.__scopeTooltip);return p.createElement(Mt,{present:r||s.open},s.disableHoverableContent?p.createElement(DC,H({side:i},o,{ref:e})):p.createElement(t4,H({side:i},o,{ref:e})))}),t4=p.forwardRef((n,e)=>{const t=bl(Ua,n.__scopeTooltip),r=gg(Ua,n.__scopeTooltip),i=p.useRef(null),o=we(e,i),[s,a]=p.useState(null),{trigger:c,onClose:f}=t,h=i.current,{onPointerInTransitChange:d}=r,m=p.useCallback(()=>{a(null),d(!1)},[d]),b=p.useCallback((x,v)=>{const w=x.currentTarget,$={x:x.clientX,y:x.clientY},S=r4($,w.getBoundingClientRect()),E=i4($,S),A=o4(v.getBoundingClientRect()),T=a4([...E,...A]);a(T),d(!0)},[d]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const x=w=>b(w,h),v=w=>b(w,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",v)}}},[c,h,b,m]),p.useEffect(()=>{if(s){const x=v=>{const w=v.target,$={x:v.clientX,y:v.clientY},S=c?.contains(w)||h?.contains(w),E=!s4($,s);S?m():E&&(m(),f())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,s,f,m]),p.createElement(DC,H({},n,{ref:o}))}),[n4,DX]=Rf(bg,{isInside:!1}),DC=p.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=n,c=bl(Ua,t),f=mg(t),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(Op,h),()=>document.removeEventListener(Op,h)),[h]),p.useEffect(()=>{if(c.trigger){const d=m=>{const b=m.target;b!=null&&b.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),p.createElement(Ro,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:h},p.createElement(gl,H({"data-state":c.stateAttribute},f,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),p.createElement(ag,null,r),p.createElement(n4,{scope:t,isInside:!0},p.createElement(KI,{id:c.contentId,role:"tooltip"},i||r))))});function r4(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,r,i,o)){case o:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function i4(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function o4(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function s4(n,e){const{x:t,y:r}=n;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,c=e[o].y,f=e[s].x,h=e[s].y;c>r!=h>r&&t<(f-a)*(r-c)/(h-c)+a&&(i=!i)}return i}function a4(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),l4(e)}function l4(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const IC=YI,_C=XI,LC=JI,NC=e4;let Pd=0;function js(){p.useEffect(()=>{var n,e;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(n=t[0])!==null&&n!==void 0?n:F1()),document.body.insertAdjacentElement("beforeend",(e=t[1])!==null&&e!==void 0?e:F1()),Pd++,()=>{Pd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Pd--}},[])}function F1(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",n}const Od="focusScope.autoFocusOnMount",Dd="focusScope.autoFocusOnUnmount",V1={bubbles:!1,cancelable:!0},Hs=p.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=n,[a,c]=p.useState(null),f=St(i),h=St(o),d=p.useRef(null),m=we(e,v=>c(v)),b=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(E){if(b.paused||!a)return;const A=E.target;a.contains(A)?d.current=A:xi(d.current,{select:!0})},w=function(E){if(b.paused||!a)return;const A=E.relatedTarget;A!==null&&(a.contains(A)||xi(d.current,{select:!0}))},$=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&xi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const S=new MutationObserver($);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),S.disconnect()}}},[r,a,b.paused]),p.useEffect(()=>{if(a){z1.add(b);const v=document.activeElement;if(!a.contains(v)){const $=new CustomEvent(Od,V1);a.addEventListener(Od,f),a.dispatchEvent($),$.defaultPrevented||(c4(p4(BC(a)),{select:!0}),document.activeElement===v&&xi(a))}return()=>{a.removeEventListener(Od,f),setTimeout(()=>{const $=new CustomEvent(Dd,V1);a.addEventListener(Dd,h),a.dispatchEvent($),$.defaultPrevented||xi(v??document.body,{select:!0}),a.removeEventListener(Dd,h),z1.remove(b)},0)}}},[a,f,h,b]);const x=p.useCallback(v=>{if(!t&&!r||b.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,$=document.activeElement;if(w&&$){const S=v.currentTarget,[E,A]=u4(S);E&&A?!v.shiftKey&&$===A?(v.preventDefault(),t&&xi(E,{select:!0})):v.shiftKey&&$===E&&(v.preventDefault(),t&&xi(A,{select:!0})):$===S&&v.preventDefault()}},[t,r,b.paused]);return p.createElement(me.div,H({tabIndex:-1},s,{ref:m,onKeyDown:x}))});function c4(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(xi(r,{select:e}),document.activeElement!==t)return}function u4(n){const e=BC(n),t=W1(e,n),r=W1(e.reverse(),n);return[t,r]}function BC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function W1(n,e){for(const t of n)if(!f4(t,{upTo:e}))return t}function f4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function h4(n){return n instanceof HTMLInputElement&&"select"in n}function xi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&h4(n)&&e&&n.select()}}const z1=d4();function d4(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=j1(n,e),n.unshift(e)},remove(e){var t;n=j1(n,e),(t=n[0])===null||t===void 0||t.resume()}}}function j1(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function p4(n){return n.filter(e=>e.tagName!=="A")}var m4=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Xo=new WeakMap,_c=new WeakMap,Lc={},Id=0,FC=function(n){return n&&(n.host||FC(n.parentNode))},g4=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=FC(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},b4=function(n,e,t,r){var i=g4(e,Array.isArray(n)?n:[n]);Lc[t]||(Lc[t]=new WeakMap);var o=Lc[t],s=[],a=new Set,c=new Set(i),f=function(d){!d||a.has(d)||(a.add(d),f(d.parentNode))};i.forEach(f);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(a.has(m))h(m);else try{var b=m.getAttribute(r),x=b!==null&&b!=="false",v=(Xo.get(m)||0)+1,w=(o.get(m)||0)+1;Xo.set(m,v),o.set(m,w),s.push(m),v===1&&x&&_c.set(m,!0),w===1&&m.setAttribute(t,"true"),x||m.setAttribute(r,"true")}catch($){console.error("aria-hidden: cannot operate on ",m,$)}})};return h(e),a.clear(),Id++,function(){s.forEach(function(d){var m=Xo.get(d)-1,b=o.get(d)-1;Xo.set(d,m),o.set(d,b),m||(_c.has(d)||d.removeAttribute(r),_c.delete(d)),b||d.removeAttribute(t)}),Id--,Id||(Xo=new WeakMap,Xo=new WeakMap,_c=new WeakMap,Lc={})}},vl=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=m4(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),b4(r,i,t,"aria-hidden")):function(){return null}},qe=function(){return qe=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},qe.apply(this,arguments)};function Vi(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function xl(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var Ai="right-scroll-bar-position",Ri="width-before-scroll-bar",v4="with-scroll-bars-hidden",x4="--removed-body-scroll-bar-size";function _d(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function y4(n,e){var t=p.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var w4=typeof window<"u"?p.useLayoutEffect:p.useEffect,H1=new WeakMap;function yl(n,e){var t=y4(null,function(r){return n.forEach(function(i){return _d(i,r)})});return w4(function(){var r=H1.get(t);if(r){var i=new Set(r),o=new Set(n),s=t.current;i.forEach(function(a){o.has(a)||_d(a,null)}),o.forEach(function(a){i.has(a)||_d(a,s)})}H1.set(t,n)},[n]),t}function C4(n){return n}function $4(n,e){e===void 0&&(e=C4);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var s=e(o,r);return t.push(s),function(){t=t.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;t.length;){var s=t;t=[],s.forEach(o)}t={push:function(a){return o(a)},filter:function(){return t}}},assignMedium:function(o){r=!0;var s=[];if(t.length){var a=t;t=[],a.forEach(o),s=t}var c=function(){var h=s;s=[],h.forEach(o)},f=function(){return Promise.resolve().then(c)};f(),t={push:function(h){s.push(h),f()},filter:function(h){return s=s.filter(h),t}}}};return i}function wl(n){n===void 0&&(n={});var e=$4(null);return e.options=qe({async:!0,ssr:!1},n),e}var VC=function(n){var e=n.sideCar,t=Vi(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,qe({},t))};VC.isSideCarExport=!0;function Cl(n,e){return n.useMedium(e),VC}var WC=wl(),Ld=function(){},Tf=p.forwardRef(function(n,e){var t=p.useRef(null),r=p.useState({onScrollCapture:Ld,onWheelCapture:Ld,onTouchMoveCapture:Ld}),i=r[0],o=r[1],s=n.forwardProps,a=n.children,c=n.className,f=n.removeScrollBar,h=n.enabled,d=n.shards,m=n.sideCar,b=n.noIsolation,x=n.inert,v=n.allowPinchZoom,w=n.as,$=w===void 0?"div":w,S=n.gapMode,E=Vi(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,T=yl([t,e]),O=qe(qe({},E),i);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:WC,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:t,gapMode:S}),s?p.cloneElement(p.Children.only(a),qe(qe({},O),{ref:T})):p.createElement($,qe({},O,{className:c,ref:T}),a))});Tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tf.classNames={fullWidth:Ri,zeroRight:Ai};var S4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k4(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=S4();return e&&n.setAttribute("nonce",e),n}function E4(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function A4(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var R4=function(){var n=0,e=null;return{add:function(t){n==0&&(e=k4())&&(E4(e,t),A4(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},T4=function(){var n=R4();return function(e,t){p.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Us=function(){var n=T4(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},M4={left:0,top:0,right:0,gap:0},Nd=function(n){return parseInt(n||"",10)||0},P4=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Nd(t),Nd(r),Nd(i)]},O4=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return M4;var e=P4(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},D4=Us(),gs="data-scroll-locked",I4=function(n,e,t,r){var i=n.left,o=n.top,s=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(v4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(gs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ai,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ri,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ai," .").concat(Ai,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ri," .").concat(Ri,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gs,`] {
    `).concat(x4,": ").concat(a,`px;
  }
`)},U1=function(){var n=parseInt(document.body.getAttribute(gs)||"0",10);return isFinite(n)?n:0},_4=function(){p.useEffect(function(){return document.body.setAttribute(gs,(U1()+1).toString()),function(){var n=U1()-1;n<=0?document.body.removeAttribute(gs):document.body.setAttribute(gs,n.toString())}},[])},$l=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;_4();var o=p.useMemo(function(){return O4(i)},[i]);return p.createElement(D4,{styles:I4(o,!e,i,t?"":"!important")})},Dp=!1;if(typeof window<"u")try{var Nc=Object.defineProperty({},"passive",{get:function(){return Dp=!0,!0}});window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{Dp=!1}var Zo=Dp?{passive:!1}:!1,L4=function(n){return n.tagName==="TEXTAREA"},zC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!L4(n)&&t[e]==="visible")},N4=function(n){return zC(n,"overflowY")},B4=function(n){return zC(n,"overflowX")},K1=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=jC(n,r);if(i){var o=HC(n,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},F4=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},V4=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},jC=function(n,e){return n==="v"?N4(e):B4(e)},HC=function(n,e){return n==="v"?F4(e):V4(e)},W4=function(n,e){return n==="h"&&e==="rtl"?-1:1},z4=function(n,e,t,r,i){var o=W4(n,window.getComputedStyle(e).direction),s=o*r,a=t.target,c=e.contains(a),f=!1,h=s>0,d=0,m=0;do{var b=HC(n,a),x=b[0],v=b[1],w=b[2],$=v-w-o*x;(x||$)&&jC(n,a)&&(d+=$,m+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(d)<1||!h&&Math.abs(m)<1)&&(f=!0),f},Bc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},q1=function(n){return[n.deltaX,n.deltaY]},G1=function(n){return n&&"current"in n?n.current:n},j4=function(n,e){return n[0]===e[0]&&n[1]===e[1]},H4=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},U4=0,Qo=[];function K4(n){var e=p.useRef([]),t=p.useRef([0,0]),r=p.useRef(),i=p.useState(U4++)[0],o=p.useState(Us)[0],s=p.useRef(n);p.useEffect(function(){s.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var v=xl([n.lockRef.current],(n.shards||[]).map(G1),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var $=Bc(v),S=t.current,E="deltaX"in v?v.deltaX:S[0]-$[0],A="deltaY"in v?v.deltaY:S[1]-$[1],T,O=v.target,P=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in v&&P==="h"&&O.type==="range")return!1;var L=K1(P,O);if(!L)return!0;if(L?T=P:(T=P==="v"?"h":"v",L=K1(P,O)),!L)return!1;if(!r.current&&"changedTouches"in v&&(E||A)&&(r.current=T),!T)return!0;var B=r.current||T;return z4(B,w,v,B==="h"?E:A)},[]),c=p.useCallback(function(v){var w=v;if(!(!Qo.length||Qo[Qo.length-1]!==o)){var $="deltaY"in w?q1(w):Bc(w),S=e.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&j4(T.delta,$)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var E=(s.current.shards||[]).map(G1).filter(Boolean).filter(function(T){return T.contains(w.target)}),A=E.length>0?a(w,E[0]):!s.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,$,S){var E={name:v,delta:w,target:$,should:S,shadowParent:q4($)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),h=p.useCallback(function(v){t.current=Bc(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,q1(v),v.target,a(v,n.lockRef.current))},[]),m=p.useCallback(function(v){f(v.type,Bc(v),v.target,a(v,n.lockRef.current))},[]);p.useEffect(function(){return Qo.push(o),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Zo),document.addEventListener("touchmove",c,Zo),document.addEventListener("touchstart",h,Zo),function(){Qo=Qo.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Zo),document.removeEventListener("touchmove",c,Zo),document.removeEventListener("touchstart",h,Zo)}},[]);var b=n.removeScrollBar,x=n.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:H4(i)}):null,b?p.createElement($l,{gapMode:n.gapMode}):null)}function q4(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const G4=Cl(WC,K4);var vg=p.forwardRef(function(n,e){return p.createElement(Tf,qe({},n,{ref:e,sideCar:G4}))});vg.classNames=Tf.classNames;function Jo(n,e,t){let r=t.initialDeps??[],i,o=!0;function s(){var a,c,f;let h;t.key&&((a=t.debug)!=null&&a.call(t))&&(h=Date.now());const d=n();if(!(d.length!==r.length||d.some((x,v)=>r[v]!==x)))return i;r=d;let b;if(t.key&&((c=t.debug)!=null&&c.call(t))&&(b=Date.now()),i=e(...d),t.key&&((f=t.debug)!=null&&f.call(t))){const x=Math.round((Date.now()-h)*100)/100,v=Math.round((Date.now()-b)*100)/100,w=v/16,$=(S,E)=>{for(S=String(S);S.length<E;)S=" "+S;return S};console.info(`%c⏱ ${$(v,5)} /${$(x,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,t?.key)}return t?.onChange&&!(o&&t.skipInitialOnChange)&&t.onChange(i),o=!1,i}return s.updateDeps=a=>{r=a},s}function Y1(n,e){if(n===void 0)throw new Error("Unexpected undefined");return n}const Y4=(n,e)=>Math.abs(n-e)<1.01,X4=(n,e,t)=>{let r;return function(...i){n.clearTimeout(r),r=n.setTimeout(()=>e.apply(this,i),t)}},X1=n=>{const{offsetWidth:e,offsetHeight:t}=n;return{width:e,height:t}},Z4=n=>n,Q4=n=>{const e=Math.max(n.startIndex-n.overscan,0),t=Math.min(n.endIndex+n.overscan,n.count-1),r=[];for(let i=e;i<=t;i++)r.push(i);return r},J4=(n,e)=>{const t=n.scrollElement;if(!t)return;const r=n.targetWindow;if(!r)return;const i=s=>{const{width:a,height:c}=s;e({width:Math.round(a),height:Math.round(c)})};if(i(X1(t)),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=()=>{const c=s[0];if(c?.borderBoxSize){const f=c.borderBoxSize[0];if(f){i({width:f.inlineSize,height:f.blockSize});return}}i(X1(t))};n.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return o.observe(t,{box:"border-box"}),()=>{o.unobserve(t)}},Z1={passive:!0},Q1=typeof window>"u"?!0:"onscrollend"in window,e7=(n,e)=>{const t=n.scrollElement;if(!t)return;const r=n.targetWindow;if(!r)return;let i=0;const o=n.options.useScrollendEvent&&Q1?()=>{}:X4(r,()=>{e(i,!1)},n.options.isScrollingResetDelay),s=h=>()=>{const{horizontal:d,isRtl:m}=n.options;i=d?t.scrollLeft*(m&&-1||1):t.scrollTop,o(),e(i,h)},a=s(!0),c=s(!1);c(),t.addEventListener("scroll",a,Z1);const f=n.options.useScrollendEvent&&Q1;return f&&t.addEventListener("scrollend",c,Z1),()=>{t.removeEventListener("scroll",a),f&&t.removeEventListener("scrollend",c)}},t7=(n,e,t)=>{if(e?.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[t.options.horizontal?"inlineSize":"blockSize"])}return n[t.options.horizontal?"offsetWidth":"offsetHeight"]},n7=(n,{adjustments:e=0,behavior:t},r)=>{var i,o;const s=n+e;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:t})};let r7=class{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const r=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{const s=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),t=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([r,i])=>{typeof i>"u"&&delete t[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Z4,rangeExtractor:Q4,onChange:()=>{},measureElement:t7,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,t)},this.maybeNotify=Jo(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:"maybeNotify",debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=t[s];if(i.has(a.lane))continue;const c=o.get(a.lane);if(c==null||a.end>c.end?o.set(a.lane,a):a.end<c.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=Jo(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(t,r,i,o,s,a)=>(this.prevLanes!==void 0&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s,lanes:a}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Jo(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s,lanes:a},c)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>t)for(const m of this.laneAssignments.keys())m>=t&&this.laneAssignments.delete(m);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(m=>{this.itemSizeCache.set(m.key,m.size)}));const f=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===t&&(this.lanesSettling=!1);const h=this.measurementsCache.slice(0,f),d=new Array(a).fill(void 0);for(let m=0;m<f;m++){const b=h[m];b&&(d[b.lane]=m)}for(let m=f;m<t;m++){const b=o(m),x=this.laneAssignments.get(m);let v,w;if(x!==void 0&&this.options.lanes>1){v=x;const A=d[v],T=A!==void 0?h[A]:void 0;w=T?T.end+this.options.gap:r+i}else{const A=this.options.lanes===1?h[m-1]:this.getFurthestMeasurement(h,m);w=A?A.end+this.options.gap:r+i,v=A?A.lane:m%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(m,v)}const $=c.get(b),S=typeof $=="number"?$:this.options.estimateSize(m),E=w+S;h[m]={index:m,start:w,size:S,end:E,key:b,lane:v},d[v]=m}return this.measurementsCache=h,h},{key:"getMeasurements",debug:()=>this.options.debug}),this.calculateRange=Jo(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,r,i,o)=>this.range=t.length>0&&r>0?i7({measurements:t,outerSize:r,scrollOffset:i,lanes:o}):null,{key:"calculateRange",debug:()=>this.options.debug}),this.getVirtualIndexes=Jo(()=>{let t=null,r=null;const i=this.calculateRange();return i&&(t=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,r]},(t,r,i,o,s)=>o===null||s===null?[]:t({startIndex:o,endIndex:s,overscan:r,count:i}),{key:"getVirtualIndexes",debug:()=>this.options.debug}),this.indexFromElement=t=>{const r=this.options.indexAttribute,i=t.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(t,r)=>{const i=this.indexFromElement(t),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==t&&(a&&this.observer.unobserve(a),this.observer.observe(t),this.elementsCache.set(s,t)),t.isConnected&&this.resizeItem(i,this.options.measureElement(t,r,this))},this.resizeItem=(t,r)=>{const i=this.measurementsCache[t];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&(this.options.debug&&console.info("correction",s),this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0})),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(t,void 0)},this.getVirtualItems=Jo(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,r)=>{const i=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],c=r[a];i.push(c)}return i},{key:"getVirtualItems",debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const r=this.getMeasurements();if(r.length!==0)return Y1(r[UC(0,r.length-1,i=>Y1(r[i]).start,t)])},this.getOffsetForAlignment=(t,r,i=0)=>{const o=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=t>=s+o?"end":"start"),r==="center"?t+=(i-o)/2:r==="end"&&(t-=o);const a=this.getTotalSize()+this.options.scrollMargin-o;return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,r="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const i=this.measurementsCache[t];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(t,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let o=0;const s=10,a=f=>{if(!this.targetWindow)return;const h=this.getOffsetForIndex(t,f);if(!h){console.warn("Failed to get offset for index:",t);return}const[d,m]=h;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const b=this.getScrollOffset(),x=this.getOffsetForIndex(t,m);if(!x){console.warn("Failed to get offset for index:",t);return}Y4(x[0],b)||c(m)})},c=f=>{this.targetWindow&&(o++,o<s?(this.options.debug&&console.info("Schedule retry",o,s),this.targetWindow.requestAnimationFrame(()=>a(f))):console.warn(`Failed to scroll to index ${t} after ${s} attempts.`))};a(r)},this.scrollBy=(t,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var t;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((t=r[r.length-1])==null?void 0:t.end)??0;else{const o=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&o.some(a=>a===null);){const a=r[s];o[a.lane]===null&&(o[a.lane]=a.end),s--}i=Math.max(...o.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:r,behavior:i})=>{this.options.scrollToFn(t,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}};const UC=(n,e,t,r)=>{for(;n<=e;){const i=(n+e)/2|0,o=t(i);if(o<r)n=i+1;else if(o>r)e=i-1;else return i}return n>0?n-1:0};function i7({measurements:n,outerSize:e,scrollOffset:t,lanes:r}){const i=n.length-1,o=c=>n[c].start;if(n.length<=r)return{startIndex:0,endIndex:i};let s=UC(0,i,o,t),a=s;if(r===1)for(;a<i&&n[a].end<t+e;)a++;else if(r>1){const c=Array(r).fill(0);for(;a<i&&c.some(h=>h<t+e);){const h=n[a];c[h.lane]=h.end,a++}const f=Array(r).fill(t+e);for(;s>=0&&f.some(h=>h>=t);){const h=n[s];f[h.lane]=h.start,s--}s=Math.max(0,s-s%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:s,endIndex:a}}const J1=typeof document<"u"?p.useLayoutEffect:p.useEffect;function o7(n){const e=p.useReducer(()=>({}),{})[1],t={...n,onChange:(i,o)=>{var s;o?Ar.flushSync(e):e(),(s=n.onChange)==null||s.call(n,i,o)}},[r]=p.useState(()=>new r7(t));return r.setOptions(t),J1(()=>r._didMount(),[]),J1(()=>r._willUpdate()),r}function s7(n){return o7({observeElementRect:J4,observeElementOffset:e7,scrollToFn:n7,...n})}function Ip(n,[e,t]){return Math.min(t,Math.max(e,n))}function Mf(n){const e=n+"CollectionProvider",[t,r]=Ct(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:x,children:v}=b,w=Ve.useRef(null),$=Ve.useRef(new Map).current;return Ve.createElement(i,{scope:x,itemMap:$,collectionRef:w},v)},a=n+"CollectionSlot",c=Ve.forwardRef((b,x)=>{const{scope:v,children:w}=b,$=o(a,v),S=we(x,$.collectionRef);return Ve.createElement(Sr,{ref:S},w)}),f=n+"CollectionItemSlot",h="data-radix-collection-item",d=Ve.forwardRef((b,x)=>{const{scope:v,children:w,...$}=b,S=Ve.useRef(null),E=we(x,S),A=o(f,v);return Ve.useEffect(()=>(A.itemMap.set(S,{ref:S,...$}),()=>void A.itemMap.delete(S))),Ve.createElement(Sr,{[h]:"",ref:E},w)});function m(b){const x=o(n+"CollectionConsumer",b);return Ve.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const $=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((A,T)=>$.indexOf(A.ref.current)-$.indexOf(T.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:d},m,r]}const a7=p.createContext(void 0);function To(n){const e=p.useContext(a7);return n||e||"ltr"}function Pf(n){const e=p.useRef({value:n,previous:n});return p.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function l7(n){const e=`${n}CollectionProvider`,[t,r]=Ct(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map,listeners:new Set}),s=b=>{const{scope:x,children:v}=b,w=p.useRef(null),$=p.useRef(new Map).current,S=p.useRef(new Set).current;return C.jsx(i,{scope:x,itemMap:$,collectionRef:w,listeners:S,children:v})};s.displayName=e;const a=`${n}CollectionSlot`,c=p.forwardRef((b,x)=>{const{scope:v,children:w}=b,$=o(a,v),S=we(x,$.collectionRef);return C.jsx(Sr,{ref:S,children:w})});c.displayName=a;const f=`${n}CollectionItemSlot`,h="data-radix-collection-item",d=p.forwardRef((b,x)=>{const{scope:v,children:w,...$}=b,S=p.useRef(null),E=we(x,S),A=o(f,v);return p.useEffect(()=>{const T=Array.from(A.itemMap.values());return A.itemMap.set(S,{ref:S,...$}),A.listeners.forEach(O=>O(Array.from(A.itemMap.values()),T)),()=>{const O=Array.from(A.itemMap.values());A.itemMap.delete(S),A.listeners.forEach(P=>P(Array.from(A.itemMap.values()),O))}}),C.jsx(Sr,{[h]:"",ref:E,children:w})});d.displayName=f;function m(b){const x=o(`${n}CollectionConsumer`,b),v=p.useCallback(()=>{const $=x.collectionRef.current;if(!$)return[];const S=Array.from($.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((T,O)=>S.indexOf(T.ref.current)-S.indexOf(O.ref.current))},[x.collectionRef,x.itemMap]),w=p.useCallback($=>(x.listeners.add($),()=>x.listeners.delete($)),[x.listeners]);return{getItems:v,subscribe:w}}return[{Provider:s,Slot:c,ItemSlot:d},m,r]}const Bd=new Map;function c7(n,e){const t=n+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():"");if(Bd.has(t))return Bd.get(t);const r=new Intl.Collator(n,e);return Bd.set(t,r),r}function xg(n,e){const t=c7(n,{usage:"search",...e});return{startsWith(r,i){return i.length===0?!0:(r=r.normalize("NFC"),i=i.normalize("NFC"),t.compare(r.slice(0,i.length),i)===0)},endsWith(r,i){return i.length===0?!0:(r=r.normalize("NFC"),i=i.normalize("NFC"),t.compare(r.slice(-i.length),i)===0)},contains(r,i){if(i.length===0)return!0;r=r.normalize("NFC"),i=i.normalize("NFC");let o=0;const s=i.length;for(;o+s<=r.length;o++){const a=r.slice(o,o+s);if(t.compare(i,a)===0)return!0}return!1}}}const u7=n=>{const e=p.useRef();return p.useEffect(()=>{e.current=n}),e.current},KC=p.forwardRef(({children:n,estimatedItemSize:e=40,overscan:t=5,getItemCount:r,onViewportChange:i,...o},s)=>{const a=p.useRef(null),c=we(s,a,i),f=p.useMemo(()=>p.Children.toArray(n),[n]),h=s7({count:r(),getScrollElement:()=>a.current,estimateSize:()=>e,overscan:t}),d=h.getVirtualItems();return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-combobox-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-combobox-viewport]::-webkit-scrollbar{display:none}"}}),C.jsx(me.div,{"data-radix-combobox-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"auto",...o.style},children:C.jsx("div",{style:{height:`${h.getTotalSize()}px`,width:"100%",position:"relative"},children:d.map(m=>{const b=f[m.index];return C.jsx("div",{"data-index":m.index,ref:h.measureElement,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${m.start}px)`},children:b},m.key)})})})]})});KC.displayName="VirtualizedViewport";const f7=[" ","Enter","ArrowUp","ArrowDown"],h7=["Enter"],d7=n=>!!(n.length===1&&n.match(/\S| /)),qC="Combobox",[yo,Sl]=l7(qC),[p7,Tr]=sg(qC),m7=({children:n})=>C.jsx(Af,{children:C.jsx(yo.Provider,{scope:void 0,children:n})}),g7=n=>typeof n=="string"?n==="none"?{type:n,filter:void 0}:{type:n,filter:"startsWith"}:n,b7=n=>{const{allowCustomValue:e=!1,autocomplete:t="none",children:r,open:i,defaultOpen:o,onOpenChange:s,value:a,defaultValue:c,onValueChange:f,disabled:h,required:d=!1,locale:m="en-EN",onTextValueChange:b,textValue:x,defaultTextValue:v,filterValue:w,defaultFilterValue:$,onFilterValueChange:S,isPrintableCharacter:E=d7,visible:A=!1,virtualized:T="auto",estimatedItemSize:O=40,overscan:P=5}=n,[L,B]=p.useState(null),[F,K]=p.useState(null),[z,ee]=p.useState(null),[Z,re]=p.useState(null),[ue=!1,Q]=Yt({prop:i,defaultProp:o,onChange:s}),[ie,q]=Yt({prop:a,defaultProp:c,onChange:f}),[le,he]=Yt({prop:x,defaultProp:e&&!v?a:v,onChange:b}),[Oe,ve]=Yt({prop:w,defaultProp:$,onChange:S}),Ue=mn(),Ee=p.useCallback((de,Ae)=>{const ke=Ae.map(Re=>Re.ref.current),[_e,...Le]=ke,[te]=Le.slice(-1),at=Z??Ae.find(Re=>Re.value===ie)?.ref.current;for(const Re of de){if(Re===at)return;if(Re?.scrollIntoView({block:"nearest"}),Re===_e&&F&&(F.scrollTop=0),Re===te&&F&&(F.scrollTop=F.scrollHeight),re(Re),t==="both"){const Ie=Ae.find(Lt=>Lt.ref.current===Re);Ie&&he(Ie.textValue)}if(Re!==at)return}},[t,he,F,Z,ie]),ze=g7(t);return p.useEffect(()=>{t!=="both"&&re(null)},[le,t]),p.useEffect(()=>{if(z&&L)return vl([z,L])},[z,L]),C.jsx(m7,{children:C.jsx(p7,{allowCustomValue:e,autocomplete:ze,required:d,trigger:L,onTriggerChange:B,contentId:Ue,value:ie,onValueChange:q,open:ue,onOpenChange:Q,disabled:h,locale:m,focusFirst:Ee,textValue:le,onTextValueChange:he,onViewportChange:K,onContentChange:ee,visuallyFocussedItem:Z,filterValue:Oe,onFilterValueChange:ve,onVisuallyFocussedItemChange:re,isPrintableCharacter:E,visible:A,virtualized:T,estimatedItemSize:O,overscan:P,children:r})})},GC="ComboboxTrigger",YC=p.forwardRef((n,e)=>{const{...t}=n,r=Tr(GC),i=()=>{r.disabled||r.onOpenChange(!0)};return C.jsx(ml,{asChild:!0,children:C.jsx(Hs,{asChild:!0,trapped:r.open,onMountAutoFocus:o=>{o.preventDefault()},onUnmountAutoFocus:o=>{r.trigger?.focus({preventScroll:!0}),document.getSelection()?.empty(),o.preventDefault()},children:C.jsx("div",{ref:e,"data-disabled":r.disabled?"":void 0,...t,onClick:ne(t.onClick,o=>{if(r.disabled){o.preventDefault();return}r.trigger?.focus()}),onPointerDown:ne(t.onPointerDown,o=>{if(r.disabled){o.preventDefault();return}const s=o.target;s.hasPointerCapture(o.pointerId)&&s.releasePointerCapture(o.pointerId),(s.closest("button")??s.closest("div"))===o.currentTarget&&o.button===0&&o.ctrlKey===!1&&(i(),r.trigger?.focus())})})})})});YC.displayName=GC;const XC="ComboboxInput",ZC=p.forwardRef((n,e)=>{const t=Tr(XC),r=p.useRef(null),{getItems:i}=Sl(void 0),{startsWith:o}=xg(t.locale,{sensitivity:"base"}),s=t.disabled,a=we(r,e,t.onTriggerChange),c=()=>{s||t.onOpenChange(!0)},f=u7(t.filterValue);return pt(()=>{const h=setTimeout(()=>{if(t.textValue===""||t.textValue===void 0||t.filterValue===""||t.filterValue===void 0)return;const d=i().find(b=>b.type==="option"&&o(b.textValue,t.textValue)),m=O7(f??"",t.filterValue);d&&!t.visuallyFocussedItem&&m===t.filterValue.length&&r.current?.setSelectionRange(t.filterValue.length,t.textValue.length)});return()=>clearTimeout(h)},[t.textValue,t.filterValue,o,t.visuallyFocussedItem,i,f]),C.jsx("input",{type:"text",role:"combobox","aria-controls":t.contentId,"aria-expanded":t.open,"aria-required":t.required,"aria-autocomplete":t.autocomplete.type,"data-state":t.open?"open":"closed","aria-disabled":s,"aria-activedescendant":t.visuallyFocussedItem?.id,disabled:s,"data-disabled":s?"":void 0,"data-placeholder":t.textValue===void 0?"":void 0,value:t.textValue??"",...n,ref:a,onKeyDown:ne(n.onKeyDown,h=>{if(["ArrowUp","ArrowDown","Home","End"].includes(h.key))t.open||c(),setTimeout(()=>{let m=i().filter(b=>!b.disabled&&b.isVisible).map(b=>b.ref.current);if(["ArrowUp","End"].includes(h.key)&&(m=m.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const b=t.visuallyFocussedItem??i().find(x=>x.value===t.value)?.ref.current;if(b){let x=m.indexOf(b);x===m.length-1&&(x=-1),m=m.slice(x+1)}}if(["ArrowDown"].includes(h.key)&&t.autocomplete.type==="both"&&m.length>1){const[b,...x]=m,v=i().find(w=>w.ref.current===b).textValue;t.textValue===v&&(m=x)}t.focusFirst(m,i())}),h.preventDefault();else if(["Tab"].includes(h.key)&&t.open)h.preventDefault();else if(["Escape"].includes(h.key))t.open?t.onOpenChange(!1):(t.onValueChange(void 0),t.onTextValueChange("")),h.preventDefault();else if(h7.includes(h.key)){if(t.visuallyFocussedItem){const d=i().find(m=>m.ref.current===t.visuallyFocussedItem);d&&(t.onValueChange(d.value),t.onTextValueChange(d.textValue),t.autocomplete.type==="both"&&t.onFilterValueChange(d.textValue),d.ref.current?.click())}else{const d=i().find(m=>m.type==="option"&&!m.disabled&&m.textValue===t.textValue);d&&(t.onValueChange(d.value),t.onTextValueChange(d.textValue),t.autocomplete.type==="both"&&t.onFilterValueChange(d.textValue),d.ref.current?.click())}t.onOpenChange(!1),h.preventDefault()}else t.onVisuallyFocussedItemChange(null)}),onChange:ne(n.onChange,h=>{t.onTextValueChange(h.currentTarget.value),t.autocomplete.type==="both"&&t.onFilterValueChange(h.currentTarget.value)}),onKeyUp:ne(n.onKeyUp,h=>{if(!t.open&&(t.isPrintableCharacter(h.key)||["Backspace"].includes(h.key))&&c(),setTimeout(()=>{if(t.autocomplete.type==="both"&&t.isPrintableCharacter(h.key)&&t.filterValue!==void 0){const d=t.filterValue,m=i().find(b=>o(b.textValue,d));m&&t.onTextValueChange(m.textValue)}}),t.autocomplete.type==="none"&&t.isPrintableCharacter(h.key)){const d=t.textValue??"",m=i().find(b=>o(b.textValue,d));m&&(t.onVisuallyFocussedItemChange(m.ref.current),m.ref.current?.scrollIntoView())}}),onBlur:ne(n.onBlur,()=>{if(t.open)return;t.onVisuallyFocussedItemChange(null);const[h]=i().filter(m=>m.textValue===t.textValue&&m.type==="option");if(h){t.onValueChange(h.value),t.autocomplete.type==="both"&&t.onFilterValueChange(h.textValue);return}if(t.allowCustomValue){t.onValueChange(t.textValue),t.autocomplete.type==="both"&&t.onFilterValueChange(t.textValue);return}const[d]=i().filter(m=>m.value===t.value&&m.type==="option");d&&t.textValue!==""?(t.onTextValueChange(d.textValue),t.autocomplete.type==="both"&&t.onFilterValueChange(d.textValue)):(t.onValueChange(void 0),t.onTextValueChange(""))})})});ZC.displayName="ComboboxTextInput";const QC=p.forwardRef((n,e)=>{const{children:t,...r}=n,i=Tr(XC),o=i.disabled,s=()=>{o||(i.onOpenChange(!0),i.trigger?.focus())};return C.jsx(me.button,{"aria-hidden":!0,type:"button","aria-disabled":o,"aria-controls":i.contentId,"aria-expanded":i.open,disabled:o,"data-disabled":o?"":void 0,...r,tabIndex:-1,ref:e,onClick:ne(r.onClick,()=>{i.trigger?.focus()}),onPointerDown:ne(r.onPointerDown,a=>{a.button===0&&a.ctrlKey===!1&&(s(),a.preventDefault())}),onKeyDown:ne(r.onKeyDown,a=>{f7.includes(a.key)&&(s(),a.preventDefault())}),children:t||"▼"})});QC.displayName="ComboboxIcon";const v7="ComboboxPortal",JC=n=>C.jsx(zs,{asChild:!0,...n});JC.displayName=v7;const yg="ComboboxContent",e$=p.forwardRef((n,e)=>{const t=Tr(yg),{getItems:r}=Sl(void 0),[i,o]=p.useState();if(pt(()=>{o(new DocumentFragment)},[]),pt(()=>{t.open&&t.autocomplete.type==="none"&&setTimeout(()=>{r().find(a=>a.value===t.value)?.ref.current?.scrollIntoView({block:"nearest"})})},[r,t.autocomplete,t.value,t.open]),!t.open){const s=i;return s?Ar.createPortal(C.jsx(yo.Slot,{scope:void 0,children:C.jsx("div",{children:n.children})}),s):null}return C.jsx(t$,{...n,ref:e})});e$.displayName=yg;const x7=10,t$=p.forwardRef((n,e)=>{const{onEscapeKeyDown:t,onPointerDownOutside:r,...i}=n,o=Tr(yg),s=we(e,c=>o.onContentChange(c)),{onOpenChange:a}=o;return js(),p.useEffect(()=>{const c=()=>{a(!1)};return window.addEventListener("blur",c),window.addEventListener("resize",c),()=>{window.removeEventListener("blur",c),window.removeEventListener("resize",c)}},[a]),C.jsx(vg,{allowPinchZoom:!0,children:C.jsx(Ro,{asChild:!0,onEscapeKeyDown:t,onPointerDownOutside:r,onFocusOutside:c=>{c.preventDefault()},onDismiss:()=>{o.onOpenChange(!1),o.trigger?.focus({preventScroll:!0})},children:C.jsx(n$,{role:"listbox",id:o.contentId,"data-state":o.open?"open":"closed",onContextMenu:c=>c.preventDefault(),...i,ref:s,style:{display:"flex",flexDirection:"column",outline:"none",...i.style}})})})});t$.displayName="ComboboxContentImpl";const n$=p.forwardRef((n,e)=>{const{align:t="start",collisionPadding:r=x7,...i}=n;return C.jsx(gl,{...i,ref:e,align:t,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-combobox-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-combobox-content-available-width":"var(--radix-popper-available-width)","--radix-combobox-content-available-height":"var(--radix-popper-available-height)","--radix-combobox-trigger-width":"var(--radix-popper-anchor-width)","--radix-combobox-trigger-height":"var(--radix-popper-anchor-height)"}})});n$.displayName="ComboboxPopperPosition";const r$="ComboboxViewport",i$=p.forwardRef((n,e)=>{const t=Tr(r$),r=we(e,t.onViewportChange),o=p.useMemo(()=>p.Children.toArray(n.children),[n.children]).length;return t.virtualized===!0||t.virtualized==="auto"&&o>100?C.jsx(yo.Slot,{scope:void 0,children:C.jsx(KC,{...n,ref:r,getItemCount:()=>o,estimatedItemSize:t.estimatedItemSize,overscan:t.overscan,onViewportChange:t.onViewportChange})}):C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-combobox-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-combobox-viewport]::-webkit-scrollbar{display:none}"}}),C.jsx(yo.Slot,{scope:void 0,children:C.jsx(me.div,{"data-radix-combobox-viewport":"",role:"presentation",...n,ref:r,style:{position:"relative",flex:1,overflow:"auto",...n.style}})})]})});i$.displayName=r$;const Of="ComboboxItem",[ex,wg]=sg(Of),Cg=p.forwardRef((n,e)=>{const{value:t,disabled:r=!1,textValue:i,...o}=n,[s,a]=p.useState();pt(()=>{a(new DocumentFragment)},[]);const{onTextValueChange:c,textValue:f,...h}=Tr(Of),d=mn(),[m,b]=p.useState(i??""),x=h.value===t,{startsWith:v,contains:w}=xg(h.locale,{sensitivity:"base"}),$=p.useCallback(S=>{b(E=>E||(S?.textContent??"").trim())},[]);return p.useEffect(()=>{x&&f===void 0&&m!==""&&c(m)},[m,x,f,c]),h.autocomplete.type==="both"&&m&&h.filterValue&&!v(m,h.filterValue)||h.autocomplete.type==="list"&&h.autocomplete.filter==="startsWith"&&m&&f&&!v(m,f)||h.autocomplete.type==="list"&&h.autocomplete.filter==="contains"&&m&&f&&!w(m,f)?s?Ar.createPortal(C.jsx(ex,{textId:d,onTextValueChange:$,isSelected:x,textValue:m,children:C.jsx(yo.ItemSlot,{scope:void 0,value:t,textValue:m,disabled:r,type:"option",isVisible:!1,children:C.jsx(_p,{ref:e,value:t,disabled:r,...o})})}),s):null:C.jsx(ex,{textId:d,onTextValueChange:$,isSelected:x,textValue:m,children:C.jsx(yo.ItemSlot,{scope:void 0,value:t,textValue:m,disabled:r,type:"option",isVisible:!0,children:C.jsx(_p,{ref:e,value:t,disabled:r,...o})})})});Cg.displayName=Of;const o$="ComboboxItemImpl",_p=p.forwardRef((n,e)=>{const{value:t,disabled:r=!1,...i}=n,o=p.useRef(null),s=we(e,o),{getItems:a}=Sl(void 0),{onTextValueChange:c,visuallyFocussedItem:f,...h}=Tr(Of),{isSelected:d,textValue:m,textId:b}=wg(o$),x=()=>{r||(h.onValueChange(t),c(m),h.onOpenChange(!1),h.autocomplete.type==="both"&&h.onFilterValueChange(m),h.trigger?.focus({preventScroll:!0}))},v=p.useMemo(()=>f===a().find($=>$.ref.current===o.current)?.ref.current,[a,f]),w=mn();return C.jsx(me.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...i,id:w,ref:s,onPointerUp:ne(i.onPointerUp,x)})});_p.displayName=o$;const s$="ComboboxItemText",a$=p.forwardRef((n,e)=>{const{className:t,style:r,...i}=n,o=wg(s$),s=we(e,o.onTextValueChange);return C.jsx(me.span,{id:o.textId,...i,ref:s})});a$.displayName=s$;const l$="ComboboxItemIndicator",c$=p.forwardRef((n,e)=>{const{isSelected:t}=wg(l$);return t?C.jsx(me.span,{"aria-hidden":!0,...n,ref:e}):null});c$.displayName=l$;const $g="ComboboxNoValueFound",u$=p.forwardRef((n,e)=>{const{textValue:t="",filterValue:r="",visible:i=!1,locale:o,autocomplete:s}=Tr($g),[a,c]=p.useState([]),{subscribe:f}=Sl(void 0),{startsWith:h,contains:d}=xg(o,{sensitivity:"base"});return p.useEffect(()=>{const m=f(b=>{if(i){const x=b.filter(v=>v.type!=="create");c(x)}else c(b)});return()=>{m()}},[i,f]),s.type==="none"&&a.length>0||s.type==="list"&&s.filter==="startsWith"&&a.some(m=>h(m.textValue,t))||s.type==="both"&&a.some(m=>h(m.textValue,r))||s.type==="list"&&s.filter==="contains"&&a.some(m=>d(m.textValue,t))?null:C.jsx(me.div,{...n,ref:e})});u$.displayName=$g;const f$=p.forwardRef((n,e)=>{const{disabled:t=!1,...r}=n,i=Tr($g),{textValue:o,visuallyFocussedItem:s}=i,{getItems:a,subscribe:c}=Sl(void 0),f=p.useRef(null),[h,d]=p.useState(!1),m=we(e,f),b=p.useMemo(()=>s===a().find(w=>w.ref.current===f.current)?.ref.current,[a,s]),x=mn(),v=()=>{!t&&o&&(i.onValueChange(o),i.onTextValueChange(o),i.onOpenChange(!1),i.autocomplete.type==="both"&&i.onFilterValueChange(o),i.trigger?.focus({preventScroll:!0}))};return pt(()=>{const w=c($=>{d(!$.some(S=>S.textValue===o&&S.type!=="create"))});return a().length===0&&d(!0),()=>{w()}},[o,c,a]),(!o||!h)&&!i.visible?null:C.jsx(yo.ItemSlot,{scope:void 0,value:o??"",textValue:o??"",disabled:t,isVisible:!0,type:"create",children:C.jsx(me.div,{role:"option",tabIndex:t?void 0:-1,"aria-disabled":t||void 0,"data-disabled":t?"":void 0,"data-highlighted":b?"":void 0,...r,id:x,ref:m,onPointerUp:ne(r.onPointerUp,v)})})});f$.displayName="ComboboxCreateItem";const y7=b7,w7=YC,C7=ZC,$7=QC,S7=JC,k7=e$,E7=i$,A7=Cg,R7=a$,T7=c$,M7=u$,P7=f$;function O7(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)if(n[r]!==e[r])return r;return t}const Zn=Object.freeze(Object.defineProperty({__proto__:null,ComboboxItem:Cg,Content:k7,CreateItem:P7,Icon:$7,Item:A7,ItemIndicator:T7,ItemText:R7,NoValueFound:M7,Portal:S7,Root:y7,TextInput:C7,Trigger:w7,Viewport:E7},Symbol.toStringTag,{value:"Module"}));function Sg(n){const e=p.useRef(n);return p.useEffect(()=>{e.current=n}),p.useMemo(()=>(...t)=>e.current?.(...t),[])}const D7=[" ","Enter","ArrowUp","ArrowDown"],I7=[" ","Enter"],kl="Select",[Df,El,_7]=Mf(kl),[Ks,L7]=Ct(kl,[_7,Fi]),If=Fi(),[N7,ii]=Ks(kl),[B7,F7]=Ks(kl),kg=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:c,dir:f,disabled:h,required:d,multi:m=!1}=n,b=If(e),[x,v]=p.useState(null),[w,$]=p.useState(null),[S,E]=p.useState(!1),A=To(f),[T=!1,O]=Yt({prop:r,defaultProp:i,onChange:o}),[P,L]=Yt({prop:s,defaultProp:a,onChange(z){c&&(Array.isArray(z),c(z))}}),B=p.useRef(null),[F,K]=p.useState(new Set);return C.jsx(Af,{...b,children:C.jsx(N7,{required:d,scope:e,trigger:x,onTriggerChange:v,valueNode:w,onValueNodeChange:$,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:mn(),value:P,onValueChange:L,open:T,onOpenChange:O,dir:A,triggerPointerDownPosRef:B,disabled:h,multi:m,children:C.jsx(Df.Provider,{scope:e,children:C.jsx(B7,{scope:n.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{K(ee=>new Set(ee).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{K(ee=>{const Z=new Set(ee);return Z.delete(z),Z})},[]),children:t})})})})};kg.displayName=kl;const h$="SelectTrigger",Eg=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=If(t),o=ii(h$,t),s=o.disabled,a=we(e,o.onTriggerChange),c=El(t),[f,h,d]=w$(b=>{const x=c().filter($=>!$.disabled),v=x.find($=>$.value===o.value),w=C$(x,b,v);if(w!==void 0&&!Array.isArray(w.value)){const $=o.multi?[w.value]:w.value;o.onValueChange($)}}),m=()=>{s||(o.onOpenChange(!0),d())};return C.jsx(ml,{asChild:!0,...i,children:C.jsx(me.div,{role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,"data-placeholder":o.value===void 0?"":void 0,tabIndex:s?void 0:0,...r,ref:a,onClick:ne(r.onClick,b=>{b.currentTarget.focus()}),onPointerDown:ne(r.onPointerDown,b=>{const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),(x.closest("button")??x.closest("div"))===b.currentTarget&&b.button===0&&b.ctrlKey===!1&&(m(),o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)},b.preventDefault())}),onKeyDown:ne(r.onKeyDown,b=>{const x=f.current!=="",v=b.ctrlKey||b.altKey||b.metaKey,w=b.target;(w.closest("button")??w.closest("div"))===b.currentTarget&&(!v&&b.key.length===1&&h(b.key),!(x&&b.key===" ")&&D7.includes(b.key)&&(m(),b.preventDefault()))})})})});Eg.displayName=h$;const d$="SelectValue",Ag=p.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,placeholder:i,...o}=n,s=ii(d$,t),{onValueNodeHasChildrenChange:a}=s,c=r!==void 0,f=we(e,s.onValueNodeChange),[h,d]=p.useState([]),m=El(t);pt(()=>{a(c)},[a,c]),p.useLayoutEffect(()=>{if(Array.isArray(s.value)&&h.length!==s.value.length){const x=setTimeout(()=>{const v=m().filter(w=>Array.isArray(w.value)?!1:s.value?.includes(w.value));d(v)});return()=>{clearTimeout(x)}}},[s.value,m,h]);let b;if((s.value===void 0||s.value.length===0)&&i!==void 0)b=C.jsx("span",{children:i});else if(typeof r=="function")if(Array.isArray(s.value)){const x=s.value.map(v=>{const w=h.find($=>$.value===v);return w?r({value:v,textValue:w?.textValue}):null});b=x.every(v=>v===null)?i:x}else b=r(s.value);else b=r;return C.jsx(me.span,{...o,ref:f,children:b||null})});Ag.displayName=d$;const V7="SelectIcon",Rg=p.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return C.jsx(me.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});Rg.displayName=V7;const W7="SelectPortal",Tg=n=>C.jsx(zs,{asChild:!0,...n});Tg.displayName=W7;const wo="SelectContent",Mg=p.forwardRef((n,e)=>{const t=ii(wo,n.__scopeSelect),[r,i]=p.useState();if(pt(()=>{i(new DocumentFragment)},[]),!t.open){const o=r;return o?Ar.createPortal(C.jsx(p$,{scope:n.__scopeSelect,children:C.jsx(Df.Slot,{scope:n.__scopeSelect,children:C.jsx("div",{children:n.children})})}),o):null}return C.jsx(m$,{...n,ref:e})});Mg.displayName=wo;const Hr=10,[p$,Wi]=Ks(wo),z7="SelectContentImpl",m$=p.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:c,align:f,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:b,sticky:x,hideWhenDetached:v,avoidCollisions:w,...$}=n,S=ii(wo,t),[E,A]=p.useState(null),[T,O]=p.useState(null),P=we(e,de=>A(de)),[L,B]=p.useState(null),[F,K]=p.useState(null),z=El(t),[ee,Z]=p.useState(!1),re=p.useRef(!1);p.useEffect(()=>{if(E)return vl(E)},[E]),js();const ue=p.useCallback(de=>{const[Ae,...ke]=z().map(te=>te.ref.current),[_e]=ke.slice(-1),Le=document.activeElement;for(const te of de)if(te===Le||(te?.scrollIntoView({block:"nearest"}),te===Ae&&T&&(T.scrollTop=0),te===_e&&T&&(T.scrollTop=T.scrollHeight),te?.focus(),document.activeElement!==Le))return},[z,T]),Q=p.useCallback(()=>ue([L,E]),[ue,L,E]);p.useEffect(()=>{ee&&Q()},[ee,Q]);const{onOpenChange:ie,triggerPointerDownPosRef:q}=S;p.useEffect(()=>{if(E){let de={x:0,y:0};const Ae=_e=>{de={x:Math.abs(Math.round(_e.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(_e.pageY)-(q.current?.y??0))}},ke=_e=>{de.x<=10&&de.y<=10?_e.preventDefault():E.contains(_e.target)||ie(!1),document.removeEventListener("pointermove",Ae),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",ke,{capture:!0})}}},[E,ie,q]),p.useEffect(()=>{const de=()=>ie(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[ie]);const[le,he]=w$(de=>{const Ae=z().filter(Le=>!Le.disabled),ke=Ae.find(Le=>Le.ref.current===document.activeElement),_e=C$(Ae,de,ke);_e&&setTimeout(()=>_e.ref.current.focus())}),Oe=p.useCallback((de,Ae,ke)=>{const _e=!re.current&&!ke;(S.value!==void 0&&S.value===Ae||_e)&&(B(de),_e&&(re.current=!0))},[S.value]),ve=p.useCallback(()=>E?.focus(),[E]),Ue=p.useCallback((de,Ae,ke)=>{const _e=!re.current&&!ke;(S.value!==void 0&&(Array.isArray(Ae)?Ae.every(te=>S.value?.includes(te)):S.value===Ae)||_e)&&K(de)},[S.value]),Ee=r==="popper"?Lp:g$,ze=Ee===Lp?{side:a,sideOffset:c,align:f,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:b,sticky:x,hideWhenDetached:v,avoidCollisions:w}:{};return C.jsx(p$,{scope:t,content:E,viewport:T,onViewportChange:O,itemRefCallback:Oe,selectedItem:L,onItemLeave:ve,itemTextRefCallback:Ue,focusSelectedItem:Q,selectedItemText:F,position:r,isPositioned:ee,searchRef:le,children:C.jsx(vg,{as:Sr,allowPinchZoom:!0,children:C.jsx(Hs,{asChild:!0,trapped:S.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:ne(i,de=>{S.trigger?.focus({preventScroll:!0}),document.getSelection()?.empty(),de.preventDefault()}),children:C.jsx(Ro,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:C.jsx(Ee,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed","aria-multiselectable":S.multi?"true":void 0,dir:S.dir,onContextMenu:de=>de.preventDefault(),...$,...ze,onPlaced:()=>Z(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...$.style},onKeyDown:ne($.onKeyDown,de=>{const Ae=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Ae&&de.key.length===1&&he(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let _e=z().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(de.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Le=de.target,te=_e.indexOf(Le);_e=_e.slice(te+1)}setTimeout(()=>ue(_e)),de.preventDefault()}})})})})})})});m$.displayName=z7;const j7="SelectItemAlignedPosition",g$=p.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,o=ii(wo,t),s=Wi(wo,t),[a,c]=p.useState(null),[f,h]=p.useState(null),d=we(e,P=>h(P)),m=El(t),b=p.useRef(!1),x=p.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:$,focusSelectedItem:S}=s,E=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&f&&v&&w&&$){const P=o.trigger.getBoundingClientRect(),L=f.getBoundingClientRect(),B=o.valueNode.getBoundingClientRect(),F=$.getBoundingClientRect();if(o.dir!=="rtl"){const Le=F.left-L.left,te=B.left-Le,at=P.left-te,Re=P.width+at,Ie=Math.max(Re,L.width),Lt=window.innerWidth-Hr,gt=Ip(te,[Hr,Lt-Ie]);a.style.minWidth=`${Re}px`,a.style.left=`${gt}px`}else{const Le=L.right-F.right,te=window.innerWidth-B.right-Le,at=window.innerWidth-P.right-te,Re=P.width+at,Ie=Math.max(Re,L.width),Lt=window.innerWidth-Hr,gt=Ip(te,[Hr,Lt-Ie]);a.style.minWidth=`${Re}px`,a.style.right=`${gt}px`}const K=m(),z=window.innerHeight-Hr*2,ee=v.scrollHeight,Z=window.getComputedStyle(f),re=parseInt(Z.borderTopWidth,10),ue=parseInt(Z.paddingTop,10),Q=parseInt(Z.borderBottomWidth,10),ie=parseInt(Z.paddingBottom,10),q=re+ue+ee+ie+Q,le=Math.min(w.offsetHeight*5,q),he=window.getComputedStyle(v),Oe=parseInt(he.paddingTop,10),ve=parseInt(he.paddingBottom,10),Ue=P.top+P.height/2-Hr,Ee=z-Ue,ze=w.offsetHeight/2,de=w.offsetTop+ze,Ae=re+ue+de,ke=q-Ae;if(Ae<=Ue){const Le=w===K[K.length-1].ref.current;a.style.bottom="0px";const te=f.clientHeight-v.offsetTop-v.offsetHeight,at=Math.max(Ee,ze+(Le?ve:0)+te+Q),Re=Ae+at;a.style.height=`${Re}px`}else{const Le=w===K[0].ref.current;a.style.top="0px";const at=Math.max(Ue,re+v.offsetTop+(Le?Oe:0)+ze)+ke;a.style.height=`${at}px`,v.scrollTop=Ae-Ue+v.offsetTop}a.style.margin=`${Hr}px 0`,a.style.minHeight=`${le}px`,a.style.maxHeight=`${z}px`,r?.(),requestAnimationFrame(()=>b.current=!0)}},[m,o.trigger,o.valueNode,a,f,v,w,$,o.dir,r]);pt(()=>E(),[E]);const[A,T]=p.useState();pt(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const O=p.useCallback(P=>{P&&x.current===!0&&(E(),S?.(),x.current=!1)},[E,S]);return C.jsx(U7,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:O,children:C.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:C.jsx(me.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});g$.displayName=j7;const H7="SelectPopperPosition",Lp=p.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Hr,...o}=n,s=If(t);return C.jsx(gl,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lp.displayName=H7;const[U7,Pg]=Ks(wo,{}),Np="SelectViewport",Og=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Wi(Np,t),o=Pg(Np,t),s=we(e,i.onViewportChange),a=p.useRef(0);return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),C.jsx(Df.Slot,{scope:t,children:C.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:ne(r.onScroll,c=>{const f=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=o;if(d?.current&&h){const m=Math.abs(a.current-f.scrollTop);if(m>0){const b=window.innerHeight-Hr*2,x=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),w=Math.max(x,v);if(w<b){const $=w+m,S=Math.min(b,$),E=$-S;h.style.height=`${S}px`,h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}a.current=f.scrollTop})})})]})});Og.displayName=Np;const b$="SelectGroup",[K7,q7]=Ks(b$),Dg=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=mn();return C.jsx(K7,{scope:t,id:i,children:C.jsx(me.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Dg.displayName=b$;const v$="SelectLabel",Ig=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=q7(v$,t);return C.jsx(me.div,{id:i.id,...r,ref:e})});Ig.displayName=v$;const Vu="SelectItem",[G7,x$]=Ks(Vu),_g=p.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:o,...s}=n,a=ii(Vu,t),c=Wi(Vu,t),f=typeof r=="string"?Array.isArray(a.value)?a.value.includes(r):a.value===r:r.every(S=>a.value?.includes(S)),h=Array.isArray(a.value)&&Array.isArray(r)&&r.some(S=>a.value?.includes(S)),[d,m]=p.useState(o??""),[b,x]=p.useState(!1),v=we(e,S=>c.itemRefCallback?.(S,r,i)),w=mn(),$=()=>{if(!i){let S=a.multi&&typeof r=="string"?[r]:r;h&&!f?a.onValueChange(S):Array.isArray(a.value)&&(S=$$(r,a.value)),a.onValueChange(S),a.multi||a.onOpenChange(!1)}};if(!a.multi&&Array.isArray(r))throw new Error("You can only pass an array of values in multi selects");return C.jsx(G7,{scope:t,value:r,disabled:i,textId:w,isSelected:f,isIntermediate:h,onItemTextChange:p.useCallback(S=>{m(E=>E||(S?.textContent??"").trim())},[]),children:C.jsx(Df.ItemSlot,{scope:t,value:r,disabled:i,textValue:d,children:C.jsx(me.div,{role:"option","aria-labelledby":w,"data-highlighted":b?"":void 0,"aria-selected":a.multi?void 0:f&&b,"aria-checked":a.multi?f:void 0,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:v,onFocus:ne(s.onFocus,()=>x(!0)),onBlur:ne(s.onBlur,()=>x(!1)),onPointerUp:ne(s.onPointerUp,$),onPointerMove:ne(s.onPointerMove,S=>{i?c.onItemLeave?.():S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(s.onPointerLeave,S=>{S.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ne(s.onKeyDown,S=>{c.searchRef?.current!==""&&S.key===" "||(I7.includes(S.key)&&$(),S.key===" "&&S.preventDefault())})})})})});_g.displayName=Vu;const Ta="SelectItemText",Lg=p.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...o}=n,s=ii(Ta,t),a=Wi(Ta,t),c=x$(Ta,t),f=F7(Ta,t),[h,d]=p.useState(null),m=we(e,$=>d($),c.onItemTextChange,$=>a.itemTextRefCallback?.($,c.value,c.disabled)),b=h?.textContent,x=p.useMemo(()=>C.jsx("option",{value:c.value,disabled:c.disabled,children:b},Array.isArray(c.value)?c.value.join(";"):c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=f;return pt(()=>(v(x),()=>w(x)),[v,w,x]),C.jsxs(C.Fragment,{children:[C.jsx(me.span,{id:c.textId,...o,ref:m}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ar.createPortal(o.children,s.valueNode):null]})});Lg.displayName=Ta;const y$="SelectItemIndicator",Ng=p.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n,o=x$(y$,t);return typeof r=="function"?C.jsx(me.span,{"aria-hidden":!0,...i,ref:e,children:r({isSelected:o.isSelected,isIntermediate:o.isIntermediate})}):o.isSelected?C.jsx(me.span,{"aria-hidden":!0,...i,ref:e,children:r}):null});Ng.displayName=y$;const Bp="SelectScrollUpButton",Bg=p.forwardRef((n,e)=>{const t=Wi(Bp,n.__scopeSelect),r=Pg(Bp,n.__scopeSelect),[i,o]=p.useState(!1),s=we(e,r.onScrollButtonChange);return pt(()=>{if(t.viewport&&t.isPositioned){const a=t.viewport,c=()=>{const f=a.scrollTop>0;o(f)};return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?C.jsx(Vg,{...n,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=t;a&&c&&(a.scrollTop-=c.offsetHeight)}}):null});Bg.displayName=Bp;const Fp="SelectScrollDownButton",Fg=p.forwardRef((n,e)=>{const t=Wi(Fp,n.__scopeSelect),r=Pg(Fp,n.__scopeSelect),[i,o]=p.useState(!1),s=we(e,r.onScrollButtonChange);return pt(()=>{if(t.viewport&&t.isPositioned){const a=t.viewport,c=()=>{const f=a.scrollHeight-a.clientHeight,h=Math.ceil(a.scrollTop)<f;o(h)};return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?C.jsx(Vg,{...n,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=t;a&&c&&(a.scrollTop+=c.offsetHeight)}}):null});Fg.displayName=Fp;const Vg=p.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,o=Wi("SelectScrollButton",t),s=p.useRef(null),a=El(t),c=p.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),pt(()=>{a().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),C.jsx(me.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerMove:ne(i.onPointerMove,()=>{o.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:ne(i.onPointerLeave,()=>{c()})})});Vg.displayName="SelectScrollButtonImpl";const Y7="SelectSeparator",Wg=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return C.jsx(me.div,{"aria-hidden":!0,...r,ref:e})});Wg.displayName=Y7;const Vp="SelectArrow",zg=p.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=If(t),o=ii(Vp,t),s=Wi(Vp,t);return o.open&&s.position==="popper"?C.jsx(zI,{...i,...r,ref:e}):null});zg.displayName=Vp;const X7="BubbleSelect",Z7=p.forwardRef((n,e)=>{const{value:t,...r}=n,i=p.useRef(null),o=we(e,i),s=Pf(t),a=ii(X7,void 0);p.useEffect(()=>{const f=i.current,h=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(h,"value").set;if(s!==t&&m){const b=new Event("change",{bubbles:!0});m.call(f,t),f.dispatchEvent(b)}},[s,t]);let c=t;return a.multi&&!Array.isArray(t)&&(c=[]),C.jsx(PC,{asChild:!0,children:C.jsx("select",{...r,multiple:a.multi?!0:void 0,ref:o,defaultValue:c})})});Z7.displayName="BubbleSelect";function w$(n){const e=Sg(n),t=p.useRef(""),r=p.useRef(0),i=p.useCallback(s=>{const a=t.current+s;e(a),function c(f){t.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=p.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,o]}function C$(n,e,t){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let s=Q7(n,Math.max(o,0));i.length===1&&(s=s.filter(f=>f!==t));const c=s.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function Q7(n,e){return n.map((t,r)=>n[(e+r)%n.length])}const $$=(n,e=[])=>{if(Array.isArray(n))return n.reduce((r,i)=>$$(i,r),e);const t=e.indexOf(n);return t===-1?[...e,n]:[...e.slice(0,t),...e.slice(t+1)]},J7=kg,e8=Eg,t8=Ag,n8=Rg,r8=Tg,i8=Mg,o8=Og,s8=Dg,a8=Ig,l8=_g,c8=Lg,u8=Ng,f8=Bg,h8=Fg,d8=Wg,p8=zg,ir=Object.freeze(Object.defineProperty({__proto__:null,Arrow:p8,Content:i8,Group:s8,Icon:n8,Item:l8,ItemIndicator:u8,ItemText:c8,Label:a8,Portal:r8,Root:J7,ScrollDownButton:h8,ScrollUpButton:f8,Select:kg,SelectArrow:zg,SelectContent:Mg,SelectGroup:Dg,SelectIcon:Rg,SelectItem:_g,SelectItemIndicator:Ng,SelectItemText:Lg,SelectLabel:Ig,SelectPortal:Tg,SelectScrollDownButton:Fg,SelectScrollUpButton:Bg,SelectSeparator:Wg,SelectTrigger:Eg,SelectValue:Ag,SelectViewport:Og,Separator:d8,Trigger:e8,Value:t8,Viewport:o8,createSelectScope:L7},Symbol.toStringTag,{value:"Module"}));function fo(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}const S$="Collapsible",[m8,k$]=Ct(S$),[g8,jg]=m8(S$),b8=p.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=n,[c=!1,f]=Yt({prop:r,defaultProp:i,onChange:s});return p.createElement(g8,{scope:t,disabled:o,contentId:mn(),open:c,onOpenToggle:p.useCallback(()=>f(h=>!h),[f])},p.createElement(me.div,H({"data-state":Hg(c),"data-disabled":o?"":void 0},a,{ref:e})))}),v8="CollapsibleTrigger",x8=p.forwardRef((n,e)=>{const{__scopeCollapsible:t,...r}=n,i=jg(v8,t);return p.createElement(me.button,H({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Hg(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r,{ref:e,onClick:ne(n.onClick,i.onOpenToggle)}))}),E$="CollapsibleContent",y8=p.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=jg(E$,n.__scopeCollapsible);return p.createElement(Mt,{present:t||i.open},({present:o})=>p.createElement(w8,H({},r,{ref:e,present:o})))}),w8=p.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:r,children:i,...o}=n,s=jg(E$,t),[a,c]=p.useState(r),f=p.useRef(null),h=we(e,f),d=p.useRef(0),m=d.current,b=p.useRef(0),x=b.current,v=s.open||a,w=p.useRef(v),$=p.useRef();return p.useEffect(()=>{const S=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(S)},[]),pt(()=>{const S=f.current;if(S){$.current=$.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const E=S.getBoundingClientRect();d.current=E.height,b.current=E.width,w.current||(S.style.transitionDuration=$.current.transitionDuration,S.style.animationName=$.current.animationName),c(r)}},[s.open,r]),p.createElement(me.div,H({"data-state":Hg(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!v},o,{ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...n.style}}),v&&i)});function Hg(n){return n?"open":"closed"}const C8=b8,$8=x8,S8=y8,zi="Accordion",k8=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ug,E8,A8]=Mf(zi),[_f,_X]=Ct(zi,[A8,k$]),Kg=k$(),A$=Ve.forwardRef((n,e)=>{const{type:t,...r}=n,i=r,o=r;return Ve.createElement(Ug.Provider,{scope:n.__scopeAccordion},t==="multiple"?Ve.createElement(P8,H({},o,{ref:e})):Ve.createElement(M8,H({},i,{ref:e})))});A$.propTypes={type(n){const e=n.value||n.defaultValue;return n.type&&!["single","multiple"].includes(n.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):n.type==="multiple"&&typeof e=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):n.type==="single"&&Array.isArray(e)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[R$,R8]=_f(zi),[T$,T8]=_f(zi,{collapsible:!1}),M8=Ve.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=n,[a,c]=Yt({prop:t,defaultProp:r,onChange:i});return Ve.createElement(R$,{scope:n.__scopeAccordion,value:a?[a]:[],onItemOpen:c,onItemClose:Ve.useCallback(()=>o&&c(""),[o,c])},Ve.createElement(T$,{scope:n.__scopeAccordion,collapsible:o},Ve.createElement(M$,H({},s,{ref:e}))))}),P8=Ve.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},...o}=n,[s=[],a]=Yt({prop:t,defaultProp:r,onChange:i}),c=Ve.useCallback(h=>a((d=[])=>[...d,h]),[a]),f=Ve.useCallback(h=>a((d=[])=>d.filter(m=>m!==h)),[a]);return Ve.createElement(R$,{scope:n.__scopeAccordion,value:s,onItemOpen:c,onItemClose:f},Ve.createElement(T$,{scope:n.__scopeAccordion,collapsible:!0},Ve.createElement(M$,H({},o,{ref:e}))))}),[O8,Lf]=_f(zi),M$=Ve.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:r,dir:i,orientation:o="vertical",...s}=n,a=Ve.useRef(null),c=we(a,e),f=E8(t),d=To(i)==="ltr",m=ne(n.onKeyDown,b=>{var x;if(!k8.includes(b.key))return;const v=b.target,w=f().filter(B=>{var F;return!((F=B.ref.current)!==null&&F!==void 0&&F.disabled)}),$=w.findIndex(B=>B.ref.current===v),S=w.length;if($===-1)return;b.preventDefault();let E=$;const A=0,T=S-1,O=()=>{E=$+1,E>T&&(E=A)},P=()=>{E=$-1,E<A&&(E=T)};switch(b.key){case"Home":E=A;break;case"End":E=T;break;case"ArrowRight":o==="horizontal"&&(d?O():P());break;case"ArrowDown":o==="vertical"&&O();break;case"ArrowLeft":o==="horizontal"&&(d?P():O());break;case"ArrowUp":o==="vertical"&&P();break}const L=E%S;(x=w[L].ref.current)===null||x===void 0||x.focus()});return Ve.createElement(O8,{scope:t,disabled:r,direction:i,orientation:o},Ve.createElement(Ug.Slot,{scope:t},Ve.createElement(me.div,H({},s,{"data-orientation":o,ref:c,onKeyDown:r?void 0:m}))))}),Wp="AccordionItem",[D8,qg]=_f(Wp),I8=Ve.forwardRef((n,e)=>{const{__scopeAccordion:t,value:r,...i}=n,o=Lf(Wp,t),s=R8(Wp,t),a=Kg(t),c=mn(),f=r&&s.value.includes(r)||!1,h=o.disabled||n.disabled;return Ve.createElement(D8,{scope:t,open:f,disabled:h,triggerId:c},Ve.createElement(C8,H({"data-orientation":o.orientation,"data-state":P$(f)},a,i,{ref:e,disabled:h,open:f,onOpenChange:d=>{d?s.onItemOpen(r):s.onItemClose(r)}})))}),_8="AccordionHeader",L8=Ve.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=Lf(zi,t),o=qg(_8,t);return Ve.createElement(me.h3,H({"data-orientation":i.orientation,"data-state":P$(o.open),"data-disabled":o.disabled?"":void 0},r,{ref:e}))}),tx="AccordionTrigger",N8=Ve.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=Lf(zi,t),o=qg(tx,t),s=T8(tx,t),a=Kg(t);return Ve.createElement(Ug.ItemSlot,{scope:t},Ve.createElement($8,H({"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId},a,r,{ref:e})))}),B8="AccordionContent",F8=Ve.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=Lf(zi,t),o=qg(B8,t),s=Kg(t);return Ve.createElement(S8,H({role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation},s,r,{ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}}))});function P$(n){return n?"open":"closed"}const V8=A$,W8=I8,z8=L8,j8=N8,H8=F8,O$="Avatar",[U8,LX]=Ct(O$),[K8,D$]=U8(O$),q8=p.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,o]=p.useState("idle");return p.createElement(K8,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:o},p.createElement(me.span,H({},r,{ref:e})))}),G8="AvatarImage",Y8=p.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...o}=n,s=D$(G8,t),a=Q8(r),c=St(f=>{i(f),s.onImageLoadingStatusChange(f)});return pt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?p.createElement(me.img,H({},o,{ref:e,src:r})):null}),X8="AvatarFallback",Z8=p.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,o=D$(X8,t),[s,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),s&&o.imageLoadingStatus!=="loaded"?p.createElement(me.span,H({},i,{ref:e})):null});function Q8(n){const[e,t]=p.useState("idle");return pt(()=>{if(!n){t("error");return}let r=!0;const i=new window.Image,o=s=>()=>{r&&t(s)};return t("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=n,()=>{r=!1}},[n]),e}const J8=q8,e_=Y8,t_=Z8,Fd="rovingFocusGroup.onEntryFocus",n_={bubbles:!1,cancelable:!0},Gg="RovingFocusGroup",[zp,I$,r_]=Mf(Gg),[i_,qs]=Ct(Gg,[r_]),[o_,s_]=i_(Gg),a_=p.forwardRef((n,e)=>p.createElement(zp.Provider,{scope:n.__scopeRovingFocusGroup},p.createElement(zp.Slot,{scope:n.__scopeRovingFocusGroup},p.createElement(l_,H({},n,{ref:e}))))),l_=p.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:f,...h}=n,d=p.useRef(null),m=we(e,d),b=To(o),[x=null,v]=Yt({prop:s,defaultProp:a,onChange:c}),[w,$]=p.useState(!1),S=St(f),E=I$(t),A=p.useRef(!1),[T,O]=p.useState(0);return p.useEffect(()=>{const P=d.current;if(P)return P.addEventListener(Fd,S),()=>P.removeEventListener(Fd,S)},[S]),p.createElement(o_,{scope:t,orientation:r,dir:b,loop:i,currentTabStopId:x,onItemFocus:p.useCallback(P=>v(P),[v]),onItemShiftTab:p.useCallback(()=>$(!0),[]),onFocusableItemAdd:p.useCallback(()=>O(P=>P+1),[]),onFocusableItemRemove:p.useCallback(()=>O(P=>P-1),[])},p.createElement(me.div,H({tabIndex:w||T===0?-1:0,"data-orientation":r},h,{ref:m,style:{outline:"none",...n.style},onMouseDown:ne(n.onMouseDown,()=>{A.current=!0}),onFocus:ne(n.onFocus,P=>{const L=!A.current;if(P.target===P.currentTarget&&L&&!w){const B=new CustomEvent(Fd,n_);if(P.currentTarget.dispatchEvent(B),!B.defaultPrevented){const F=E().filter(re=>re.focusable),K=F.find(re=>re.active),z=F.find(re=>re.id===x),Z=[K,z,...F].filter(Boolean).map(re=>re.ref.current);_$(Z)}}A.current=!1}),onBlur:ne(n.onBlur,()=>$(!1))})))}),c_="RovingFocusGroupItem",u_=p.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:o,...s}=n,a=mn(),c=o||a,f=s_(c_,t),h=f.currentTabStopId===c,d=I$(t),{onFocusableItemAdd:m,onFocusableItemRemove:b}=f;return p.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),p.createElement(zp.ItemSlot,{scope:t,id:c,focusable:r,active:i},p.createElement(me.span,H({tabIndex:h?0:-1,"data-orientation":f.orientation},s,{ref:e,onMouseDown:ne(n.onMouseDown,x=>{r?f.onItemFocus(c):x.preventDefault()}),onFocus:ne(n.onFocus,()=>f.onItemFocus(c)),onKeyDown:ne(n.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=d_(x,f.orientation,f.dir);if(v!==void 0){x.preventDefault();let $=d().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")$.reverse();else if(v==="prev"||v==="next"){v==="prev"&&$.reverse();const S=$.indexOf(x.currentTarget);$=f.loop?p_($,S+1):$.slice(S+1)}setTimeout(()=>_$($))}})})))}),f_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function h_(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function d_(n,e,t){const r=h_(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return f_[r]}function _$(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function p_(n,e){return n.map((t,r)=>n[(e+r)%n.length])}const Yg=a_,Xg=u_;var L$=wl(),Vd=function(){},Nf=p.forwardRef(function(n,e){var t=p.useRef(null),r=p.useState({onScrollCapture:Vd,onWheelCapture:Vd,onTouchMoveCapture:Vd}),i=r[0],o=r[1],s=n.forwardProps,a=n.children,c=n.className,f=n.removeScrollBar,h=n.enabled,d=n.shards,m=n.sideCar,b=n.noIsolation,x=n.inert,v=n.allowPinchZoom,w=n.as,$=w===void 0?"div":w,S=Vi(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=m,A=yl([t,e]),T=qe(qe({},S),i);return p.createElement(p.Fragment,null,h&&p.createElement(E,{sideCar:L$,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:t}),s?p.cloneElement(p.Children.only(a),qe(qe({},T),{ref:A})):p.createElement($,qe({},T,{className:c,ref:A}),a))});Nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nf.classNames={fullWidth:Ri,zeroRight:Ai};var jp=!1;if(typeof window<"u")try{var Fc=Object.defineProperty({},"passive",{get:function(){return jp=!0,!0}});window.addEventListener("test",Fc,Fc),window.removeEventListener("test",Fc,Fc)}catch{jp=!1}var es=jp?{passive:!1}:!1,m_=function(n){return n.tagName==="TEXTAREA"},N$=function(n,e){var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!m_(n)&&t[e]==="visible")},g_=function(n){return N$(n,"overflowY")},b_=function(n){return N$(n,"overflowX")},nx=function(n,e){var t=e;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=B$(n,t);if(r){var i=F$(n,t),o=i[1],s=i[2];if(o>s)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},v_=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},x_=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},B$=function(n,e){return n==="v"?g_(e):b_(e)},F$=function(n,e){return n==="v"?v_(e):x_(e)},y_=function(n,e){return n==="h"&&e==="rtl"?-1:1},w_=function(n,e,t,r,i){var o=y_(n,window.getComputedStyle(e).direction),s=o*r,a=t.target,c=e.contains(a),f=!1,h=s>0,d=0,m=0;do{var b=F$(n,a),x=b[0],v=b[1],w=b[2],$=v-w-o*x;(x||$)&&B$(n,a)&&(d+=$,m+=x),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&d===0||!h&&m===0)&&(f=!0),f},Vc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},rx=function(n){return[n.deltaX,n.deltaY]},ix=function(n){return n&&"current"in n?n.current:n},C_=function(n,e){return n[0]===e[0]&&n[1]===e[1]},$_=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},S_=0,ts=[];function k_(n){var e=p.useRef([]),t=p.useRef([0,0]),r=p.useRef(),i=p.useState(S_++)[0],o=p.useState(function(){return Us()})[0],s=p.useRef(n);p.useEffect(function(){s.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var v=xl([n.lockRef.current],(n.shards||[]).map(ix),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var $=Vc(v),S=t.current,E="deltaX"in v?v.deltaX:S[0]-$[0],A="deltaY"in v?v.deltaY:S[1]-$[1],T,O=v.target,P=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in v&&P==="h"&&O.type==="range")return!1;var L=nx(P,O);if(!L)return!0;if(L?T=P:(T=P==="v"?"h":"v",L=nx(P,O)),!L)return!1;if(!r.current&&"changedTouches"in v&&(E||A)&&(r.current=T),!T)return!0;var B=r.current||T;return w_(B,w,v,B==="h"?E:A)},[]),c=p.useCallback(function(v){var w=v;if(!(!ts.length||ts[ts.length-1]!==o)){var $="deltaY"in w?rx(w):Vc(w),S=e.current.filter(function(T){return T.name===w.type&&T.target===w.target&&C_(T.delta,$)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var E=(s.current.shards||[]).map(ix).filter(Boolean).filter(function(T){return T.contains(w.target)}),A=E.length>0?a(w,E[0]):!s.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,$,S){var E={name:v,delta:w,target:$,should:S};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),h=p.useCallback(function(v){t.current=Vc(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,rx(v),v.target,a(v,n.lockRef.current))},[]),m=p.useCallback(function(v){f(v.type,Vc(v),v.target,a(v,n.lockRef.current))},[]);p.useEffect(function(){return ts.push(o),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,es),document.addEventListener("touchmove",c,es),document.addEventListener("touchstart",h,es),function(){ts=ts.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,es),document.removeEventListener("touchmove",c,es),document.removeEventListener("touchstart",h,es)}},[]);var b=n.removeScrollBar,x=n.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:$_(i)}):null,b?p.createElement($l,{gapMode:"margin"}):null)}const E_=Cl(L$,k_);var V$=p.forwardRef(function(n,e){return p.createElement(Nf,qe({},n,{ref:e,sideCar:E_}))});V$.classNames=Nf.classNames;const ox=["Enter"," "],A_=["ArrowDown","PageUp","Home"],W$=["ArrowUp","PageDown","End"],R_=[...A_,...W$],T_={ltr:[...ox,"ArrowRight"],rtl:[...ox,"ArrowLeft"]},M_={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bf="Menu",[Ka,P_,O_]=Mf(Bf),[Mo,z$]=Ct(Bf,[O_,Fi,qs]),Zg=Fi(),j$=qs(),[D_,Po]=Mo(Bf),[I_,Ff]=Mo(Bf),__=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=n,a=Zg(e),[c,f]=p.useState(null),h=p.useRef(!1),d=St(o),m=To(i);return p.useEffect(()=>{const b=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),p.createElement(Af,a,p.createElement(D_,{scope:e,open:t,onOpenChange:d,content:c,onContentChange:f},p.createElement(I_,{scope:e,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:m,modal:s},r)))},H$=p.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Zg(t);return p.createElement(ml,H({},i,r,{ref:e}))}),U$="MenuPortal",[L_,K$]=Mo(U$,{forceMount:void 0}),N_=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,o=Po(U$,e);return p.createElement(L_,{scope:e,forceMount:t},p.createElement(Mt,{present:t||o.open},p.createElement(zs,{asChild:!0,container:i},r)))},Jn="MenuContent",[B_,q$]=Mo(Jn),F_=p.forwardRef((n,e)=>{const t=K$(Jn,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,o=Po(Jn,n.__scopeMenu),s=Ff(Jn,n.__scopeMenu);return p.createElement(Ka.Provider,{scope:n.__scopeMenu},p.createElement(Mt,{present:r||o.open},p.createElement(Ka.Slot,{scope:n.__scopeMenu},s.modal?p.createElement(V_,H({},i,{ref:e})):p.createElement(W_,H({},i,{ref:e})))))}),V_=p.forwardRef((n,e)=>{const t=Po(Jn,n.__scopeMenu),r=p.useRef(null),i=we(e,r);return p.useEffect(()=>{const o=r.current;if(o)return vl(o)},[]),p.createElement(Qg,H({},n,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:ne(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)}))}),W_=p.forwardRef((n,e)=>{const t=Po(Jn,n.__scopeMenu);return p.createElement(Qg,H({},n,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)}))}),Qg=p.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:b,disableOutsideScroll:x,...v}=n,w=Po(Jn,t),$=Ff(Jn,t),S=Zg(t),E=j$(t),A=P_(t),[T,O]=p.useState(null),P=p.useRef(null),L=we(e,P,w.onContentChange),B=p.useRef(0),F=p.useRef(""),K=p.useRef(0),z=p.useRef(null),ee=p.useRef("right"),Z=p.useRef(0),re=x?V$:p.Fragment,ue=x?{as:Sr,allowPinchZoom:!0}:void 0,Q=q=>{var le,he;const Oe=F.current+q,ve=A().filter(ke=>!ke.disabled),Ue=document.activeElement,Ee=(le=ve.find(ke=>ke.ref.current===Ue))===null||le===void 0?void 0:le.textValue,ze=ve.map(ke=>ke.textValue),de=e9(ze,Oe,Ee),Ae=(he=ve.find(ke=>ke.textValue===de))===null||he===void 0?void 0:he.ref.current;(function ke(_e){F.current=_e,window.clearTimeout(B.current),_e!==""&&(B.current=window.setTimeout(()=>ke(""),1e3))})(Oe),Ae&&setTimeout(()=>Ae.focus())};p.useEffect(()=>()=>window.clearTimeout(B.current),[]),js();const ie=p.useCallback(q=>{var le,he;return ee.current===((le=z.current)===null||le===void 0?void 0:le.side)&&n9(q,(he=z.current)===null||he===void 0?void 0:he.area)},[]);return p.createElement(B_,{scope:t,searchRef:F,onItemEnter:p.useCallback(q=>{ie(q)&&q.preventDefault()},[ie]),onItemLeave:p.useCallback(q=>{var le;ie(q)||((le=P.current)===null||le===void 0||le.focus(),O(null))},[ie]),onTriggerLeave:p.useCallback(q=>{ie(q)&&q.preventDefault()},[ie]),pointerGraceTimerRef:K,onPointerGraceIntentChange:p.useCallback(q=>{z.current=q},[])},p.createElement(re,ue,p.createElement(Hs,{asChild:!0,trapped:i,onMountAutoFocus:ne(o,q=>{var le;q.preventDefault(),(le=P.current)===null||le===void 0||le.focus()}),onUnmountAutoFocus:s},p.createElement(Ro,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:b},p.createElement(Yg,H({asChild:!0},E,{dir:$.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:O,onEntryFocus:ne(c,q=>{$.isUsingKeyboardRef.current||q.preventDefault()})}),p.createElement(gl,H({role:"menu","aria-orientation":"vertical","data-state":Y$(w.open),"data-radix-menu-content":"",dir:$.dir},S,v,{ref:L,style:{outline:"none",...v.style},onKeyDown:ne(v.onKeyDown,q=>{const he=q.target.closest("[data-radix-menu-content]")===q.currentTarget,Oe=q.ctrlKey||q.altKey||q.metaKey,ve=q.key.length===1;he&&(q.key==="Tab"&&q.preventDefault(),!Oe&&ve&&Q(q.key));const Ue=P.current;if(q.target!==Ue||!R_.includes(q.key))return;q.preventDefault();const ze=A().filter(de=>!de.disabled).map(de=>de.ref.current);W$.includes(q.key)&&ze.reverse(),Q_(ze)}),onBlur:ne(n.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(B.current),F.current="")}),onPointerMove:ne(n.onPointerMove,qa(q=>{const le=q.target,he=Z.current!==q.clientX;if(q.currentTarget.contains(le)&&he){const Oe=q.clientX>Z.current?"right":"left";ee.current=Oe,Z.current=q.clientX}}))})))))))}),z_=p.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return p.createElement(me.div,H({},r,{ref:e}))}),j_="MenuItem",H_=p.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...o}=n,s=q$(j_,t),a=j$(t),c=p.useRef(null),f=we(e,c),[h,d]=p.useState(!1),[m,b]=p.useState("");return p.useEffect(()=>{const x=c.current;if(x){var v;b(((v=x.textContent)!==null&&v!==void 0?v:"").trim())}},[o.children]),p.createElement(Ka.ItemSlot,{scope:t,disabled:r,textValue:i??m},p.createElement(Xg,H({asChild:!0},a,{focusable:!r}),p.createElement(me.div,H({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:f,onPointerMove:ne(n.onPointerMove,qa(x=>{r?s.onItemLeave(x):(s.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus())})),onPointerLeave:ne(n.onPointerLeave,qa(x=>s.onItemLeave(x))),onFocus:ne(n.onFocus,()=>d(!0)),onBlur:ne(n.onBlur,()=>d(!1))}))))}),U_="MenuRadioGroup",[NX,BX]=Mo(U_,{value:void 0,onValueChange:()=>{}}),K_="MenuItemIndicator",[FX,VX]=Mo(K_,{checked:!1}),q_=p.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return p.createElement(me.div,H({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),G_="MenuSub",[WX,G$]=Mo(G_),Wc="MenuSubTrigger",Y_=p.forwardRef((n,e)=>{const t=Po(Wc,n.__scopeMenu),r=Ff(Wc,n.__scopeMenu),i=G$(Wc,n.__scopeMenu),o=q$(Wc,n.__scopeMenu),s=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,f={__scopeMenu:n.__scopeMenu},h=p.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),c(null)}},[a,c]),p.createElement(H$,H({asChild:!0},f),p.createElement(H_,H({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":Y$(t.open)},n,{ref:Cf(e,i.onTriggerChange),onClick:d=>{var m;(m=n.onClick)===null||m===void 0||m.call(n,d),!(n.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:ne(n.onPointerMove,qa(d=>{o.onItemEnter(d),!d.defaultPrevented&&!n.disabled&&!t.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{t.onOpenChange(!0),h()},100))})),onPointerLeave:ne(n.onPointerLeave,qa(d=>{var m;h();const b=(m=t.content)===null||m===void 0?void 0:m.getBoundingClientRect();if(b){var x;const v=(x=t.content)===null||x===void 0?void 0:x.dataset.side,w=v==="right",$=w?-5:5,S=b[w?"left":"right"],E=b[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+$,y:d.clientY},{x:S,y:b.top},{x:E,y:b.top},{x:E,y:b.bottom},{x:S,y:b.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ne(n.onKeyDown,d=>{const m=o.searchRef.current!=="";if(!(n.disabled||m&&d.key===" ")&&T_[r.dir].includes(d.key)){var b;t.onOpenChange(!0),(b=t.content)===null||b===void 0||b.focus(),d.preventDefault()}})})))}),X_="MenuSubContent",Z_=p.forwardRef((n,e)=>{const t=K$(Jn,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,o=Po(Jn,n.__scopeMenu),s=Ff(Jn,n.__scopeMenu),a=G$(X_,n.__scopeMenu),c=p.useRef(null),f=we(e,c);return p.createElement(Ka.Provider,{scope:n.__scopeMenu},p.createElement(Mt,{present:r||o.open},p.createElement(Ka.Slot,{scope:n.__scopeMenu},p.createElement(Qg,H({id:a.contentId,"aria-labelledby":a.triggerId},i,{ref:f,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;s.isUsingKeyboardRef.current&&((d=c.current)===null||d===void 0||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ne(n.onFocusOutside,h=>{h.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ne(n.onEscapeKeyDown,h=>{s.onClose(),h.preventDefault()}),onKeyDown:ne(n.onKeyDown,h=>{const d=h.currentTarget.contains(h.target),m=M_[s.dir].includes(h.key);if(d&&m){var b;o.onOpenChange(!1),(b=a.trigger)===null||b===void 0||b.focus(),h.preventDefault()}})})))))});function Y$(n){return n?"open":"closed"}function Q_(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function J_(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function e9(n,e,t){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let s=J_(n,Math.max(o,0));i.length===1&&(s=s.filter(f=>f!==t));const c=s.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function t9(n,e){const{x:t,y:r}=n;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,c=e[o].y,f=e[s].x,h=e[s].y;c>r!=h>r&&t<(f-a)*(r-c)/(h-c)+a&&(i=!i)}return i}function n9(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return t9(t,e)}function qa(n){return e=>e.pointerType==="mouse"?n(e):void 0}const r9=__,i9=H$,o9=N_,s9=F_,a9=z_,l9=q_,c9=Y_,u9=Z_,X$="DropdownMenu",[f9,zX]=Ct(X$,[z$]),ji=z$(),[h9,Z$]=f9(X$),d9=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=n,c=ji(e),f=p.useRef(null),[h=!1,d]=Yt({prop:i,defaultProp:o,onChange:s});return p.createElement(h9,{scope:e,triggerId:mn(),triggerRef:f,contentId:mn(),open:h,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(m=>!m),[d]),modal:a},p.createElement(r9,H({},c,{open:h,onOpenChange:d,dir:r,modal:a}),t))},p9="DropdownMenuTrigger",m9=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,o=Z$(p9,t),s=ji(t);return p.createElement(i9,H({asChild:!0},s),p.createElement(me.button,H({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:Cf(e,o.triggerRef),onPointerDown:ne(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:ne(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),g9=n=>{const{__scopeDropdownMenu:e,...t}=n,r=ji(e);return p.createElement(o9,H({},r,t))},b9="DropdownMenuContent",v9=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Z$(b9,t),o=ji(t),s=p.useRef(!1);return p.createElement(s9,H({id:i.contentId,"aria-labelledby":i.triggerId},o,r,{ref:e,onCloseAutoFocus:ne(n.onCloseAutoFocus,a=>{var c;s.current||(c=i.triggerRef.current)===null||c===void 0||c.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:ne(n.onInteractOutside,a=>{const c=a.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,h=c.button===2||f;(!i.modal||h)&&(s.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),x9=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ji(t);return p.createElement(a9,H({},i,r,{ref:e}))}),y9=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ji(t);return p.createElement(l9,H({},i,r,{ref:e}))}),w9=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ji(t);return p.createElement(c9,H({},i,r,{ref:e}))}),C9=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ji(t);return p.createElement(u9,H({},i,r,{ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),$9=d9,S9=m9,Q$=g9,k9=v9,E9=x9,A9=y9,R9=w9,T9=C9,J$="Checkbox",[M9,jX]=Ct(J$),[P9,O9]=M9(J$),D9=p.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:f,...h}=n,[d,m]=p.useState(null),b=we(e,E=>m(E)),x=p.useRef(!1),v=d?!!d.closest("form"):!0,[w=!1,$]=Yt({prop:i,defaultProp:o,onChange:f}),S=p.useRef(w);return p.useEffect(()=>{const E=d?.form;if(E){const A=()=>$(S.current);return E.addEventListener("reset",A),()=>E.removeEventListener("reset",A)}},[d,$]),p.createElement(P9,{scope:t,state:w,disabled:a},p.createElement(me.button,H({type:"button",role:"checkbox","aria-checked":ho(w)?"mixed":w,"aria-required":s,"data-state":e2(w),"data-disabled":a?"":void 0,disabled:a,value:c},h,{ref:b,onKeyDown:ne(n.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:ne(n.onClick,E=>{$(A=>ho(A)?!0:!A),v&&(x.current=E.isPropagationStopped(),x.current||E.stopPropagation())})})),v&&p.createElement(L9,{control:d,bubbles:!x.current,name:r,value:c,checked:w,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),I9="CheckboxIndicator",_9=p.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,o=O9(I9,t);return p.createElement(Mt,{present:r||ho(o.state)||o.state===!0},p.createElement(me.span,H({"data-state":e2(o.state),"data-disabled":o.disabled?"":void 0},i,{ref:e,style:{pointerEvents:"none",...n.style}})))}),L9=n=>{const{control:e,checked:t,bubbles:r=!0,...i}=n,o=p.useRef(null),s=Pf(t),a=Ef(e);return p.useEffect(()=>{const c=o.current,f=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==t&&d){const m=new Event("click",{bubbles:r});c.indeterminate=ho(t),d.call(c,ho(t)?!1:t),c.dispatchEvent(m)}},[s,t,r]),p.createElement("input",H({type:"checkbox","aria-hidden":!0,defaultChecked:ho(t)?!1:t},i,{tabIndex:-1,ref:o,style:{...n.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function ho(n){return n==="indeterminate"}function e2(n){return ho(n)?"indeterminate":n?"checked":"unchecked"}const N9=D9,B9=_9;function F9(n,e){return p.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const t2="ScrollArea",[n2,HX]=Ct(t2),[V9,Mr]=n2(t2),W9=p.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=n,[a,c]=p.useState(null),[f,h]=p.useState(null),[d,m]=p.useState(null),[b,x]=p.useState(null),[v,w]=p.useState(null),[$,S]=p.useState(0),[E,A]=p.useState(0),[T,O]=p.useState(!1),[P,L]=p.useState(!1),B=we(e,K=>c(K)),F=To(i);return p.createElement(V9,{scope:t,type:r,dir:F,scrollHideDelay:o,scrollArea:a,viewport:f,onViewportChange:h,content:d,onContentChange:m,scrollbarX:b,onScrollbarXChange:x,scrollbarXEnabled:T,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:P,onScrollbarYEnabledChange:L,onCornerWidthChange:S,onCornerHeightChange:A},p.createElement(me.div,H({dir:F},s,{ref:B,style:{position:"relative","--radix-scroll-area-corner-width":$+"px","--radix-scroll-area-corner-height":E+"px",...n.style}})))}),z9="ScrollAreaViewport",j9=p.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,...i}=n,o=Mr(z9,t),s=p.useRef(null),a=we(e,s,o.onViewportChange);return p.createElement(p.Fragment,null,p.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),p.createElement(me.div,H({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style}}),p.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),oi="ScrollAreaScrollbar",H9=p.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=Mr(oi,n.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=n.orientation==="horizontal";return p.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?p.createElement(U9,H({},r,{ref:e,forceMount:t})):i.type==="scroll"?p.createElement(K9,H({},r,{ref:e,forceMount:t})):i.type==="auto"?p.createElement(r2,H({},r,{ref:e,forceMount:t})):i.type==="always"?p.createElement(Jg,H({},r,{ref:e})):null}),U9=p.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=Mr(oi,n.__scopeScrollArea),[o,s]=p.useState(!1);return p.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const f=()=>{window.clearTimeout(c),s(!0)},h=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),p.createElement(Mt,{present:t||o},p.createElement(r2,H({"data-state":o?"visible":"hidden"},r,{ref:e})))}),K9=p.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=Mr(oi,n.__scopeScrollArea),o=n.orientation==="horizontal",s=Wf(()=>c("SCROLL_END"),100),[a,c]=F9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,i.scrollHideDelay,c]),p.useEffect(()=>{const f=i.viewport,h=o?"scrollLeft":"scrollTop";if(f){let d=f[h];const m=()=>{const b=f[h];d!==b&&(c("SCROLL"),s()),d=b};return f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,o,c,s]),p.createElement(Mt,{present:t||a!=="hidden"},p.createElement(Jg,H({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:e,onPointerEnter:ne(n.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ne(n.onPointerLeave,()=>c("POINTER_LEAVE"))})))}),r2=p.forwardRef((n,e)=>{const t=Mr(oi,n.__scopeScrollArea),{forceMount:r,...i}=n,[o,s]=p.useState(!1),a=n.orientation==="horizontal",c=Wf(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,h=t.viewport.offsetHeight<t.viewport.scrollHeight;s(a?f:h)}},10);return zu(t.viewport,c),zu(t.content,c),p.createElement(Mt,{present:r||o},p.createElement(Jg,H({"data-state":o?"visible":"hidden"},i,{ref:e})))}),Jg=p.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=Mr(oi,n.__scopeScrollArea),o=p.useRef(null),s=p.useRef(0),[a,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=s2(a.viewport,a.content),h={...r,sizes:a,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:m=>s.current=m};function d(m,b){return Q9(m,s.current,a,b)}return t==="horizontal"?p.createElement(q9,H({},h,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollLeft,b=sx(m,a,i.dir);o.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=d(m,i.dir))}})):t==="vertical"?p.createElement(G9,H({},h,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollTop,b=sx(m,a);o.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=d(m))}})):null}),q9=p.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,o=Mr(oi,n.__scopeScrollArea),[s,a]=p.useState(),c=p.useRef(null),f=we(e,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),p.createElement(o2,H({"data-orientation":"horizontal"},i,{ref:f,sizes:t,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vf(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.x),onDragScroll:h=>n.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(o.viewport){const m=o.viewport.scrollLeft+h.deltaX;n.onWheelScroll(m),l2(m,d)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wu(s.paddingLeft),paddingEnd:Wu(s.paddingRight)}})}}))}),G9=p.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,o=Mr(oi,n.__scopeScrollArea),[s,a]=p.useState(),c=p.useRef(null),f=we(e,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),p.createElement(o2,H({"data-orientation":"vertical"},i,{ref:f,sizes:t,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vf(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.y),onDragScroll:h=>n.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(o.viewport){const m=o.viewport.scrollTop+h.deltaY;n.onWheelScroll(m),l2(m,d)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wu(s.paddingTop),paddingEnd:Wu(s.paddingBottom)}})}}))}),[Y9,i2]=n2(oi),o2=p.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:f,onWheelScroll:h,onResize:d,...m}=n,b=Mr(oi,t),[x,v]=p.useState(null),w=we(e,B=>v(B)),$=p.useRef(null),S=p.useRef(""),E=b.viewport,A=r.content-r.viewport,T=St(h),O=St(c),P=Wf(d,10);function L(B){if($.current){const F=B.clientX-$.current.left,K=B.clientY-$.current.top;f({x:F,y:K})}}return p.useEffect(()=>{const B=F=>{const K=F.target;x?.contains(K)&&T(F,A)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[E,x,A,T]),p.useEffect(O,[r,O]),zu(x,P),zu(b.content,P),p.createElement(Y9,{scope:t,scrollbar:x,hasThumb:i,onThumbChange:St(o),onThumbPointerUp:St(s),onThumbPositionChange:O,onThumbPointerDown:St(a)},p.createElement(me.div,H({},m,{ref:w,style:{position:"absolute",...m.style},onPointerDown:ne(n.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),$.current=x.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),L(B))}),onPointerMove:ne(n.onPointerMove,L),onPointerUp:ne(n.onPointerUp,B=>{const F=B.target;F.hasPointerCapture(B.pointerId)&&F.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=S.current,b.viewport&&(b.viewport.style.scrollBehavior=""),$.current=null})})))}),Hp="ScrollAreaThumb",X9=p.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=i2(Hp,n.__scopeScrollArea);return p.createElement(Mt,{present:t||i.hasThumb},p.createElement(Z9,H({ref:e},r)))}),Z9=p.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,o=Mr(Hp,t),s=i2(Hp,t),{onThumbPositionChange:a}=s,c=we(e,d=>s.onThumbChange(d)),f=p.useRef(),h=Wf(()=>{f.current&&(f.current(),f.current=void 0)},100);return p.useEffect(()=>{const d=o.viewport;if(d){const m=()=>{if(h(),!f.current){const b=J9(d,a);f.current=b,a()}};return a(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[o.viewport,h,a]),p.createElement(me.div,H({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ne(n.onPointerDownCapture,d=>{const b=d.target.getBoundingClientRect(),x=d.clientX-b.left,v=d.clientY-b.top;s.onThumbPointerDown({x,y:v})}),onPointerUp:ne(n.onPointerUp,s.onThumbPointerUp)}))});function Wu(n){return n?parseInt(n,10):0}function s2(n,e){const t=n/e;return isNaN(t)?0:t}function Vf(n){const e=s2(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function Q9(n,e,t,r="ltr"){const i=Vf(t),o=i/2,s=e||o,a=i-s,c=t.scrollbar.paddingStart+s,f=t.scrollbar.size-t.scrollbar.paddingEnd-a,h=t.content-t.viewport,d=r==="ltr"?[0,h]:[h*-1,0];return a2([c,f],d)(n)}function sx(n,e,t="ltr"){const r=Vf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,c=t==="ltr"?[0,s]:[s*-1,0],f=Ip(n,c);return a2([0,s],[0,a])(f)}function a2(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function l2(n,e){return n>0&&n<e}const J9=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function i(){const o={left:n.scrollLeft,top:n.scrollTop},s=t.left!==o.left,a=t.top!==o.top;(s||a)&&e(),t=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Wf(n,e){const t=St(n),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function zu(n,e){const t=St(e);pt(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}const eL=W9,tL=j9,nL=H9,rL=X9;var c2=wl(),Wd=function(){},zf=p.forwardRef(function(n,e){var t=p.useRef(null),r=p.useState({onScrollCapture:Wd,onWheelCapture:Wd,onTouchMoveCapture:Wd}),i=r[0],o=r[1],s=n.forwardProps,a=n.children,c=n.className,f=n.removeScrollBar,h=n.enabled,d=n.shards,m=n.sideCar,b=n.noIsolation,x=n.inert,v=n.allowPinchZoom,w=n.as,$=w===void 0?"div":w,S=Vi(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=m,A=yl([t,e]),T=qe(qe({},S),i);return p.createElement(p.Fragment,null,h&&p.createElement(E,{sideCar:c2,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:t}),s?p.cloneElement(p.Children.only(a),qe(qe({},T),{ref:A})):p.createElement($,qe({},T,{className:c,ref:A}),a))});zf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zf.classNames={fullWidth:Ri,zeroRight:Ai};var Up=!1;if(typeof window<"u")try{var zc=Object.defineProperty({},"passive",{get:function(){return Up=!0,!0}});window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{Up=!1}var ns=Up?{passive:!1}:!1,iL=function(n){return n.tagName==="TEXTAREA"},u2=function(n,e){var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!iL(n)&&t[e]==="visible")},oL=function(n){return u2(n,"overflowY")},sL=function(n){return u2(n,"overflowX")},ax=function(n,e){var t=e;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=f2(n,t);if(r){var i=h2(n,t),o=i[1],s=i[2];if(o>s)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},aL=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},lL=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},f2=function(n,e){return n==="v"?oL(e):sL(e)},h2=function(n,e){return n==="v"?aL(e):lL(e)},cL=function(n,e){return n==="h"&&e==="rtl"?-1:1},uL=function(n,e,t,r,i){var o=cL(n,window.getComputedStyle(e).direction),s=o*r,a=t.target,c=e.contains(a),f=!1,h=s>0,d=0,m=0;do{var b=h2(n,a),x=b[0],v=b[1],w=b[2],$=v-w-o*x;(x||$)&&f2(n,a)&&(d+=$,m+=x),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&d===0||!h&&m===0)&&(f=!0),f},jc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},lx=function(n){return[n.deltaX,n.deltaY]},cx=function(n){return n&&"current"in n?n.current:n},fL=function(n,e){return n[0]===e[0]&&n[1]===e[1]},hL=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},dL=0,rs=[];function pL(n){var e=p.useRef([]),t=p.useRef([0,0]),r=p.useRef(),i=p.useState(dL++)[0],o=p.useState(function(){return Us()})[0],s=p.useRef(n);p.useEffect(function(){s.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var v=xl([n.lockRef.current],(n.shards||[]).map(cx),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var $=jc(v),S=t.current,E="deltaX"in v?v.deltaX:S[0]-$[0],A="deltaY"in v?v.deltaY:S[1]-$[1],T,O=v.target,P=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in v&&P==="h"&&O.type==="range")return!1;var L=ax(P,O);if(!L)return!0;if(L?T=P:(T=P==="v"?"h":"v",L=ax(P,O)),!L)return!1;if(!r.current&&"changedTouches"in v&&(E||A)&&(r.current=T),!T)return!0;var B=r.current||T;return uL(B,w,v,B==="h"?E:A)},[]),c=p.useCallback(function(v){var w=v;if(!(!rs.length||rs[rs.length-1]!==o)){var $="deltaY"in w?lx(w):jc(w),S=e.current.filter(function(T){return T.name===w.type&&T.target===w.target&&fL(T.delta,$)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var E=(s.current.shards||[]).map(cx).filter(Boolean).filter(function(T){return T.contains(w.target)}),A=E.length>0?a(w,E[0]):!s.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,$,S){var E={name:v,delta:w,target:$,should:S};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),h=p.useCallback(function(v){t.current=jc(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,lx(v),v.target,a(v,n.lockRef.current))},[]),m=p.useCallback(function(v){f(v.type,jc(v),v.target,a(v,n.lockRef.current))},[]);p.useEffect(function(){return rs.push(o),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ns),document.addEventListener("touchmove",c,ns),document.addEventListener("touchstart",h,ns),function(){rs=rs.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,ns),document.removeEventListener("touchmove",c,ns),document.removeEventListener("touchstart",h,ns)}},[]);var b=n.removeScrollBar,x=n.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:hL(i)}):null,b?p.createElement($l,{gapMode:"margin"}):null)}const mL=Cl(c2,pL);var d2=p.forwardRef(function(n,e){return p.createElement(zf,qe({},n,{ref:e,sideCar:mL}))});d2.classNames=zf.classNames;const p2="Dialog",[m2,g2]=Ct(p2),[UX,or]=m2(p2),gL="DialogTrigger",bL=p.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=or(gL,t),o=we(e,i.triggerRef);return p.createElement(me.button,H({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":e0(i.open)},r,{ref:o,onClick:ne(n.onClick,i.onOpenToggle)}))}),b2="DialogPortal",[vL,v2]=m2(b2,{forceMount:void 0}),xL=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,o=or(b2,e);return p.createElement(vL,{scope:e,forceMount:t},p.Children.map(r,s=>p.createElement(Mt,{present:t||o.open},p.createElement(zs,{asChild:!0,container:i},s))))},Kp="DialogOverlay",yL=p.forwardRef((n,e)=>{const t=v2(Kp,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=or(Kp,n.__scopeDialog);return o.modal?p.createElement(Mt,{present:r||o.open},p.createElement(wL,H({},i,{ref:e}))):null}),wL=p.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=or(Kp,t);return p.createElement(d2,{as:Sr,allowPinchZoom:!0,shards:[i.contentRef]},p.createElement(me.div,H({"data-state":e0(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),Rs="DialogContent",CL=p.forwardRef((n,e)=>{const t=v2(Rs,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=or(Rs,n.__scopeDialog);return p.createElement(Mt,{present:r||o.open},o.modal?p.createElement($L,H({},i,{ref:e})):p.createElement(SL,H({},i,{ref:e})))}),$L=p.forwardRef((n,e)=>{const t=or(Rs,n.__scopeDialog),r=p.useRef(null),i=we(e,t.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return vl(o)},[]),p.createElement(x2,H({},n,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(n.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=t.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:ne(n.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:ne(n.onFocusOutside,o=>o.preventDefault())}))}),SL=p.forwardRef((n,e)=>{const t=or(Rs,n.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return p.createElement(x2,H({},n,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=n.onCloseAutoFocus)===null||s===void 0||s.call(n,o),!o.defaultPrevented){var a;r.current||(a=t.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=n.onInteractOutside)===null||s===void 0||s.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((a=t.triggerRef.current)===null||a===void 0?void 0:a.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),x2=p.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=n,a=or(Rs,t),c=p.useRef(null),f=we(e,c);return js(),p.createElement(p.Fragment,null,p.createElement(Hs,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},p.createElement(Ro,H({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":e0(a.open)},s,{ref:f,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),y2="DialogTitle",kL=p.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=or(y2,t);return p.createElement(me.h2,H({id:i.titleId},r,{ref:e}))}),EL="DialogDescription",AL=p.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=or(EL,t);return p.createElement(me.p,H({id:i.descriptionId},r,{ref:e}))}),RL="DialogClose",TL=p.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=or(RL,t);return p.createElement(me.button,H({type:"button"},r,{ref:e,onClick:ne(n.onClick,()=>i.onOpenChange(!1))}))});function e0(n){return n?"open":"closed"}const ML="DialogTitleWarning",[PL,KX]=sg(ML,{contentName:Rs,titleName:y2,docsSlug:"dialog"}),w2=bL,C2=xL,$2=yL,S2=CL,k2=kL,OL=AL,t0=TL,DL="AlertDialog",[IL,qX]=Ct(DL,[g2]),Hi=g2(),_L=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Hi(t);return p.createElement(w2,H({},i,r,{ref:e}))}),LL=n=>{const{__scopeAlertDialog:e,...t}=n,r=Hi(e);return p.createElement(C2,H({},r,t))},NL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Hi(t);return p.createElement($2,H({},i,r,{ref:e}))}),E2="AlertDialogContent",[BL,FL]=IL(E2),VL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,o=Hi(t),s=p.useRef(null),a=we(e,s),c=p.useRef(null);return p.createElement(PL,{contentName:E2,titleName:WL,docsSlug:"alert-dialog"},p.createElement(BL,{scope:t,cancelRef:c},p.createElement(S2,H({role:"alertdialog"},o,i,{ref:a,onOpenAutoFocus:ne(i.onOpenAutoFocus,f=>{var h;f.preventDefault(),(h=c.current)===null||h===void 0||h.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault()}),p.createElement(ag,null,r),!1)))}),WL="AlertDialogTitle",zL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Hi(t);return p.createElement(k2,H({},i,r,{ref:e}))}),jL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Hi(t);return p.createElement(OL,H({},i,r,{ref:e}))}),HL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Hi(t);return p.createElement(t0,H({},i,r,{ref:e}))}),UL="AlertDialogCancel",KL=p.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=FL(UL,t),o=Hi(t),s=we(e,i);return p.createElement(t0,H({},o,r,{ref:s}))}),qL=_L,GL=LL,YL=NL,XL=VL,ZL=HL,QL=KL,JL=zL,eN=jL;var A2=wl(),zd=function(){},jf=p.forwardRef(function(n,e){var t=p.useRef(null),r=p.useState({onScrollCapture:zd,onWheelCapture:zd,onTouchMoveCapture:zd}),i=r[0],o=r[1],s=n.forwardProps,a=n.children,c=n.className,f=n.removeScrollBar,h=n.enabled,d=n.shards,m=n.sideCar,b=n.noIsolation,x=n.inert,v=n.allowPinchZoom,w=n.as,$=w===void 0?"div":w,S=n.gapMode,E=Vi(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,T=yl([t,e]),O=qe(qe({},E),i);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:A2,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:t,gapMode:S}),s?p.cloneElement(p.Children.only(a),qe(qe({},O),{ref:T})):p.createElement($,qe({},O,{className:c,ref:T}),a))});jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jf.classNames={fullWidth:Ri,zeroRight:Ai};var qp=!1;if(typeof window<"u")try{var Hc=Object.defineProperty({},"passive",{get:function(){return qp=!0,!0}});window.addEventListener("test",Hc,Hc),window.removeEventListener("test",Hc,Hc)}catch{qp=!1}var is=qp?{passive:!1}:!1,tN=function(n){return n.tagName==="TEXTAREA"},R2=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!tN(n)&&t[e]==="visible")},nN=function(n){return R2(n,"overflowY")},rN=function(n){return R2(n,"overflowX")},ux=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=T2(n,r);if(i){var o=M2(n,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},iN=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},oN=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},T2=function(n,e){return n==="v"?nN(e):rN(e)},M2=function(n,e){return n==="v"?iN(e):oN(e)},sN=function(n,e){return n==="h"&&e==="rtl"?-1:1},aN=function(n,e,t,r,i){var o=sN(n,window.getComputedStyle(e).direction),s=o*r,a=t.target,c=e.contains(a),f=!1,h=s>0,d=0,m=0;do{var b=M2(n,a),x=b[0],v=b[1],w=b[2],$=v-w-o*x;(x||$)&&T2(n,a)&&(d+=$,m+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(d)<1||!h&&Math.abs(m)<1)&&(f=!0),f},Uc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},fx=function(n){return[n.deltaX,n.deltaY]},hx=function(n){return n&&"current"in n?n.current:n},lN=function(n,e){return n[0]===e[0]&&n[1]===e[1]},cN=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},uN=0,os=[];function fN(n){var e=p.useRef([]),t=p.useRef([0,0]),r=p.useRef(),i=p.useState(uN++)[0],o=p.useState(Us)[0],s=p.useRef(n);p.useEffect(function(){s.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var v=xl([n.lockRef.current],(n.shards||[]).map(hx),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var $=Uc(v),S=t.current,E="deltaX"in v?v.deltaX:S[0]-$[0],A="deltaY"in v?v.deltaY:S[1]-$[1],T,O=v.target,P=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in v&&P==="h"&&O.type==="range")return!1;var L=ux(P,O);if(!L)return!0;if(L?T=P:(T=P==="v"?"h":"v",L=ux(P,O)),!L)return!1;if(!r.current&&"changedTouches"in v&&(E||A)&&(r.current=T),!T)return!0;var B=r.current||T;return aN(B,w,v,B==="h"?E:A)},[]),c=p.useCallback(function(v){var w=v;if(!(!os.length||os[os.length-1]!==o)){var $="deltaY"in w?fx(w):Uc(w),S=e.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&lN(T.delta,$)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var E=(s.current.shards||[]).map(hx).filter(Boolean).filter(function(T){return T.contains(w.target)}),A=E.length>0?a(w,E[0]):!s.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,$,S){var E={name:v,delta:w,target:$,should:S,shadowParent:hN($)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),h=p.useCallback(function(v){t.current=Uc(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,fx(v),v.target,a(v,n.lockRef.current))},[]),m=p.useCallback(function(v){f(v.type,Uc(v),v.target,a(v,n.lockRef.current))},[]);p.useEffect(function(){return os.push(o),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,is),document.addEventListener("touchmove",c,is),document.addEventListener("touchstart",h,is),function(){os=os.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,is),document.removeEventListener("touchmove",c,is),document.removeEventListener("touchstart",h,is)}},[]);var b=n.removeScrollBar,x=n.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:cN(i)}):null,b?p.createElement($l,{gapMode:n.gapMode}):null)}function hN(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const dN=Cl(A2,fN);var P2=p.forwardRef(function(n,e){return p.createElement(jf,qe({},n,{ref:e,sideCar:dN}))});P2.classNames=jf.classNames;const O2=1024;let pN=0,jd=class{constructor(e,t){this.from=e,this.to=t}};class je{constructor(e={}){this.id=pN++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=gn.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}je.closedBy=new je({deserialize:n=>n.split(" ")});je.openedBy=new je({deserialize:n=>n.split(" ")});je.group=new je({deserialize:n=>n.split(" ")});je.isolate=new je({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});je.contextHash=new je({perNode:!0});je.lookAhead=new je({perNode:!0});je.mounted=new je({perNode:!0});class ju{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[je.mounted.id]}}const mN=Object.create(null);class gn{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):mN,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new gn(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(je.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(je.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}}gn.none=new gn("",Object.create(null),0,8);class n0{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}t.push(i?new gn(r.name,i,r.id,r.flags):r)}return new n0(t)}}const Kc=new WeakMap,dx=new WeakMap;var Dt;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Dt||(Dt={}));class kt{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=ju.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Yp(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Kc.get(this)||this.topNode,o=new Yp(i);return o.moveTo(e,t),Kc.set(this,o._tree),o}get topNode(){return new Wn(this,0,0,null)}resolve(e,t=0){let r=Ga(Kc.get(this)||this.topNode,e,t,!1);return Kc.set(this,r),r}resolveInner(e,t=0){let r=Ga(dx.get(this)||this.topNode,e,t,!0);return dx.set(this,r),r}resolveStack(e,t=0){return vN(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,a=(s&Dt.IncludeAnonymous)>0;for(let c=this.cursor(s|Dt.IncludeAnonymous);;){let f=!1;if(c.from<=o&&c.to>=i&&(!a&&c.type.isAnonymous||t(c)!==!1)){if(c.firstChild())continue;f=!0}for(;f&&r&&(a||!c.type.isAnonymous)&&r(c),!c.nextSibling();){if(!c.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:o0(gn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new kt(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new kt(gn.none,t,r,i)))}static build(e){return xN(e)}}kt.empty=new kt(gn.none,[],[],0);class r0{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new r0(this.buffer,this.index)}}class Ii{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return gn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,t,r,i,o){let{buffer:s}=this,a=-1;for(let c=e;c!=t&&!(D2(o,i,s[c+1],s[c+2])&&(a=c,r>0));c=s[c+3]);return a}slice(e,t,r){let i=this.buffer,o=new Uint16Array(t-e),s=0;for(let a=e,c=0;a<t;){o[c++]=i[a++],o[c++]=i[a++]-r;let f=o[c++]=i[a++]-r;o[c++]=i[a++]-e,s=Math.max(s,f)}return new Ii(o,s,this.set)}}function D2(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Ga(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!r&&n instanceof Wn&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=r?0:Dt.IgnoreOverlays;if(r)for(let s=n,a=s.parent;a;s=a,a=s.parent)s instanceof Wn&&s.index<0&&((i=a.enter(e,t,o))===null||i===void 0?void 0:i.from)!=s.from&&(n=a);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}class I2{cursor(e=0){return new Yp(this,e)}getChild(e,t=null,r=null){let i=px(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return px(this,e,t,r)}resolve(e,t=0){return Ga(this,e,t,!1)}resolveInner(e,t=0){return Ga(this,e,t,!0)}matchContext(e){return Gp(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Wn extends I2{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let s=this;;){for(let{children:a,positions:c}=s._tree,f=t>0?a.length:-1;e!=f;e+=t){let h=a[e],d=c[e]+s.from;if(D2(i,r,d,d+h.length)){if(h instanceof Ii){if(o&Dt.ExcludeBuffers)continue;let m=h.findChild(0,h.buffer.length,t,r-d,i);if(m>-1)return new $i(new gN(s,h,e,d),null,m)}else if(o&Dt.IncludeAnonymous||!h.type.isAnonymous||i0(h)){let m;if(!(o&Dt.IgnoreMounts)&&(m=ju.get(h))&&!m.overlay)return new Wn(m.tree,d,e,s);let b=new Wn(h,d,e,s);return o&Dt.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(t<0?h.children.length-1:0,t,r,i)}}}if(o&Dt.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Dt.IgnoreOverlays)&&(i=ju.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:a}of i.overlay)if((t>0?s<=o:s<o)&&(t<0?a>=o:a>o))return new Wn(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function px(n,e,t,r){let i=n.cursor(),o=[];if(!i.firstChild())return o;if(t!=null){for(let s=!1;!s;)if(s=i.type.is(t),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function Gp(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class gN{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class $i extends I2{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new $i(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Dt.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new $i(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new $i(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new $i(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),t.push(0)}return new kt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function _2(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let s=n[o];(s.from>t.from||s.to<t.to)&&(t=s,e=o)}let r=t instanceof Wn&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new bN(i,t)}class bN{constructor(e,t){this.heads=e,this.node=t}get next(){return _2(this.heads)}}function vN(n,e,t){let r=n.resolveInner(e,t),i=null;for(let o=r instanceof Wn?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,t)),o=s}else{let s=ju.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new Wn(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(Ga(a,e,t,!1))}}return i?_2(i):r}class Yp{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Wn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Wn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Dt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Dt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Dt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let o=t+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let a=r._tree.children[o];if(this.mode&Dt.IncludeAnonymous||a instanceof Ii||!a.type.isAnonymous||i0(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;t=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)t=new $i(this.buffer,t,this.stack[i]);return this.bufferNode=new $i(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Gp(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return Gp(this._tree,e,i);let s=r[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function i0(n){return n.children.some(e=>e instanceof Ii||!e.type.isAnonymous||i0(e))}function xN(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=O2,reused:o=[],minRepeatType:s=r.types.length}=n,a=Array.isArray(t)?new r0(t,t.length):t,c=r.types,f=0,h=0;function d(T,O,P,L,B,F){let{id:K,start:z,end:ee,size:Z}=a,re=h,ue=f;for(;Z<0;)if(a.next(),Z==-1){let he=o[K];P.push(he),L.push(z-T);return}else if(Z==-3){f=K;return}else if(Z==-4){h=K;return}else throw new RangeError(`Unrecognized record size: ${Z}`);let Q=c[K],ie,q,le=z-T;if(ee-z<=i&&(q=w(a.pos-O,B))){let he=new Uint16Array(q.size-q.skip),Oe=a.pos-q.size,ve=he.length;for(;a.pos>Oe;)ve=$(q.start,he,ve);ie=new Ii(he,ee-q.start,r),le=q.start-T}else{let he=a.pos-Z;a.next();let Oe=[],ve=[],Ue=K>=s?K:-1,Ee=0,ze=ee;for(;a.pos>he;)Ue>=0&&a.id==Ue&&a.size>=0?(a.end<=ze-i&&(x(Oe,ve,z,Ee,a.end,ze,Ue,re,ue),Ee=Oe.length,ze=a.end),a.next()):F>2500?m(z,he,Oe,ve):d(z,he,Oe,ve,Ue,F+1);if(Ue>=0&&Ee>0&&Ee<Oe.length&&x(Oe,ve,z,Ee,z,ze,Ue,re,ue),Oe.reverse(),ve.reverse(),Ue>-1&&Ee>0){let de=b(Q,ue);ie=o0(Q,Oe,ve,0,Oe.length,0,ee-z,de,de)}else ie=v(Q,Oe,ve,ee-z,re-ee,ue)}P.push(ie),L.push(le)}function m(T,O,P,L){let B=[],F=0,K=-1;for(;a.pos>O;){let{id:z,start:ee,end:Z,size:re}=a;if(re>4)a.next();else{if(K>-1&&ee<K)break;K<0&&(K=Z-i),B.push(z,ee,Z),F++,a.next()}}if(F){let z=new Uint16Array(F*4),ee=B[B.length-2];for(let Z=B.length-3,re=0;Z>=0;Z-=3)z[re++]=B[Z],z[re++]=B[Z+1]-ee,z[re++]=B[Z+2]-ee,z[re++]=re;P.push(new Ii(z,B[2]-ee,r)),L.push(ee-T)}}function b(T,O){return(P,L,B)=>{let F=0,K=P.length-1,z,ee;if(K>=0&&(z=P[K])instanceof kt){if(!K&&z.type==T&&z.length==B)return z;(ee=z.prop(je.lookAhead))&&(F=L[K]+z.length+ee)}return v(T,P,L,B,F,O)}}function x(T,O,P,L,B,F,K,z,ee){let Z=[],re=[];for(;T.length>L;)Z.push(T.pop()),re.push(O.pop()+P-B);T.push(v(r.types[K],Z,re,F-B,z-F,ee)),O.push(B-P)}function v(T,O,P,L,B,F,K){if(F){let z=[je.contextHash,F];K=K?[z].concat(K):[z]}if(B>25){let z=[je.lookAhead,B];K=K?[z].concat(K):[z]}return new kt(T,O,P,L,K)}function w(T,O){let P=a.fork(),L=0,B=0,F=0,K=P.end-i,z={size:0,start:0,skip:0};e:for(let ee=P.pos-T;P.pos>ee;){let Z=P.size;if(P.id==O&&Z>=0){z.size=L,z.start=B,z.skip=F,F+=4,L+=4,P.next();continue}let re=P.pos-Z;if(Z<0||re<ee||P.start<K)break;let ue=P.id>=s?4:0,Q=P.start;for(P.next();P.pos>re;){if(P.size<0)if(P.size==-3)ue+=4;else break e;else P.id>=s&&(ue+=4);P.next()}B=Q,L+=Z,F+=ue}return(O<0||L==T)&&(z.size=L,z.start=B,z.skip=F),z.size>4?z:void 0}function $(T,O,P){let{id:L,start:B,end:F,size:K}=a;if(a.next(),K>=0&&L<s){let z=P;if(K>4){let ee=a.pos-(K-4);for(;a.pos>ee;)P=$(T,O,P)}O[--P]=z,O[--P]=F-T,O[--P]=B-T,O[--P]=L}else K==-3?f=L:K==-4&&(h=L);return P}let S=[],E=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,S,E,-1,0);let A=(e=n.length)!==null&&e!==void 0?e:S.length?E[0]+S[0].length:0;return new kt(c[n.topID],S.reverse(),E.reverse(),A)}const mx=new WeakMap;function wu(n,e){if(!n.isAnonymous||e instanceof Ii||e.type!=n)return 1;let t=mx.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof kt)){t=1;break}t+=wu(n,r)}mx.set(e,t)}return t}function o0(n,e,t,r,i,o,s,a,c){let f=0;for(let x=r;x<i;x++)f+=wu(n,e[x]);let h=Math.ceil(f*1.5/8),d=[],m=[];function b(x,v,w,$,S){for(let E=w;E<$;){let A=E,T=v[E],O=wu(n,x[E]);for(E++;E<$;E++){let P=wu(n,x[E]);if(O+P>=h)break;O+=P}if(E==A+1){if(O>h){let P=x[A];b(P.children,P.positions,0,P.children.length,v[A]+S);continue}d.push(x[A])}else{let P=v[E-1]+x[E-1].length-T;d.push(o0(n,x,v,A,E,T,P,null,c))}m.push(T+S-o)}}return b(e,t,r,i,0),(a||c)(d,m,s)}class po{constructor(e,t,r,i,o=!1,s=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new po(0,e.length,e,0,!1,r)];for(let o of t)o.to>e.length&&i.push(o);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let a=0,c=0,f=0;;a++){let h=a<t.length?t[a]:null,d=h?h.fromA:1e9;if(d-c>=r)for(;s&&s.from<d;){let m=s;if(c>=m.from||d<=m.to||f){let b=Math.max(m.from,c)-f,x=Math.min(m.to,d)-f;m=b>=x?null:new po(b,x,m.tree,m.offset+f,a>0,!!h)}if(m&&i.push(m),s.to>d)break;s=o<e.length?e[o++]:null}if(!h)break;c=h.toA,f=h.toA-h.toB}return i}}class L2{startParse(e,t,r){return typeof e=="string"&&(e=new yN(e)),r=r?r.length?r.map(i=>new jd(i.from,i.to)):[new jd(0,0)]:[new jd(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let o=i.advance();if(o)return o}}}class yN{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new je({perNode:!0});var wN={},gx={};class Hu{constructor(e,t,r,i,o,s,a,c,f,h=0,d){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=c,this.curContext=f,this.lookAhead=h,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new Hu(e,[],t,r,r,0,[],0,i?new bx(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:o}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let a=o.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(i,this.reducePos);return}let c=this.stack.length-(r-1)*3-(e&262144?6:0),f=c?this.stack[c-2]:this.p.ranges[0].from,h=this.reducePos-f;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=h));let d=c?this.stack[c-1]:0,m=this.bufferBase+this.buffer.length-d;if(i<o.minRepeatTerm||e&131072){let b=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,f,b,m+4,!0)}if(e&262144)this.state=this.stack[c];else{let b=this.stack[c-3];this.state=o.getGoto(b,i,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(i,f)}storeNode(e,t,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(t==r)return;if(s.buffer[a-2]>=t){s.buffer[a-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,t,r,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0){let a=!1;for(let c=s;c>0&&this.buffer[c-2]>r;c-=4)if(this.buffer[c-1]>=0){a=!0;break}if(a)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4)}this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=r,this.buffer[s+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let o=e,{parser:s}=this.p;(i>this.pos||t<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(t,r),t<=s.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new Hu(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new CN(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let o=0,s;o<t.length;o+=2)(s=t[o+1])!=this.state&&this.p.parser.hasAction(s,e)&&i.push(t[o],s);if(this.stack.length<120)for(let o=0;i.length<8&&o<t.length;o+=2){let s=t[o+1];i.some((a,c)=>c&1&&a==s)||i.push(t[o],s)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let o=t[i+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(t[i],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,o=this.stack.length-r*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;t=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,o)=>{if(!t.includes(i))return t.push(i),e.allActions(i,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let c=s&65535,f=this.stack.length-a*3;if(f>=0&&e.getGoto(this.stack[f],c,!1)>=0)return a<<19|65536|c}}else{let a=r(s,o+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new bx(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class bx{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class CN{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class Uu{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Uu(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Uu(this.stack,this.pos,this.index)}}function qc(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let o=0;for(;;){let s=n.charCodeAt(r++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let c=s-32;if(c>=46&&(c-=46,a=!0),o+=c,a)break;o*=46}t?t[i++]=o:t=new e(o)}return t}class Cu{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const vx=new Cu;class $N{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=vx,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let s=this.ranges[--i];o-=r.from-s.to,r=s}for(;t<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];o+=s.from-r.to,r=s}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=vx,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class bs{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;SN(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}bs.prototype.contextual=bs.prototype.fallback=bs.prototype.extend=!1;bs.prototype.fallback=bs.prototype.extend=!1;function SN(n,e,t,r,i,o){let s=0,a=1<<r,{dialect:c}=t.p.parser;e:for(;a&n[s];){let f=n[s+1];for(let b=s+3;b<f;b+=2)if((n[b+1]&a)>0){let x=n[b];if(c.allows(x)&&(e.token.value==-1||e.token.value==x||kN(x,e.token.value,i,o))){e.acceptToken(x);break}}let h=e.next,d=0,m=n[s+2];if(e.next<0&&m>d&&n[f+m*3-3]==65535){s=n[f+m*3-1];continue e}for(;d<m;){let b=d+m>>1,x=f+b+(b<<1),v=n[x],w=n[x+1]||65536;if(h<v)m=b;else if(h>=w)d=b+1;else{s=n[x+2],e.advance();continue e}}break}}function xx(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function kN(n,e,t,r){let i=xx(t,r,e);return i<0||xx(t,r,n)<i}const Sn=typeof wN<"u"&&gx&&/\bparse\b/.test(gx.LOG);let Hd=null;function yx(n,e,t){let r=n.cursor(Dt.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class EN{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?yx(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?yx(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],s=this.start[t]+r.positions[i];if(s>e)return this.nextStart=s,null;if(o instanceof kt){if(s==e){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let c=o.prop(je.lookAhead);if(!c||a+c<this.fragment.to)return o}}this.index[t]++,s+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[t]++,this.nextStart=s+o.length}}}class AN{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Cu)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,s=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,c=0;for(let f=0;f<o.length;f++){if(!(1<<f&s))continue;let h=o[f],d=this.tokens[f];if(!(r&&!h.fallback)&&((h.contextual||d.start!=e.pos||d.mask!=s||d.context!=a)&&(this.updateCachedToken(d,h,e),d.mask=s,d.context=a),d.lookAhead>d.end+25&&(c=Math.max(d.lookAhead,c)),d.value!=0)){let m=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!h.extend&&(r=d,t>m))break}}for(;this.actions.length>t;)this.actions.pop();return c&&e.setLookAhead(c),!r&&e.pos==this.stream.end&&(r=new Cu,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Cu,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==e.value){let a=o.specializers[s](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:o}=e,{parser:s}=e.p,{data:a}=s;for(let c=0;c<2;c++)for(let f=s.stateSlot(o,c?2:1);;f+=3){if(a[f]==65535)if(a[f+1]==1)f=Ur(a,f+2);else{i==0&&a[f+1]==2&&(i=this.putAction(Ur(a,f+2),t,r,i));break}a[f]==t&&(i=this.putAction(Ur(a,f+1),t,r,i))}return i}}class RN{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new $N(t,i),this.tokens=new AN(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[Hu.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new EN(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[s]=e;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<e.length;s++){let a=e[s];for(;;){if(this.tokens.mainToken=null,a.pos>t)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],o=[]),i.push(a);let c=this.tokens.getMainToken(a);o.push(c.value,c.end)}}break}}if(!r.length){let s=i&&MN(i);if(s)return Sn&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw Sn&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(s)return Sn&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((a,c)=>c.score-a.score);r.length>s;)r.pop();r.some(a=>a.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let a=r[s];for(let c=s+1;c<r.length;c++){let f=r[c];if(a.sameState(f)||a.buffer.length>500&&f.buffer.length>500)if((a.score-f.score||a.buffer.length-f.buffer.length)>0)r.splice(c--,1);else{r.splice(s--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:o}=this,s=Sn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,h=f?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let m=this.parser.nodeSet.types[d.type.id]==d.type?o.getGoto(e.state,d.type.id):-1;if(m>-1&&d.length&&(!f||(d.prop(je.contextHash)||0)==h))return e.useNode(d,m),Sn&&console.log(s+this.stackID(e)+` (via reuse of ${o.getName(d.type.id)})`),!0;if(!(d instanceof kt)||d.children.length==0||d.positions[0]>0)break;let b=d.children[0];if(b instanceof kt&&d.positions[0]==0)d=b;else break}}let a=o.stateSlot(e.state,4);if(a>0)return e.reduce(a),Sn&&console.log(s+this.stackID(e)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let f=0;f<c.length;){let h=c[f++],d=c[f++],m=c[f++],b=f==c.length||!r,x=b?e:e.split(),v=this.tokens.mainToken;if(x.apply(h,d,v?v.start:x.pos,m),Sn&&console.log(s+this.stackID(x)+` (via ${h&65536?`reduce of ${o.getName(h&65535)}`:"shift"} for ${o.getName(d)} @ ${i}${x==e?"":", split"})`),b)return!0;x.pos>i?t.push(x):r.push(x)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return wx(e,t),!0}}runRecovery(e,t,r){let i=null,o=!1;for(let s=0;s<e.length;s++){let a=e[s],c=t[s<<1],f=t[(s<<1)+1],h=Sn?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),Sn&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),m=h;for(let b=0;d.forceReduce()&&b<10&&(Sn&&console.log(m+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));b++)Sn&&(m=this.stackID(d)+" -> ");for(let b of a.recoverByInsert(c))Sn&&console.log(h+this.stackID(b)+" (via recover-insert)"),this.advanceFully(b,r);this.stream.end>a.pos?(f==a.pos&&(f++,c=0),a.recoverByDelete(c,f),Sn&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(c)})`),wx(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),kt.build({buffer:Uu.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Hd||(Hd=new WeakMap)).get(e);return t||Hd.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function wx(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class TN{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class Ku extends L2{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<t.length;a++)i.push([]);function o(a,c,f){i[a].push([c,c.deserialize(String(f))])}if(e.nodeProps)for(let a of e.nodeProps){let c=a[0];typeof c=="string"&&(c=je[c]);for(let f=1;f<a.length;){let h=a[f++];if(h>=0)o(h,c,a[f++]);else{let d=a[f+-h];for(let m=-h;m>0;m--)o(a[f++],c,d);f++}}}this.nodeSet=new n0(t.map((a,c)=>gn.define({name:c>=this.minRepeatTerm?void 0:a,id:c,props:i[c],top:r.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=O2;let s=qc(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(Cx),this.states=qc(e.states,Uint32Array),this.data=qc(e.stateData),this.goto=qc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new bs(s,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new RN(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let o=i[t+1];;){let s=i[o++],a=s&1,c=i[o++];if(a&&r)return c;for(let f=o+(s>>1);o<f;o++)if(i[o]==e)return c;if(a)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),s;;o+=3){if((s=r[o])==65535)if(r[o+1]==1)s=r[o=Ur(r,o+2)];else{if(r[o+1]==2)return Ur(r,o+2);break}if(s==t||s==0)return Ur(r,o+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=Ur(this.data,o+2);else break;i=t(Ur(this.data,o+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ur(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((o,s)=>s&1&&o==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(Ku.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(a=>a.from==r.external);if(!o)return r;let s=Object.assign(Object.assign({},r),{external:o.to});return t.specializers[i]=Cx(s),s})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let o of e.split(" ")){let s=t.indexOf(o);s>=0&&(r[s]=!0)}let i=null;for(let o=0;o<t.length;o++)if(!r[o])for(let s=this.dialects[t[o]],a;(a=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new TN(e,r,i)}static deserialize(e){return new Ku(e)}}function Ur(n,e){return n[e]|n[e+1]<<16}function MN(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Cx(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}let PN=0,Kr=class Xp{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=PN++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof Xp&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new Xp(r,[],null,[]);if(i.set.push(i),t)for(let o of t.set)i.set.push(o);return i}static defineModifier(e){let t=new qu(e);return r=>r.modified.indexOf(t)>-1?r:qu.get(r.base||r,r.modified.concat(t).sort((i,o)=>i.id-o.id))}},ON=0;class qu{constructor(e){this.name=e,this.instances=[],this.id=ON++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&DN(t,a.modified));if(r)return r;let i=[],o=new Kr(e.name,i,e,t);for(let a of t)a.instances.push(o);let s=IN(t);for(let a of e.set)if(!a.modified.length)for(let c of s)i.push(qu.get(a,c));return o}}function DN(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function IN(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function N2(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let o=[],s=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){s=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!m)throw new RangeError("Invalid path: "+i);if(o.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),d+=m[0].length,d==i.length)break;let b=i[d++];if(d==i.length&&b=="!"){s=0;break}if(b!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let c=o.length-1,f=o[c];if(!f)throw new RangeError("Invalid path: "+i);let h=new Gu(r,s,c>0?o.slice(0,c):null);e[f]=h.sort(e[f])}}return B2.add(e)}const B2=new je;class Gu{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Gu.empty=new Gu([],2,null);function F2(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let s of o.tag)t[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let a of o)for(let c of a.set){let f=t[c.id];if(f){s=s?s+" "+f:f;break}}return s},scope:r}}function _N(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function LN(n,e,t,r=0,i=n.length){let o=new NN(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,"",o.highlighters),o.flush(i)}class NN{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:s,from:a,to:c}=e;if(a>=r||c<=t)return;s.isTop&&(o=this.highlighters.filter(b=>!b.scope||b.scope(s)));let f=i,h=BN(e)||Gu.empty,d=_N(o,h.tags);if(d&&(f&&(f+=" "),f+=d,h.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(t,a),f),h.opaque)return;let m=e.tree&&e.tree.prop(je.mounted);if(m&&m.overlay){let b=e.node.enter(m.overlay[0].from+a,1),x=this.highlighters.filter(w=>!w.scope||w.scope(m.tree.type)),v=e.firstChild();for(let w=0,$=a;;w++){let S=w<m.overlay.length?m.overlay[w]:null,E=S?S.from+a:c,A=Math.max(t,$),T=Math.min(r,E);if(A<T&&v)for(;e.from<T&&(this.highlightRange(e,A,T,i,o),this.startSpan(Math.min(T,e.to),f),!(e.to>=E||!e.nextSibling())););if(!S||E>r)break;$=S.to+a,$>t&&(this.highlightRange(b.cursor(),Math.max(t,S.from+a),Math.min(r,$),"",x),this.startSpan(Math.min(r,$),f))}v&&e.parent()}else if(e.firstChild()){m&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),f)}while(e.nextSibling());e.parent()}}}function BN(n){let e=n.type.prop(B2);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const oe=Kr.define,Gc=oe(),yi=oe(),$x=oe(yi),Sx=oe(yi),wi=oe(),Yc=oe(wi),Ud=oe(wi),mr=oe(),oo=oe(mr),hr=oe(),dr=oe(),Zp=oe(),wa=oe(Zp),Xc=oe(),j={comment:Gc,lineComment:oe(Gc),blockComment:oe(Gc),docComment:oe(Gc),name:yi,variableName:oe(yi),typeName:$x,tagName:oe($x),propertyName:Sx,attributeName:oe(Sx),className:oe(yi),labelName:oe(yi),namespace:oe(yi),macroName:oe(yi),literal:wi,string:Yc,docString:oe(Yc),character:oe(Yc),attributeValue:oe(Yc),number:Ud,integer:oe(Ud),float:oe(Ud),bool:oe(wi),regexp:oe(wi),escape:oe(wi),color:oe(wi),url:oe(wi),keyword:hr,self:oe(hr),null:oe(hr),atom:oe(hr),unit:oe(hr),modifier:oe(hr),operatorKeyword:oe(hr),controlKeyword:oe(hr),definitionKeyword:oe(hr),moduleKeyword:oe(hr),operator:dr,derefOperator:oe(dr),arithmeticOperator:oe(dr),logicOperator:oe(dr),bitwiseOperator:oe(dr),compareOperator:oe(dr),updateOperator:oe(dr),definitionOperator:oe(dr),typeOperator:oe(dr),controlOperator:oe(dr),punctuation:Zp,separator:oe(Zp),bracket:wa,angleBracket:oe(wa),squareBracket:oe(wa),paren:oe(wa),brace:oe(wa),content:mr,heading:oo,heading1:oe(oo),heading2:oe(oo),heading3:oe(oo),heading4:oe(oo),heading5:oe(oo),heading6:oe(oo),contentSeparator:oe(mr),list:oe(mr),quote:oe(mr),emphasis:oe(mr),strong:oe(mr),link:oe(mr),monospace:oe(mr),strikethrough:oe(mr),inserted:oe(),deleted:oe(),changed:oe(),invalid:oe(),meta:Xc,documentMeta:oe(Xc),annotation:oe(Xc),processingInstruction:oe(Xc),definition:Kr.defineModifier("definition"),constant:Kr.defineModifier("constant"),function:Kr.defineModifier("function"),standard:Kr.defineModifier("standard"),local:Kr.defineModifier("local"),special:Kr.defineModifier("special")};for(let n in j){let e=j[n];e instanceof Kr&&(e.name=n)}F2([{tag:j.link,class:"tok-link"},{tag:j.heading,class:"tok-heading"},{tag:j.emphasis,class:"tok-emphasis"},{tag:j.strong,class:"tok-strong"},{tag:j.keyword,class:"tok-keyword"},{tag:j.atom,class:"tok-atom"},{tag:j.bool,class:"tok-bool"},{tag:j.url,class:"tok-url"},{tag:j.labelName,class:"tok-labelName"},{tag:j.inserted,class:"tok-inserted"},{tag:j.deleted,class:"tok-deleted"},{tag:j.literal,class:"tok-literal"},{tag:j.string,class:"tok-string"},{tag:j.number,class:"tok-number"},{tag:[j.regexp,j.escape,j.special(j.string)],class:"tok-string2"},{tag:j.variableName,class:"tok-variableName"},{tag:j.local(j.variableName),class:"tok-variableName tok-local"},{tag:j.definition(j.variableName),class:"tok-variableName tok-definition"},{tag:j.special(j.variableName),class:"tok-variableName2"},{tag:j.definition(j.propertyName),class:"tok-propertyName tok-definition"},{tag:j.typeName,class:"tok-typeName"},{tag:j.namespace,class:"tok-namespace"},{tag:j.className,class:"tok-className"},{tag:j.macroName,class:"tok-macroName"},{tag:j.propertyName,class:"tok-propertyName"},{tag:j.operator,class:"tok-operator"},{tag:j.comment,class:"tok-comment"},{tag:j.meta,class:"tok-meta"},{tag:j.invalid,class:"tok-invalid"},{tag:j.punctuation,class:"tok-punctuation"}]);const FN=N2({String:j.string,Number:j.number,"True False":j.bool,PropertyName:j.propertyName,Null:j.null,", :":j.separator,"[ ]":j.squareBracket,"{ }":j.brace}),VN=Ku.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[FN],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});let Qp=[],V2=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?V2:Qp).push(t=t+n[e])})();function WN(n){if(n<768)return!1;for(let e=0,t=Qp.length;;){let r=e+t>>1;if(n<Qp[r])t=r;else if(n>=V2[r])e=r+1;else return!0;if(e==t)return!1}}function kx(n){return n>=127462&&n<=127487}const Ex=8205;function zN(n,e,t=!0,r=!0){return(t?W2:jN)(n,e,r)}function W2(n,e,t){if(e==n.length)return e;e&&z2(n.charCodeAt(e))&&j2(n.charCodeAt(e-1))&&e--;let r=Kd(n,e);for(e+=Ax(r);e<n.length;){let i=Kd(n,e);if(r==Ex||i==Ex||t&&WN(i))e+=Ax(i),r=i;else if(kx(i)){let o=0,s=e-2;for(;s>=0&&kx(Kd(n,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function jN(n,e,t){for(;e>0;){let r=W2(n,e-2,t);if(r<e)return r;e--}return 0}function Kd(n,e){let t=n.charCodeAt(e);if(!j2(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return z2(r)?(t-55296<<10)+(r-56320)+65536:t}function z2(n){return n>=56320&&n<57344}function j2(n){return n>=55296&&n<56320}function Ax(n){return n<65536?1:2}class Ze{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Ts(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),gr.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Ts(this,e,t);let r=[];return this.decompose(e,t,r,0),gr.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new La(this),o=new La(e);for(let s=t,a=t;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new La(this,e)}iterRange(e,t=this.length){return new H2(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new U2(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ze.empty:e.length<=32?new xt(e):gr.from(xt.split(e,[]))}}class xt extends Ze{constructor(e,t=HN(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((t?r:a)>=e)return new UN(i,a,r,s);i=a+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new xt(Rx(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),a=$u(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new xt(a,s.length+o.length));else{let c=a.length>>1;r.push(new xt(a.slice(0,c)),new xt(a.slice(c)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof xt))return super.replace(e,t,r);[e,t]=Ts(this,e,t);let i=$u(this.text,$u(r.text,Rx(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new xt(i,o):gr.from(xt.split(i,[]),o)}sliceString(e,t=this.length,r=`
`){[e,t]=Ts(this,e,t);let i="";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let a=this.text[s],c=o+a.length;o>e&&s&&(i+=r),e<c&&t>o&&(i+=a.slice(Math.max(0,e-o),t-o)),o=c+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(t.push(new xt(r,i)),r=[],i=-1);return i>-1&&t.push(new xt(r,i)),t}}class gr extends Ze{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,c=r+s.lines-1;if((t?c:a)>=e)return s.lineInner(e,t,r,i);i=a+1,r=c+1}}decompose(e,t,r,i){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let a=this.children[o],c=s+a.length;if(e<=c&&t>=s){let f=i&((s<=e?1:0)|(c>=t?2:0));s>=e&&c<=t&&!f?r.push(a):a.decompose(e-s,t-s,r,f)}s=c+1}}replace(e,t,r){if([e,t]=Ts(this,e,t),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e>=o&&t<=a){let c=s.replace(e-o,t-o,r),f=this.lines-s.lines+c.lines;if(c.lines<f>>4&&c.lines>f>>6){let h=this.children.slice();return h[i]=c,new gr(h,this.length-(t-e)+r.length)}return super.replace(o,a,c)}o=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=Ts(this,e,t);let i="";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let a=this.children[o],c=s+a.length;s>e&&o&&(i+=r),e<c&&t>s&&(i+=a.sliceString(e-s,t-s,r)),s=c+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof gr))return 0;let r=0,[i,o,s,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==s||o==a)return r;let c=this.children[i],f=e.children[o];if(c!=f)return r+c.scanIdentical(f,t);r+=c.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let b of e)r+=b.lines;if(r<32){let b=[];for(let x of e)x.flatten(b);return new xt(b,t)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],c=0,f=-1,h=[];function d(b){let x;if(b.lines>o&&b instanceof gr)for(let v of b.children)d(v);else b.lines>s&&(c>s||!c)?(m(),a.push(b)):b instanceof xt&&c&&(x=h[h.length-1])instanceof xt&&b.lines+x.lines<=32?(c+=b.lines,f+=b.length+1,h[h.length-1]=new xt(x.text.concat(b.text),x.length+1+b.length)):(c+b.lines>i&&m(),c+=b.lines,f+=b.length+1,h.push(b))}function m(){c!=0&&(a.push(h.length==1?h[0]:gr.from(h,f)),f=-1,c=h.length=0)}for(let b of e)d(b);return m(),a.length==1?a[0]:new gr(a,t)}}Ze.empty=new xt([""],0);function HN(n){let e=-1;for(let t of n)e+=t.length+1;return e}function $u(n,e,t=0,r=1e9){for(let i=0,o=0,s=!0;o<n.length&&i<=r;o++){let a=n[o],c=i+a.length;c>=t&&(c>r&&(a=a.slice(0,r-i)),i<t&&(a=a.slice(t-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=c+1}return e}function Rx(n,e,t){return $u(n,[""],e,t)}class La{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof xt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof xt?i.text.length:i.children.length;if(s==(t>0?a:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof xt){let c=i.text[s+(t<0?-1:0)];if(this.offsets[r]+=t,c.length>Math.max(0,e))return this.value=e==0?c:t>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=i.children[s+(t<0?-1:0)];e>c.length?(e-=c.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(c),this.offsets.push(t>0?1:(c instanceof xt?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class H2{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new La(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class U2{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ze.prototype[Symbol.iterator]=function(){return this.iter()},La.prototype[Symbol.iterator]=H2.prototype[Symbol.iterator]=U2.prototype[Symbol.iterator]=function(){return this});class UN{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function Ts(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function zt(n,e,t=!0,r=!0){return zN(n,e,t,r)}function KN(n){return n>=56320&&n<57344}function qN(n){return n>=55296&&n<56320}function un(n,e){let t=n.charCodeAt(e);if(!qN(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return KN(r)?(t-55296<<10)+(r-56320)+65536:t}function s0(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function br(n){return n<65536?1:2}const Jp=/\r\n?|\n/;var tn=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(tn||(tn={}));class Cr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,t=!1){em(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new Cr(e)}composeDesc(e){return this.empty?e:e.empty?this:K2(this,e)}mapDesc(e,t=!1){return e.empty?this:tm(this,e,t)}mapPos(e,t=-1,r=tn.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],c=this.sections[s++],f=i+a;if(c<0){if(f>e)return o+(e-i);o+=a}else{if(r!=tn.Simple&&f>=e&&(r==tn.TrackDel&&i<e&&f>e||r==tn.TrackBefore&&i<e||r==tn.TrackAfter&&f>e))return null;if(f>e||f==e&&t<0&&!a)return e==i||t<0?o:o+c;o+=c}i=f}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=t&&a>=e)return i<e&&a>t?"cover":!0;i=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Cr(e)}static create(e){return new Cr(e)}}class Rt extends Cr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return em(this,(t,r,i,o,s)=>e=e.replace(i,i+(r-t),s),!1),e}mapDesc(e,t=!1){return tm(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=s;let c=i>>1;for(;r.length<c;)r.push(Ze.empty);r.push(s?e.slice(o,o+s):Ze.empty)}o+=s}return new Rt(t,r)}compose(e){return this.empty?e:e.empty?this:K2(this,e,!0)}map(e,t=!1){return e.empty?this:tm(this,e,t,!0)}iterChanges(e,t=!1){em(this,e,t)}get desc(){return Cr.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new Ya(this);e:for(let s=0,a=0;;){let c=s==e.length?1e9:e[s++];for(;a<c||a==c&&o.len==0;){if(o.done)break e;let h=Math.min(o.len,c-a);qt(i,h,-1);let d=o.ins==-1?-1:o.off==0?o.ins:0;qt(t,h,d),d>0&&Si(r,t,o.text),o.forward(h),a+=h}let f=e[s++];for(;a<f;){if(o.done)break e;let h=Math.min(o.len,f-a);qt(t,h,-1),qt(i,h,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(h),a+=h}}return{changes:new Rt(t,r),filtered:Cr.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],s=0,a=null;function c(h=!1){if(!h&&!i.length)return;s<t&&qt(i,t-s,-1);let d=new Rt(i,o);a=a?a.compose(d.map(a)):d,i=[],o=[],s=0}function f(h){if(Array.isArray(h))for(let d of h)f(d);else if(h instanceof Rt){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);c(),a=a?a.compose(h.map(a)):h}else{let{from:d,to:m=d,insert:b}=h;if(d>m||d<0||m>t)throw new RangeError(`Invalid change range ${d} to ${m} (in doc of length ${t})`);let x=b?typeof b=="string"?Ze.of(b.split(r||Jp)):b:Ze.empty,v=x.length;if(d==m&&v==0)return;d<s&&c(),d>s&&qt(i,d-s,-1),qt(i,m-d,v),Si(o,i,x),s=m}}return f(e),c(!a),a}static empty(e){return new Rt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;r.length<i;)r.push(Ze.empty);r[i]=Ze.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new Rt(t,r)}static createSet(e,t){return new Rt(e,t)}}function qt(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Si(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Ze.empty);n.push(t)}}function em(n,e,t){let r=n.inserted;for(let i=0,o=0,s=0;s<n.sections.length;){let a=n.sections[s++],c=n.sections[s++];if(c<0)i+=a,o+=a;else{let f=i,h=o,d=Ze.empty;for(;f+=a,h+=c,c&&r&&(d=d.append(r[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)a=n.sections[s++],c=n.sections[s++];e(i,f,o,h,d),i=f,o=h}}}function tm(n,e,t,r=!1){let i=[],o=r?[]:null,s=new Ya(n),a=new Ya(e);for(let c=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&a.ins==-1){let f=Math.min(s.len,a.len);qt(i,f,-1),s.forward(f),a.forward(f)}else if(a.ins>=0&&(s.ins<0||c==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!t))){let f=a.len;for(qt(i,a.ins,-1);f;){let h=Math.min(s.len,f);s.ins>=0&&c<s.i&&s.len<=h&&(qt(i,0,s.ins),o&&Si(o,i,s.text),c=s.i),s.forward(h),f-=h}a.next()}else if(s.ins>=0){let f=0,h=s.len;for(;h;)if(a.ins==-1){let d=Math.min(h,a.len);f+=d,h-=d,a.forward(d)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;qt(i,f,c<s.i?s.ins:0),o&&c<s.i&&Si(o,i,s.text),c=s.i,s.forward(s.len-h)}else{if(s.done&&a.done)return o?Rt.createSet(i,o):Cr.create(i);throw new Error("Mismatched change set lengths")}}}function K2(n,e,t=!1){let r=[],i=t?[]:null,o=new Ya(n),s=new Ya(e);for(let a=!1;;){if(o.done&&s.done)return i?Rt.createSet(r,i):Cr.create(r);if(o.ins==0)qt(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)qt(r,0,s.ins,a),i&&Si(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let c=Math.min(o.len2,s.len),f=r.length;if(o.ins==-1){let h=s.ins==-1?-1:s.off?0:s.ins;qt(r,c,h,a),i&&h&&Si(i,r,s.text)}else s.ins==-1?(qt(r,o.off?0:o.len,c,a),i&&Si(i,r,o.textBit(c))):(qt(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&Si(i,r,s.text));a=(o.ins>c||s.ins>=0&&s.len>c)&&(a||r.length>f),o.forward2(c),s.forward(c)}}}}class Ya{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Ze.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Ze.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class co{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new co(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return X.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return X.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return X.range(e.anchor,e.head)}static create(e,t,r){return new co(e,t,r)}}class X{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:X.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new X([this.main],0)}addRange(e,t=!0){return X.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,X.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new X(e.ranges.map(t=>co.fromJSON(t)),e.main)}static single(e,t=e){return new X([X.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return X.normalized(e.slice(),t);r=o.to}return new X(e,t)}static cursor(e,t=0,r,i){return co.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?co.create(t,e,48|o):co.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let r=e[t];e.sort((i,o)=>i.from-o.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,c=Math.max(o.to,s.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?X.range(c,a):X.range(a,c))}}return new X(e,t)}}function q2(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let a0=0;class fe{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=a0++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new fe(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:l0),!!e.static,e.enables)}of(e){return new Su([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Su(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Su(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function l0(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Su{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=a0++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,c=!1,f=!1,h=[];for(let d of this.dependencies)d=="doc"?c=!0:d=="selection"?f=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||h.push(e[d.id]);return{create(d){return d.values[s]=r(d),1},update(d,m){if(c&&m.docChanged||f&&(m.docChanged||m.selection)||nm(d,h)){let b=r(d);if(a?!Tx(b,d.values[s],i):!i(b,d.values[s]))return d.values[s]=b,1}return 0},reconfigure:(d,m)=>{let b,x=m.config.address[o];if(x!=null){let v=Xu(m,x);if(this.dependencies.every(w=>w instanceof fe?m.facet(w)===d.facet(w):w instanceof _t?m.field(w,!1)==d.field(w,!1):!0)||(a?Tx(b=r(d),v,i):i(b=r(d),v)))return d.values[s]=v,0}else b=r(d);return d.values[s]=b,1}}}}function Tx(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function nm(n,e){let t=!1;for(let r of e)Na(n,r)&1&&(t=!0);return t}function GN(n,e,t){let r=t.map(c=>n[c.id]),i=t.map(c=>c.type),o=r.filter(c=>!(c&1)),s=n[e.id]>>1;function a(c){let f=[];for(let h=0;h<r.length;h++){let d=Xu(c,r[h]);if(i[h]==2)for(let m of d)f.push(m);else f.push(d)}return e.combine(f)}return{create(c){for(let f of r)Na(c,f);return c.values[s]=a(c),1},update(c,f){if(!nm(c,o))return 0;let h=a(c);return e.compare(h,c.values[s])?0:(c.values[s]=h,1)},reconfigure(c,f){let h=nm(c,r),d=f.config.facets[e.id],m=f.facet(e);if(d&&!h&&l0(t,d))return c.values[s]=m,0;let b=a(c);return e.compare(b,m)?(c.values[s]=m,0):(c.values[s]=b,1)}}}const Zc=fe.define({static:!0});class _t{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new _t(a0++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Zc).find(r=>r.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let o=r.values[t],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[t]=s,1)},reconfigure:(r,i)=>{let o=r.facet(Zc),s=i.facet(Zc),a;return(a=o.find(c=>c.field==this))&&a!=s.find(c=>c.field==this)?(r.values[t]=a.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,Zc.of({field:this,create:e})]}get extension(){return this}}const ao={lowest:4,low:3,default:2,high:1,highest:0};function Ca(n){return e=>new G2(e,n)}const Oo={highest:Ca(ao.highest),high:Ca(ao.high),default:Ca(ao.default),low:Ca(ao.low),lowest:Ca(ao.lowest)};class G2{constructor(e,t){this.inner=e,this.prec=t}}class Hf{of(e){return new rm(this,e)}reconfigure(e){return Hf.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class rm{constructor(e,t){this.compartment=e,this.inner=t}}class Yu{constructor(e,t,r,i,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),s=new Map;for(let m of YN(e,t,s))m instanceof _t?i.push(m):(o[m.facet.id]||(o[m.facet.id]=[])).push(m);let a=Object.create(null),c=[],f=[];for(let m of i)a[m.id]=f.length<<1,f.push(b=>m.slot(b));let h=r?.config.facets;for(let m in o){let b=o[m],x=b[0].facet,v=h&&h[m]||[];if(b.every(w=>w.type==0))if(a[x.id]=c.length<<1|1,l0(v,b))c.push(r.facet(x));else{let w=x.combine(b.map($=>$.value));c.push(r&&x.compare(w,r.facet(x))?r.facet(x):w)}else{for(let w of b)w.type==0?(a[w.id]=c.length<<1|1,c.push(w.value)):(a[w.id]=f.length<<1,f.push($=>w.dynamicSlot($)));a[x.id]=f.length<<1,f.push(w=>GN(w,x,b))}}let d=f.map(m=>m(a));return new Yu(e,s,d,a,c,o)}}function YN(n,e,t){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let c=i.get(s);if(c!=null){if(c<=a)return;let f=r[c].indexOf(s);f>-1&&r[c].splice(f,1),s instanceof rm&&t.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let f of s)o(f,a);else if(s instanceof rm){if(t.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(s.compartment)||s.inner;t.set(s.compartment,f),o(f,a)}else if(s instanceof G2)o(s.inner,s.prec);else if(s instanceof _t)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof Su)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,ao.default);else{let f=s.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(f,a)}}return o(n,ao.default),r.reduce((s,a)=>s.concat(a))}function Na(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function Xu(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const Y2=fe.define(),im=fe.define({combine:n=>n.some(e=>e),static:!0}),X2=fe.define({combine:n=>n.length?n[0]:void 0,static:!0}),Z2=fe.define(),Q2=fe.define(),J2=fe.define(),eS=fe.define({combine:n=>n.length?n[0]:!1});class Pr{constructor(e,t){this.type=e,this.value=t}static define(){return new XN}}class XN{of(e){return new Pr(this,e)}}class ZN{constructor(e){this.map=e}of(e){return new Pe(this,e)}}class Pe{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Pe(this.type,t)}is(e){return this.type==e}static define(e={}){return new ZN(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(t);o&&r.push(o)}return r}}Pe.reconfigure=Pe.define();Pe.appendConfig=Pe.define();class Tt{constructor(e,t,r,i,o,s){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&q2(r,t.newLength),o.some(a=>a.type==Tt.time)||(this.annotations=o.concat(Tt.time.of(Date.now())))}static create(e,t,r,i,o,s){return new Tt(e,t,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Tt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Tt.time=Pr.define();Tt.userEvent=Pr.define();Tt.addToHistory=Pr.define();Tt.remote=Pr.define();function QN(n,e){let t=[];for(let r=0,i=0;;){let o,s;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],s=n[r++];else if(i<e.length)o=e[i++],s=e[i++];else return t;!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function tS(n,e,t){var r;let i,o,s;return t?(i=e.changes,o=Rt.empty(e.changes.length),s=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Pe.mapEffects(n.effects,i).concat(Pe.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function om(n,e,t){let r=e.selection,i=vs(e.annotations);return e.userEvent&&(i=i.concat(Tt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Rt?e.changes:Rt.of(e.changes||[],t,n.facet(X2)),selection:r&&(r instanceof X?r:X.single(r.anchor,r.head)),effects:vs(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function nS(n,e,t){let r=om(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;r=tS(r,om(n,e[o],s?r.changes.newLength:n.doc.length),s)}let i=Tt.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return eB(t?JN(i):i)}function JN(n){let e=n.startState,t=!0;for(let i of e.facet(Z2)){let o=i(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:QN(t,o))}if(t!==!0){let i,o;if(t===!1)o=n.changes.invertedDesc,i=Rt.empty(e.doc.length);else{let s=n.changes.filter(t);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}n=Tt.create(e,i,n.selection&&n.selection.map(o),Pe.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let r=e.facet(Q2);for(let i=r.length-1;i>=0;i--){let o=r[i](n);o instanceof Tt?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Tt?n=o[0]:n=nS(e,vs(o),!1)}return n}function eB(n){let e=n.startState,t=e.facet(J2),r=n;for(let i=t.length-1;i>=0;i--){let o=t[i](n);o&&Object.keys(o).length&&(r=tS(r,om(e,o,n.changes.newLength),!0))}return r==n?n:Tt.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const tB=[];function vs(n){return n==null?tB:Array.isArray(n)?n:[n]}var ht=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(ht||(ht={}));const nB=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let sm;try{sm=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function rB(n){if(sm)return sm.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||nB.test(t)))return!0}return!1}function iB(n){return e=>{if(!/\S/.test(e))return ht.Space;if(rB(e))return ht.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return ht.Word;return ht.Other}}class Ye{constructor(e,t,r,i,o,s){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Na(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Na(this,r),Xu(this,r)}update(...e){return nS(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(Hf.reconfigure)?(t&&(i=new Map,t.compartments.forEach((c,f)=>i.set(f,c)),t=null),i.set(a.value.compartment,a.value.extension)):a.is(Pe.reconfigure)?(t=null,r=a.value):a.is(Pe.appendConfig)&&(t=null,r=vs(r).concat(a.value));let o;t?o=e.startState.values.slice():(t=Yu.resolve(r,i,this),o=new Ye(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(c,f)=>f.reconfigure(c,this),null).values);let s=e.startState.facet(im)?e.newSelection:e.newSelection.asSingle();new Ye(t,e.newDoc,s,o,(a,c)=>c.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:X.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],s=vs(r.effects);for(let a=1;a<t.ranges.length;a++){let c=e(t.ranges[a]),f=this.changes(c.changes),h=f.map(i);for(let m=0;m<a;m++)o[m]=o[m].map(h);let d=i.mapDesc(f,!0);o.push(c.range.map(d)),i=i.compose(h),s=Pe.mapEffects(s,h).concat(Pe.mapEffects(vs(c.effects),d))}return{changes:i,selection:X.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof Rt?e:Rt.of(e,this.doc.length,this.facet(Ye.lineSeparator))}toText(e){return Ze.of(e.split(this.facet(Ye.lineSeparator)||Jp))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Na(this,t),Xu(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof _t&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],a=e[o];i.push(s.init(c=>s.spec.fromJSON(a,c)))}}return Ye.create({doc:e.doc,selection:X.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Yu.resolve(e.extensions||[],new Map),r=e.doc instanceof Ze?e.doc:Ze.of((e.doc||"").split(t.staticFacet(Ye.lineSeparator)||Jp)),i=e.selection?e.selection instanceof X?e.selection:X.single(e.selection.anchor,e.selection.head):X.single(0);return q2(i,r.length),t.staticFacet(im)||(i=i.asSingle()),new Ye(t,r,i,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Ye.tabSize)}get lineBreak(){return this.facet(Ye.lineSeparator)||`
`}get readOnly(){return this.facet(eS)}phrase(e,...t){for(let r of this.facet(Ye.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>t.length?r:t[o-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let o of this.facet(Y2))for(let s of o(this,t,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return iB(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,a=e-r;for(;s>0;){let c=zt(t,s,!1);if(o(t.slice(c,s))!=ht.Word)break;s=c}for(;a<i;){let c=zt(t,a);if(o(t.slice(a,c))!=ht.Word)break;a=c}return s==a?null:X.range(s+r,a+r)}}Ye.allowMultipleSelections=im;Ye.tabSize=fe.define({combine:n=>n.length?n[0]:4});Ye.lineSeparator=X2;Ye.readOnly=eS;Ye.phrases=fe.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});Ye.languageData=Y2;Ye.changeFilter=Z2;Ye.transactionFilter=Q2;Ye.transactionExtender=J2;Hf.reconfigure=Pe.define();function Or(n,e,t={}){let r={};for(let i of n)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(t,o))r[o]=t[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Co{eq(e){return this==e}range(e,t=e){return Xa.create(e,t,this)}}Co.prototype.startSide=Co.prototype.endSide=0;Co.prototype.point=!1;Co.prototype.mapMode=tn.TrackDel;class Xa{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new Xa(e,t,r)}}function am(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class c0{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let c=s+a>>1,f=o[c]-e||(r?this.value[c].endSide:this.value[c].startSide)-t;if(c==s)return f>=0?s:a;f>=0?a=c:s=c+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let r=[],i=[],o=[],s=-1,a=-1;for(let c=0;c<this.value.length;c++){let f=this.value[c],h=this.from[c]+e,d=this.to[c]+e,m,b;if(h==d){let x=t.mapPos(h,f.startSide,f.mapMode);if(x==null||(m=b=x,f.startSide!=f.endSide&&(b=t.mapPos(h,f.endSide),b<m)))continue}else if(m=t.mapPos(h,f.startSide),b=t.mapPos(d,f.endSide),m>b||m==b&&f.startSide>0&&f.endSide<=0)continue;(b-m||f.endSide-f.startSide)<0||(s<0&&(s=m),f.point&&(a=Math.max(a,b-m)),r.push(f),i.push(m-s),o.push(b-s))}return{mapped:r.length?new c0(i,o,r,a):null,pos:s}}}class Xe{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new Xe(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(r&&(t=t.slice().sort(am)),this.isEmpty)return t.length?Xe.of(t):this;let a=new rS(this,null,-1).goto(0),c=0,f=[],h=new ti;for(;a.value||c<t.length;)if(c<t.length&&(a.from-t[c].from||a.startSide-t[c].value.startSide)>=0){let d=t[c++];h.addInner(d.from,d.to,d.value)||f.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(c==t.length||this.chunkEnd(a.chunkIndex)<t[c].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||f.push(Xa.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!f.length?Xe.empty:this.nextLayer.update({add:f,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],c=this.chunk[s],f=e.touchesRange(a,a+c.length);if(f===!1)i=Math.max(i,c.maxPoint),t.push(c),r.push(e.mapPos(a));else if(f===!0){let{mapped:h,pos:d}=c.map(a,e);h&&(i=Math.max(i,h.maxPoint),t.push(h),r.push(d))}}let o=this.nextLayer.map(e);return t.length==0?o:new Xe(r,t,o||Xe.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Za.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Za.from(e).goto(t)}static compare(e,t,r,i,o=-1){let s=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),a=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),c=Mx(s,a,r),f=new $a(s,c,o),h=new $a(a,c,o);r.iterGaps((d,m,b)=>Px(f,d,h,m,b,i)),r.empty&&r.length==0&&Px(f,0,h,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let o=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),s=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=Mx(o,s),c=new $a(o,a,0).goto(r),f=new $a(s,a,0).goto(r);for(;;){if(c.to!=f.to||!lm(c.active,f.active)||c.point&&(!f.point||!c.point.eq(f.point)))return!1;if(c.to>i)return!0;c.next(),f.next()}}static spans(e,t,r,i,o=-1){let s=new $a(e,null,o).goto(t),a=t,c=s.openStart;for(;;){let f=Math.min(s.to,r);if(s.point){let h=s.activeForPoint(s.to),d=s.pointFrom<t?h.length+1:s.point.startSide<0?h.length:Math.min(h.length,c);i.point(a,f,s.point,h,d,s.pointRank),c=Math.min(s.openEnd(f),h.length)}else f>a&&(i.span(a,f,s.active,c),c=s.openEnd(f));if(s.to>r)return c+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(e,t=!1){let r=new ti;for(let i of e instanceof Xa?[e]:t?oB(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Xe.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Xe.empty;i=i.nextLayer)t=new Xe(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}Xe.empty=new Xe([],[],null,-1);function oB(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(am(e,r)>0)return n.slice().sort(am);e=r}return n}Xe.empty.nextLayer=Xe.empty;class ti{finishChunk(e){this.chunks.push(new c0(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new ti)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Xe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Xe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Mx(n,e,t){let r=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(t?t.mapPos(a):a)==o.chunkPos[s]&&!t?.touchesRange(a,a+o.chunk[s].length)&&i.add(o.chunk[s])}return i}class rS{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Za{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new rS(s,t,r,o));return i.length==1?i[0]:new Za(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)qd(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)qd(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),qd(this.heap,0)}}}function qd(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class $a{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Za.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Qc(this.active,e),Qc(this.activeTo,e),Qc(this.activeRank,e),this.minActive=Ox(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Jc(this.active,t,r),Jc(this.activeTo,t,i),Jc(this.activeRank,t,o),e&&Jc(e,t,this.cursor.from),this.minActive=Ox(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Qc(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function Px(n,e,t,r,i,o){n.goto(e),t.goto(r);let s=r+i,a=r,c=r-e;for(;;){let f=n.to+c-t.to,h=f||n.endSide-t.endSide,d=h<0?n.to+c:t.to,m=Math.min(d,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&lm(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(a,m,n.point,t.point):m>a&&!lm(n.active,t.active)&&o.compareRange(a,m,n.active,t.active),d>s)break;(f||n.openEnd!=t.openEnd)&&o.boundChange&&o.boundChange(d),a=d,h<=0&&n.next(),h>=0&&t.next()}}function lm(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Qc(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Jc(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function Ox(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Gs(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=zt(n,i));return r}function cm(n,e,t,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=n.charCodeAt(i)==9?t-o%t:1,i=zt(n,i)}return r===!0?-1:n.length}const um="ͼ",Dx=typeof Symbol>"u"?"__"+um:Symbol.for(um),fm=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class _i{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,c,f){let h=[],d=/^@(\w+)\b/.exec(s[0]),m=d&&d[1]=="keyframes";if(d&&a==null)return c.push(s[0]+";");for(let b in a){let x=a[b];if(/&/.test(b))o(b.split(/,\s*/).map(v=>s.map(w=>v.replace(/&/,w))).reduce((v,w)=>v.concat(w)),x,c);else if(x&&typeof x=="object"){if(!d)throw new RangeError("The value of a property ("+b+") should be a primitive value.");o(i(b),x,h,m)}else x!=null&&h.push(b.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+x+";")}(h.length||m)&&c.push((r&&!d&&!f?s.map(r):s).join(", ")+" {"+h.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Ix[Dx]||1;return Ix[Dx]=e+1,um+e.toString(36)}static mount(e,t,r){let i=e[fm],o=r&&r.nonce;i?o&&i.setNonce(o):i=new sB(e,o),i.mount(Array.isArray(t)?t:[t],e)}}let _x=new Map;class sB{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=_x.get(r);if(o)return e[fm]=o;this.sheet=new i.CSSStyleSheet,_x.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[fm]=this}mount(e,t){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],c=this.modules.indexOf(a);if(c<o&&c>-1&&(this.modules.splice(c,1),o--,c=-1),c==-1){if(this.modules.splice(o++,0,a),r)for(let f=0;f<a.rules.length;f++)r.insertRule(a.rules[f],i++)}else{for(;o<c;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let s="";for(let c=0;c<this.modules.length;c++)s+=this.modules[c].getRules()+`
`;this.styleTag.textContent=s;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Li={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},aB=typeof navigator<"u"&&/Mac/.test(navigator.platform),lB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Wt=0;Wt<10;Wt++)Li[48+Wt]=Li[96+Wt]=String(Wt);for(var Wt=1;Wt<=24;Wt++)Li[Wt+111]="F"+Wt;for(var Wt=65;Wt<=90;Wt++)Li[Wt]=String.fromCharCode(Wt+32),Qa[Wt]=String.fromCharCode(Wt);for(var Gd in Li)Qa.hasOwnProperty(Gd)||(Qa[Gd]=Li[Gd]);function cB(n){var e=aB&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||lB&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Qa:Li)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ja(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function hm(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function ku(n,e){if(!e.anchorNode)return!1;try{return hm(n,e.anchorNode)}catch{return!1}}function Ms(n){return n.nodeType==3?So(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Ba(n,e,t,r){return t?Lx(n,e,t,r,-1)||Lx(n,e,t,r,1):!1}function $o(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Zu(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Lx(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Er(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=$o(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?Er(n):0}else return!1}}function Er(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Al(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function uB(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function iS(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function fB(n,e,t,r,i,o,s,a){let c=n.ownerDocument,f=c.defaultView||window;for(let h=n,d=!1;h&&!d;)if(h.nodeType==1){let m,b=h==c.body,x=1,v=1;if(b)m=uB(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(d=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let S=h.getBoundingClientRect();({scaleX:x,scaleY:v}=iS(h,S)),m={left:S.left,right:S.left+h.clientWidth*x,top:S.top,bottom:S.top+h.clientHeight*v}}let w=0,$=0;if(i=="nearest")e.top<m.top?($=e.top-(m.top+s),t>0&&e.bottom>m.bottom+$&&($=e.bottom-m.bottom+s)):e.bottom>m.bottom&&($=e.bottom-m.bottom+s,t<0&&e.top-$<m.top&&($=e.top-(m.top+s)));else{let S=e.bottom-e.top,E=m.bottom-m.top;$=(i=="center"&&S<=E?e.top+S/2-E/2:i=="start"||i=="center"&&t<0?e.top-s:e.bottom-E+s)-m.top}if(r=="nearest"?e.left<m.left?(w=e.left-(m.left+o),t>0&&e.right>m.right+w&&(w=e.right-m.right+o)):e.right>m.right&&(w=e.right-m.right+o,t<0&&e.left<m.left+w&&(w=e.left-(m.left+o))):w=(r=="center"?e.left+(e.right-e.left)/2-(m.right-m.left)/2:r=="start"==a?e.left-o:e.right-(m.right-m.left)+o)-m.left,w||$)if(b)f.scrollBy(w,$);else{let S=0,E=0;if($){let A=h.scrollTop;h.scrollTop+=$/v,E=(h.scrollTop-A)*v}if(w){let A=h.scrollLeft;h.scrollLeft+=w/x,S=(h.scrollLeft-A)*x}e={left:e.left-S,top:e.top-E,right:e.right-S,bottom:e.bottom-E},S&&Math.abs(S-w)<1&&(r="nearest"),E&&Math.abs(E-$)<1&&(i="nearest")}if(b)break;(e.top<m.top||e.bottom>m.bottom||e.left<m.left||e.right>m.right)&&(e={left:Math.max(e.left,m.left),right:Math.min(e.right,m.right),top:Math.max(e.top,m.top),bottom:Math.min(e.bottom,m.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function hB(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class dB{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Er(t):0),r,Math.min(e.focusOffset,r?Er(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let ss=null;function oS(n){if(n.setActive)return n.setActive();if(ss)return n.focus(ss);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(ss==null?{get preventScroll(){return ss={preventScroll:!0},!0}}:void 0),!ss){ss=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],o=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let Nx;function So(n,e,t=e){let r=Nx||(Nx=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function xs(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,n.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function pB(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function sS(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function mB(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Er(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=Er(t))}else{if(t==n)return!0;r=$o(t),t=t.parentNode}}function aS(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function lS(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Er(t)}else if(t.parentNode&&!Zu(t))r=$o(t),t=t.parentNode;else return null}}function cS(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!Zu(t))r=$o(t)+1,t=t.parentNode;else return null}}class Gt{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Gt(e.parentNode,$o(e),t)}static after(e,t){return new Gt(e.parentNode,$o(e)+1,t)}}const u0=[];class ot{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=ot.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,t),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&o!=s.dom&&(t.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=Bx(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&t&&t.node==r&&(t.written=!0);o;)o=Bx(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=Er(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!ot.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,s=-1,a=-1;for(let c=0,f=r,h=r;c<this.children.length;c++){let d=this.children[c],m=f+d.length;if(f<e&&m>t)return d.domBoundsAround(e,t,f);if(m>=e&&i==-1&&(i=c,o=f),f>t&&d.dom.parentNode==this.dom){s=c,a=h;break}h=m,f=m+d.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=u0){this.markDirty();for(let i=e;i<t;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new uS(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ot.prototype.breakAfter=0;function Bx(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class uS{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function fS(n,e,t,r,i,o,s,a,c){let{children:f}=n,h=f.length?f[e]:null,d=o.length?o[o.length-1]:null,m=d?d.breakAfter:s;if(!(e==r&&h&&!s&&!m&&o.length<2&&h.merge(t,i,o.length?d:null,t==0,a,c))){if(r<f.length){let b=f[r];b&&(i<b.length||b.breakAfter&&d?.breakAfter)?(e==r&&(b=b.split(i),i=0),!m&&d&&b.merge(0,i,d,!0,0,c)?o[o.length-1]=b:((i||b.children.length&&!b.children[0].length)&&b.merge(0,i,null,!1,0,c),o.push(b))):b?.breakAfter&&(d?d.breakAfter=1:s=1),r++}for(h&&(h.breakAfter=s,t>0&&(!s&&o.length&&h.merge(t,h.length,o[0],!1,a,0)?h.breakAfter=o.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,a,0),e++));e<r&&o.length;)if(f[r-1].become(o[o.length-1]))r--,o.pop(),c=o.length?0:a;else if(f[e].become(o[0]))e++,o.shift(),a=o.length?0:c;else break;!o.length&&e&&r<f.length&&!f[e-1].breakAfter&&f[r].merge(0,0,f[e-1],!1,a,c)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function hS(n,e,t,r,i,o){let s=n.childCursor(),{i:a,off:c}=s.findPos(t,1),{i:f,off:h}=s.findPos(e,-1),d=e-t;for(let m of r)d+=m.length;n.length+=d,fS(n,f,h,a,c,r,0,i,o)}let fn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},dm=typeof document<"u"?document:{documentElement:{style:{}}};const pm=/Edge\/(\d+)/.exec(fn.userAgent),dS=/MSIE \d/.test(fn.userAgent),mm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fn.userAgent),Uf=!!(dS||mm||pm),Fx=!Uf&&/gecko\/(\d+)/i.test(fn.userAgent),Yd=!Uf&&/Chrome\/(\d+)/.exec(fn.userAgent),Vx="webkitFontSmoothing"in dm.documentElement.style,pS=!Uf&&/Apple Computer/.test(fn.vendor),Wx=pS&&(/Mobile\/\w+/.test(fn.userAgent)||fn.maxTouchPoints>2);var ce={mac:Wx||/Mac/.test(fn.platform),windows:/Win/.test(fn.platform),linux:/Linux|X11/.test(fn.platform),ie:Uf,ie_version:dS?dm.documentMode||6:mm?+mm[1]:pm?+pm[1]:0,gecko:Fx,gecko_version:Fx?+(/Firefox\/(\d+)/.exec(fn.userAgent)||[0,0])[1]:0,chrome:!!Yd,chrome_version:Yd?+Yd[1]:0,ios:Wx,android:/Android\b/.test(fn.userAgent),webkit:Vx,safari:pS,webkit_version:Vx?+(/\bAppleWebKit\/(\d+)/.exec(fn.userAgent)||[0,0])[1]:0,tabSize:dm.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const gB=256;class nr extends ot{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof nr)||this.length-(t-e)+r.length>gB||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new nr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Gt(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return bB(this.dom,e,t)}}class ni extends ot{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(sS(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,o,s){return r&&(!(r instanceof ni&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(hS(this,e,t,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,o=0;for(let a of this.children){let c=r+a.length;c>e&&t.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=o),r=c,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new ni(this.mark,t,s)}domAtPos(e){return mS(this,e)}coordsAt(e,t){return bS(this,e,t)}}function bB(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&t<0||e==r&&t>=0?ce.chrome||ce.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):t<0?i--:o<r&&o++;let a=So(n,i,o).getClientRects();if(!a.length)return null;let c=a[(s?s<0:t>=0)?0:a.length-1];return ce.safari&&!s&&c.width==0&&(c=Array.prototype.find.call(a,f=>f.width)||c),s?Al(c,s<0):c||null}class ki extends ot{static create(e,t,r){return new ki(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=ki.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,o,s){return r&&(!(r instanceof ki)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof ki&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ze.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Ze.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Gt.before(this.dom):Gt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return Al(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ps extends ot{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ps&&e.side==this.side}split(){return new Ps(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Gt.before(this.dom):Gt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Ze.empty}get isHidden(){return!0}}nr.prototype.children=ki.prototype.children=Ps.prototype.children=u0;function mS(n,e){let t=n.dom,{children:r}=n,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==t)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==t)return s.domAtPos(0)}return new Gt(t,0)}function gS(n,e,t){let r,{children:i}=n;t>0&&e instanceof ni&&i.length&&(r=i[i.length-1])instanceof ni&&r.mark.eq(e.mark)?gS(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function bS(n,e,t){let r=null,i=-1,o=null,s=-1;function a(f,h){for(let d=0,m=0;d<f.children.length&&m<=h;d++){let b=f.children[d],x=m+b.length;x>=h&&(b.children.length?a(b,h-m):(!o||o.isHidden&&t>0)&&(x>h||m==x&&b.getSide()>0)?(o=b,s=h-m):(m<h||m==x&&b.getSide()<0&&!b.isHidden)&&(r=b,i=h-m)),m=x}}a(n,e);let c=(t<0?r:o)||r||o;return c?c.coordsAt(Math.max(0,c==r?i:s),t):vB(n)}function vB(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Ms(e);return t[t.length-1]||null}function gm(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const zx=Object.create(null);function Qu(n,e,t){if(n==e)return!0;n||(n=zx),e||(e=zx);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let o of r)if(o!=t&&(i.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function bm(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function xB(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class si{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var nn=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(nn||(nn={}));class ye extends Co{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Rl(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ni(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=vS(e,t);r=(o?t?-3e8:-1:5e8)-1,i=(s?t?2e8:1:-6e8)+1}return new Ni(e,r,i,t,e.widget||null,!0)}static line(e){return new Tl(e)}static set(e,t=!1){return Xe.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ye.none=Xe.empty;class Rl extends ye{constructor(e){let{start:t,end:r}=vS(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof Rl&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Qu(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Rl.prototype.point=!1;class Tl extends ye{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Tl&&this.spec.class==e.spec.class&&Qu(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Tl.prototype.mapMode=tn.TrackBefore;Tl.prototype.point=!0;class Ni extends ye{constructor(e,t,r,i,o,s){super(t,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?t<=0?tn.TrackBefore:tn.TrackAfter:tn.TrackDel}get type(){return this.startSide!=this.endSide?nn.WidgetRange:this.startSide<=0?nn.WidgetBefore:nn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ni&&yB(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Ni.prototype.point=!0;function vS(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function yB(n,e){return n==e||!!(n&&e&&n.compare(e))}function Eu(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class $t extends ot{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,s){if(r){if(!(r instanceof $t))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),hS(this,e,t,r?r.children.slice():[],o,s),!0}split(e){let t=new $t;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)t.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Qu(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){gS(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=gm(t,this.attrs||{})),r&&(this.attrs=gm({class:r},this.attrs||{}))}domAtPos(e){return mS(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(sS(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(bm(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&ot.get(i)instanceof ni;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=ot.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ce.ios||!this.children.some(o=>o instanceof nr))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof nr)||/[^ -~]/.test(r.text))return null;let i=Ms(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=bS(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof $t&&this.children.length==0&&e.children.length==0&&Qu(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=t){if(o instanceof $t)return o;if(s>t)break}i=s+o.breakAfter}return null}}class Qr extends ot{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,s){return r&&(!(r instanceof Qr)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Gt.before(this.dom):Gt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Qr(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return u0}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ze.empty}domBoundsAround(){return null}become(e){return e instanceof Qr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof vm?null:Al(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class vm extends si{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Fa{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Qr&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new $t),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(eu(new Ps(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Qr)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(eu(new nr(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Ni){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(r instanceof Ni)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Qr(r.widget||Os.block,a,r));else{let c=ki.create(r.widget||Os.inline,a,a?0:r.startSide),f=this.atCursorPos&&!c.isEditable&&o<=i.length&&(e<t||r.startSide>0),h=!c.isEditable&&(e<t||o>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!f&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),f&&(d.append(eu(new Ps(1),i),o),o=i.length+Math.max(0,o-i.length)),d.append(eu(c,i),o),this.atCursorPos=h,this.pendingBuffer=h?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let s=new Fa(e,t,r,o);return s.openEnd=Xe.spans(i,t,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function eu(n,e){for(let t of e)n=new ni(t,[n],n.length);return n}class Os extends si{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Os.inline=new Os("span");Os.block=new Os("div");var ut=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(ut||(ut={}));const ko=ut.LTR,f0=ut.RTL;function xS(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const wB=xS("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),CB=xS("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),xm=Object.create(null),pr=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);xm[e]=t,xm[t]=-e}function yS(n){return n<=247?wB[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?CB[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const $B=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ei{get dir(){return this.level%2?f0:ko}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=t&&a.to>=t){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<t:a.to>t:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function wS(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!wS(r.inner,i.inner))return!1}return!0}const it=[];function SB(n,e,t,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,a=o<r.length?r[o].from:t,c=o?256:i;for(let f=s,h=c,d=c;f<a;f++){let m=yS(n.charCodeAt(f));m==512?m=h:m==8&&d==4&&(m=16),it[f]=m==4?2:m,m&7&&(d=m),h=m}for(let f=s,h=c,d=c;f<a;f++){let m=it[f];if(m==128)f<a-1&&h==it[f+1]&&h&24?m=it[f]=h:it[f]=256;else if(m==64){let b=f+1;for(;b<a&&it[b]==64;)b++;let x=f&&h==8||b<t&&it[b]==8?d==1?1:8:256;for(let v=f;v<b;v++)it[v]=x;f=b-1}else m==8&&d==1&&(it[f]=1);h=m,m&7&&(d=m)}}}function kB(n,e,t,r,i){let o=i==1?2:1;for(let s=0,a=0,c=0;s<=r.length;s++){let f=s?r[s-1].to:e,h=s<r.length?r[s].from:t;for(let d=f,m,b,x;d<h;d++)if(b=xm[m=n.charCodeAt(d)])if(b<0){for(let v=a-3;v>=0;v-=3)if(pr[v+1]==-b){let w=pr[v+2],$=w&2?i:w&4?w&1?o:i:0;$&&(it[d]=it[pr[v]]=$),a=v;break}}else{if(pr.length==189)break;pr[a++]=d,pr[a++]=m,pr[a++]=c}else if((x=it[d])==2||x==1){let v=x==i;c=v?0:1;for(let w=a-3;w>=0;w-=3){let $=pr[w+2];if($&2)break;if(v)pr[w+2]|=2;else{if($&4)break;pr[w+2]|=4}}}}}function EB(n,e,t,r){for(let i=0,o=r;i<=t.length;i++){let s=i?t[i-1].to:n,a=i<t.length?t[i].from:e;for(let c=s;c<a;){let f=it[c];if(f==256){let h=c+1;for(;;)if(h==a){if(i==t.length)break;h=t[i++].to,a=i<t.length?t[i].from:e}else if(it[h]==256)h++;else break;let d=o==1,m=(h<e?it[h]:r)==1,b=d==m?d?1:2:r;for(let x=h,v=i,w=v?t[v-1].to:n;x>c;)x==w&&(x=t[--v].from,w=v?t[v-1].to:n),it[--x]=b;c=h}else o=f,c++}}}function ym(n,e,t,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let c=e,f=0;c<t;){let h=!0,d=!1;if(f==o.length||c<o[f].from){let v=it[c];v!=a&&(h=!1,d=v==16)}let m=!h&&a==1?[]:null,b=h?r:r+1,x=c;e:for(;;)if(f<o.length&&x==o[f].from){if(d)break e;let v=o[f];if(!h)for(let w=v.to,$=f+1;;){if(w==t)break e;if($<o.length&&o[$].from==w)w=o[$++].to;else{if(it[w]==a)break e;break}}if(f++,m)m.push(v);else{v.from>c&&s.push(new Ei(c,v.from,b));let w=v.direction==ko!=!(b%2);wm(n,w?r+1:r,i,v.inner,v.from,v.to,s),c=v.to}x=v.to}else{if(x==t||(h?it[x]!=a:it[x]==a))break;x++}m?ym(n,c,x,r+1,i,m,s):c<x&&s.push(new Ei(c,x,b)),c=x}else for(let c=t,f=o.length;c>e;){let h=!0,d=!1;if(!f||c>o[f-1].to){let v=it[c-1];v!=a&&(h=!1,d=v==16)}let m=!h&&a==1?[]:null,b=h?r:r+1,x=c;e:for(;;)if(f&&x==o[f-1].to){if(d)break e;let v=o[--f];if(!h)for(let w=v.from,$=f;;){if(w==e)break e;if($&&o[$-1].to==w)w=o[--$].from;else{if(it[w-1]==a)break e;break}}if(m)m.push(v);else{v.to<c&&s.push(new Ei(v.to,c,b));let w=v.direction==ko!=!(b%2);wm(n,w?r+1:r,i,v.inner,v.from,v.to,s),c=v.from}x=v.from}else{if(x==e||(h?it[x-1]!=a:it[x-1]==a))break;x--}m?ym(n,x,c,r+1,i,m,s):x<c&&s.push(new Ei(x,c,b)),c=x}}function wm(n,e,t,r,i,o,s){let a=e%2?2:1;SB(n,i,o,r,a),kB(n,i,o,r,a),EB(i,o,r,a),ym(n,i,o,e,t,r,s)}function AB(n,e,t){if(!n)return[new Ei(0,0,e==f0?1:0)];if(e==ko&&!t.length&&!$B.test(n))return CS(n.length);if(t.length)for(;n.length>it.length;)it[it.length]=256;let r=[],i=e==ko?0:1;return wm(n,i,i,t,0,n.length,r),r}function CS(n){return[new Ei(0,n,0)]}let $S="";function RB(n,e,t,r,i){var o;let s=r.head-n.from,a=Ei.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),c=e[a],f=c.side(i,t);if(s==f){let m=a+=i?1:-1;if(m<0||m>=e.length)return null;c=e[a=m],s=c.side(!i,t),f=c.side(i,t)}let h=zt(n.text,s,c.forward(i,t));(h<c.from||h>c.to)&&(h=f),$S=n.text.slice(Math.min(s,h),Math.max(s,h));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&h==f&&d.level+(i?0:1)<c.level?X.cursor(d.side(!i,t)+n.from,d.forward(i,t)?1:-1,d.level):X.cursor(h+n.from,c.forward(i,t)?-1:1,c.level)}function TB(n,e,t){for(let r=e;r<t;r++){let i=yS(n.charCodeAt(r));if(i==1)return ko;if(i==2||i==4)return f0}return ko}const SS=fe.define(),kS=fe.define(),ES=fe.define(),AS=fe.define(),Cm=fe.define(),RS=fe.define(),TS=fe.define(),h0=fe.define(),d0=fe.define(),MS=fe.define({combine:n=>n.some(e=>e)}),PS=fe.define({combine:n=>n.some(e=>e)}),OS=fe.define();class ys{constructor(e,t="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new ys(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ys(X.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const tu=Pe.define({map:(n,e)=>n.map(e)}),DS=Pe.define();function dn(n,e,t){let r=n.facet(AS);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Gr=fe.define({combine:n=>n.length?n[0]:!0});let MB=0;const Ma=fe.define();class wt{constructor(e,t,r,i,o){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=t||{};return new wt(MB++,e,r,i,a=>{let c=[Ma.of(a)];return s&&c.push(el.of(f=>{let h=f.plugin(a);return h?s(h):ye.none})),o&&c.push(o(a)),c})}static fromClass(e,t){return wt.define(r=>new e(r),t)}}class Xd{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(dn(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){dn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){dn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const IS=fe.define(),p0=fe.define(),el=fe.define(),_S=fe.define(),m0=fe.define(),LS=fe.define();function jx(n,e){let t=n.state.facet(LS);if(!t.length)return t;let r=t.map(o=>o instanceof Function?o(n):o),i=[];return Xe.spans(r,e.from,e.to,{point(){},span(o,s,a,c){let f=o-e.from,h=s-e.from,d=i;for(let m=a.length-1;m>=0;m--,c--){let b=a[m].spec.bidiIsolate,x;if(b==null&&(b=TB(e.text,f,h)),c>0&&d.length&&(x=d[d.length-1]).to==f&&x.direction==b)x.to=h,d=x.inner;else{let v={from:f,to:h,direction:b,inner:[]};d.push(v),d=v.inner}}}}),i}const NS=fe.define();function g0(n){let e=0,t=0,r=0,i=0;for(let o of n.state.facet(NS)){let s=o(n);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(t=Math.max(t,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:t,top:r,bottom:i}}const Pa=fe.define();class zn{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new zn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let c=i==e.length?null:e[i],f=s-a,h=c?c.fromB:1e9;for(;o<t.length&&t[o]<h;){let d=t[o],m=t[o+1],b=Math.max(a,d),x=Math.min(h,m);if(b<=x&&new zn(b+f,x+f,b,x).addToSet(r),m>h)break;o+=2}if(!c)return r;new zn(c.fromA,c.toA,c.fromB,c.toB).addToSet(r),s=c.toA,a=c.toB}}}class Ju{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Rt.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,c)=>i.push(new zn(o,s,a,c))),this.changedRanges=i}static create(e,t,r){return new Ju(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Hx extends ot{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ye.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new $t],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new zn(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:f,toA:h})=>h<this.minWidthFrom||f>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!NB(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?OB(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:f,to:h}=this.hasComposition;r=new zn(f,h,e.changes.mapPos(f,-1),e.changes.mapPos(h,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(ce.ie||ce.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),c=_B(s,a,e.changes);return r=zn.extendWithRanges(r,c),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ce.chrome||ce.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Qr&&s.widget instanceof vm&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:c,toA:f,fromB:h,toB:d}=a,m,b,x,v;if(r&&r.range.fromB<d&&r.range.toB>h){let A=Fa.build(this.view.state.doc,h,r.range.fromB,this.decorations,this.dynamicDecorationMap),T=Fa.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);b=A.breakAtStart,x=A.openStart,v=T.openEnd;let O=this.compositionView(r);T.breakAtStart?O.breakAfter=1:T.content.length&&O.merge(O.length,O.length,T.content[0],!1,T.openStart,0)&&(O.breakAfter=T.content[0].breakAfter,T.content.shift()),A.content.length&&O.merge(0,0,A.content[A.content.length-1],!0,0,A.openEnd)&&A.content.pop(),m=A.content.concat(O).concat(T.content)}else({content:m,breakAtStart:b,openStart:x,openEnd:v}=Fa.build(this.view.state.doc,h,d,this.decorations,this.dynamicDecorationMap));let{i:w,off:$}=o.findPos(f,1),{i:S,off:E}=o.findPos(c,-1);fS(this,S,E,w,$,m,b,x,v)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(DS)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new nr(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new ni(i,[t],t.length);let r=new $t;return r.append(t,0),r}fixCompositionDOM(e){let t=(o,s)=>{s.flags|=8|(s.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(s);let a=ot.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],t(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet(Gr)||this.dom.tabIndex>-1)&&ku(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(a.anchor)),f=a.empty?c:this.moveToLine(this.domAtPos(a.head));if(ce.gecko&&a.empty&&!this.hasComposition&&PB(c)){let d=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(d,c.node.childNodes[c.offset]||null)),c=f=new Gt(d,0),s=!0}let h=this.view.observer.selectionRange;(s||!h.focusNode||(!Ba(c.node,c.offset,h.anchorNode,h.anchorOffset)||!Ba(f.node,f.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,a))&&(this.view.observer.ignore(()=>{ce.android&&ce.chrome&&this.dom.contains(h.focusNode)&&LB(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Ja(this.view.root);if(d)if(a.empty){if(ce.gecko){let m=DB(c.node,c.offset);if(m&&m!=3){let b=(m==1?lS:cS)(c.node,c.offset);b&&(c=new Gt(b.node,b.offset))}}d.collapse(c.node,c.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(c.node,c.offset);try{d.extend(f.node,f.offset)}catch{}}else{let m=document.createRange();a.anchor>a.head&&([c,f]=[f,c]),m.setEnd(f.node,f.offset),m.setStart(c.node,c.offset),d.removeAllRanges(),d.addRange(m)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(c,f)),this.impreciseAnchor=c.precise?null:new Gt(h.anchorNode,h.anchorOffset),this.impreciseHead=f.precise?null:new Gt(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Ba(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Ja(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let s=$t.find(this,t.head);if(!s)return;let a=s.posAtStart;if(t.head==a||t.head==a+s.length)return;let c=this.coordsAt(t.head,-1),f=this.coordsAt(t.head,1);if(!c||!f||c.bottom>f.top)return;let h=this.domAtPos(t.head+t.assoc);r.collapse(h.node,h.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&r.collapse(i,o)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let o=ot.get(t.childNodes[i]);o instanceof $t&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=ot.get(t.childNodes[i]);o instanceof $t&&(r=o.domAtPos(o.length))}return r?new Gt(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=ot.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof $t)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],c=o-a.breakAfter,f=c-a.length;if(c<e)break;if(f<=e&&(f<e||a.covers(-1))&&(c>e||a.covers(1))&&(!r||a instanceof $t&&!(r instanceof $t&&t>=0)))r=a,i=f;else if(r&&f==e&&c==e&&a instanceof Qr&&Math.abs(t)<2){if(a.deco.startSide<0)break;s&&(r=null)}o=f}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof $t))return null;for(;i.children.length;){let{i:a,off:c}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=c}if(!(i instanceof nr))return null;let o=zt(i.text,r);if(o==r)return null;let s=So(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let c=s[a];if(a==s.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,c=this.view.textDirection==ut.LTR;for(let f=0,h=0;h<this.children.length;h++){let d=this.children[h],m=f+d.length;if(m>i)break;if(f>=r){let b=d.dom.getBoundingClientRect();if(t.push(b.height),s){let x=d.dom.lastChild,v=x?Ms(x):[];if(v.length){let w=v[v.length-1],$=c?w.right-b.left:b.right-w.left;$>a&&(a=$,this.minWidth=o,this.minWidthFrom=f,this.minWidthTo=m)}}}f=m+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?ut.RTL:ut.LTR}measureTextSize(){for(let o of this.children)if(o instanceof $t){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=Ms(e.firstChild)[0];t=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new uS(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(t.lineBlockAt(s).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(ye.replace({widget:new vm(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return ye.set(e)}updateDeco(){let e=1,t=this.view.state.facet(el).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(_S).map((o,s)=>{let a=typeof o=="function";return a&&(r=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(Xe.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(OS))try{if(f(this.view,e.range,e))return!0}catch(h){dn(this.view.state,h,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=g0(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:c}=this.view.scrollDOM;fB(this.view.scrollDOM,s,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==ut.LTR)}}function PB(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function BS(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=lS(t.focusNode,t.focusOffset),i=cS(t.focusNode,t.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let a=ot.get(i.node);if(!a||a instanceof nr&&a.text!=i.node.nodeValue)o=i;else if(n.docView.lastCompositionAfterCursor){let c=ot.get(r.node);!c||c instanceof nr&&c.text!=r.node.nodeValue||(o=i)}}if(n.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function OB(n,e,t){let r=BS(n,t);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(r.from,r.to)!=a)return null;let c=e.invertedDesc,f=new zn(c.mapPos(o),c.mapPos(s),o,s),h=[];for(let d=i.parentNode;;d=d.parentNode){let m=ot.get(d);if(m instanceof ni)h.push({node:d,deco:m.mark});else{if(m instanceof $t||d.nodeName=="DIV"&&d.parentNode==n.contentDOM)return{range:f,text:i,marks:h,line:d};if(d!=n.contentDOM)h.push({node:d,deco:new Rl({inclusive:!0,attributes:xB(d),tagName:d.tagName.toLowerCase()})});else return null}}}function DB(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let IB=class{constructor(){this.changes=[]}compareRange(e,t){Eu(e,t,this.changes)}comparePoint(e,t){Eu(e,t,this.changes)}boundChange(e){Eu(e,e,this.changes)}};function _B(n,e,t){let r=new IB;return Xe.compare(n,e,t,r),r.changes}function LB(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function NB(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function BB(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),o=e-i.from;if(i.length==0)return X.cursor(e);o==0?t=1:o==i.length&&(t=-1);let s=o,a=o;t<0?s=zt(i.text,o,!1):a=zt(i.text,o);let c=r(i.text.slice(s,a));for(;s>0;){let f=zt(i.text,s,!1);if(r(i.text.slice(f,s))!=c)break;s=f}for(;a<i.length;){let f=zt(i.text,a);if(r(i.text.slice(a,f))!=c)break;a=f}return X.range(s+i.from,a+i.from)}function FB(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function VB(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Zd(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Ux(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Kx(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function $m(n,e,t){let r,i,o,s,a=!1,c,f,h,d;for(let x=n.firstChild;x;x=x.nextSibling){let v=Ms(x);for(let w=0;w<v.length;w++){let $=v[w];i&&Zd(i,$)&&($=Ux(Kx($,i.bottom),i.top));let S=FB(e,$),E=VB(t,$);if(S==0&&E==0)return x.nodeType==3?qx(x,e,t):$m(x,e,t);if(!r||s>E||s==E&&o>S){r=x,i=$,o=S,s=E;let A=E?t<$.top?-1:1:S?e<$.left?-1:1:0;a=!A||(A>0?w<v.length-1:w>0)}S==0?t>$.bottom&&(!h||h.bottom<$.bottom)?(c=x,h=$):t<$.top&&(!d||d.top>$.top)&&(f=x,d=$):h&&Zd(h,$)?h=Kx(h,$.bottom):d&&Zd(d,$)&&(d=Ux(d,$.top))}}if(h&&h.bottom>=t?(r=c,i=h):d&&d.top<=t&&(r=f,i=d),!r)return{node:n,offset:0};let m=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return qx(r,m,t);if(a&&r.contentEditable!="false")return $m(r,m,t);let b=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:b}}function qx(n,e,t){let r=n.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let c=So(n,a,a+1).getClientRects();for(let f=0;f<c.length;f++){let h=c[f];if(h.top==h.bottom)continue;s||(s=e-h.left);let d=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&d<o){let m=e>=(h.left+h.right)/2,b=m;if((ce.chrome||ce.gecko)&&So(n,a).getBoundingClientRect().left==h.right&&(b=!m),d<=0)return{node:n,offset:a+(b?1:0)};i=a+(b?1:0),o=d}}}return{node:n,offset:i>-1?i:s>0?n.nodeValue.length:0}}function FS(n,e,t,r=-1){var i,o;let s=n.contentDOM.getBoundingClientRect(),a=s.top+n.viewState.paddingTop,c,{docHeight:f}=n.viewState,{x:h,y:d}=e,m=d-a;if(m<0)return 0;if(m>f)return n.state.doc.length;for(let A=n.viewState.heightOracle.textHeight/2,T=!1;c=n.elementAtHeight(m),c.type!=nn.Text;)for(;m=r>0?c.bottom+A:c.top-A,!(m>=0&&m<=f);){if(T)return t?null:0;T=!0,r=-r}d=a+m;let b=c.from;if(b<n.viewport.from)return n.viewport.from==0?0:t?null:Gx(n,s,c,h,d);if(b>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:Gx(n,s,c,h,d);let x=n.dom.ownerDocument,v=n.root.elementFromPoint?n.root:x,w=v.elementFromPoint(h,d);w&&!n.contentDOM.contains(w)&&(w=null),w||(h=Math.max(s.left+1,Math.min(s.right-1,h)),w=v.elementFromPoint(h,d),w&&!n.contentDOM.contains(w)&&(w=null));let $,S=-1;if(w&&((i=n.docView.nearest(w))===null||i===void 0?void 0:i.isEditable)!=!1){if(x.caretPositionFromPoint){let A=x.caretPositionFromPoint(h,d);A&&({offsetNode:$,offset:S}=A)}else if(x.caretRangeFromPoint){let A=x.caretRangeFromPoint(h,d);A&&({startContainer:$,startOffset:S}=A,(!n.contentDOM.contains($)||ce.safari&&WB($,S,h)||ce.chrome&&zB($,S,h))&&($=void 0))}$&&(S=Math.min(Er($),S))}if(!$||!n.docView.dom.contains($)){let A=$t.find(n.docView,b);if(!A)return m>c.top+c.height/2?c.to:c.from;({node:$,offset:S}=$m(A.dom,h,d))}let E=n.docView.nearest($);if(!E)return null;if(E.isWidget&&((o=E.dom)===null||o===void 0?void 0:o.nodeType)==1){let A=E.dom.getBoundingClientRect();return e.y<A.top||e.y<=A.bottom&&e.x<=(A.left+A.right)/2?E.posAtStart:E.posAtEnd}else return E.localPosFromDOM($,S)+E.posAtStart}function Gx(n,e,t,r,i){let o=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,c=Math.floor((i-t.top-(n.defaultLineHeight-a)*.5)/a);o+=c*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+cm(s,o,n.state.tabSize)}function WB(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return So(n,r-1,r).getBoundingClientRect().left>t}function zB(n,e,t){if(e!=0)return!1;for(let i=n;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=n.nodeType==1?n.getBoundingClientRect():So(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function Sm(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==nn.Text))return r}return t}function jB(n,e,t,r){let i=Sm(n,e.head),o=!r||i.type!=nn.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=n.dom.getBoundingClientRect(),a=n.textDirectionAt(i.from),c=n.posAtCoords({x:t==(a==ut.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(c!=null)return X.cursor(c,t?-1:1)}return X.cursor(t?i.to:i.from,t?-1:1)}function Yx(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),s=n.textDirectionAt(i.from);for(let a=e,c=null;;){let f=RB(i,o,s,a,t),h=$S;if(!f){if(i.number==(t?n.state.doc.lines:1))return a;h=`
`,i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),f=n.visualLineSide(i,!t)}if(c){if(!c(h))return a}else{if(!r)return f;c=r(h)}a=f}}function HB(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return o=>{let s=r(o);return i==ht.Space&&(i=s),i==s}}function UB(n,e,t,r){let i=e.head,o=t?1:-1;if(i==(t?n.state.doc.length:0))return X.cursor(i,e.assoc);let s=e.goalColumn,a,c=n.contentDOM.getBoundingClientRect(),f=n.coordsAtPos(i,e.assoc||-1),h=n.documentTop;if(f)s==null&&(s=f.left-c.left),a=o<0?f.top:f.bottom;else{let b=n.viewState.lineBlockAt(i);s==null&&(s=Math.min(c.right-c.left,n.defaultCharacterWidth*(i-b.from))),a=(o<0?b.top:b.bottom)+h}let d=c.left+s,m=r??n.viewState.heightOracle.textHeight>>1;for(let b=0;;b+=10){let x=a+(m+b)*o,v=FS(n,{x:d,y:x},!1,o);if(x<c.top||x>c.bottom||(o<0?v<i:v>i)){let w=n.docView.coordsForChar(v),$=!w||x<w.top?-1:1;return X.cursor(v,$,void 0,s)}}}function Au(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let c=r||t||(e-o<s-e?-1:1);e=c<0?o:s,r=c}});if(!r)return e}}function Qd(n,e,t){let r=Au(n.state.facet(m0).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:X.cursor(r,r<t.from?1:-1)}const Oa="￿";class KB{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ye.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Oa}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==t)break;let a=ot.get(i),c=ot.get(s);(a&&c?a.breakAfter:(a?a.breakAfter:Zu(i))||Zu(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(t))&&(o=a.index,s=a[0].length),this.append(t.slice(r,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let t=ot.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(qB(e,r.node,r.offset)?t:0))}}function qB(n,e,t){for(;;){if(!e||t<Er(e))return!1;if(e==n)return!0;t=$o(e)+1,e=e.parentNode}}class Xx{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class GB{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=o||s?[]:ZB(e),c=new KB(a,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=QB(a,this.bounds.from)}else{let a=e.observer.selectionRange,c=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!hm(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),f=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!hm(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),h=e.viewport;if((ce.ios||ce.chrome)&&e.state.selection.main.empty&&c!=f&&(h.from>0||h.to<e.state.doc.length)){let d=Math.min(c,f),m=Math.max(c,f),b=h.from-d,x=h.to-m;(b==0||b==1||d==0)&&(x==0||x==-1||m==e.state.doc.length)&&(c=0,f=e.state.doc.length)}this.newSel=X.single(f,c)}}}function VS(n,e){let t,{newSel:r}=e,i=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,c=i.from,f=null;(o===8||ce.android&&e.text.length<a-s)&&(c=i.to,f="end");let h=XB(n.state.doc.sliceString(s,a,Oa),e.text,c-s,f);h&&(ce.chrome&&o==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Oa+Oa&&h.toB--,t={from:s+h.from,to:s+h.toA,insert:Ze.of(e.text.slice(h.from,h.toB).split(Oa))})}else r&&(!n.hasFocus&&n.state.facet(Gr)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(ce.mac||ce.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=X.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:Ze.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:ce.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=X.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Ze.of([" "])}),t)return b0(n,t,r,o);if(r&&!r.main.eq(i)){let s=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function b0(n,e,t,r=-1){if(ce.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(ce.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&xs(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&xs(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&xs(n.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let s,a=()=>s||(s=YB(n,e,t));return n.state.facet(RS).some(c=>c(n,e.from,e.to,o,a))||n.dispatch(a()),!0}function YB(n,e,t){let r,i=n.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=o.from<e.from?i.sliceDoc(o.from,e.from):"",c=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+c))}else{let a=i.changes(e),c=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let f=n.state.sliceDoc(e.from,e.to),h,d=t&&BS(n,t.main.head);if(d){let x=e.insert.length-(e.to-e.from);h={from:d.from,to:d.to-x}}else h=n.state.doc.lineAt(o.head);let m=o.to-e.to,b=o.to-o.from;r=i.changeByRange(x=>{if(x.from==o.from&&x.to==o.to)return{changes:a,range:c||x.map(a)};let v=x.to-m,w=v-f.length;if(x.to-x.from!=b||n.state.sliceDoc(w,v)!=f||x.to>=h.from&&x.from<=h.to)return{range:x};let $=i.changes({from:w,to:v,insert:e.insert}),S=x.to-o.to;return{changes:$,range:c?X.range(Math.max(0,c.anchor+S),Math.max(0,c.head+S)):x.map($)}})}else r={changes:a,selection:c&&i.selection.replaceRange(c)}}let s="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,s+=".compose",n.inputState.compositionFirstChange&&(s+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function XB(n,e,t,r){let i=Math.min(n.length,e.length),o=0;for(;o<i&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&n.length==e.length)return null;let s=n.length,a=e.length;for(;s>0&&a>0&&n.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(r=="end"){let c=Math.max(0,o-Math.min(s,a));t-=s+c-o}if(s<o&&n.length<e.length){let c=t<=o&&t>=s?o-t:0;o-=c,a=o+(a-s),s=o}else if(a<o){let c=t<=o&&t>=a?o-t:0;o-=c,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function ZB(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new Xx(t,r)),(i!=t||o!=r)&&e.push(new Xx(i,o))),e}function QB(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?X.single(t+e,r+e):null}class JB{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ce.safari&&e.contentDOM.addEventListener("input",()=>null),ce.gecko&&mF(e.contentDOM.ownerDocument)}handleEvent(e){!aF(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=eF(e),r=this.handlers,i=this.view.contentDOM;for(let o in t)if(o!="scroll"){let s=!t[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!t[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&zS.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ce.android&&ce.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ce.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=WS.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||tF.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,xs(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ce.safari&&!ce.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Zx(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){dn(t.state,i)}}}function eF(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&t(o).handlers.push(Zx(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&t(o).observers.push(Zx(r.value,s))}}for(let r in rr)t(r).handlers.push(rr[r]);for(let r in jn)t(r).observers.push(jn[r]);return e}const WS=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],tF="dthko",zS=[16,17,18,20,91,92,224,225],nu=6;function ru(n){return Math.max(0,n)*.7+8}function nF(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class rF{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=hB(e.contentDOM),this.atoms=e.state.facet(m0).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ye.allowMultipleSelections)&&iF(e,t),this.dragging=sF(e,t)&&US(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&nF(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let c=g0(this.view);e.clientX-c.left<=i+nu?t=-ru(i-e.clientX):e.clientX+c.right>=s-nu&&(t=ru(e.clientX-s)),e.clientY-c.top<=o+nu?r=-ru(o-e.clientY):e.clientY+c.bottom>=a-nu&&(r=ru(e.clientY-a)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=Au(this.atoms,i.from,0);s!=i.from&&(o=X.cursor(s,-1))}else{let s=Au(this.atoms,i.from,-1),a=Au(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=X.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(t||(t=e.ranges.slice()),t[r]=o)}return t?X.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function iF(n,e){let t=n.state.facet(SS);return t.length?t[0](e):ce.mac?e.metaKey:e.ctrlKey}function oF(n,e){let t=n.state.facet(kS);return t.length?t[0](e):ce.mac?!e.altKey:!e.ctrlKey}function sF(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Ja(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function aF(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=ot.get(t))&&r.ignoreEvent(e))return!1;return!0}const rr=Object.create(null),jn=Object.create(null),jS=ce.ie&&ce.ie_version<15||ce.ios&&ce.webkit_version<604;function lF(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),HS(n,t.value)},50)}function Kf(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function HS(n,e){e=Kf(n.state,h0,e);let{state:t}=n,r,i=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(km!=null&&t.selection.ranges.every(c=>c.empty)&&km==o.toString()){let c=-1;r=t.changeByRange(f=>{let h=t.doc.lineAt(f.from);if(h.from==c)return{range:f};c=h.from;let d=t.toText((s?o.line(i++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:d},range:X.cursor(f.from+d.length)}})}else s?r=t.changeByRange(c=>{let f=o.line(i++);return{changes:{from:c.from,to:c.to,insert:f.text},range:X.cursor(c.from+f.length)}}):r=t.replaceSelection(o);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}jn.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};rr.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);jn.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};jn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};rr.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(ES))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=fF(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new rF(n,e,t,r)),r&&n.observer.ignore(()=>{oS(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function Qx(n,e,t,r){if(r==1)return X.cursor(e,t);if(r==2)return BB(n.state,e,t);{let i=$t.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<n.state.doc.length&&a==o.to&&a++,X.range(s,a)}}let Jx=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function cF(n,e,t,r){let i=$t.find(n.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Jx(t,r,s))return-1;let a=i.coordsAt(o,1);return a&&Jx(t,r,a)?1:s&&s.bottom>=r?-1:1}function ey(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:cF(n,t,e.clientX,e.clientY)}}const uF=ce.ie&&ce.ie_version<=11;let ty=null,ny=0,ry=0;function US(n){if(!uF)return n.detail;let e=ty,t=ry;return ty=n,ry=Date.now(),ny=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(ny+1)%3:1}function fF(n,e){let t=ey(n,e),r=US(e),i=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),i=i.map(o.changes))},get(o,s,a){let c=ey(n,o),f,h=Qx(n,c.pos,c.bias,r);if(t.pos!=c.pos&&!s){let d=Qx(n,t.pos,t.bias,r),m=Math.min(d.from,h.from),b=Math.max(d.to,h.to);h=m<h.from?X.range(m,b):X.range(b,m)}return s?i.replaceRange(i.main.extend(h.from,h.to)):a&&r==1&&i.ranges.length>1&&(f=hF(i,c.pos))?f:a?i.addRange(h):X.create([h])}}}function hF(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return X.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}rr.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=t.to||s<=t.from)&&(t=X.range(o,s))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Kf(n.state,d0,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};rr.dragend=n=>(n.inputState.draggedContent=null,!1);function iy(n,e,t,r){if(t=Kf(n.state,h0,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,s=r&&o&&oF(n,e)?{from:o.from,to:o.to}:null,a={from:i,insert:t},c=n.state.changes(s?[s,a]:a);n.focus(),n.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}rr.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,o=()=>{++i==t.length&&iy(n,e,r.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(t[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return iy(n,e,r,!0),!0}return!1};rr.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=jS?null:e.clipboardData;return t?(HS(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(lF(n),!1)};function dF(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function pF(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>i&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),i=s.number}r=!0}return{text:Kf(n,d0,e.join(n.lineBreak)),ranges:t,linewise:r}}let km=null;rr.copy=rr.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=pF(n.state);if(!t&&!i)return!1;km=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=jS?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):(dF(n,t),!1)};const KS=Pr.define();function qS(n,e){let t=[];for(let r of n.facet(TS)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:KS.of(!0)}):null}function GS(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=qS(n.state,e);t?n.dispatch(t):n.update([])}},10)}jn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),GS(n)};jn.blur=n=>{n.observer.clearSelectionRange(),GS(n)};jn.compositionstart=jn.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};jn.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ce.chrome&&ce.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};jn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};rr.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],c=n.posAtDOM(a.startContainer,a.startOffset),f=n.posAtDOM(a.endContainer,a.endOffset);return b0(n,{from:c,to:f,insert:n.state.toText(o)},null),!0}}let i;if(ce.chrome&&ce.android&&(i=WS.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ce.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ce.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>jn.compositionend(n,e),20),!1};const oy=new Set;function mF(n){oy.has(n)||(oy.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const sy=["pre-wrap","normal","pre-line","break-spaces"];let Ds=!1;function ay(){Ds=!1}class gF{constructor(e){this.lineWrapping=e,this.doc=Ze.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return sy.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,o,s){let a=sy.indexOf(e)>-1,c=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=o,c){this.heightSamples={};for(let f=0;f<s.length;f++){let h=s[f];h<0?f++:this.heightSamples[Math.floor(h*10)]=!0}}return c}}class bF{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class vr{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?nn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ni?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new vr(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var ct=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(ct||(ct={}));const Ru=.001;class rn{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ru&&(Ds=!0),this.height=e)}replace(e,t,r){return rn.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:c,toA:f,fromB:h,toB:d}=i[a],m=o.lineAt(c,ct.ByPosNoHeight,r.setDoc(t),0,0),b=m.to>=f?m:o.lineAt(f,ct.ByPosNoHeight,r,0,0);for(d+=b.to-f,f=b.to;a>0&&m.from<=i[a-1].toA;)c=i[a-1].fromA,h=i[a-1].fromB,a--,c<m.from&&(m=o.lineAt(c,ct.ByPosNoHeight,r,0,0));h+=m.from-c,c=m.from;let x=v0.build(r.setDoc(s),e,h,d);o=ef(o,o.replace(c,f,x))}return o.updateHeight(r,0)}static empty(){return new En(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>o*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=e[t++];a&&(i+=a.size)}else{let a=e[--r];a&&(o+=a.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,r++),new vF(rn.of(e.slice(0,t)),s,rn.of(e.slice(r)))}}function ef(n,e){return n==e?n:(n.constructor!=e.constructor&&(Ds=!0),e)}rn.prototype.size=1;class YS extends rn{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new vr(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class En extends YS{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new vr(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof En||i instanceof Vt&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Vt?i=new En(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):rn.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Vt extends rn{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,s,a=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*o);s=c/o,this.length>o+1&&(a=(this.height-c)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(e,t,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:c}=this.heightMetrics(t,i);if(t.lineWrapping){let f=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),h=t.doc.lineAt(f),d=a+h.length*c,m=Math.max(r,e-d/2);return new vr(h.from,h.length,m,d,0)}else{let f=Math.max(0,Math.min(s-o,Math.floor((e-r)/a))),{from:h,length:d}=t.doc.line(o+f);return new vr(h,d,r+a*f,a,0)}}lineAt(e,t,r,i,o){if(t==ct.ByHeight)return this.blockAt(e,r,i,o);if(t==ct.ByPosNoHeight){let{from:b,to:x}=r.doc.lineAt(e);return new vr(b,x-b,0,0,0)}let{firstLine:s,perLine:a,perChar:c}=this.heightMetrics(r,o),f=r.doc.lineAt(e),h=a+f.length*c,d=f.number-s,m=i+a*d+c*(f.from-o-d);return new vr(f.from,f.length,Math.max(i,Math.min(m,i+this.height-h)),h,0)}forEachLine(e,t,r,i,o,s){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:a,perLine:c,perChar:f}=this.heightMetrics(r,o);for(let h=e,d=i;h<=t;){let m=r.doc.lineAt(h);if(h==e){let x=m.number-a;d+=c*x+f*(e-o-x)}let b=c+f*m.length;s(new vr(m.from,m.length,d,b,0)),d+=b,h=m.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let o=r[r.length-1];o instanceof Vt?r[r.length-1]=new Vt(o.length+i):r.push(null,new Vt(i-1))}if(e>0){let o=r[0];o instanceof Vt?r[0]=new Vt(e+o.length):r.unshift(new Vt(e-1),null)}return rn.of(r)}decomposeLeft(e,t){t.push(new Vt(e-1),null)}decomposeRight(e,t){t.push(null,new Vt(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let s=[],a=Math.max(t,i.from),c=-1;for(i.from>t&&s.push(new Vt(i.from-t-1).updateHeight(e,t));a<=o&&i.more;){let h=e.doc.lineAt(a).length;s.length&&s.push(null);let d=i.heights[i.index++];c==-1?c=d:Math.abs(d-c)>=Ru&&(c=-2);let m=new En(h,d);m.outdated=!1,s.push(m),a+=h+1}a<=o&&s.push(null,new Vt(o-a).updateHeight(e,a));let f=rn.of(s);return(c<0||Math.abs(f.height-this.height)>=Ru||Math.abs(c-this.heightMetrics(e,t).perLine)>=Ru)&&(Ds=!0),ef(this,f)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class vF extends rn{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,c=t==ct.ByHeight?e<s:e<a,f=c?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,s,a);if(this.break||(c?f.to<a:f.from>a))return f;let h=t==ct.ByPosNoHeight?ct.ByPosNoHeight:ct.ByPos;return c?f.join(this.right.lineAt(a,h,r,s,a)):this.left.lineAt(a,h,r,i,o).join(f)}forEachLine(e,t,r,i,o,s){let a=i+this.left.height,c=o+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,t,r,i,o,s),t>=c&&this.right.forEachLine(e,t,r,a,c,s);else{let f=this.lineAt(c,ct.ByPos,r,i,o);e<f.from&&this.left.forEachLine(e,f.from-1,r,i,o,s),f.to>=e&&f.from<=t&&s(f),t>f.to&&this.right.forEachLine(f.to+1,t,r,a,c,s)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of r)o.push(a);if(e>0&&ly(o,s-1),t<this.length){let a=o.length;this.decomposeRight(t,o),ly(o,a)}return rn.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?rn.of(this.break?[e,null,t]:[e,t]):(this.left=ef(this.left,e),this.right=ef(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:s}=this,a=t+o.length+this.break,c=null;return i&&i.from<=t+o.length&&i.more?c=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=a+s.length&&i.more?c=s=s.updateHeight(e,a,r,i):s.updateHeight(e,a,r),c?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ly(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof Vt&&(r=n[e+1])instanceof Vt&&n.splice(e-1,3,new Vt(t.length+1+r.length))}const xF=5;class v0{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof En?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new En(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new YS(s,i,r)):(s||o||i>=xF)&&this.addLineDeco(i,o,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new En(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new Vt(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof En)return e;let t=new En(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof En)&&!this.isCovered?this.nodes.push(new En(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof En&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let o=new v0(r,e);return Xe.spans(t,r,i,o,0),o.finish(r)}}function yF(n,e,t){let r=new wF;return Xe.compare(n,e,t,r,0),r.changes}class wF{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&Eu(e,t,this.changes,5)}}function CF(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),s=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),c=Math.min(i.innerHeight,t.bottom);for(let f=n.parentNode;f&&f!=r.body;)if(f.nodeType==1){let h=f,d=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&d.overflow!="visible"){let m=h.getBoundingClientRect();o=Math.max(o,m.left),s=Math.min(s,m.right),a=Math.max(a,m.top),c=Math.min(f==n.parentNode?i.innerHeight:c,m.bottom)}f=d.position=="absolute"||d.position=="fixed"?h.offsetParent:h.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:o-t.left,right:Math.max(o,s)-t.left,top:a-(t.top+e),bottom:Math.max(a,c)-(t.top+e)}}function $F(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function SF(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Jd{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,t){return ye.replace({widget:new kF(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class kF extends si{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class cy{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=uy,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ut.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(p0).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new gF(t),this.stateDeco=e.facet(el).filter(r=>typeof r!="function"),this.heightMap=rn.empty().applyChanges(this.stateDeco,Ze.empty,this.heightOracle.setDoc(e.doc),[new zn(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ye.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new iu(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?uy:new x0(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Da(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(el).filter(h=>typeof h!="function");let i=e.changedRanges,o=zn.extendWithRanges(i,yF(r,this.stateDeco,e?e.changes:Rt.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);ay(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||Ds)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<c.from||t.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,t));let f=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(PS)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?ut.RTL:ut.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=t.getBoundingClientRect(),c=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let f=0,h=0;if(a.width&&a.height){let{scaleX:A,scaleY:T}=iS(t,a);(A>.005&&Math.abs(this.scaleX-A)>.005||T>.005&&Math.abs(this.scaleY-T)>.005)&&(this.scaleX=A,this.scaleY=T,f|=16,s=c=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,m=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=m)&&(this.paddingTop=d,this.paddingBottom=m,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let b=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=b&&(this.scrollAnchorHeight=-1,this.scrollTop=b),this.scrolledToBottom=aS(e.scrollDOM);let x=(this.printing?SF:CF)(t,this.paddingTop),v=x.top-this.pixelViewport.top,w=x.bottom-this.pixelViewport.bottom;this.pixelViewport=x;let $=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if($!=this.inView&&(this.inView=$,$&&(c=!0)),!this.inView&&!this.scrollTarget&&!$F(e.dom))return 0;let S=a.width;if((this.contentDOMWidth!=S||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),c){let A=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(A)&&(s=!0),s||i.lineWrapping&&Math.abs(S-this.contentDOMWidth)>i.charWidth){let{lineHeight:T,charWidth:O,textHeight:P}=e.docView.measureTextSize();s=T>0&&i.refresh(o,T,O,P,S/O,A),s&&(e.docView.minWidth=0,f|=16)}v>0&&w>0?h=Math.max(v,w):v<0&&w<0&&(h=Math.min(v,w)),ay();for(let T of this.viewports){let O=T.from==this.viewport.from?A:e.docView.measureVisibleLineHeights(T);this.heightMap=(s?rn.empty().applyChanges(this.stateDeco,Ze.empty,this.heightOracle,[new zn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new bF(T.from,O))}Ds&&(f|=2)}let E=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return E&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),f|=this.updateForViewport()),(f&2||E)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,c=new iu(i.lineAt(s-r*1e3,ct.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,ct.ByHeight,o,0,0).to);if(t){let{head:f}=t.range;if(f<c.from||f>c.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(f,ct.ByPos,o,0,0),m;t.y=="center"?m=(d.top+d.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&f<c.from?m=d.top:m=d.bottom-h,c=new iu(i.lineAt(m-1e3/2,ct.ByHeight,o,0,0).from,i.lineAt(m+h+1e3/2,ct.ByHeight,o,0,0).to)}}return c}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new iu(this.heightMap.lineAt(r,ct.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ct.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ct.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,ct.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new Jd(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=ut.LTR&&!r)return[];let a=[],c=(h,d,m,b)=>{if(d-h<o)return;let x=this.state.selection.main,v=[x.from];x.empty||v.push(x.to);for(let $ of v)if($>h&&$<d){c(h,$-10,m,b),c($+10,d,m,b);return}let w=AF(e,$=>$.from>=m.from&&$.to<=m.to&&Math.abs($.from-h)<o&&Math.abs($.to-d)<o&&!v.some(S=>$.from<S&&$.to>S));if(!w){if(d<m.to&&t&&r&&t.visibleRanges.some(E=>E.from<=d&&E.to>=d)){let E=t.moveToLineBoundary(X.cursor(d),!1,!0).head;E>h&&(d=E)}let $=this.gapSize(m,h,d,b),S=r||$<2e6?$:2e6;w=new Jd(h,d,$,S)}a.push(w)},f=h=>{if(h.length<s||h.type!=nn.Text)return;let d=EF(h.from,h.to,this.stateDeco);if(d.total<s)return;let m=this.scrollTarget?this.scrollTarget.range.head:null,b,x;if(r){let v=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,$;if(m!=null){let S=su(d,m),E=((this.visibleBottom-this.visibleTop)/2+v)/h.height;w=S-E,$=S+E}else w=(this.visibleTop-h.top-v)/h.height,$=(this.visibleBottom-h.top+v)/h.height;b=ou(d,w),x=ou(d,$)}else{let v=d.total*this.heightOracle.charWidth,w=i*this.heightOracle.charWidth,$=0;if(v>2e6)for(let O of e)O.from>=h.from&&O.from<h.to&&O.size!=O.displaySize&&O.from*this.heightOracle.charWidth+$<this.pixelViewport.left&&($=O.size-O.displaySize);let S=this.pixelViewport.left+$,E=this.pixelViewport.right+$,A,T;if(m!=null){let O=su(d,m),P=((E-S)/2+w)/v;A=O-P,T=O+P}else A=(S-w)/v,T=(E+w)/v;b=ou(d,A),x=ou(d,T)}b>h.from&&c(h.from,b,h,d),x<h.to&&c(x,h.to,h,d)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(f):f(h);return a}gapSize(e,t,r,i){let o=su(i,r)-su(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){Jd.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ye.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];Xe.spans(t,this.viewport.from,this.viewport.to,{span(o,s){r.push({from:o,to:s})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let s=this.visibleRanges[o],a=r[o];(s.from!=a.from||s.to!=a.to)&&(i|=4,e&&e.mapPos(s.from,-1)==a.from&&e.mapPos(s.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Da(this.heightMap.lineAt(e,ct.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Da(this.heightMap.lineAt(this.scaler.fromDOM(e),ct.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Da(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let iu=class{constructor(e,t){this.from=e,this.to=t}};function EF(n,e,t){let r=[],i=n,o=0;return Xe.spans(t,n,e,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function ou({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:o,to:s}=e[i],a=s-o;if(r<=a)return o+r;r-=a}}function su(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function AF(n,e){for(let t of n)if(e(t))return t}const uy={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class x0{constructor(e,t,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:c})=>{let f=t.lineAt(a,ct.ByPos,e,0,0).top,h=t.lineAt(c,ct.ByPos,e,0,0).bottom;return i+=h-f,{from:a,to:c,top:f,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof x0?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Da(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new vr(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>Da(i,e)):n._content)}const au=fe.define({combine:n=>n.join(" ")}),Em=fe.define({combine:n=>n.indexOf(!0)>-1}),Am=_i.newName(),XS=_i.newName(),ZS=_i.newName(),QS={"&light":"."+XS,"&dark":"."+ZS};function Rm(n,e,t){return new _i(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const RF=Rm("."+Am,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},QS),TF={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ep=ce.ie&&ce.ie_version<=11;class MF{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new dB,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(ce.ie&&ce.ie_version<=11||ce.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(ce.chrome&&ce.chrome_version<126)&&(this.editContext=new OF(e),e.state.facet(Gr)&&(e.contentDOM.editContext=this.editContext.editContext)),ep&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Gr)?r.root.activeElement!=this.dom:!ku(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ce.ie&&ce.ie_version<=11||ce.android&&ce.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Ba(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ja(e.root);if(!t)return!1;let r=ce.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&PF(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=ku(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&mB(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,TF),ep&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ep&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&xs(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),t==-1?{from:t,to:r}=s:(t=Math.min(s.from,t),r=Math.max(s.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&ku(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new GB(this.view,e,t,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=VS(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=fy(t,e.previousSibling||e.target.previousSibling,-1),i=fy(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Gr)!=e.state.facet(Gr)&&(e.view.contentDOM.editContext=e.state.facet(Gr)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function fy(n,e,t){for(;e;){let r=ot.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function hy(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return Ba(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function PF(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return hy(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?hy(n,t):null}class OF{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:s}=i,a=this.toEditorPos(r.updateRangeStart),c=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let f={from:a,to:c,insert:Ze.of(r.text.split(`
`))};if(f.from==this.from&&o<this.from?f.from=o:f.to==this.to&&o>this.to&&(f.to=o),f.from==f.to&&!f.insert.length){let h=X.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));h.main.eq(i)||e.dispatch({selection:h,userEvent:"select"});return}if((ce.mac||ce.android)&&f.from==s-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:a,to:c,insert:Ze.of([r.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let h=this.to-this.from+(f.to-f.from+f.insert.length);b0(e,f,X.single(this.toEditorPos(r.selectionStart,h),this.toEditorPos(r.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);s<a;s++){let c=e.coordsForChar(s);o=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||o||new DOMRect,i.push(o)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!="None"&&a!="None"){let c=this.toEditorPos(o.rangeStart),f=this.toEditorPos(o.rangeEnd);if(c<f){let h=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(ye.mark({attributes:{style:h}}).range(c,f))}}}e.dispatch({effects:DS.of(ye.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Ja(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,a,c,f)=>{if(r)return;let h=f.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(f)){i=this.pendingContextChange=null,t+=h,this.to+=h;return}else i=null,this.revertPending(e.state);if(o+=t,s+=t,s<=this.from)this.from+=h,this.to+=h;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+f.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),f.toString()),this.to+=h}t+=h}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ae{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||pB(e.parent)||document,this.viewState=new cy(e.state||Ye.create(e)),e.scrollTo&&e.scrollTo.is(tu)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ma).map(i=>new Xd(i));for(let i of this.plugins)i.update(this);this.observer=new MF(this),this.inputState=new JB(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Hx(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Tt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,o=this.state;for(let m of e){if(m.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=m.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,c=null;e.some(m=>m.annotation(KS))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,c=qS(o,s),c||(a=1));let f=this.observer.delayedAndroidKey,h=null;if(f?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(h=null)):this.observer.clear(),o.facet(Ye.phrases)!=this.state.facet(Ye.phrases))return this.setState(o);i=Ju.create(this,o,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let m of e){if(d&&(d=d.map(m.changes)),m.scrollIntoView){let{main:b}=m.state.selection;d=new ys(b.empty?b:X.cursor(b.head,b.head>b.anchor?-1:1))}for(let b of m.effects)b.is(tu)&&(d=b.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=tf.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(Pa)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(au)!=i.state.facet(au)&&(this.viewState.mustMeasureContent=!0),(t||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let m of this.state.facet(Cm))try{m(i)}catch(b){dn(this.state,b,"update listener")}(c||h)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),h&&!VS(this,h)&&f.force&&xs(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new cy(e),this.plugins=e.facet(Ma).map(r=>new Xd(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Hx(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ma),r=e.state.facet(Ma);if(t!=r){let i=[];for(let o of r){let s=t.indexOf(o);if(s<0)i.push(new Xd(o));else{let a=this.plugins[s];a.mustUpdate=e,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){dn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(aS(r))o=-1,s=this.viewState.heightMap.height;else{let b=this.viewState.scrollAnchorAt(i);o=b.from,s=b.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];c&4||([this.measureRequests,f]=[f,this.measureRequests]);let h=f.map(b=>{try{return b.read(this)}catch(x){return dn(this.state,x),dy}}),d=Ju.create(this,this.state,[]),m=!1;d.flags|=c,t?t.flags|=c:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),m=this.docView.update(d),m&&this.docViewUpdate());for(let b=0;b<f.length;b++)if(h[b]!=dy)try{let x=f[b];x.write&&x.write(h[b],this)}catch(x){dn(this.state,x)}if(m&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let x=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(x>1||x<-1){i=i+x,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(Cm))a(t)}get themeClasses(){return Am+" "+(this.state.facet(Em)?ZS:XS)+" "+this.state.facet(au)}updateAttrs(){let e=py(this,IS,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Gr)?"true":"false",class:"cm-content",style:`${ce.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),py(this,p0,t);let r=this.observer.ignore(()=>{let i=bm(this.contentDOM,this.contentAttrs,t),o=bm(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(ae.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Pa);let e=this.state.facet(ae.cspNonce);_i.mount(this.root,this.styleModules.concat(RF).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return Qd(this,e,Yx(this,e,t,r))}moveByGroup(e,t){return Qd(this,e,Yx(this,e,t,r=>HB(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[t?r.length-1:0];return X.cursor(o.side(t,i)+e.from,o.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return jB(this,e,t,r)}moveVertically(e,t,r){return Qd(this,e,UB(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),FS(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[Ei.find(o,e-i.from,-1,t)];return Al(r,s.dir==ut.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(MS)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>DF)return CS(e.length);let t=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||wS(o.isolates,r=jx(this,e))))return o.order;r||(r=jx(this,e));let i=AB(e.text,t,r);return this.bidiCache.push(new tf(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ce.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{oS(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return tu.of(new ys(typeof e=="number"?X.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return tu.of(new ys(X.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return wt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return wt.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=_i.newName(),i=[au.of(r),Pa.of(Rm(`.${r}`,e))];return t&&t.dark&&i.push(Em.of(!0)),i}static baseTheme(e){return Oo.lowest(Pa.of(Rm("."+Am,e,QS)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&ot.get(r)||ot.get(e);return((t=i?.rootView)===null||t===void 0?void 0:t.view)||null}}ae.styleModule=Pa;ae.inputHandler=RS;ae.clipboardInputFilter=h0;ae.clipboardOutputFilter=d0;ae.scrollHandler=OS;ae.focusChangeEffect=TS;ae.perLineTextDirection=MS;ae.exceptionSink=AS;ae.updateListener=Cm;ae.editable=Gr;ae.mouseSelectionStyle=ES;ae.dragMovesSelection=kS;ae.clickAddsSelectionRange=SS;ae.decorations=el;ae.outerDecorations=_S;ae.atomicRanges=m0;ae.bidiIsolatedRanges=LS;ae.scrollMargins=NS;ae.darkTheme=Em;ae.cspNonce=fe.define({combine:n=>n.length?n[0]:""});ae.contentAttributes=p0;ae.editorAttributes=IS;ae.lineWrapping=ae.contentAttributes.of({class:"cm-lineWrapping"});ae.announce=Pe.define();const DF=4096,dy={};class tf{constructor(e,t,r,i,o,s){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:ut.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!t.touchesRange(s.from,s.to)&&r.push(new tf(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function py(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(n):o;s&&gm(s,t)}return t}const IF=ce.mac?"mac":ce.windows?"win":ce.linux?"linux":"key";function _F(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,o,s,a;for(let c=0;c<t.length-1;++c){const f=t[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function lu(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const LF=Oo.default(ae.domEventHandlers({keydown(n,e){return ek(JS(e.state),n,e,"editor")}})),qf=fe.define({enables:LF}),my=new WeakMap;function JS(n){let e=n.facet(qf),t=my.get(e);return t||my.set(e,t=FF(e.reduce((r,i)=>r.concat(i),[]))),t}function NF(n,e,t){return ek(JS(n.state),e,n,t)}let Ci=null;const BF=4e3;function FF(n,e=IF){let t=Object.create(null),r=Object.create(null),i=(s,a)=>{let c=r[s];if(c==null)r[s]=a;else if(c!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,c,f,h)=>{var d,m;let b=t[s]||(t[s]=Object.create(null)),x=a.split(/ (?!$)/).map($=>_F($,e));for(let $=1;$<x.length;$++){let S=x.slice(0,$).join(" ");i(S,!0),b[S]||(b[S]={preventDefault:!0,stopPropagation:!1,run:[E=>{let A=Ci={view:E,prefix:S,scope:s};return setTimeout(()=>{Ci==A&&(Ci=null)},BF),!0}]})}let v=x.join(" ");i(v,!1);let w=b[v]||(b[v]={preventDefault:!1,stopPropagation:!1,run:((m=(d=b._any)===null||d===void 0?void 0:d.run)===null||m===void 0?void 0:m.slice())||[]});c&&w.run.push(c),f&&(w.preventDefault=!0),h&&(w.stopPropagation=!0)};for(let s of n){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let f of a){let h=t[f]||(t[f]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=s;for(let m in h)h[m].run.push(b=>d(b,Tm))}let c=s[e]||s.key;if(c)for(let f of a)o(f,c,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(f,"Shift-"+c,s.shift,s.preventDefault,s.stopPropagation)}return t}let Tm=null;function ek(n,e,t,r){Tm=e;let i=cB(e),o=un(i,0),s=br(o)==i.length&&i!=" ",a="",c=!1,f=!1,h=!1;Ci&&Ci.view==t&&Ci.scope==r&&(a=Ci.prefix+" ",zS.indexOf(e.keyCode)<0&&(f=!0,Ci=null));let d=new Set,m=w=>{if(w){for(let $ of w.run)if(!d.has($)&&(d.add($),$(t)))return w.stopPropagation&&(h=!0),!0;w.preventDefault&&(w.stopPropagation&&(h=!0),f=!0)}return!1},b=n[r],x,v;return b&&(m(b[a+lu(i,e,!s)])?c=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ce.windows&&e.ctrlKey&&e.altKey)&&(x=Li[e.keyCode])&&x!=i?(m(b[a+lu(x,e,!0)])||e.shiftKey&&(v=Qa[e.keyCode])!=i&&v!=x&&m(b[a+lu(v,e,!1)]))&&(c=!0):s&&e.shiftKey&&m(b[a+lu(i,e,!0)])&&(c=!0),!c&&m(b._any)&&(c=!0)),f&&(c=!0),c&&h&&e.stopPropagation(),Tm=null,c}class Ml{constructor(e,t,r,i,o){this.className=e,this.left=t,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=tk(e);return[new Ml(t,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return VF(e,t,r)}}function tk(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==ut.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function gy(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let o=n.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=n.posAtCoords({x:o.left+1,y:s}),c=n.posAtCoords({x:o.right-1,y:s});return a==null||c==null?r:{from:Math.max(r.from,Math.min(a,c)),to:Math.min(r.to,Math.max(a,c))}}function VF(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),o=n.textDirection==ut.LTR,s=n.contentDOM,a=s.getBoundingClientRect(),c=tk(n),f=s.querySelector(".cm-line"),h=f&&window.getComputedStyle(f),d=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),m=a.right-(h?parseInt(h.paddingRight):0),b=Sm(n,r),x=Sm(n,i),v=b.type==nn.Text?b:null,w=x.type==nn.Text?x:null;if(v&&(n.lineWrapping||b.widgetLineBreaks)&&(v=gy(n,r,1,v)),w&&(n.lineWrapping||x.widgetLineBreaks)&&(w=gy(n,i,-1,w)),v&&w&&v.from==w.from&&v.to==w.to)return S(E(t.from,t.to,v));{let T=v?E(t.from,null,v):A(b,!1),O=w?E(null,t.to,w):A(x,!0),P=[];return(v||b).to<(w||x).from-(v&&w?1:0)||b.widgetLineBreaks>1&&T.bottom+n.defaultLineHeight/2<O.top?P.push($(d,T.bottom,m,O.top)):T.bottom<O.top&&n.elementAtHeight((T.bottom+O.top)/2).type==nn.Text&&(T.bottom=O.top=(T.bottom+O.top)/2),S(T).concat(P).concat(S(O))}function $(T,O,P,L){return new Ml(e,T-c.left,O-c.top,P-T,L-O)}function S({top:T,bottom:O,horizontal:P}){let L=[];for(let B=0;B<P.length;B+=2)L.push($(P[B],T,P[B+1],O));return L}function E(T,O,P){let L=1e9,B=-1e9,F=[];function K(Z,re,ue,Q,ie){let q=n.coordsAtPos(Z,Z==P.to?-2:2),le=n.coordsAtPos(ue,ue==P.from?2:-2);!q||!le||(L=Math.min(q.top,le.top,L),B=Math.max(q.bottom,le.bottom,B),ie==ut.LTR?F.push(o&&re?d:q.left,o&&Q?m:le.right):F.push(!o&&Q?d:le.left,!o&&re?m:q.right))}let z=T??P.from,ee=O??P.to;for(let Z of n.visibleRanges)if(Z.to>z&&Z.from<ee)for(let re=Math.max(Z.from,z),ue=Math.min(Z.to,ee);;){let Q=n.state.doc.lineAt(re);for(let ie of n.bidiSpans(Q)){let q=ie.from+Q.from,le=ie.to+Q.from;if(q>=ue)break;le>re&&K(Math.max(q,re),T==null&&q<=z,Math.min(le,ue),O==null&&le>=ee,ie.dir)}if(re=Q.to+1,re>=ue)break}return F.length==0&&K(z,T==null,ee,O==null,n.textDirection),{top:L,bottom:B,horizontal:F}}function A(T,O){let P=a.top+(O?T.top:T.bottom);return{top:P,bottom:P,horizontal:[]}}}function WF(n,e){return n.constructor==e.constructor&&n.eq(e)}class zF{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Tu)!=e.state.facet(Tu)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Tu);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!WF(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Tu=fe.define();function nk(n){return[wt.define(e=>new zF(e,n)),Tu.of(n)]}const rk=!(ce.ios&&ce.webkit&&ce.webkit_version<534),tl=fe.define({combine(n){return Or(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function jF(n={}){return[tl.of(n),HF,UF,KF,PS.of(!0)]}function ik(n){return n.startState.facet(tl)!=n.state.facet(tl)}const HF=nk({above:!0,markers(n){let{state:e}=n,t=e.facet(tl),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||rk:t.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:X.cursor(i.head,i.head>i.anchor?-1:1);for(let c of Ml.forRange(n,s,a))r.push(c)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=ik(n);return t&&by(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){by(e.state,n)},class:"cm-cursorLayer"});function by(n,e){e.style.animationDuration=n.facet(tl).cursorBlinkRate+"ms"}const UF=nk({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Ml.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||ik(n)},class:"cm-selectionLayer"}),Mm={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};rk&&(Mm[".cm-line"].caretColor=Mm[".cm-content"].caretColor="transparent !important");const KF=Oo.highest(ae.theme(Mm)),ok=Pe.define({map(n,e){return n==null?null:e.mapPos(n)}}),Ia=_t.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(ok)?r.value:t,n)}}),qF=wt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Ia);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Ia)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Ia),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Ia)!=n&&this.view.dispatch({effects:ok.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function GF(){return[Ia,qF]}function vy(n,e,t,r,i){e.lastIndex=0;for(let o=n.iterRange(t,r),s=t,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)i(s+a.index,a)}function YF(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:o}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class XF{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(a,c,f,h)=>i(h,f,f+a[0].length,a,c);else if(typeof r=="function")this.addMatch=(a,c,f,h)=>{let d=r(a,c,f);d&&h(f,f+a[0].length,d)};else if(r)this.addMatch=(a,c,f,h)=>h(f,f+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let t=new ti,r=t.add.bind(t);for(let{from:i,to:o}of YF(e,this.maxLength))vy(e.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,e,s,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,c)=>{c>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(c,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),a=Math.min(o.to,i);if(a>s){let c=e.state.doc.lineAt(s),f=c.to<a?e.state.doc.lineAt(a):c,h=Math.max(o.from,c.from),d=Math.min(o.to,f.to);if(this.boundary){for(;s>c.from;s--)if(this.boundary.test(c.text[s-1-c.from])){h=s;break}for(;a<f.to;a++)if(this.boundary.test(f.text[a-f.from])){d=a;break}}let m=[],b,x=(v,w,$)=>m.push($.range(v,w));if(c==f)for(this.regexp.lastIndex=h-c.from;(b=this.regexp.exec(c.text))&&b.index<d-c.from;)this.addMatch(b,e,b.index+c.from,x);else vy(e.state.doc,this.regexp,h,d,(v,w)=>this.addMatch(w,e,v,x));t=t.update({filterFrom:h,filterTo:d,filter:(v,w)=>v<h||w>d,add:m})}}return t}}const Pm=/x/.unicode!=null?"gu":"g",ZF=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Pm),QF={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let tp=null;function JF(){var n;if(tp==null&&typeof document<"u"&&document.body){let e=document.body.style;tp=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return tp||!1}const Mu=fe.define({combine(n){let e=Or(n,{render:null,specialChars:ZF,addSpecialChars:null});return(e.replaceTabs=!JF())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Pm)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Pm)),e}});function eV(n={}){return[Mu.of(n),tV()]}let xy=null;function tV(){return xy||(xy=wt.fromClass(class{constructor(n){this.view=n,this.decorations=ye.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Mu)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new XF({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,o=un(e[0],0);if(o==9){let s=i.lineAt(r),a=t.state.tabSize,c=Gs(s.text,a,r-s.from);return ye.replace({widget:new oV((a-c%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=ye.replace({widget:new iV(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Mu);n.startState.facet(Mu)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const nV="•";function rV(n){return n>=32?nV:n==10?"␤":String.fromCharCode(9216+n)}class iV extends si{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=rV(this.code),r=e.state.phrase("Control character")+" "+(QF[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let o=document.createElement("span");return o.textContent=t,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class oV extends si{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function sV(){return lV}const aV=ye.line({class:"cm-activeLine"}),lV=wt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(aV.range(i.from)),e=i.from)}return ye.set(t)}},{decorations:n=>n.decorations});class cV extends si{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?t.setAttribute("aria-label","placeholder "+this.content):t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Ms(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),i=Al(t[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}}function uV(n){return wt.fromClass(class{constructor(e){this.view=e,this.placeholder=n?ye.set([ye.widget({widget:new cV(n),side:1}).range(0)]):ye.none}get decorations(){return this.view.state.doc.length?ye.none:this.placeholder}},{decorations:e=>e.decorations})}const Om=2e3;function fV(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),o=[];if(e.off>Om||t.off>Om||e.col<0||t.col<0){let s=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let c=r;c<=i;c++){let f=n.doc.line(c);f.length<=a&&o.push(X.range(f.from+s,f.to+a))}}else{let s=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let c=r;c<=i;c++){let f=n.doc.line(c),h=cm(f.text,s,n.tabSize,!0);if(h<0)o.push(X.cursor(f.to));else{let d=cm(f.text,a,n.tabSize);o.push(X.range(f.from+h,f.from+d))}}}return o}function hV(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function yy(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,o=i>Om?-1:i==r.length?hV(n,e.clientX):Gs(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:o,off:i}}function dV(n,e){let t=yy(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(t.line).from),s=i.state.doc.lineAt(o);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let a=yy(n,i);if(!a)return r;let c=fV(n.state,t,a);return c.length?s?X.create(c.concat(r.ranges)):X.create(c):r}}:null}function pV(n){let e=t=>t.altKey&&t.button==0;return ae.mouseSelectionStyle.of((t,r)=>e(r)?dV(t,r):null)}const mV={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},gV={style:"cursor: crosshair"};function bV(n={}){let[e,t]=mV[n.key||"Alt"],r=wt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,ae.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?gV:null})]}const Sa="-10000px";class sk{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,t){var r;let i=e.state.facet(this.facet),o=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let s=[],a=t?[]:null;for(let c=0;c<o.length;c++){let f=o[c],h=-1;if(f){for(let d=0;d<this.tooltips.length;d++){let m=this.tooltips[d];m&&m.create==f.create&&(h=d)}if(h<0)s[c]=this.createTooltipView(f,c?s[c-1]:null),a&&(a[c]=!!f.above);else{let d=s[c]=this.tooltipViews[h];a&&(a[c]=t[h]),d.update&&d.update(e)}}}for(let c of this.tooltipViews)s.indexOf(c)<0&&(this.removeTooltipView(c),(r=c.destroy)===null||r===void 0||r.call(c));return t&&(a.forEach((c,f)=>t[f]=c),t.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function vV(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const np=fe.define({combine:n=>{var e,t,r;return{position:ce.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||vV}}}),wy=new WeakMap,y0=wt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(np);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new sk(n,w0,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(np);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Sa,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(ce.gecko)t=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==Sa&&o.style.left=="0px"){let s=o.getBoundingClientRect();t=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(t||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(n=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=g0(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,s)=>{let a=this.manager.tooltipViews[s];return a.getCoords?a.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(np).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:o}=n,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let c=this.manager.tooltips[a],f=this.manager.tooltipViews[a],{dom:h}=f,d=n.pos[a],m=n.size[a];if(!d||c.clip!==!1&&(d.bottom<=Math.max(t.top,r.top)||d.top>=Math.min(t.bottom,r.bottom)||d.right<Math.max(t.left,r.left)-.1||d.left>Math.min(t.right,r.right)+.1)){h.style.top=Sa;continue}let b=c.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,x=b?7:0,v=m.right-m.left,w=(e=wy.get(f))!==null&&e!==void 0?e:m.bottom-m.top,$=f.offset||yV,S=this.view.textDirection==ut.LTR,E=m.width>r.right-r.left?S?r.left:r.right-m.width:S?Math.max(r.left,Math.min(d.left-(b?14:0)+$.x,r.right-v)):Math.min(Math.max(r.left,d.left-v+(b?14:0)-$.x),r.right-v),A=this.above[a];!c.strictSide&&(A?d.top-w-x-$.y<r.top:d.bottom+w+x+$.y>r.bottom)&&A==r.bottom-d.bottom>d.top-r.top&&(A=this.above[a]=!A);let T=(A?d.top-r.top:r.bottom-d.bottom)-x;if(T<w&&f.resize!==!1){if(T<this.view.defaultLineHeight){h.style.top=Sa;continue}wy.set(f,w),h.style.height=(w=T)/o+"px"}else h.style.height&&(h.style.height="");let O=A?d.top-w-x-$.y:d.bottom+x+$.y,P=E+v;if(f.overlap!==!0)for(let L of s)L.left<P&&L.right>E&&L.top<O+w&&L.bottom>O&&(O=A?L.top-w-2-x:L.bottom+x+2);if(this.position=="absolute"?(h.style.top=(O-n.parent.top)/o+"px",Cy(h,(E-n.parent.left)/i)):(h.style.top=O/o+"px",Cy(h,E/i)),b){let L=d.left+(S?$.x:-$.x)-(E+14-7);b.style.left=L/i+"px"}f.overlap!==!0&&s.push({left:E,top:O,right:P,bottom:O+w}),h.classList.toggle("cm-tooltip-above",A),h.classList.toggle("cm-tooltip-below",!A),f.positioned&&f.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Sa}},{eventObservers:{scroll(){this.maybeMeasure()}}});function Cy(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const xV=ae.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),yV={x:0,y:0},w0=fe.define({enables:[y0,xV]}),nf=fe.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Gf{static create(e){return new Gf(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new sk(e,nf,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const wV=w0.compute([nf],n=>{let e=n.facet(nf);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:Gf.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class CV{constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,o=1;if(r instanceof ki)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let a=e.coordsAtPos(i);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(i)).find(h=>h.from<=i&&h.to>=i),f=c&&c.dir==ut.RTL?-1:1;o=t.x<a.left?-f:f}let s=this.source(e,i,o);if(s?.then){let a=this.pending={pos:i};s.then(c=>{this.pending==a&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>dn(e.state,c,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(y0),t=e?e.manager.tooltips.findIndex(r=>r.create==Gf.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!$V(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,a=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!SV(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const cu=4;function $V(n,e){let{left:t,right:r,top:i,bottom:o}=n.getBoundingClientRect(),s;if(s=n.querySelector(".cm-tooltip-arrow")){let a=s.getBoundingClientRect();i=Math.min(a.top,i),o=Math.max(a.bottom,o)}return e.clientX>=t-cu&&e.clientX<=r+cu&&e.clientY>=i-cu&&e.clientY<=o+cu}function SV(n,e,t,r,i,o){let s=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let c=n.posAtCoords({x:r,y:i},!1);return c>=e&&c<=t}function kV(n,e={}){let t=Pe.define(),r=_t.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let c=o.changes.mapPos(a.pos,-1,tn.TrackDel);if(c!=null){let f=Object.assign(Object.create(null),a);f.pos=c,f.end!=null&&(f.end=o.changes.mapPos(f.end)),s.push(f)}}i=s}for(let s of o.effects)s.is(t)&&(i=s.value),s.is(EV)&&(i=[]);return i},provide:i=>nf.from(i)});return{active:r,extension:[r,wt.define(i=>new CV(i,n,r,t,e.hoverTime||300)),wV]}}function ak(n,e){let t=n.plugin(y0);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const EV=Pe.define(),$y=fe.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function nl(n,e){let t=n.plugin(lk),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const lk=wt.fromClass(class{constructor(n){this.input=n.state.facet(rl),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet($y);this.top=new uu(n,!0,e.topContainer),this.bottom=new uu(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet($y);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new uu(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new uu(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(rl);if(t!=this.input){let r=t.filter(c=>c),i=[],o=[],s=[],a=[];for(let c of r){let f=this.specs.indexOf(c),h;f<0?(h=c(n.view),a.push(h)):(h=this.panels[f],h.update&&h.update(n)),i.push(h),(h.top?o:s).push(h)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let c of a)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ae.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class uu{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Sy(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Sy(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Sy(n){let e=n.nextSibling;return n.remove(),e}const rl=fe.define({enables:lk});class ri extends Co{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ri.prototype.elementClass="";ri.prototype.toDOM=void 0;ri.prototype.mapMode=tn.TrackBefore;ri.prototype.startSide=ri.prototype.endSide=-1;ri.prototype.point=!0;const Pu=fe.define(),AV=fe.define(),RV={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Xe.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Va=fe.define();function TV(n){return[ck(),Va.of(Object.assign(Object.assign({},RV),n))]}const ky=fe.define({combine:n=>n.some(e=>e)});function ck(n){return[MV]}const MV=wt.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Va).map(e=>new Ay(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(ky),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(ky)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Xe.iter(this.view.state.facet(Pu),this.view.viewport.from),r=[],i=this.gutters.map(o=>new PV(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==nn.Text&&s){Dm(t,r,a.from);for(let c of i)c.line(this.view,a,r);s=!1}else if(a.widget)for(let c of i)c.widget(this.view,a)}else if(o.type==nn.Text){Dm(t,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Va),t=n.state.facet(Va),r=n.docChanged||n.heightChanged||n.viewportChanged||!Xe.eq(n.startState.facet(Pu),n.state.facet(Pu),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let o of t){let s=e.indexOf(o);s<0?i.push(new Ay(this.view,o)):(this.gutters[s].update(n),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>ae.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==ut.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function Ey(n){return Array.isArray(n)?n:[n]}function Dm(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class PV{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Xe.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,o=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==i.elements.length){let a=new uk(e,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,s,o,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];Dm(this.cursor,i,t.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let o of e.state.facet(AV)){let s=o(e,t.widget,t);s&&(i||(i=[])).push(s)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Ay{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let c=o.getBoundingClientRect();s=(c.top+c.bottom)/2}else s=i.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);t.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=Ey(t.markers(e)),t.initialSpacer&&(this.spacer=new uk(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Ey(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Xe.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class uk{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),OV(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,c=o<t.length?t[o++]:null,f=!1;if(c){let h=c.elementClass;h&&(r+=" "+h);for(let d=s;d<this.markers.length;d++)if(this.markers[d].compare(c)){a=d,f=!0;break}}else a=this.markers.length;for(;s<a;){let h=this.markers[s++];if(h.toDOM){h.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!c)break;c.toDOM&&(f?i=i.nextSibling:this.dom.insertBefore(c.toDOM(e),i)),f&&s++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function OV(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const DV=fe.define(),IV=fe.define(),hs=fe.define({combine(n){return Or(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let o=r[i],s=t[i];r[i]=o?(a,c,f)=>o(a,c,f)||s(a,c,f):s}return r}})}});class rp extends ri{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ip(n,e){return n.state.facet(hs).formatNumber(e,n.state)}const _V=Va.compute([hs],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(DV)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new rp(ip(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(IV)){let o=i(e,t,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(hs)!=e.state.facet(hs),initialSpacer(e){return new rp(ip(e,Ry(e.state.doc.lines)))},updateSpacer(e,t){let r=ip(t.view,Ry(t.view.state.doc.lines));return r==e.number?e:new rp(r)},domEventHandlers:n.facet(hs).domEventHandlers}));function LV(n={}){return[hs.of(n),ck(),_V]}function Ry(n){let e=9;for(;e<n;)e=e*10+9;return e}const NV=new class extends ri{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},BV=Pu.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(NV.range(i)))}return Xe.of(e)});function FV(){return BV}var op;const ds=new je;function VV(n){return fe.define({combine:n?e=>e.concat(n):void 0})}const WV=new je;class Qn{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ye.prototype.hasOwnProperty("tree")||Object.defineProperty(Ye.prototype,"tree",{get(){return Xt(this)}}),this.parser=t,this.extension=[Bi.of(this),Ye.languageData.of((o,s,a)=>{let c=Ty(o,s,a),f=c.type.prop(ds);if(!f)return[];let h=o.facet(f),d=c.type.prop(WV);if(d){let m=c.resolve(s-c.from,a);for(let b of d)if(b.test(m,o)){let x=o.facet(b.facet);return b.type=="replace"?x:x.concat(h)}}return h})].concat(r)}isActiveAt(e,t,r=-1){return Ty(e,t,r).type.prop(ds)==this.data}findRegions(e){let t=e.facet(Bi);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(ds)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop(je.mounted);if(a){if(a.tree.prop(ds)==this.data){if(a.overlay)for(let c of a.overlay)r.push({from:c.from+s,to:c.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let c=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>c)return}}for(let c=0;c<o.children.length;c++){let f=o.children[c];f instanceof kt&&i(f,o.positions[c]+s)}};return i(Xt(e),0),r}get allowsNesting(){return!0}}Qn.setState=Pe.define();function Ty(n,e,t){let r=n.facet(Bi),i=Xt(n).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,t,Dt.ExcludeBuffers))o.type.isTop&&(i=o);return i}class rf extends Qn{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=VV(e.languageData);return new rf(t,e.parser.configure({props:[ds.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new rf(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Xt(n){let e=n.field(Qn.state,!1);return e?e.tree:kt.empty}class zV{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let ka=null;class of{constructor(e,t,r=[],i,o,s,a,c){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new of(e,t,[],kt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new zV(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=kt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(po.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(po.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=ka;ka=this;try{return e()}finally{ka=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=My(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((f,h,d,m)=>c.push({fromA:f,toA:h,fromB:d,toB:m})),r=po.applyChanges(r,c),i=kt.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let f of this.skipped){let h=e.mapPos(f.from,1),d=e.mapPos(f.to,-1);h<d&&a.push({from:h,to:d})}}}return new of(this.parser,t,r,i,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=My(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends L2{createParse(t,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let c=ka;if(c){for(let f of i)c.tempSkipped.push(f);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=s,new kt(gn.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return ka}}function My(n,e,t){return po.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Is{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Is(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=of.create(e.facet(Bi).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Is(r)}}Qn.state=_t.define({create:Is.init,update(n,e){for(let t of e.effects)if(t.is(Qn.setState))return t.value;return e.startState.facet(Bi)!=e.state.facet(Bi)?Is.init(e.state):n.apply(e)}});let fk=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(fk=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const sp=typeof navigator<"u"&&(!((op=navigator.scheduling)===null||op===void 0)&&op.isInputPending)?()=>navigator.scheduling.isInputPending():null,jV=wt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Qn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Qn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=fk(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(Qn.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!sp?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,c=o.context.work(()=>sp&&sp()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(c||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Qn.setState.of(new Is(o.context))})),this.chunkBudget>0&&!(c&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>dn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Bi=fe.define({combine(n){return n.length?n[0]:null},enables:n=>[Qn.state,jV,ae.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class HV{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const UV=fe.define(),Yf=fe.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function sf(n){let e=n.facet(Yf);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function il(n,e){let t="",r=n.tabSize,i=n.facet(Yf)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let o=0;o<e;o++)t+=i;return t}function C0(n,e){n instanceof Ye&&(n=new Xf(n));for(let r of n.state.facet(UV)){let i=r(n,e);if(i!==void 0)return i}let t=Xt(n.state);return t.length>=e?KV(n,t,e):null}class Xf{constructor(e,t={}){this.state=e,this.options=t,this.unit=sf(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return Gs(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const hk=new je;function KV(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let o=[];for(let s=i;s&&!(s.from==r.node.from&&s.type==r.node.type);s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return dk(r,n,t)}function dk(n,e,t){for(let r=n;r;r=r.next){let i=GV(r.node);if(i)return i($0.create(e,t,r))}return 0}function qV(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function GV(n){let e=n.type.prop(hk);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(je.closedBy))){let i=n.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>QV(s,!0,1,void 0,o&&!qV(s)?i.from:void 0)}return n.parent==null?YV:null}function YV(){return 0}class $0 extends Xf{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new $0(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(XV(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return dk(this.context.next,this.base,this.pos)}}function XV(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function ZV(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=t.to;;){let c=e.childAfter(a);if(!c||c==r)return null;if(!c.type.isSkipped){if(c.from>=s)return null;let f=/^ */.exec(o.text.slice(t.to-o.from))[0].length;return{from:t.from,to:t.to+f}}a=c.to}}function QV(n,e,t,r,i){let o=n.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==n.pos+s,c=ZV(n);return c?a?n.column(c.from):n.column(c.to):n.baseIndent+(a?0:n.unit*t)}function Py({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const JV=200;function eW(){return Ye.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+JV)return n;let o=t.sliceString(i.from,r);if(!e.some(f=>f.test(o)))return n;let{state:s}=n,a=-1,c=[];for(let{head:f}of s.selection.ranges){let h=s.doc.lineAt(f);if(h.from==a)continue;a=h.from;let d=C0(s,h.from);if(d==null)continue;let m=/^\s*/.exec(h.text)[0],b=il(s,d);m!=b&&c.push({from:h.from,to:h.from+m.length,insert:b})}return c.length?[n,{changes:c,sequential:!0}]:n})}const tW=fe.define(),pk=new je;function nW(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function rW(n,e,t){let r=Xt(n);if(r.length<t)return null;let i=r.resolveStack(t,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=t||a.from>t)continue;if(o&&a.from<e)break;let c=a.type.prop(pk);if(c&&(a.to<r.length-50||r.length==n.doc.length||!iW(a))){let f=c(a,n);f&&f.from<=t&&f.from>=e&&f.to>t&&(o=f)}}return o}function iW(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function af(n,e,t){for(let r of n.facet(tW)){let i=r(n,e,t);if(i)return i}return rW(n,e,t)}function mk(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const Zf=Pe.define({map:mk}),Pl=Pe.define({map:mk});function gk(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const Eo=_t.define({create(){return ye.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(Zf)&&!oW(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(xk),i=r?ye.replace({widget:new hW(r(e.state,t.value))}):Oy;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(Pl)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,o)=>{i<r&&o>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return n},provide:n=>ae.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(Oy.range(r,i))}return ye.set(e,!0)}});function lf(n,e,t){var r;let i=null;return(r=n.field(Eo,!1))===null||r===void 0||r.between(e,t,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function oW(n,e,t){let r=!1;return n.between(e,e,(i,o)=>{i==e&&o==t&&(r=!0)}),r}function bk(n,e){return n.field(Eo,!1)?e:e.concat(Pe.appendConfig.of(yk()))}const sW=n=>{for(let e of gk(n)){let t=af(n.state,e.from,e.to);if(t)return n.dispatch({effects:bk(n.state,[Zf.of(t),vk(n,t)])}),!0}return!1},aW=n=>{if(!n.state.field(Eo,!1))return!1;let e=[];for(let t of gk(n)){let r=lf(n.state,t.from,t.to);r&&e.push(Pl.of(r),vk(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function vk(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return ae.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const lW=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),o=af(e,i.from,i.to);o&&t.push(Zf.of(o)),r=(o?n.lineBlockAt(o.to):i).to+1}return t.length&&n.dispatch({effects:bk(n.state,t)}),!!t.length},cW=n=>{let e=n.state.field(Eo,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(Pl.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},uW=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:sW},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:aW},{key:"Ctrl-Alt-[",run:lW},{key:"Ctrl-Alt-]",run:cW}],fW={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},xk=fe.define({combine(n){return Or(n,fW)}});function yk(n){return[Eo,mW]}function wk(n,e){let{state:t}=n,r=t.facet(xk),i=s=>{let a=n.lineBlockAt(n.posAtDOM(s.target)),c=lf(n.state,a.from,a.to);c&&n.dispatch({effects:Pl.of(c)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const Oy=ye.replace({widget:new class extends si{toDOM(n){return wk(n,null)}}});class hW extends si{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return wk(e,this.value)}}const dW={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class ap extends ri{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function pW(n={}){let e=Object.assign(Object.assign({},dW),n),t=new ap(e,!0),r=new ap(e,!1),i=wt.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(Bi)!=s.state.facet(Bi)||s.startState.field(Eo,!1)!=s.state.field(Eo,!1)||Xt(s.startState)!=Xt(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new ti;for(let c of s.viewportLineBlocks){let f=lf(s.state,c.from,c.to)?r:af(s.state,c.from,c.to)?t:null;f&&a.add(c.from,c.from,f)}return a.finish()}}),{domEventHandlers:o}=e;return[i,TV({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||Xe.empty},initialSpacer(){return new ap(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,c)=>{if(o.click&&o.click(s,a,c))return!0;let f=lf(s.state,a.from,a.to);if(f)return s.dispatch({effects:Pl.of(f)}),!0;let h=af(s.state,a.from,a.to);return h?(s.dispatch({effects:Zf.of(h)}),!0):!1}})}),yk()]}const mW=ae.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ol{constructor(e,t){this.specs=e;let r;function i(a){let c=_i.newName();return(r||(r=Object.create(null)))["."+c]=a,c}const o=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,s=t.scope;this.scope=s instanceof Qn?a=>a.prop(ds)==s.data:s?a=>a==s:void 0,this.style=F2(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new _i(r):null,this.themeType=t.themeType}static define(e,t){return new Ol(e,t||{})}}const Im=fe.define(),Ck=fe.define({combine(n){return n.length?[n[0]]:null}});function lp(n){let e=n.facet(Im);return e.length?e:n.facet(Ck)}function $k(n,e){let t=[bW],r;return n instanceof Ol&&(n.module&&t.push(ae.styleModule.of(n.module)),r=n.themeType),e?.fallback?t.push(Ck.of(n)):r?t.push(Im.computeN([ae.darkTheme],i=>i.facet(ae.darkTheme)==(r=="dark")?[n]:[])):t.push(Im.of(n)),t}class gW{constructor(e){this.markCache=Object.create(null),this.tree=Xt(e.state),this.decorations=this.buildDeco(e,lp(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Xt(e.state),r=lp(e.state),i=r!=lp(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!i&&t.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return ye.none;let r=new ti;for(let{from:i,to:o}of e.visibleRanges)LN(this.tree,t,(s,a,c)=>{r.add(s,a,this.markCache[c]||(this.markCache[c]=ye.mark({class:c})))},i,o);return r.finish()}}const bW=Oo.high(wt.fromClass(gW,{decorations:n=>n.decorations})),vW=Ol.define([{tag:j.meta,color:"#404740"},{tag:j.link,textDecoration:"underline"},{tag:j.heading,textDecoration:"underline",fontWeight:"bold"},{tag:j.emphasis,fontStyle:"italic"},{tag:j.strong,fontWeight:"bold"},{tag:j.strikethrough,textDecoration:"line-through"},{tag:j.keyword,color:"#708"},{tag:[j.atom,j.bool,j.url,j.contentSeparator,j.labelName],color:"#219"},{tag:[j.literal,j.inserted],color:"#164"},{tag:[j.string,j.deleted],color:"#a11"},{tag:[j.regexp,j.escape,j.special(j.string)],color:"#e40"},{tag:j.definition(j.variableName),color:"#00f"},{tag:j.local(j.variableName),color:"#30a"},{tag:[j.typeName,j.namespace],color:"#085"},{tag:j.className,color:"#167"},{tag:[j.special(j.variableName),j.macroName],color:"#256"},{tag:j.definition(j.propertyName),color:"#00c"},{tag:j.comment,color:"#940"},{tag:j.invalid,color:"#f00"}]),xW=ae.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Sk=1e4,kk="()[]{}",Ek=fe.define({combine(n){return Or(n,{afterCursor:!0,brackets:kk,maxScanDistance:Sk,renderMatch:CW})}}),yW=ye.mark({class:"cm-matchingBracket"}),wW=ye.mark({class:"cm-nonmatchingBracket"});function CW(n){let e=[],t=n.matched?yW:wW;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const $W=_t.define({create(){return ye.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(Ek);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=xr(e.state,i.head,-1,r)||i.head>0&&xr(e.state,i.head-1,1,r)||r.afterCursor&&(xr(e.state,i.head,1,r)||i.head<e.state.doc.length&&xr(e.state,i.head+1,-1,r));o&&(t=t.concat(r.renderMatch(o,e.state)))}return ye.set(t,!0)},provide:n=>ae.decorations.from(n)}),SW=[$W,xW];function kW(n={}){return[Ek.of(n),SW]}const EW=new je;function _m(n,e,t){let r=n.prop(e<0?je.openedBy:je.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function Lm(n){let e=n.type.prop(EW);return e?e(n.node):n}function xr(n,e,t,r={}){let i=r.maxScanDistance||Sk,o=r.brackets||kk,s=Xt(n),a=s.resolveInner(e,t);for(let c=a;c;c=c.parent){let f=_m(c.type,t,o);if(f&&c.from<c.to){let h=Lm(c);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return AW(n,e,t,c,h,f,o)}}return RW(n,e,t,s,a.type,i,o)}function AW(n,e,t,r,i,o,s){let a=r.parent,c={from:i.from,to:i.to},f=0,h=a?.cursor();if(h&&(t<0?h.childBefore(r.from):h.childAfter(r.to)))do if(t<0?h.to<=r.from:h.from>=r.to){if(f==0&&o.indexOf(h.type.name)>-1&&h.from<h.to){let d=Lm(h);return{start:c,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(_m(h.type,t,s))f++;else if(_m(h.type,-t,s)){if(f==0){let d=Lm(h);return{start:c,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}f--}}while(t<0?h.prevSibling():h.nextSibling());return{start:c,matched:!1}}function RW(n,e,t,r,i,o,s){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),c=s.indexOf(a);if(c<0||c%2==0!=t>0)return null;let f={from:t<0?e-1:e,to:t>0?e+1:e},h=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let m=0;!h.next().done&&m<=o;){let b=h.value;t<0&&(m+=b.length);let x=e+m*t;for(let v=t>0?0:b.length-1,w=t>0?b.length:-1;v!=w;v+=t){let $=s.indexOf(b[v]);if(!($<0||r.resolveInner(x+v,1).type!=i))if($%2==0==t>0)d++;else{if(d==1)return{start:f,end:{from:x+v,to:x+v+1},matched:$>>1==c>>1};d--}}t>0&&(m+=b.length)}return h.done?{start:f,matched:!1}:null}const TW=Object.create(null),Dy=[gn.none],Iy=[],_y=Object.create(null),MW=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])MW[n]=PW(TW,e);function cp(n,e){Iy.indexOf(n)>-1||(Iy.push(n),console.warn(e))}function PW(n,e){let t=[];for(let a of e.split(" ")){let c=[];for(let f of a.split(".")){let h=n[f]||j[f];h?typeof h=="function"?c.length?c=c.map(h):cp(f,`Modifier ${f} used at start of tag`):c.length?cp(f,`Tag ${f} used as modifier`):c=Array.isArray(h)?h:[h]:cp(f,`Unknown highlighting tag ${f}`)}for(let f of c)t.push(f)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),o=_y[i];if(o)return o.id;let s=_y[i]=gn.define({id:Dy.length,name:r,props:[N2({[r]:t})]});return Dy.push(s),s.id}ut.RTL,ut.LTR;const OW=()=>n=>{try{JSON.parse(n.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const t=DW(e,n.state.doc);return[{from:t,message:e.message,severity:"error",to:t}]}return[]};function DW(n,e){let t;return(t=n.message.match(/at position (\d+)/))?Math.min(+t[1],e.length):(t=n.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+t[1]).from+ +t[2]-1,e.length):0}const IW=rf.define({name:"json",parser:VN.configure({props:[hk.add({Object:Py({except:/^\s*\}/}),Array:Py({except:/^\s*\]/})}),pk.add({"Object Array":nW})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function _W(){return new HV(IW)}function LW(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}const NW=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=k0(n.state,t.from);return r.line?BW(n):r.block?VW(n):!1};function S0(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const BW=S0(jW,0),FW=S0(Ak,0),VW=S0((n,e)=>Ak(n,e,zW(e)),0);function k0(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Ea=50;function WW(n,{open:e,close:t},r,i){let o=n.sliceDoc(r-Ea,r),s=n.sliceDoc(i,i+Ea),a=/\s*$/.exec(o)[0].length,c=/^\s*/.exec(s)[0].length,f=o.length-a;if(o.slice(f-e.length,f)==e&&s.slice(c,c+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+c,margin:c&&1}};let h,d;i-r<=2*Ea?h=d=n.sliceDoc(r,i):(h=n.sliceDoc(r,r+Ea),d=n.sliceDoc(i-Ea,i));let m=/^\s*/.exec(h)[0].length,b=/\s*$/.exec(d)[0].length,x=d.length-b-t.length;return h.slice(m,m+e.length)==e&&d.slice(x,x+t.length)==t?{open:{pos:r+m+e.length,margin:/\s/.test(h.charAt(m+e.length))?1:0},close:{pos:i-b-t.length,margin:/\s/.test(d.charAt(x-1))?1:0}}:null}function zW(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function Ak(n,e,t=e.selection.ranges){let r=t.map(o=>k0(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,s)=>WW(e,r[s],o.from,o.to));if(n!=2&&!i.every(o=>o))return{changes:e.changes(t.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(n!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let c=r[s],{open:f,close:h}=a;o.push({from:f.pos-c.open.length,to:f.pos+f.margin},{from:h.pos-h.margin,to:h.pos+c.close.length})}return{changes:o}}return null}function jW(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of t){let a=r.length,c=1e9,f=k0(e,o).line;if(f){for(let h=o;h<=s;){let d=e.doc.lineAt(h);if(d.from>i&&(o==s||s>d.from)){i=d.from;let m=/^\s*/.exec(d.text)[0].length,b=m==d.length,x=d.text.slice(m,m+f.length)==f?m:-1;m<d.text.length&&m<c&&(c=m),r.push({line:d,comment:x,token:f,indent:m,empty:b,single:!1})}h=d.to+1}if(c<1e9)for(let h=a;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=c);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:c,indent:f,empty:h,single:d}of r)(d||!h)&&o.push({from:a.from+f,insert:c+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:c}of r)if(a>=0){let f=s.from+a,h=f+c.length;s.text[h-s.from]==" "&&h++,o.push({from:f,to:h})}return{changes:o}}return null}const Nm=Pr.define(),HW=Pr.define(),UW=fe.define(),Rk=fe.define({combine(n){return Or(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),Tk=_t.define({create(){return yr.empty},update(n,e){let t=e.state.facet(Rk),r=e.annotation(Nm);if(r){let c=pn.fromTransaction(e,r.selection),f=r.side,h=f==0?n.undone:n.done;return c?h=cf(h,h.length,t.minDepth,c):h=Ok(h,e.startState.selection),new yr(f==0?r.rest:h,f==0?h:r.rest)}let i=e.annotation(HW);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(Tt.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=pn.fromTransaction(e),s=e.annotation(Tt.time),a=e.annotation(Tt.userEvent);return o?n=n.addChanges(o,s,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,s,a,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new yr(n.done.map(pn.fromJSON),n.undone.map(pn.fromJSON))}});function KW(n={}){return[Tk,Rk.of(n),ae.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?Mk:e.inputType=="historyRedo"?Bm:null;return r?(e.preventDefault(),r(t)):!1}})]}function Qf(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(Tk,!1);if(!i)return!1;let o=i.pop(n,t,e);return o?(r(o),!0):!1}}const Mk=Qf(0,!1),Bm=Qf(1,!1),qW=Qf(0,!0),GW=Qf(1,!0);class pn{constructor(e,t,r,i,o){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new pn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new pn(e.changes&&Rt.fromJSON(e.changes),[],e.mapped&&Cr.fromJSON(e.mapped),e.startSelection&&X.fromJSON(e.startSelection),e.selectionsAfter.map(X.fromJSON))}static fromTransaction(e,t){let r=Fn;for(let i of e.startState.facet(UW)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new pn(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Fn)}static selection(e){return new pn(void 0,Fn,void 0,void 0,e)}}function cf(n,e,t,r){let i=e+1>t+20?e-t-1:0,o=n.slice(i,e);return o.push(r),o}function YW(n,e){let t=[],r=!1;return n.iterChangedRanges((i,o)=>t.push(i,o)),e.iterChangedRanges((i,o,s,a)=>{for(let c=0;c<t.length;){let f=t[c++],h=t[c++];a>=f&&s<=h&&(r=!0)}}),r}function XW(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function Pk(n,e){return n.length?e.length?n.concat(e):n:e}const Fn=[],ZW=200;function Ok(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-ZW));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),cf(n,n.length-1,1e9,t.setSelAfter(r)))}else return[pn.selection([e])]}function QW(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function up(n,e){if(!n.length)return n;let t=n.length,r=Fn;for(;t;){let i=JW(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=n.slice(0,t);return o[t-1]=i,o}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[pn.selection(r)]:Fn}function JW(n,e,t){let r=Pk(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):Fn,t);if(!n.changes)return pn.selection(r);let i=n.changes.map(e),o=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new pn(i,Pe.mapEffects(n.effects,e),s,n.startSelection.map(o),r)}const ez=/^(input\.type|delete)($|\.)/;class yr{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new yr(this.done,this.undone):this}addChanges(e,t,r,i,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||ez.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,YW(a.changes,e.changes))||r=="input.type.compose")?s=cf(s,s.length-1,i.minDepth,new pn(e.changes.compose(a.changes),Pk(Pe.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Fn)):s=cf(s,s.length,i.minDepth,e),new yr(s,Fn,t,r)}addSelection(e,t,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Fn;return o.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&XW(o[o.length-1],e)?this:new yr(Ok(this.done,e),this.undone,t,r)}addMapping(e){return new yr(up(this.done,e),up(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||t.selection;if(r&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Nm.of({side:e,rest:QW(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=i.length==1?Fn:i.slice(0,i.length-1);return o.mapped&&(a=up(a,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Nm.of({side:e,rest:a,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}yr.empty=new yr(Fn,Fn);const tz=[{key:"Mod-z",run:Mk,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Bm,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Bm,preventDefault:!0},{key:"Mod-u",run:qW,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:GW,preventDefault:!0}];function Ys(n,e){return X.create(n.ranges.map(e),n.mainIndex)}function Dr(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function sr({state:n,dispatch:e},t){let r=Ys(n.selection,t);return r.eq(n.selection,!0)?!1:(e(Dr(n,r)),!0)}function Jf(n,e){return X.cursor(e?n.to:n.from)}function Dk(n,e){return sr(n,t=>t.empty?n.moveByChar(t,e):Jf(t,e))}function Zt(n){return n.textDirectionAt(n.state.selection.main.head)==ut.LTR}const Ik=n=>Dk(n,!Zt(n)),_k=n=>Dk(n,Zt(n));function Lk(n,e){return sr(n,t=>t.empty?n.moveByGroup(t,e):Jf(t,e))}const nz=n=>Lk(n,!Zt(n)),rz=n=>Lk(n,Zt(n));function iz(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function eh(n,e,t){let r=Xt(n).resolveInner(e.head),i=t?je.closedBy:je.openedBy;for(let c=e.head;;){let f=t?r.childAfter(c):r.childBefore(c);if(!f)break;iz(n,f,i)?r=f:c=t?f.to:f.from}let o=r.type.prop(i),s,a;return o&&(s=t?xr(n,r.from,1):xr(n,r.to,-1))&&s.matched?a=t?s.end.to:s.end.from:a=t?r.to:r.from,X.cursor(a,t?-1:1)}const oz=n=>sr(n,e=>eh(n.state,e,!Zt(n))),sz=n=>sr(n,e=>eh(n.state,e,Zt(n)));function Nk(n,e){return sr(n,t=>{if(!t.empty)return Jf(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const Bk=n=>Nk(n,!1),Fk=n=>Nk(n,!0);function Vk(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let o of n.state.facet(ae.scrollMargins)){let s=o(n);s?.top&&(t=Math.max(s?.top,t)),s?.bottom&&(r=Math.max(s?.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function Wk(n,e){let t=Vk(n),{state:r}=n,i=Ys(r.selection,s=>s.empty?n.moveVertically(s,e,t.height):Jf(s,e));if(i.eq(r.selection))return!1;let o;if(t.selfScroll){let s=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),c=a.top+t.marginTop,f=a.bottom-t.marginBottom;s&&s.top>c&&s.bottom<f&&(o=ae.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-c}))}return n.dispatch(Dr(r,i),{effects:o}),!0}const Ly=n=>Wk(n,!1),Fm=n=>Wk(n,!0);function Ui(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=X.cursor(r.from+o))}return i}const az=n=>sr(n,e=>Ui(n,e,!0)),lz=n=>sr(n,e=>Ui(n,e,!1)),cz=n=>sr(n,e=>Ui(n,e,!Zt(n))),uz=n=>sr(n,e=>Ui(n,e,Zt(n))),fz=n=>sr(n,e=>X.cursor(n.lineBlockAt(e.head).from,1)),hz=n=>sr(n,e=>X.cursor(n.lineBlockAt(e.head).to,-1));function dz(n,e,t){let r=!1,i=Ys(n.selection,o=>{let s=xr(n,o.head,-1)||xr(n,o.head,1)||o.head>0&&xr(n,o.head-1,1)||o.head<n.doc.length&&xr(n,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return X.cursor(a)});return r?(e(Dr(n,i)),!0):!1}const pz=({state:n,dispatch:e})=>dz(n,e);function Hn(n,e){let t=Ys(n.state.selection,r=>{let i=e(r);return X.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Dr(n.state,t)),!0)}function zk(n,e){return Hn(n,t=>n.moveByChar(t,e))}const jk=n=>zk(n,!Zt(n)),Hk=n=>zk(n,Zt(n));function Uk(n,e){return Hn(n,t=>n.moveByGroup(t,e))}const mz=n=>Uk(n,!Zt(n)),gz=n=>Uk(n,Zt(n)),bz=n=>Hn(n,e=>eh(n.state,e,!Zt(n))),vz=n=>Hn(n,e=>eh(n.state,e,Zt(n)));function Kk(n,e){return Hn(n,t=>n.moveVertically(t,e))}const qk=n=>Kk(n,!1),Gk=n=>Kk(n,!0);function Yk(n,e){return Hn(n,t=>n.moveVertically(t,e,Vk(n).height))}const Ny=n=>Yk(n,!1),By=n=>Yk(n,!0),xz=n=>Hn(n,e=>Ui(n,e,!0)),yz=n=>Hn(n,e=>Ui(n,e,!1)),wz=n=>Hn(n,e=>Ui(n,e,!Zt(n))),Cz=n=>Hn(n,e=>Ui(n,e,Zt(n))),$z=n=>Hn(n,e=>X.cursor(n.lineBlockAt(e.head).from)),Sz=n=>Hn(n,e=>X.cursor(n.lineBlockAt(e.head).to)),Fy=({state:n,dispatch:e})=>(e(Dr(n,{anchor:0})),!0),Vy=({state:n,dispatch:e})=>(e(Dr(n,{anchor:n.doc.length})),!0),Wy=({state:n,dispatch:e})=>(e(Dr(n,{anchor:n.selection.main.anchor,head:0})),!0),zy=({state:n,dispatch:e})=>(e(Dr(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),kz=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),Ez=({state:n,dispatch:e})=>{let t=th(n).map(({from:r,to:i})=>X.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:X.create(t),userEvent:"select"})),!0},Az=({state:n,dispatch:e})=>{let t=Ys(n.selection,r=>{let i=Xt(n),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&s.next)return X.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(Dr(n,t)),!0)},Rz=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=X.create([t.main]):t.main.empty||(r=X.create([X.cursor(t.main.head)])),r?(e(Dr(n,r)),!0):!1};function Dl(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let c=e(o);c<s?(t="delete.backward",c=fu(n,c,!1)):c>s&&(t="delete.forward",c=fu(n,c,!0)),s=Math.min(s,c),a=Math.max(a,c)}else s=fu(n,s,!1),a=fu(n,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:X.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ae.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function fu(n,e,t){if(n instanceof ae)for(let r of n.state.facet(ae.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}const Xk=(n,e,t)=>Dl(n,r=>{let i=r.from,{state:o}=n,s=o.doc.lineAt(i),a,c;if(t&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if(a[a.length-1]=="	")return i-1;let f=Gs(a,o.tabSize),h=f%sf(o)||sf(o);for(let d=0;d<h&&a[a.length-1-d]==" ";d++)i--;c=i}else c=zt(s.text,i-s.from,e,e)+s.from,c==i&&s.number!=(e?o.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(c-s.from,i-s.from))&&(c=zt(s.text,c-s.from,!1,!1)+s.from);return c}),Vm=n=>Xk(n,!1,!0),Zk=n=>Xk(n,!0,!1),Qk=(n,e)=>Dl(n,t=>{let r=t.head,{state:i}=n,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(e?o.to:o.from)){r==t.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let c=zt(o.text,r-o.from,e)+o.from,f=o.text.slice(Math.min(r,c)-o.from,Math.max(r,c)-o.from),h=s(f);if(a!=null&&h!=a)break;(f!=" "||r!=t.head)&&(a=h),r=c}return r}),Jk=n=>Qk(n,!1),Tz=n=>Qk(n,!0),Mz=n=>Dl(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),Pz=n=>Dl(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),Oz=n=>Dl(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),Dz=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Ze.of(["",""])},range:X.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},Iz=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),s=i==o.from?i-1:zt(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:zt(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(s,i))},range:X.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function th(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=n.doc.lineAt(r.to-1)),t>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function eE(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of th(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),a=s.length+1;if(t){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let c of o.ranges)i.push(X.range(Math.min(n.doc.length,c.anchor+a),Math.min(n.doc.length,c.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let c of o.ranges)i.push(X.range(c.anchor-a,c.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:X.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const _z=({state:n,dispatch:e})=>eE(n,e,!1),Lz=({state:n,dispatch:e})=>eE(n,e,!0);function tE(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of th(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Nz=({state:n,dispatch:e})=>tE(n,e,!1),Bz=({state:n,dispatch:e})=>tE(n,e,!0),Fz=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(th(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=Ys(e.selection,i=>{let o;if(n.lineWrapping){let s=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(o=s.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,o)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Vz(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Xt(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(je.closedBy))&&o.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const jy=nE(!1),Wz=nE(!0);function nE(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,a=e.doc.lineAt(o),c=!n&&o==s&&Vz(e,o);n&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let f=new Xf(e,{simulateBreak:o,simulateDoubleBreak:!!c}),h=C0(f,o);for(h==null&&(h=Gs(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;c?{from:o,to:s}=c:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let d=["",il(e,h)];return c&&d.push(il(e,f.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Ze.of(d)},range:X.cursor(o+1+d[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function E0(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=n.doc.lineAt(s);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),s=a.to+1}let o=n.changes(i);return{changes:i,range:X.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const zz=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new Xf(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),i=E0(n,(o,s,a)=>{let c=C0(r,o.from);if(c==null)return;/\S/.test(o.text)||(c=0);let f=/^\s*/.exec(o.text)[0],h=il(n,c);(f!=h||a.from<o.from+f.length)&&(t[o.from]=c,s.push({from:o.from,to:o.from+f.length,insert:h}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},rE=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(E0(n,(t,r)=>{r.push({from:t.from,insert:n.facet(Yf)})}),{userEvent:"input.indent"})),!0),iE=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(E0(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=Gs(i,n.tabSize),s=0,a=il(n,Math.max(0,o-sf(n)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:t.from+s,to:t.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),jz=n=>(n.setTabFocusMode(),!0),Hz=[{key:"Ctrl-b",run:Ik,shift:jk,preventDefault:!0},{key:"Ctrl-f",run:_k,shift:Hk},{key:"Ctrl-p",run:Bk,shift:qk},{key:"Ctrl-n",run:Fk,shift:Gk},{key:"Ctrl-a",run:fz,shift:$z},{key:"Ctrl-e",run:hz,shift:Sz},{key:"Ctrl-d",run:Zk},{key:"Ctrl-h",run:Vm},{key:"Ctrl-k",run:Mz},{key:"Ctrl-Alt-h",run:Jk},{key:"Ctrl-o",run:Dz},{key:"Ctrl-t",run:Iz},{key:"Ctrl-v",run:Fm}],Uz=[{key:"ArrowLeft",run:Ik,shift:jk,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:nz,shift:mz,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cz,shift:wz,preventDefault:!0},{key:"ArrowRight",run:_k,shift:Hk,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:rz,shift:gz,preventDefault:!0},{mac:"Cmd-ArrowRight",run:uz,shift:Cz,preventDefault:!0},{key:"ArrowUp",run:Bk,shift:qk,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Fy,shift:Wy},{mac:"Ctrl-ArrowUp",run:Ly,shift:Ny},{key:"ArrowDown",run:Fk,shift:Gk,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Vy,shift:zy},{mac:"Ctrl-ArrowDown",run:Fm,shift:By},{key:"PageUp",run:Ly,shift:Ny},{key:"PageDown",run:Fm,shift:By},{key:"Home",run:lz,shift:yz,preventDefault:!0},{key:"Mod-Home",run:Fy,shift:Wy},{key:"End",run:az,shift:xz,preventDefault:!0},{key:"Mod-End",run:Vy,shift:zy},{key:"Enter",run:jy,shift:jy},{key:"Mod-a",run:kz},{key:"Backspace",run:Vm,shift:Vm},{key:"Delete",run:Zk},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Jk},{key:"Mod-Delete",mac:"Alt-Delete",run:Tz},{mac:"Mod-Backspace",run:Pz},{mac:"Mod-Delete",run:Oz}].concat(Hz.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Kz=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:oz,shift:bz},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:sz,shift:vz},{key:"Alt-ArrowUp",run:_z},{key:"Shift-Alt-ArrowUp",run:Nz},{key:"Alt-ArrowDown",run:Lz},{key:"Shift-Alt-ArrowDown",run:Bz},{key:"Escape",run:Rz},{key:"Mod-Enter",run:Wz},{key:"Alt-l",mac:"Ctrl-l",run:Ez},{key:"Mod-i",run:Az,preventDefault:!0},{key:"Mod-[",run:iE},{key:"Mod-]",run:rE},{key:"Mod-Alt-\\",run:zz},{key:"Shift-Mod-k",run:Fz},{key:"Shift-Mod-\\",run:pz},{key:"Mod-/",run:NW},{key:"Alt-A",run:FW},{key:"Ctrl-m",mac:"Shift-Alt-m",run:jz}].concat(Uz),qz={key:"Tab",run:rE,shift:iE};function rt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)oE(n,arguments[e]);return n}function oE(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)oE(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const Hy=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class _s{constructor(e,t,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(Hy(a)):Hy,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return un(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=s0(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=br(e);let i=this.normalize(t);if(i.length)for(let o=0,s=r;;o++){let a=i.charCodeAt(o),c=this.match(a,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(c)return this.value=c,this;break}s==r&&o<t.length&&t.charCodeAt(o)==a&&s++}}}match(e,t,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(_s.prototype[Symbol.iterator]=function(){return this});const sE={from:-1,to:-1,match:/.*/.exec("")},A0="gm"+(/x/.unicode==null?"":"u");class aE{constructor(e,t,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=sE,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new lE(e,t,r,i,o);this.re=new RegExp(t,A0+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=uf(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=uf(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const fp=new WeakMap;class ws{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=fp.get(e);if(!i||i.from>=r||i.to<=t){let a=new ws(t,e.sliceString(t,r));return fp.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:o,from:s}=i;return s>t&&(o=e.sliceString(t,s)+o,s=t),i.to<r&&(o+=e.sliceString(i.to,r)),fp.set(e,new ws(s,o)),new ws(t,o.slice(t-s,r-s))}}class lE{constructor(e,t,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=sE,this.matchPos=uf(e,i),this.re=new RegExp(t,A0+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=ws.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=uf(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ws.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(aE.prototype[Symbol.iterator]=lE.prototype[Symbol.iterator]=function(){return this});function Gz(n){try{return new RegExp(n,A0),!0}catch{return!1}}function uf(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function Wm(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=rt("input",{class:"cm-textfield",name:"line",value:e}),r=rt("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),n.dispatch({effects:Wa.of(!1)}),n.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},rt("label",n.state.phrase("Go to line"),": ",t)," ",rt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),rt("button",{name:"close",onclick:()=>{n.dispatch({effects:Wa.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},["×"]));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!o)return;let{state:s}=n,a=s.doc.lineAt(s.selection.main.head),[,c,f,h,d]=o,m=h?+h.slice(1):0,b=f?+f:a.number;if(f&&d){let w=b/100;c&&(w=w*(c=="-"?-1:1)+a.number/s.doc.lines),b=Math.round(s.doc.lines*w)}else f&&c&&(b=b*(c=="-"?-1:1)+a.number);let x=s.doc.line(Math.max(1,Math.min(s.doc.lines,b))),v=X.cursor(x.from+Math.max(0,Math.min(m,x.length)));n.dispatch({effects:[Wa.of(!1),ae.scrollIntoView(v.from,{y:"center"})],selection:v}),n.focus()}return{dom:r}}const Wa=Pe.define(),Uy=_t.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Wa)&&(n=t.value);return n},provide:n=>rl.from(n,e=>e?Wm:null)}),Yz=n=>{let e=nl(n,Wm);if(!e){let t=[Wa.of(!0)];n.state.field(Uy,!1)==null&&t.push(Pe.appendConfig.of([Uy,Xz])),n.dispatch({effects:t}),e=nl(n,Wm)}return e&&e.dom.querySelector("input").select(),!0},Xz=ae.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Zz={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Qz=fe.define({combine(n){return Or(n,Zz,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function Jz(n){return[ij,rj]}const ej=ye.mark({class:"cm-selectionMatch"}),tj=ye.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Ky(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=ht.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=ht.Word)}function nj(n,e,t,r){return n(e.sliceDoc(t,t+1))==ht.Word&&n(e.sliceDoc(r-1,r))==ht.Word}const rj=wt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(Qz),{state:t}=n,r=t.selection;if(r.ranges.length>1)return ye.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return ye.none;let c=t.wordAt(i.head);if(!c)return ye.none;s=t.charCategorizer(i.head),o=t.sliceDoc(c.from,c.to)}else{let c=i.to-i.from;if(c<e.minSelectionLength||c>200)return ye.none;if(e.wholeWords){if(o=t.sliceDoc(i.from,i.to),s=t.charCategorizer(i.head),!(Ky(s,t,i.from,i.to)&&nj(s,t,i.from,i.to)))return ye.none}else if(o=t.sliceDoc(i.from,i.to),!o)return ye.none}let a=[];for(let c of n.visibleRanges){let f=new _s(t.doc,o,c.from,c.to);for(;!f.next().done;){let{from:h,to:d}=f.value;if((!s||Ky(s,t,h,d))&&(i.empty&&h<=i.from&&d>=i.to?a.push(tj.range(h,d)):(h>=i.to||d<=i.from)&&a.push(ej.range(h,d)),a.length>e.maxMatches))return ye.none}}return ye.set(a)}},{decorations:n=>n.decorations}),ij=ae.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),oj=({state:n,dispatch:e})=>{let{selection:t}=n,r=X.create(t.ranges.map(i=>n.wordAt(i.head)||X.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function sj(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),o=i&&i.from==t.from&&i.to==t.to;for(let s=!1,a=new _s(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new _s(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(c=>c.from==a.value.from))continue;if(o){let c=n.wordAt(a.value.from);if(!c||c.from!=a.value.from||c.to!=a.value.to)continue}return a.value}}const aj=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return oj({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=r))return!1;let i=sj(n,r);return i?(e(n.update({selection:n.selection.addRange(X.range(i.from,i.to),!1),effects:ae.scrollIntoView(i.to)})),!0):!1},Xs=fe.define({combine(n){return Or(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new xj(e),scrollToMatch:e=>ae.scrollIntoView(e)})}});class cE{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Gz(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new fj(this):new cj(this)}getCursor(e,t=0,r){let i=e.doc?e:Ye.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?fs(this,i,t,r):us(this,i,t,r)}}class uE{constructor(e){this.spec=e}}function us(n,e,t,r){return new _s(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?lj(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function lj(n,e){return(t,r,i,o)=>((o>t||o+i.length<r)&&(o=Math.max(0,t-2),i=n.sliceString(o,Math.min(n.length,r+2))),(e(ff(i,t-o))!=ht.Word||e(hf(i,t-o))!=ht.Word)&&(e(hf(i,r-o))!=ht.Word||e(ff(i,r-o))!=ht.Word))}class cj extends uE{constructor(e){super(e)}nextMatch(e,t,r){let i=us(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,t+this.spec.unquoted.length);i=us(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let o=Math.max(t,i-1e4-this.spec.unquoted.length),s=us(this.spec,e,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=us(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=us(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function fs(n,e,t,r){return new aE(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?uj(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function ff(n,e){return n.slice(zt(n,e,!1),e)}function hf(n,e){return n.slice(e,zt(n,e))}function uj(n){return(e,t,r)=>!r[0].length||(n(ff(r.input,r.index))!=ht.Word||n(hf(r.input,r.index))!=ht.Word)&&(n(hf(r.input,r.index+r[0].length))!=ht.Word||n(ff(r.input,r.index+r[0].length))!=ht.Word)}class fj extends uE{nextMatch(e,t,r){let i=fs(this.spec,e,r,e.doc.length).next();return i.done&&(i=fs(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let o=Math.max(t,r-i*1e4),s=fs(this.spec,e,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==t||a.from>o+10))return a;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let o=+r.slice(0,i);if(o>0&&o<e.match.length)return e.match[o]+r.slice(i)}return t})}matchAll(e,t){let r=fs(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=fs(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const ol=Pe.define(),R0=Pe.define(),Ti=_t.define({create(n){return new hp(zm(n).create(),null)},update(n,e){for(let t of e.effects)t.is(ol)?n=new hp(t.value.create(),n.panel):t.is(R0)&&(n=new hp(n.query,t.value?T0:null));return n},provide:n=>rl.from(n,e=>e.panel)});class hp{constructor(e,t){this.query=e,this.panel=t}}const hj=ye.mark({class:"cm-searchMatch"}),dj=ye.mark({class:"cm-searchMatch cm-searchMatch-selected"}),pj=wt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Ti))}update(n){let e=n.state.field(Ti);(e!=n.startState.field(Ti)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return ye.none;let{view:t}=this,r=new ti;for(let i=0,o=t.visibleRanges,s=o.length;i<s;i++){let{from:a,to:c}=o[i];for(;i<s-1&&c>o[i+1].from-2*250;)c=o[++i].to;n.highlight(t.state,a,c,(f,h)=>{let d=t.state.selection.ranges.some(m=>m.from==f&&m.to==h);r.add(f,h,d?dj:hj)})}return r.finish()}},{decorations:n=>n.decorations});function Il(n){return e=>{let t=e.state.field(Ti,!1);return t&&t.query.spec.valid?n(e,t):dE(e)}}const df=Il((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=X.single(r.from,r.to),o=n.state.facet(Xs);return n.dispatch({selection:i,effects:[M0(n,r),o.scrollToMatch(i.main,n)],userEvent:"select.search"}),hE(n),!0}),pf=Il((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let o=X.single(i.from,i.to),s=n.state.facet(Xs);return n.dispatch({selection:o,effects:[M0(n,i),s.scrollToMatch(o.main,n)],userEvent:"select.search"}),hE(n),!0}),mj=Il((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:X.create(t.map(r=>X.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),gj=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,o=[],s=0;for(let a=new _s(n.doc,n.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(X.range(a.value.from,a.value.to))}return e(n.update({selection:X.create(o,s),userEvent:"select.search.matches"})),!0},qy=Il((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,r,r);if(!o)return!1;let s=o,a=[],c,f,h=[];if(s.from==r&&s.to==i&&(f=t.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:f}),s=e.nextMatch(t,s.from,s.to),h.push(ae.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),s){let d=a.length==0||a[0].from>=o.to?0:o.to-o.from-f.length;c=X.single(s.from-d,s.to-d),h.push(M0(n,s)),h.push(t.facet(Xs).scrollToMatch(c.main,n))}return n.dispatch({changes:a,selection:c,effects:h,userEvent:"input.replace"}),!0}),bj=Il((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ae.announce.of(r),userEvent:"input.replace.all"}),!0});function T0(n){return n.state.facet(Xs).createPanel(n)}function zm(n,e){var t,r,i,o,s;let a=n.selection.main,c=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!c)return e;let f=n.facet(Xs);return new cE({search:((t=e?.literal)!==null&&t!==void 0?t:f.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:f.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:f.literal,regexp:(o=e?.regexp)!==null&&o!==void 0?o:f.regexp,wholeWord:(s=e?.wholeWord)!==null&&s!==void 0?s:f.wholeWord})}function fE(n){let e=nl(n,T0);return e&&e.dom.querySelector("[main-field]")}function hE(n){let e=fE(n);e&&e==n.root.activeElement&&e.select()}const dE=n=>{let e=n.state.field(Ti,!1);if(e&&e.panel){let t=fE(n);if(t&&t!=n.root.activeElement){let r=zm(n.state,e.query.spec);r.valid&&n.dispatch({effects:ol.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[R0.of(!0),e?ol.of(zm(n.state,e.query.spec)):Pe.appendConfig.of(wj)]});return!0},pE=n=>{let e=n.state.field(Ti,!1);if(!e||!e.panel)return!1;let t=nl(n,T0);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:R0.of(!1)}),!0},vj=[{key:"Mod-f",run:dE,scope:"editor search-panel"},{key:"F3",run:df,shift:pf,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:df,shift:pf,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:pE,scope:"editor search-panel"},{key:"Mod-Shift-l",run:gj},{key:"Mod-Alt-g",run:Yz},{key:"Mod-d",run:aj,preventDefault:!0}];class xj{constructor(e){this.view=e;let t=this.query=e.state.field(Ti).query.spec;this.commit=this.commit.bind(this),this.searchField=rt("input",{value:t.search,placeholder:kn(e,"Find"),"aria-label":kn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=rt("input",{value:t.replace,placeholder:kn(e,"Replace"),"aria-label":kn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=rt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=rt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=rt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,o,s){return rt("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=rt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>df(e),[kn(e,"next")]),r("prev",()=>pf(e),[kn(e,"previous")]),r("select",()=>mj(e),[kn(e,"all")]),rt("label",null,[this.caseField,kn(e,"match case")]),rt("label",null,[this.reField,kn(e,"regexp")]),rt("label",null,[this.wordField,kn(e,"by word")]),...e.state.readOnly?[]:[rt("br"),this.replaceField,r("replace",()=>qy(e),[kn(e,"replace")]),r("replaceAll",()=>bj(e),[kn(e,"replace all")])],rt("button",{name:"close",onclick:()=>pE(e),"aria-label":kn(e,"close"),type:"button"},["×"])])}commit(){let e=new cE({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:ol.of(e)}))}keydown(e){NF(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?pf:df)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),qy(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(ol)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Xs).top}}function kn(n,e){return n.state.phrase(e)}const hu=30,du=/[\s\.,:;?!]/;function M0(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,o=Math.max(r.from,e-hu),s=Math.min(i,t+hu),a=n.state.sliceDoc(o,s);if(o!=r.from){for(let c=0;c<hu;c++)if(!du.test(a[c+1])&&du.test(a[c])){a=a.slice(c);break}}if(s!=i){for(let c=a.length-1;c>a.length-hu;c--)if(!du.test(a[c-1])&&du.test(a[c])){a=a.slice(0,c);break}}return ae.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${r.number}.`)}const yj=ae.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),wj=[Ti,Oo.low(pj),yj];class mE{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Xt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(gE(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function Gy(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Cj(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let o=1;o<i.length;o++)t[i[o]]=!0}let r=Gy(e)+Gy(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function $j(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Cj(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}let Yy=class{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}};function mo(n){return n.selection.main.from}function gE(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?n:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const bE=Pr.define();function Sj(n,e,t,r){let{main:i}=n.selection,o=t-i.from,s=r-i.from;return Object.assign(Object.assign({},n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+o,a.from+s)!=n.sliceDoc(t,r))return{range:a};let c=n.toText(e);return{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:c},range:X.cursor(a.from+o+c.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Xy=new WeakMap;function kj(n){if(!Array.isArray(n))return n;let e=Xy.get(n);return e||Xy.set(n,e=$j(n)),e}const mf=Pe.define(),sl=Pe.define();class Ej{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=un(e,t),i=br(r);this.chars.push(r);let o=e.slice(t,t+i),s=o.toUpperCase();this.folded.push(un(s==o?o.toLowerCase():s,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:s}=this;if(t.length==1){let S=un(e,0),E=br(S),A=E==e.length?0:-100;if(S!=t[0])if(S==r[0])A+=-200;else return null;return this.ret(A,[0,E])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=t.length,f=0;if(a<0){for(let S=0,E=Math.min(e.length,200);S<E&&f<c;){let A=un(e,S);(A==t[f]||A==r[f])&&(i[f++]=S),S+=br(A)}if(f<c)return null}let h=0,d=0,m=!1,b=0,x=-1,v=-1,w=/[a-z]/.test(e),$=!0;for(let S=0,E=Math.min(e.length,200),A=0;S<E&&d<c;){let T=un(e,S);a<0&&(h<c&&T==t[h]&&(o[h++]=S),b<c&&(T==t[b]||T==r[b]?(b==0&&(x=S),v=S+1,b++):b=0));let O,P=T<255?T>=48&&T<=57||T>=97&&T<=122?2:T>=65&&T<=90?1:0:(O=s0(T))!=O.toLowerCase()?1:O!=O.toUpperCase()?2:0;(!S||P==1&&w||A==0&&P!=0)&&(t[d]==T||r[d]==T&&(m=!0)?s[d++]=S:s.length&&($=!1)),A=P,S+=br(T)}return d==c&&s[0]==0&&$?this.result(-100+(m?-200:0),s,e):b==c&&x==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):b==c?this.ret(-900-e.length,[x,v]):d==c?this.result(-100+(m?-200:0)+-700+($?0:-1100),s,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],o=0;for(let s of t){let a=s+(this.astral?br(un(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(e-r.length,i)}}class Aj{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const It=fe.define({combine(n){return Or(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Rj,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>Zy(e(r),t(r)),optionClass:(e,t)=>r=>Zy(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Zy(n,e){return n?e?n+" "+e:n:e}function Rj(n,e,t,r,i,o){let s=n.textDirection==ut.RTL,a=s,c=!1,f="top",h,d,m=e.left-i.left,b=i.right-e.right,x=r.right-r.left,v=r.bottom-r.top;if(a&&m<Math.min(x,b)?a=!1:!a&&b<Math.min(x,m)&&(a=!0),x<=(a?m:b))h=Math.max(i.top,Math.min(t.top,i.bottom-v))-e.top,d=Math.min(400,a?m:b);else{c=!0,d=Math.min(400,(s?e.right:i.right-e.left)-30);let S=i.bottom-e.bottom;S>=v||S>e.top?h=t.bottom-e.top:(f="bottom",h=e.bottom-t.top)}let w=(e.bottom-e.top)/o.offsetHeight,$=(e.right-e.left)/o.offsetWidth;return{style:`${f}: ${h/w}px; max-width: ${d/$}px`,class:"cm-completionInfo-"+(c?s?"left-narrow":"right-narrow":a?"left":"right")}}function Tj(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=t.displayLabel||t.label,c=0;for(let f=0;f<o.length;){let h=o[f++],d=o[f++];h>c&&s.appendChild(document.createTextNode(a.slice(c,h)));let m=s.appendChild(document.createElement("span"));m.appendChild(document.createTextNode(a.slice(h,d))),m.className="cm-completionMatchedText",c=d}return c<a.length&&s.appendChild(document.createTextNode(a.slice(c))),s},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function dp(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class Mj{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:o,selected:s}=i.open,a=e.state.facet(It);this.optionContent=Tj(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=dp(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:f}=e.state.field(t).open;for(let h=c.target,d;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(d=/-(\d+)$/.exec(h.id))&&+d[1]<f.length){this.applyCompletion(e,f[+d[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(It).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:sl.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=dp(o.length,s,e.state.facet(It).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=dp(t.options.length,t.selected,this.view.state.facet(It).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>dn(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&Oj(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:s.clientWidth,bottom:s.clientHeight}}return i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(It).positionInfo(this.view,t,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",s=>{s.target==i&&s.preventDefault()});let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:c}=e[s],{section:f}=a;if(f){let m=typeof f=="string"?f:f.name;if(m!=o&&(s>r.from||r.from==0))if(o=m,typeof f!="string"&&f.header)i.appendChild(f.header(f));else{let b=i.appendChild(document.createElement("completion-section"));b.textContent=m}}const h=i.appendChild(document.createElement("li"));h.id=t+"-"+s,h.setAttribute("role","option");let d=this.optionClass(a);d&&(h.className=d);for(let m of this.optionContent){let b=m(a,this.view.state,this.view,c);b&&h.appendChild(b)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Pj(n,e){return t=>new Mj(t,n,e)}function Oj(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function Qy(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Dj(n,e){let t=[],r=null,i=f=>{t.push(f);let{section:h}=f.completion;if(h){r||(r=[]);let d=typeof h=="string"?h:h.name;r.some(m=>m.name==d)||r.push(typeof h=="string"?{name:d}:h)}},o=e.facet(It);for(let f of n)if(f.hasResult()){let h=f.result.getMatch;if(f.result.filter===!1)for(let d of f.result.options)i(new Yy(d,f.source,h?h(d):[],1e9-t.length));else{let d=e.sliceDoc(f.from,f.to),m,b=o.filterStrict?new Aj(d):new Ej(d);for(let x of f.result.options)if(m=b.match(x.label)){let v=x.displayLabel?h?h(x,m.matched):[]:m.matched;i(new Yy(x,f.source,v,m.score+(x.boost||0)))}}}if(r){let f=Object.create(null),h=0,d=(m,b)=>{var x,v;return((x=m.rank)!==null&&x!==void 0?x:1e9)-((v=b.rank)!==null&&v!==void 0?v:1e9)||(m.name<b.name?-1:1)};for(let m of r.sort(d))h-=1e5,f[m.name]=h;for(let m of t){let{section:b}=m.completion;b&&(m.score+=f[typeof b=="string"?b:b.name])}}let s=[],a=null,c=o.compareCompletions;for(let f of t.sort((h,d)=>d.score-h.score||c(h.completion,d.completion))){let h=f.completion;!a||a.label!=h.label||a.detail!=h.detail||a.type!=null&&h.type!=null&&a.type!=h.type||a.apply!=h.apply||a.boost!=h.boost?s.push(f):Qy(f.completion)>Qy(a)&&(s[s.length-1]=f),a=f.completion}return s}class ps{constructor(e,t,r,i,o,s){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new ps(this.options,Jy(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o,s){if(i&&!s&&e.some(f=>f.isPending))return i.setDisabled();let a=Dj(e,t);if(!a.length)return i&&e.some(f=>f.isPending)?i.setDisabled():null;let c=t.facet(It).selectOnOpen?0:-1;if(i&&i.selected!=c&&i.selected!=-1){let f=i.options[i.selected].completion;for(let h=0;h<a.length;h++)if(a[h].completion==f){c=h;break}}return new ps(a,Jy(r,c),{pos:e.reduce((f,h)=>h.hasResult()?Math.min(f,h.from):f,1e8),create:Fj,above:o.aboveCursor},i?i.timestamp:Date.now(),c,!1)}map(e){return new ps(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new ps(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class gf{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new gf(Nj,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(It),o=(r.override||t.languageDataAt("autocomplete",mo(t)).map(kj)).map(c=>(this.active.find(h=>h.source==c)||new Vn(c,this.active.some(h=>h.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((c,f)=>c==this.active[f])&&(o=this.active);let s=this.open,a=e.effects.some(c=>c.is(P0));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!Ij(o,this.active)||a?s=ps.build(o,t,this.id,s,r,a):s&&s.disabled&&!o.some(c=>c.isPending)&&(s=null),!s&&o.every(c=>!c.isPending)&&o.some(c=>c.hasResult())&&(o=o.map(c=>c.hasResult()?new Vn(c.source,0):c));for(let c of e.effects)c.is(xE)&&(s=s&&s.setSelected(c.value,this.id));return o==this.active&&s==this.open?this:new gf(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?_j:Lj}}function Ij(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,o=r==e.length;if(i||o)return i==o;if(n[t++].result!=e[r++].result)return!1}}const _j={"aria-autocomplete":"list"},Lj={};function Jy(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const Nj=[];function vE(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(bE);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Vn{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=vE(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new Vn(i.source,0)),r&4&&i.state==0&&(i=new Vn(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(mf))i=new Vn(i.source,1,o.value);else if(o.is(sl))i=new Vn(i.source,0);else if(o.is(P0))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(mo(e.state))}}class Cs extends Vn{constructor(e,t,r,i,o,s){super(e,3,t),this.limit=r,this.result=i,this.from=o,this.to=s}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=mo(e.state);if(a>s||!i||t&2&&(mo(e.startState)==this.from||a<this.limit))return new Vn(this.source,t&4?1:0);let c=e.changes.mapPos(this.limit);return Bj(i.validFor,e.state,o,s)?new Cs(this.source,this.explicit,c,i,o,s):i.update&&(i=i.update(i,o,s,new mE(e.state,a,!1)))?new Cs(this.source,this.explicit,c,i,i.from,(r=i.to)!==null&&r!==void 0?r:mo(e.state)):new Vn(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Cs(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Vn(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Bj(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):gE(n,!0).test(i)}const P0=Pe.define({map(n,e){return n.map(t=>t.map(e))}}),xE=Pe.define(),hn=_t.define({create(){return gf.start()},update(n,e){return n.update(e)},provide:n=>[w0.from(n,e=>e.tooltip),ae.contentAttributes.from(n,e=>e.attrs)]});function O0(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(hn).active.find(i=>i.source==e.source);return r instanceof Cs?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},Sj(n.state,t,r.from,r.to)),{annotations:bE.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const Fj=Pj(hn,O0);function pu(n,e="option"){return t=>{let r=t.state.field(hn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(It).interactionDelay)return!1;let i=1,o;e=="page"&&(o=ak(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),t.dispatch({effects:xE.of(a)}),!0}}const Vj=n=>{let e=n.state.field(hn,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(It).interactionDelay?!1:O0(n,e.open.options[e.open.selected])},ew=n=>n.state.field(hn,!1)?(n.dispatch({effects:mf.of(!0)}),!0):!1,Wj=n=>{let e=n.state.field(hn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:sl.of(null)}),!0)};class zj{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const jj=50,Hj=1e3,Uj=wt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(hn).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(hn),t=n.state.facet(It);if(!n.selectionSet&&!n.docChanged&&n.startState.field(hn)==e)return;let r=n.transactions.some(o=>{let s=vE(o,t);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>jj&&Date.now()-s.time>Hj){for(let a of s.context.abortListeners)try{a()}catch(c){dn(this.view.state,c)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(s=>s.is(mf)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(hn);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(It).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=mo(e),r=new mE(e,t,n.explicit,this.view),i=new zj(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:sl.of(null)}),dn(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(It).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(It),r=this.view.state.field(hn);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let a=mo(o.updates.length?o.updates[0].startState:this.view.state),c=Math.min(a,o.done.from+(o.active.explicit?0:1)),f=new Cs(o.active.source,o.active.explicit,c,o.done,o.done.from,(n=o.done.to)!==null&&n!==void 0?n:a);for(let h of o.updates)f=f.update(h,t);if(f.hasResult()){e.push(f);continue}}let s=r.active.find(a=>a.source==o.active.source);if(s&&s.isPending)if(o.done==null){let a=new Vn(o.active.source,0);for(let c of o.updates)a=a.update(c,t);a.isPending||e.push(a)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:P0.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(hn,!1);if(e&&e.tooltip&&this.view.state.facet(It).closeOnBlur){let t=e.open&&ak(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:sl.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:mf.of(!1)}),20),this.composing=0}}}),Kj=typeof navigator=="object"&&/Win/.test(navigator.platform),qj=Oo.highest(ae.domEventHandlers({keydown(n,e){let t=e.state.field(hn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Kj&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&O0(e,r),!1}})),Gj=ae.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),al={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},uo=Pe.define({map(n,e){let t=e.mapPos(n,-1,tn.TrackAfter);return t??void 0}}),D0=new class extends Co{};D0.startSide=1;D0.endSide=-1;const yE=_t.define({create(){return Xe.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(uo)&&(n=n.update({add:[D0.range(t.value,t.value+1)]}));return n}});function Yj(){return[Zj,yE]}const pp="()[]{}<>«»»«［］｛｝";function wE(n){for(let e=0;e<pp.length;e+=2)if(pp.charCodeAt(e)==n)return pp.charAt(e+1);return s0(n<128?n:n+1)}function CE(n,e){return n.languageDataAt("closeBrackets",e)[0]||al}const Xj=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Zj=ae.inputHandler.of((n,e,t,r)=>{if((Xj?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&br(un(r,0))==1||e!=i.from||t!=i.to)return!1;let o=eH(n.state,r);return o?(n.dispatch(o),!0):!1}),Qj=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=CE(n,n.selection.main.head).brackets||al.brackets,i=null,o=n.changeByRange(s=>{if(s.empty){let a=tH(n.doc,s.head);for(let c of r)if(c==a&&nh(n.doc,s.head)==wE(un(c,0)))return{changes:{from:s.head-c.length,to:s.head+c.length},range:X.cursor(s.head-c.length)}}return{range:i=s}});return i||e(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Jj=[{key:"Backspace",run:Qj}];function eH(n,e){let t=CE(n,n.selection.main.head),r=t.brackets||al.brackets;for(let i of r){let o=wE(un(i,0));if(e==i)return o==i?iH(n,i,r.indexOf(i+i+i)>-1,t):nH(n,i,o,t.before||al.before);if(e==o&&$E(n,n.selection.main.from))return rH(n,i,o)}return null}function $E(n,e){let t=!1;return n.field(yE).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function nh(n,e){let t=n.sliceString(e,e+2);return t.slice(0,br(un(t,0)))}function tH(n,e){let t=n.sliceString(e-2,e);return br(un(t,0))==t.length?t:t.slice(1)}function nH(n,e,t,r){let i=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:uo.of(s.to+e.length),range:X.range(s.anchor+e.length,s.head+e.length)};let a=nh(n.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:s.head},effects:uo.of(s.head+e.length),range:X.cursor(s.head+e.length)}:{range:i=s}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function rH(n,e,t){let r=null,i=n.changeByRange(o=>o.empty&&nh(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:X.cursor(o.head+t.length)}:r={range:o});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function iH(n,e,t,r){let i=r.stringPrefixes||al.stringPrefixes,o=null,s=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:uo.of(a.to+e.length),range:X.range(a.anchor+e.length,a.head+e.length)};let c=a.head,f=nh(n.doc,c),h;if(f==e){if(tw(n,c))return{changes:{insert:e+e,from:c},effects:uo.of(c+e.length),range:X.cursor(c+e.length)};if($E(n,c)){let m=t&&n.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+m.length,insert:m},range:X.cursor(c+m.length)}}}else{if(t&&n.sliceDoc(c-2*e.length,c)==e+e&&(h=nw(n,c-2*e.length,i))>-1&&tw(n,h))return{changes:{insert:e+e+e+e,from:c},effects:uo.of(c+e.length),range:X.cursor(c+e.length)};if(n.charCategorizer(c)(f)!=ht.Word&&nw(n,c,i)>-1&&!oH(n,c,e,i))return{changes:{insert:e+e,from:c},effects:uo.of(c+e.length),range:X.cursor(c+e.length)}}return{range:o=a}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function tw(n,e){let t=Xt(n).resolveInner(e+1);return t.parent&&t.from==e}function oH(n,e,t,r){let i=Xt(n).resolveInner(e,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+o)),c=a.indexOf(t);if(!c||c>-1&&r.indexOf(a.slice(0,c))>-1){let h=i.firstChild;for(;h&&h.from==i.from&&h.to-h.from>t.length+c;){if(n.sliceDoc(h.to-t.length,h.to)==t)return!1;h=h.firstChild}return!0}let f=i.to==e&&i.parent;if(!f)break;i=f}return!1}function nw(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=ht.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=ht.Word)return o}return-1}function sH(n={}){return[qj,hn,It.of(n),Uj,aH,Gj]}const SE=[{key:"Ctrl-Space",run:ew},{mac:"Alt-`",run:ew},{key:"Escape",run:Wj},{key:"ArrowDown",run:pu(!0)},{key:"ArrowUp",run:pu(!1)},{key:"PageDown",run:pu(!0,"page")},{key:"PageUp",run:pu(!1,"page")},{key:"Enter",run:Vj}],aH=Oo.highest(qf.computeN([It],n=>n.facet(It).defaultKeymap?[SE]:[]));class rw{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class lo{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,o=r.facet(ll).markerFilter;o&&(i=o(i,r));let s=e.slice().sort((d,m)=>d.from-m.from||d.to-m.to),a=new ti,c=[],f=0;for(let d=0;;){let m=d==s.length?null:s[d];if(!m&&!c.length)break;let b,x;for(c.length?(b=f,x=c.reduce((w,$)=>Math.min(w,$.to),m&&m.from>b?m.from:1e8)):(b=m.from,x=m.to,c.push(m),d++);d<s.length;){let w=s[d];if(w.from==b&&(w.to>w.from||w.to==b))c.push(w),d++,x=Math.min(w.to,x);else{x=Math.min(w.from,x);break}}let v=yH(c);if(c.some(w=>w.from==w.to||w.from==w.to-1&&r.doc.lineAt(w.from).to==w.from))a.add(b,b,ye.widget({widget:new gH(v),diagnostics:c.slice()}));else{let w=c.reduce(($,S)=>S.markClass?$+" "+S.markClass:$,"");a.add(b,x,ye.mark({class:"cm-lintRange cm-lintRange-"+v+w,diagnostics:c.slice(),inclusiveEnd:c.some($=>$.to>x)}))}f=x;for(let w=0;w<c.length;w++)c[w].to<=f&&c.splice(w--,1)}let h=a.finish();return new lo(h,t,Ls(h))}}function Ls(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new rw(i,o,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new rw(r.from,o,r.diagnostic)}}),r}function lH(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(ll).hideOn(n,t,r);if(i!=null)return i;let o=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(s=>s.is(kE))||n.changes.touchesRange(o.from,Math.max(o.to,r)))}function cH(n,e){return n.field(Rn,!1)?e:e.concat(Pe.appendConfig.of(wH))}const kE=Pe.define(),I0=Pe.define(),EE=Pe.define(),Rn=_t.define({create(){return new lo(ye.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);r=Ls(t,n.selected.diagnostic,o)||Ls(t,null,o)}!t.size&&i&&e.state.facet(ll).autoPanel&&(i=null),n=new lo(t,i,r)}for(let t of e.effects)if(t.is(kE)){let r=e.state.facet(ll).autoPanel?t.value.length?cl.open:null:n.panel;n=lo.init(t.value,r,e.state)}else t.is(I0)?n=new lo(n.diagnostics,t.value?cl.open:null,n.selected):t.is(EE)&&(n=new lo(n.diagnostics,n.panel,t.value));return n},provide:n=>[rl.from(n,e=>e.panel),ae.decorations.from(n,e=>e.diagnostics)]}),uH=ye.mark({class:"cm-lintRange cm-lintRange-active"});function fH(n,e,t){let{diagnostics:r}=n.state.field(Rn),i,o=-1,s=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(c,f,{spec:h})=>{if(e>=c&&e<=f&&(c==f||(e>c||t>0)&&(e<f||t<0)))return i=h.diagnostics,o=c,s=f,!1});let a=n.state.facet(ll).tooltipFilter;return i&&a&&(i=a(i,n.state)),i?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:hH(n,i)}}}:null}function hH(n,e){return rt("ul",{class:"cm-tooltip-lint"},e.map(t=>RE(n,t,!1)))}const dH=n=>{let e=n.state.field(Rn,!1);(!e||!e.panel)&&n.dispatch({effects:cH(n.state,[I0.of(!0)])});let t=nl(n,cl.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},iw=n=>{let e=n.state.field(Rn,!1);return!e||!e.panel?!1:(n.dispatch({effects:I0.of(!1)}),!0)},pH=n=>{let e=n.state.field(Rn,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},mH=[{key:"Mod-Shift-m",run:dH,preventDefault:!0},{key:"F8",run:pH}],ll=fe.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Or(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function AE(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function RE(n,e,t){var r;let i=t?AE(e.actions):[];return rt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},rt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,c=m=>{if(m.preventDefault(),a)return;a=!0;let b=Ls(n.state.field(Rn).diagnostics,e);b&&o.apply(n,b.from,b.to)},{name:f}=o,h=i[s]?f.indexOf(i[s]):-1,d=h<0?f:[f.slice(0,h),rt("u",f.slice(h,h+1)),f.slice(h+1)];return rt("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${f}${h<0?"":` (access key "${i[s]})"`}.`},d)}),e.source&&rt("div",{class:"cm-diagnosticSource"},e.source))}class gH extends si{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return rt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class ow{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=RE(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class cl{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)iw(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=AE(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let c=Ls(this.view.state.field(Rn).diagnostics,o);c&&o.actions[a].apply(e,c.from,c.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=rt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=rt("div",{class:"cm-panel-lint"},this.list,rt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>iw(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Rn).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Rn),r=0,i=!1,o=null,s=new Set;for(e.between(0,this.view.state.doc.length,(a,c,{spec:f})=>{for(let h of f.diagnostics){if(s.has(h))continue;s.add(h);let d=-1,m;for(let b=r;b<this.items.length;b++)if(this.items[b].diagnostic==h){d=b;break}d<0?(m=new ow(this.view,h),this.items.splice(r,0,m),i=!0):(m=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),t&&m.diagnostic==t.diagnostic?m.dom.hasAttribute("aria-selected")||(m.dom.setAttribute("aria-selected","true"),o=m):m.dom.hasAttribute("aria-selected")&&m.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new ow(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:c})=>{let f=c.height/this.list.offsetHeight;a.top<c.top?this.list.scrollTop-=(c.top-a.top)/f:a.bottom>c.bottom&&(this.list.scrollTop+=(a.bottom-c.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Rn),r=Ls(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:EE.of(r)})}static open(e){return new cl(e)}}function bH(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function mu(n){return bH(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const vH=ae.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:mu("#d11")},".cm-lintRange-warning":{backgroundImage:mu("orange")},".cm-lintRange-info":{backgroundImage:mu("#999")},".cm-lintRange-hint":{backgroundImage:mu("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function xH(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function yH(n){let e="hint",t=1;for(let r of n){let i=xH(r.severity);i>t&&(t=i,e=r.severity)}return e}const wH=[Rn,ae.decorations.compute([Rn],n=>{let{selected:e,panel:t}=n.field(Rn);return!e||!t||e.from==e.to?ye.none:ye.set([uH.range(e.from,e.to)])}),kV(fH,{hideOn:lH}),vH];var sw=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(Jj)),e.defaultKeymap!==!1&&(r=r.concat(Kz)),e.searchKeymap!==!1&&(r=r.concat(vj)),e.historyKeymap!==!1&&(r=r.concat(tz)),e.foldKeymap!==!1&&(r=r.concat(uW)),e.completionKeymap!==!1&&(r=r.concat(SE)),e.lintKeymap!==!1&&(r=r.concat(mH));var i=[];return e.lineNumbers!==!1&&i.push(LV()),e.highlightActiveLineGutter!==!1&&i.push(FV()),e.highlightSpecialChars!==!1&&i.push(eV()),e.history!==!1&&i.push(KW()),e.foldGutter!==!1&&i.push(pW()),e.drawSelection!==!1&&i.push(jF()),e.dropCursor!==!1&&i.push(GF()),e.allowMultipleSelections!==!1&&i.push(Ye.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(eW()),e.syntaxHighlighting!==!1&&i.push($k(vW,{fallback:!0})),e.bracketMatching!==!1&&i.push(kW()),e.closeBrackets!==!1&&i.push(Yj()),e.autocompletion!==!1&&i.push(sH()),e.rectangularSelection!==!1&&i.push(pV()),t!==!1&&i.push(bV()),e.highlightActiveLine!==!1&&i.push(sV()),e.highlightSelectionMatches!==!1&&i.push(Jz()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Yf.of(" ".repeat(e.tabSize))),i.concat([qf.of(r.flat())]).filter(Boolean)};const CH="#e5c07b",aw="#e06c75",$H="#56b6c2",SH="#ffffff",Ou="#abb2bf",jm="#7d8799",kH="#61afef",EH="#98c379",lw="#d19a66",AH="#c678dd",RH="#21252b",cw="#2c313a",uw="#282c34",mp="#353a42",TH="#3E4451",fw="#528bff",MH=ae.theme({"&":{color:Ou,backgroundColor:uw},".cm-content":{caretColor:fw},".cm-cursor, .cm-dropCursor":{borderLeftColor:fw},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:TH},".cm-panels":{backgroundColor:RH,color:Ou},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:uw,color:jm,border:"none"},".cm-activeLineGutter":{backgroundColor:cw},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:mp},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:mp,borderBottomColor:mp},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:cw,color:Ou}}},{dark:!0}),PH=Ol.define([{tag:j.keyword,color:AH},{tag:[j.name,j.deleted,j.character,j.propertyName,j.macroName],color:aw},{tag:[j.function(j.variableName),j.labelName],color:kH},{tag:[j.color,j.constant(j.name),j.standard(j.name)],color:lw},{tag:[j.definition(j.name),j.separator],color:Ou},{tag:[j.typeName,j.className,j.number,j.changed,j.annotation,j.modifier,j.self,j.namespace],color:CH},{tag:[j.operator,j.operatorKeyword,j.url,j.escape,j.regexp,j.link,j.special(j.string)],color:$H},{tag:[j.meta,j.comment],color:jm},{tag:j.strong,fontWeight:"bold"},{tag:j.emphasis,fontStyle:"italic"},{tag:j.strikethrough,textDecoration:"line-through"},{tag:j.link,color:jm,textDecoration:"underline"},{tag:j.heading,fontWeight:"bold",color:aw},{tag:[j.atom,j.bool,j.special(j.variableName)],color:lw},{tag:[j.processingInstruction,j.string,j.inserted],color:EH},{tag:j.invalid,color:SH}]),OH=[MH,$k(PH)];var DH=ae.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),IH=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:r=!0,readOnly:i=!1,theme:o="light",placeholder:s="",basicSetup:a=!0}=e,c=[];switch(t&&c.unshift(qf.of([qz])),a&&(typeof a=="boolean"?c.unshift(sw()):c.unshift(sw(a))),s&&c.unshift(uV(s)),o){case"light":c.push(DH);break;case"dark":c.push(OH);break;case"none":break;default:c.push(o);break}return r===!1&&c.push(ae.editable.of(!1)),i&&c.push(Ye.readOnly.of(!0)),[...c]},_H=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)}),hw=Pr.define(),LH=[];function TE(n){var{value:e,selection:t,onChange:r,onStatistics:i,onCreateEditor:o,onUpdate:s,extensions:a=LH,autoFocus:c,theme:f="light",height:h=null,minHeight:d=null,maxHeight:m=null,width:b=null,minWidth:x=null,maxWidth:v=null,placeholder:w="",editable:$=!0,readOnly:S=!1,indentWithTab:E=!0,basicSetup:A=!0,root:T,initialState:O}=n,[P,L]=p.useState(),[B,F]=p.useState(),[K,z]=p.useState(),ee=ae.theme({"&":{height:h,minHeight:d,maxHeight:m,width:b,minWidth:x,maxWidth:v},"& .cm-scroller":{height:"100% !important"}}),Z=ae.updateListener.of(Q=>{if(Q.docChanged&&typeof r=="function"&&!Q.transactions.some(le=>le.annotation(hw))){var ie=Q.state.doc,q=ie.toString();r(q,Q)}i&&i(_H(Q))}),re=IH({theme:f,editable:$,readOnly:S,placeholder:w,indentWithTab:E,basicSetup:A}),ue=[Z,ee,...re];return s&&typeof s=="function"&&ue.push(ae.updateListener.of(s)),ue=ue.concat(a),p.useEffect(()=>{if(P&&!K){var Q={doc:e,selection:t,extensions:ue},ie=O?Ye.fromJSON(O.json,Q,O.fields):Ye.create(Q);if(z(ie),!B){var q=new ae({state:ie,parent:P,root:T});F(q),o&&o(q,ie)}}return()=>{B&&(z(void 0),F(void 0))}},[P,K]),p.useEffect(()=>L(n.container),[n.container]),p.useEffect(()=>()=>{B&&(B.destroy(),F(void 0))},[B]),p.useEffect(()=>{c&&B&&B.focus()},[c,B]),p.useEffect(()=>{B&&B.dispatch({effects:Pe.reconfigure.of(ue)})},[f,a,h,d,m,b,x,v,w,$,S,E,A,r,s]),p.useEffect(()=>{if(e!==void 0){var Q=B?B.state.doc.toString():"";B&&e!==Q&&B.dispatch({changes:{from:0,to:Q.length,insert:e||""},annotations:[hw.of(!0)]})}},[e,B]),{state:K,setState:z,view:B,setView:F,container:P,setContainer:L}}var NH=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],BH=p.forwardRef((n,e)=>{var{className:t,value:r="",selection:i,extensions:o=[],onChange:s,onStatistics:a,onCreateEditor:c,onUpdate:f,autoFocus:h,theme:d="light",height:m,minHeight:b,maxHeight:x,width:v,minWidth:w,maxWidth:$,basicSetup:S,placeholder:E,indentWithTab:A,editable:T,readOnly:O,root:P,initialState:L}=n,B=LW(n,NH),F=p.useRef(null),{state:K,view:z,container:ee}=TE({container:F.current,root:P,value:r,autoFocus:h,theme:d,height:m,minHeight:b,maxHeight:x,width:v,minWidth:w,maxWidth:$,basicSetup:S,placeholder:E,indentWithTab:A,editable:T,readOnly:O,selection:i,onChange:s,onStatistics:a,onCreateEditor:c,onUpdate:f,extensions:o,initialState:L});if(p.useImperativeHandle(e,()=>({editor:F.current,state:K,view:z}),[F,ee,K,z]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var Z=typeof d=="string"?"cm-theme-"+d:"cm-theme";return C.jsx("div",H({ref:F,className:""+Z+(t?" "+t:"")},B))});BH.displayName="CodeMirror";let gp=new Map,Hm=!1;try{Hm=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let bf=!1;try{bf=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const ME={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class PE{format(e){let t="";if(!Hm&&this.options.signDisplay!=null?t=VH(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!bf){var r;let{unit:i,unitDisplay:o="short",locale:s}=this.resolvedOptions();if(!i)return t;let a=(r=ME[i])===null||r===void 0?void 0:r[o];t+=a[s]||a.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(t);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!Hm&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!bf&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=FH(e,t),this.options=t}}function FH(n,e={}){let{numberingSystem:t}=e;if(t&&n.includes("-nu-")&&(n.includes("-u-")||(n+="-u-"),n+=`-nu-${t}`),e.style==="unit"&&!bf){var r;let{unit:s,unitDisplay:a="short"}=e;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=ME[s])===null||r===void 0)&&r[a]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${a}`);e={...e,style:"decimal"}}let i=n+(e?Object.entries(e).sort((s,a)=>s[0]<a[0]?-1:1).join():"");if(gp.has(i))return gp.get(i);let o=new Intl.NumberFormat(n,e);return gp.set(i,o),o}function VH(n,e,t){if(e==="auto")return n.format(t);if(e==="never")return n.format(Math.abs(t));{let r=!1;if(e==="always"?r=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):r=t>0),r){let i=n.format(-t),o=n.format(t),s=i.replace(o,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(o,"!!!").replace(s,"+").replace("!!!",o)}else return n.format(t)}}const WH=new RegExp("^.*\\(.*\\).*$"),zH=["latn","arab","hanidec"];class OE{parse(e){return bp(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,r){return bp(this.locale,this.options,e).isValidPartialNumber(e,t,r)}getNumberingSystem(e){return bp(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}}const dw=new Map;function bp(n,e,t){let r=pw(n,e);if(!n.includes("-nu-")&&!r.isValidPartialNumber(t)){for(let i of zH)if(i!==r.options.numberingSystem){let o=pw(n+(n.includes("-u-")?"-nu-":"-u-nu-")+i,e);if(o.isValidPartialNumber(t))return o}}return r}function pw(n,e){let t=n+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():""),r=dw.get(t);return r||(r=new jH(n,e),dw.set(t,r)),r}class jH{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=gu(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=t.indexOf("-");t=t.replace("-","");let a=t.indexOf(".");a===-1&&(a=t.length),t=t.replace(".",""),a-2===0?t=`0.${t}`:a-2===-1?t=`0.0${t}`:a-2===-2?t="0.00":t=`${t.slice(0,a-2)}.${t.slice(a-2)}`,s>-1&&(t=`-${t}`)}let r=t?+t:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var i,o;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2,20)};return new OE(this.locale,s).parse(new PE(this.locale,s).format(r))}return this.options.currencySign==="accounting"&&WH.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=gu(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=gu(e,"."," ")),e}isValidPartialNumber(e,t=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=gu(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=UH(e,this.formatter,this.options,t);var r,i;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const mw=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),HH=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function UH(n,e,t,r){var i,o,s,a;let c=new Intl.NumberFormat(n,{...t,minimumSignificantDigits:1,maximumSignificantDigits:21}),f=c.formatToParts(-10000.111),h=c.formatToParts(10000.111),d=HH.map(F=>c.formatToParts(F));var m;let b=(m=(i=f.find(F=>F.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&m!==void 0?m:"-",x=(o=h.find(F=>F.type==="plusSign"))===null||o===void 0?void 0:o.value;!x&&(r?.signDisplay==="exceptZero"||r?.signDisplay==="always")&&(x="+");let w=(s=new Intl.NumberFormat(n,{...t,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(F=>F.type==="decimal"))===null||s===void 0?void 0:s.value,$=(a=f.find(F=>F.type==="group"))===null||a===void 0?void 0:a.value,S=f.filter(F=>!mw.has(F.type)).map(F=>gw(F.value)),E=d.flatMap(F=>F.filter(K=>!mw.has(K.type)).map(K=>gw(K.value))),A=[...new Set([...S,...E])].sort((F,K)=>K.length-F.length),T=A.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${A.join("|")}|[\\p{White_Space}]`,"gu"),O=[...new Intl.NumberFormat(t.locale,{useGrouping:!1}).format(9876543210)].reverse(),P=new Map(O.map((F,K)=>[F,K])),L=new RegExp(`[${O.join("")}]`,"g");return{minusSign:b,plusSign:x,decimal:w,group:$,literals:T,numeral:L,index:F=>String(P.get(F))}}function gu(n,e,t){return n.replaceAll?n.replaceAll(e,t):n.split(e).join(t)}function gw(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var DE=wl(),vp=function(){},rh=p.forwardRef(function(n,e){var t=p.useRef(null),r=p.useState({onScrollCapture:vp,onWheelCapture:vp,onTouchMoveCapture:vp}),i=r[0],o=r[1],s=n.forwardProps,a=n.children,c=n.className,f=n.removeScrollBar,h=n.enabled,d=n.shards,m=n.sideCar,b=n.noIsolation,x=n.inert,v=n.allowPinchZoom,w=n.as,$=w===void 0?"div":w,S=Vi(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=m,A=yl([t,e]),T=qe(qe({},S),i);return p.createElement(p.Fragment,null,h&&p.createElement(E,{sideCar:DE,removeScrollBar:f,shards:d,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:t}),s?p.cloneElement(p.Children.only(a),qe(qe({},T),{ref:A})):p.createElement($,qe({},T,{className:c,ref:A}),a))});rh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rh.classNames={fullWidth:Ri,zeroRight:Ai};var Um=!1;if(typeof window<"u")try{var bu=Object.defineProperty({},"passive",{get:function(){return Um=!0,!0}});window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{Um=!1}var as=Um?{passive:!1}:!1,KH=function(n){return n.tagName==="TEXTAREA"},IE=function(n,e){var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!KH(n)&&t[e]==="visible")},qH=function(n){return IE(n,"overflowY")},GH=function(n){return IE(n,"overflowX")},bw=function(n,e){var t=e;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=_E(n,t);if(r){var i=LE(n,t),o=i[1],s=i[2];if(o>s)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},YH=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},XH=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},_E=function(n,e){return n==="v"?qH(e):GH(e)},LE=function(n,e){return n==="v"?YH(e):XH(e)},ZH=function(n,e){return n==="h"&&e==="rtl"?-1:1},QH=function(n,e,t,r,i){var o=ZH(n,window.getComputedStyle(e).direction),s=o*r,a=t.target,c=e.contains(a),f=!1,h=s>0,d=0,m=0;do{var b=LE(n,a),x=b[0],v=b[1],w=b[2],$=v-w-o*x;(x||$)&&_E(n,a)&&(d+=$,m+=x),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&d===0||!h&&m===0)&&(f=!0),f},vu=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},vw=function(n){return[n.deltaX,n.deltaY]},xw=function(n){return n&&"current"in n?n.current:n},JH=function(n,e){return n[0]===e[0]&&n[1]===e[1]},eU=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},tU=0,ls=[];function nU(n){var e=p.useRef([]),t=p.useRef([0,0]),r=p.useRef(),i=p.useState(tU++)[0],o=p.useState(function(){return Us()})[0],s=p.useRef(n);p.useEffect(function(){s.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var v=xl([n.lockRef.current],(n.shards||[]).map(xw),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=p.useCallback(function(v,w){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var $=vu(v),S=t.current,E="deltaX"in v?v.deltaX:S[0]-$[0],A="deltaY"in v?v.deltaY:S[1]-$[1],T,O=v.target,P=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in v&&P==="h"&&O.type==="range")return!1;var L=bw(P,O);if(!L)return!0;if(L?T=P:(T=P==="v"?"h":"v",L=bw(P,O)),!L)return!1;if(!r.current&&"changedTouches"in v&&(E||A)&&(r.current=T),!T)return!0;var B=r.current||T;return QH(B,w,v,B==="h"?E:A)},[]),c=p.useCallback(function(v){var w=v;if(!(!ls.length||ls[ls.length-1]!==o)){var $="deltaY"in w?vw(w):vu(w),S=e.current.filter(function(T){return T.name===w.type&&T.target===w.target&&JH(T.delta,$)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var E=(s.current.shards||[]).map(xw).filter(Boolean).filter(function(T){return T.contains(w.target)}),A=E.length>0?a(w,E[0]):!s.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),f=p.useCallback(function(v,w,$,S){var E={name:v,delta:w,target:$,should:S};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),h=p.useCallback(function(v){t.current=vu(v),r.current=void 0},[]),d=p.useCallback(function(v){f(v.type,vw(v),v.target,a(v,n.lockRef.current))},[]),m=p.useCallback(function(v){f(v.type,vu(v),v.target,a(v,n.lockRef.current))},[]);p.useEffect(function(){return ls.push(o),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,as),document.addEventListener("touchmove",c,as),document.addEventListener("touchstart",h,as),function(){ls=ls.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,as),document.removeEventListener("touchmove",c,as),document.removeEventListener("touchstart",h,as)}},[]);var b=n.removeScrollBar,x=n.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:eU(i)}):null,b?p.createElement($l,{gapMode:"margin"}):null)}const rU=Cl(DE,nU);var NE=p.forwardRef(function(n,e){return p.createElement(rh,qe({},n,{ref:e,sideCar:rU}))});NE.classNames=rh.classNames;const BE="Popover",[FE,JX]=Ct(BE,[Fi]),VE=Fi(),[eZ,Zs]=FE(BE),iU="PopoverTrigger",oU=p.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Zs(iU,t),o=VE(t),s=we(e,i.triggerRef),a=p.createElement(me.button,H({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":jE(i.open)},r,{ref:s,onClick:ne(n.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?a:p.createElement(ml,H({asChild:!0},o),a)}),WE="PopoverPortal",[sU,aU]=FE(WE,{forceMount:void 0}),lU=n=>{const{__scopePopover:e,forceMount:t,children:r,container:i}=n,o=Zs(WE,e);return p.createElement(sU,{scope:e,forceMount:t},p.createElement(Mt,{present:t||o.open},p.createElement(zs,{asChild:!0,container:i},r)))},ul="PopoverContent",cU=p.forwardRef((n,e)=>{const t=aU(ul,n.__scopePopover),{forceMount:r=t.forceMount,...i}=n,o=Zs(ul,n.__scopePopover);return p.createElement(Mt,{present:r||o.open},o.modal?p.createElement(uU,H({},i,{ref:e})):p.createElement(fU,H({},i,{ref:e})))}),uU=p.forwardRef((n,e)=>{const t=Zs(ul,n.__scopePopover),r=p.useRef(null),i=we(e,r),o=p.useRef(!1);return p.useEffect(()=>{const s=r.current;if(s)return vl(s)},[]),p.createElement(NE,{as:Sr,allowPinchZoom:!0},p.createElement(zE,H({},n,{ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(n.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=t.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:ne(n.onPointerDownOutside,s=>{const a=s.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,f=a.button===2||c;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:ne(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),fU=p.forwardRef((n,e)=>{const t=Zs(ul,n.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return p.createElement(zE,H({},n,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=n.onCloseAutoFocus)===null||s===void 0||s.call(n,o),!o.defaultPrevented){var a;r.current||(a=t.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=n.onInteractOutside)===null||s===void 0||s.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((a=t.triggerRef.current)===null||a===void 0?void 0:a.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),zE=p.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:h,...d}=n,m=Zs(ul,t),b=VE(t);return js(),p.createElement(Hs,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},p.createElement(Ro,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:f,onDismiss:()=>m.onOpenChange(!1)},p.createElement(gl,H({"data-state":jE(m.open),role:"dialog",id:m.contentId},b,d,{ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function jE(n){return n?"open":"closed"}const hU=oU,dU=lU,pU=cU,HE="Progress",ih=100,[mU,tZ]=Ct(HE),[gU,bU]=mU(HE),UE=p.forwardRef((n,e)=>{const{__scopeProgress:t,value:r,max:i,getValueLabel:o=yU,...s}=n,a=Km(i)?i:ih,c=qE(r,a)?r:null,f=vf(c)?o(c,a):void 0;return p.createElement(gU,{scope:t,value:c,max:a},p.createElement(me.div,H({"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":vf(c)?c:void 0,"aria-valuetext":f,role:"progressbar","data-state":KE(c,a),"data-value":c??void 0,"data-max":a},s,{ref:e})))});UE.propTypes={max(n,e,t){const r=n[e],i=String(r);return r&&!Km(r)?new Error(wU(i,t)):null},value(n,e,t){const r=n[e],i=String(r),o=Km(n.max)?n.max:ih;return r!=null&&!qE(r,o)?new Error(CU(i,t)):null}};const vU="ProgressIndicator",xU=p.forwardRef((n,e)=>{var t;const{__scopeProgress:r,...i}=n,o=bU(vU,r);return p.createElement(me.div,H({"data-state":KE(o.value,o.max),"data-value":(t=o.value)!==null&&t!==void 0?t:void 0,"data-max":o.max},i,{ref:e}))});function yU(n,e){return`${Math.round(n/e*100)}%`}function KE(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function vf(n){return typeof n=="number"}function Km(n){return vf(n)&&!isNaN(n)&&n>0}function qE(n,e){return vf(n)&&!isNaN(n)&&n<=e&&n>=0}function wU(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ih}\`.`}function CU(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ih} if no \`max\` prop is set)
  - \`null\` if the progress is indeterminate.

Defaulting to \`null\`.`}const $U=UE,SU=xU,GE="Radio",[kU,YE]=Ct(GE),[EU,AU]=kU(GE),RU=p.forwardRef((n,e)=>{const{__scopeRadio:t,name:r,checked:i=!1,required:o,disabled:s,value:a="on",onCheck:c,...f}=n,[h,d]=p.useState(null),m=we(e,v=>d(v)),b=p.useRef(!1),x=h?!!h.closest("form"):!0;return p.createElement(EU,{scope:t,checked:i,disabled:s},p.createElement(me.button,H({type:"button",role:"radio","aria-checked":i,"data-state":XE(i),"data-disabled":s?"":void 0,disabled:s,value:a},f,{ref:m,onClick:ne(n.onClick,v=>{i||c?.(),x&&(b.current=v.isPropagationStopped(),b.current||v.stopPropagation())})})),x&&p.createElement(PU,{control:h,bubbles:!b.current,name:r,value:a,checked:i,required:o,disabled:s,style:{transform:"translateX(-100%)"}}))}),TU="RadioIndicator",MU=p.forwardRef((n,e)=>{const{__scopeRadio:t,forceMount:r,...i}=n,o=AU(TU,t);return p.createElement(Mt,{present:r||o.checked},p.createElement(me.span,H({"data-state":XE(o.checked),"data-disabled":o.disabled?"":void 0},i,{ref:e})))}),PU=n=>{const{control:e,checked:t,bubbles:r=!0,...i}=n,o=p.useRef(null),s=Pf(t),a=Ef(e);return p.useEffect(()=>{const c=o.current,f=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==t&&d){const m=new Event("click",{bubbles:r});d.call(c,t),c.dispatchEvent(m)}},[s,t,r]),p.createElement("input",H({type:"radio","aria-hidden":!0,defaultChecked:t},i,{tabIndex:-1,ref:o,style:{...n.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function XE(n){return n?"checked":"unchecked"}const OU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ZE="RadioGroup",[DU,nZ]=Ct(ZE,[qs,YE]),QE=qs(),JE=YE(),[IU,_U]=DU(ZE),LU=p.forwardRef((n,e)=>{const{__scopeRadioGroup:t,name:r,defaultValue:i,value:o,required:s=!1,disabled:a=!1,orientation:c,dir:f,loop:h=!0,onValueChange:d,...m}=n,b=QE(t),x=To(f),[v,w]=Yt({prop:o,defaultProp:i,onChange:d});return p.createElement(IU,{scope:t,name:r,required:s,disabled:a,value:v,onValueChange:w},p.createElement(Yg,H({asChild:!0},b,{orientation:c,dir:x,loop:h}),p.createElement(me.div,H({role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":a?"":void 0,dir:x},m,{ref:e}))))}),NU="RadioGroupItem",BU=p.forwardRef((n,e)=>{const{__scopeRadioGroup:t,disabled:r,...i}=n,o=_U(NU,t),s=o.disabled||r,a=QE(t),c=JE(t),f=p.useRef(null),h=we(e,f),d=o.value===i.value,m=p.useRef(!1);return p.useEffect(()=>{const b=v=>{OU.includes(v.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",x)}},[]),p.createElement(Xg,H({asChild:!0},a,{focusable:!s,active:d}),p.createElement(RU,H({disabled:s,required:o.required,checked:d},c,i,{name:o.name,ref:h,onCheck:()=>o.onValueChange(i.value),onKeyDown:ne(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:ne(i.onFocus,()=>{var b;m.current&&((b=f.current)===null||b===void 0||b.click())})})))}),FU=p.forwardRef((n,e)=>{const{__scopeRadioGroup:t,...r}=n,i=JE(t);return p.createElement(MU,H({},i,r,{ref:e}))}),VU=LU,WU=BU,zU=FU,eA="Switch",[jU,rZ]=Ct(eA),[HU,UU]=jU(eA),KU=p.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:f,...h}=n,[d,m]=p.useState(null),b=we(e,S=>m(S)),x=p.useRef(!1),v=d?!!d.closest("form"):!0,[w=!1,$]=Yt({prop:i,defaultProp:o,onChange:f});return p.createElement(HU,{scope:t,checked:w,disabled:a},p.createElement(me.button,H({type:"button",role:"switch","aria-checked":w,"aria-required":s,"data-state":tA(w),"data-disabled":a?"":void 0,disabled:a,value:c},h,{ref:b,onClick:ne(n.onClick,S=>{$(E=>!E),v&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})})),v&&p.createElement(YU,{control:d,bubbles:!x.current,name:r,value:c,checked:w,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),qU="SwitchThumb",GU=p.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=UU(qU,t);return p.createElement(me.span,H({"data-state":tA(i.checked),"data-disabled":i.disabled?"":void 0},r,{ref:e}))}),YU=n=>{const{control:e,checked:t,bubbles:r=!0,...i}=n,o=p.useRef(null),s=Pf(t),a=Ef(e);return p.useEffect(()=>{const c=o.current,f=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==t&&d){const m=new Event("click",{bubbles:r});d.call(c,t),c.dispatchEvent(m)}},[s,t,r]),p.createElement("input",H({type:"checkbox","aria-hidden":!0,defaultChecked:t},i,{tabIndex:-1,ref:o,style:{...n.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function tA(n){return n?"checked":"unchecked"}const XU=KU,ZU=GU,nA="Tabs",[QU,iZ]=Ct(nA,[qs]),rA=qs(),[JU,_0]=QU(nA),eK=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:c="automatic",...f}=n,h=To(a),[d,m]=Yt({prop:r,onChange:i,defaultProp:o});return p.createElement(JU,{scope:t,baseId:mn(),value:d,onValueChange:m,orientation:s,dir:h,activationMode:c},p.createElement(me.div,H({dir:h,"data-orientation":s},f,{ref:e})))}),tK="TabsList",nK=p.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,o=_0(tK,t),s=rA(t);return p.createElement(Yg,H({asChild:!0},s,{orientation:o.orientation,dir:o.dir,loop:r}),p.createElement(me.div,H({role:"tablist","aria-orientation":o.orientation},i,{ref:e})))}),rK="TabsTrigger",iK=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...o}=n,s=_0(rK,t),a=rA(t),c=iA(s.baseId,r),f=oA(s.baseId,r),h=r===s.value;return p.createElement(Xg,H({asChild:!0},a,{focusable:!i,active:h}),p.createElement(me.button,H({type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c},o,{ref:e,onMouseDown:ne(n.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?s.onValueChange(r):d.preventDefault()}),onKeyDown:ne(n.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(r)}),onFocus:ne(n.onFocus,()=>{const d=s.activationMode!=="manual";!h&&!i&&d&&s.onValueChange(r)})})))}),oK="TabsContent",sK=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:o,...s}=n,a=_0(oK,t),c=iA(a.baseId,r),f=oA(a.baseId,r),h=r===a.value,d=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),p.createElement(Mt,{present:i||h},({present:m})=>p.createElement(me.div,H({"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:f,tabIndex:0},s,{ref:e,style:{...n.style,animationDuration:d.current?"0s":void 0}}),m&&o))});function iA(n,e){return`${n}-trigger-${e}`}function oA(n,e){return`${n}-content-${e}`}const aK=eK,lK=nK,cK=iK,uK=sK;var xf={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */xf.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",d=1,m=2,b=4,x=1,v=2,w=1,$=2,S=4,E=8,A=16,T=32,O=64,P=128,L=256,B=512,F=30,K="...",z=800,ee=16,Z=1,re=2,ue=3,Q=1/0,ie=9007199254740991,q=17976931348623157e292,le=NaN,he=4294967295,Oe=he-1,ve=he>>>1,Ue=[["ary",P],["bind",w],["bindKey",$],["curry",E],["curryRight",A],["flip",B],["partial",T],["partialRight",O],["rearg",L]],Ee="[object Arguments]",ze="[object Array]",de="[object AsyncFunction]",Ae="[object Boolean]",ke="[object Date]",_e="[object DOMException]",Le="[object Error]",te="[object Function]",at="[object GeneratorFunction]",Re="[object Map]",Ie="[object Number]",Lt="[object Null]",gt="[object Object]",Do="[object Promise]",ta="[object Proxy]",lr="[object RegExp]",Pt="[object Set]",ai="[object String]",li="[object Symbol]",Io="[object Undefined]",qi="[object WeakMap]",na="[object WeakSet]",Gi="[object ArrayBuffer]",ci="[object DataView]",Vl="[object Float32Array]",_o="[object Float64Array]",Wl="[object Int8Array]",zl="[object Int16Array]",ra="[object Int32Array]",Yi="[object Uint8Array]",Nt="[object Uint8ClampedArray]",fh="[object Uint16Array]",hh="[object Uint32Array]",QA=/\b__p \+= '';/g,JA=/\b(__p \+=) '' \+/g,eR=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q0=/&(?:amp|lt|gt|quot|#39);/g,G0=/[&<>"']/g,tR=RegExp(q0.source),nR=RegExp(G0.source),rR=/<%-([\s\S]+?)%>/g,iR=/<%([\s\S]+?)%>/g,Y0=/<%=([\s\S]+?)%>/g,oR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sR=/^\w*$/,aR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dh=/[\\^$.*+?()[\]{}|]/g,lR=RegExp(dh.source),ph=/^\s+/,cR=/\s/,uR=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fR=/\{\n\/\* \[wrapped with (.+)\] \*/,hR=/,? & /,dR=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pR=/[()=,{}\[\]\/\s]/,mR=/\\(\\)?/g,gR=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,X0=/\w*$/,bR=/^[-+]0x[0-9a-f]+$/i,vR=/^0b[01]+$/i,xR=/^\[object .+?Constructor\]$/,yR=/^0o[0-7]+$/i,wR=/^(?:0|[1-9]\d*)$/,CR=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jl=/($^)/,$R=/['\n\r\u2028\u2029\\]/g,Hl="\\ud800-\\udfff",SR="\\u0300-\\u036f",kR="\\ufe20-\\ufe2f",ER="\\u20d0-\\u20ff",Z0=SR+kR+ER,Q0="\\u2700-\\u27bf",J0="a-z\\xdf-\\xf6\\xf8-\\xff",AR="\\xac\\xb1\\xd7\\xf7",RR="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",TR="\\u2000-\\u206f",MR=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eb="A-Z\\xc0-\\xd6\\xd8-\\xde",tb="\\ufe0e\\ufe0f",nb=AR+RR+TR+MR,mh="['’]",PR="["+Hl+"]",rb="["+nb+"]",Ul="["+Z0+"]",ib="\\d+",OR="["+Q0+"]",ob="["+J0+"]",sb="[^"+Hl+nb+ib+Q0+J0+eb+"]",gh="\\ud83c[\\udffb-\\udfff]",DR="(?:"+Ul+"|"+gh+")",ab="[^"+Hl+"]",bh="(?:\\ud83c[\\udde6-\\uddff]){2}",vh="[\\ud800-\\udbff][\\udc00-\\udfff]",Lo="["+eb+"]",lb="\\u200d",cb="(?:"+ob+"|"+sb+")",IR="(?:"+Lo+"|"+sb+")",ub="(?:"+mh+"(?:d|ll|m|re|s|t|ve))?",fb="(?:"+mh+"(?:D|LL|M|RE|S|T|VE))?",hb=DR+"?",db="["+tb+"]?",_R="(?:"+lb+"(?:"+[ab,bh,vh].join("|")+")"+db+hb+")*",LR="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",NR="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pb=db+hb+_R,BR="(?:"+[OR,bh,vh].join("|")+")"+pb,FR="(?:"+[ab+Ul+"?",Ul,bh,vh,PR].join("|")+")",VR=RegExp(mh,"g"),WR=RegExp(Ul,"g"),xh=RegExp(gh+"(?="+gh+")|"+FR+pb,"g"),zR=RegExp([Lo+"?"+ob+"+"+ub+"(?="+[rb,Lo,"$"].join("|")+")",IR+"+"+fb+"(?="+[rb,Lo+cb,"$"].join("|")+")",Lo+"?"+cb+"+"+ub,Lo+"+"+fb,NR,LR,ib,BR].join("|"),"g"),jR=RegExp("["+lb+Hl+Z0+tb+"]"),HR=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,UR=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],KR=-1,lt={};lt[Vl]=lt[_o]=lt[Wl]=lt[zl]=lt[ra]=lt[Yi]=lt[Nt]=lt[fh]=lt[hh]=!0,lt[Ee]=lt[ze]=lt[Gi]=lt[Ae]=lt[ci]=lt[ke]=lt[Le]=lt[te]=lt[Re]=lt[Ie]=lt[gt]=lt[lr]=lt[Pt]=lt[ai]=lt[qi]=!1;var st={};st[Ee]=st[ze]=st[Gi]=st[ci]=st[Ae]=st[ke]=st[Vl]=st[_o]=st[Wl]=st[zl]=st[ra]=st[Re]=st[Ie]=st[gt]=st[lr]=st[Pt]=st[ai]=st[li]=st[Yi]=st[Nt]=st[fh]=st[hh]=!0,st[Le]=st[te]=st[qi]=!1;var qR={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},GR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YR={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},XR={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ZR=parseFloat,QR=parseInt,mb=typeof xa=="object"&&xa&&xa.Object===Object&&xa,JR=typeof self=="object"&&self&&self.Object===Object&&self,Bt=mb||JR||Function("return this")(),yh=e&&!e.nodeType&&e,Xi=yh&&!0&&n&&!n.nodeType&&n,gb=Xi&&Xi.exports===yh,wh=gb&&mb.process,Pn=function(){try{var _=Xi&&Xi.require&&Xi.require("util").types;return _||wh&&wh.binding&&wh.binding("util")}catch{}}(),bb=Pn&&Pn.isArrayBuffer,vb=Pn&&Pn.isDate,xb=Pn&&Pn.isMap,yb=Pn&&Pn.isRegExp,wb=Pn&&Pn.isSet,Cb=Pn&&Pn.isTypedArray;function vn(_,U,W){switch(W.length){case 0:return _.call(U);case 1:return _.call(U,W[0]);case 2:return _.call(U,W[0],W[1]);case 3:return _.call(U,W[0],W[1],W[2])}return _.apply(U,W)}function eT(_,U,W,pe){for(var Me=-1,Qe=_==null?0:_.length;++Me<Qe;){var Et=_[Me];U(pe,Et,W(Et),_)}return pe}function On(_,U){for(var W=-1,pe=_==null?0:_.length;++W<pe&&U(_[W],W,_)!==!1;);return _}function tT(_,U){for(var W=_==null?0:_.length;W--&&U(_[W],W,_)!==!1;);return _}function $b(_,U){for(var W=-1,pe=_==null?0:_.length;++W<pe;)if(!U(_[W],W,_))return!1;return!0}function ui(_,U){for(var W=-1,pe=_==null?0:_.length,Me=0,Qe=[];++W<pe;){var Et=_[W];U(Et,W,_)&&(Qe[Me++]=Et)}return Qe}function Kl(_,U){var W=_==null?0:_.length;return!!W&&No(_,U,0)>-1}function Ch(_,U,W){for(var pe=-1,Me=_==null?0:_.length;++pe<Me;)if(W(U,_[pe]))return!0;return!1}function ft(_,U){for(var W=-1,pe=_==null?0:_.length,Me=Array(pe);++W<pe;)Me[W]=U(_[W],W,_);return Me}function fi(_,U){for(var W=-1,pe=U.length,Me=_.length;++W<pe;)_[Me+W]=U[W];return _}function $h(_,U,W,pe){var Me=-1,Qe=_==null?0:_.length;for(pe&&Qe&&(W=_[++Me]);++Me<Qe;)W=U(W,_[Me],Me,_);return W}function nT(_,U,W,pe){var Me=_==null?0:_.length;for(pe&&Me&&(W=_[--Me]);Me--;)W=U(W,_[Me],Me,_);return W}function Sh(_,U){for(var W=-1,pe=_==null?0:_.length;++W<pe;)if(U(_[W],W,_))return!0;return!1}var rT=kh("length");function iT(_){return _.split("")}function oT(_){return _.match(dR)||[]}function Sb(_,U,W){var pe;return W(_,function(Me,Qe,Et){if(U(Me,Qe,Et))return pe=Qe,!1}),pe}function ql(_,U,W,pe){for(var Me=_.length,Qe=W+(pe?1:-1);pe?Qe--:++Qe<Me;)if(U(_[Qe],Qe,_))return Qe;return-1}function No(_,U,W){return U===U?bT(_,U,W):ql(_,kb,W)}function sT(_,U,W,pe){for(var Me=W-1,Qe=_.length;++Me<Qe;)if(pe(_[Me],U))return Me;return-1}function kb(_){return _!==_}function Eb(_,U){var W=_==null?0:_.length;return W?Ah(_,U)/W:le}function kh(_){return function(U){return U==null?t:U[_]}}function Eh(_){return function(U){return _==null?t:_[U]}}function Ab(_,U,W,pe,Me){return Me(_,function(Qe,Et,nt){W=pe?(pe=!1,Qe):U(W,Qe,Et,nt)}),W}function aT(_,U){var W=_.length;for(_.sort(U);W--;)_[W]=_[W].value;return _}function Ah(_,U){for(var W,pe=-1,Me=_.length;++pe<Me;){var Qe=U(_[pe]);Qe!==t&&(W=W===t?Qe:W+Qe)}return W}function Rh(_,U){for(var W=-1,pe=Array(_);++W<_;)pe[W]=U(W);return pe}function lT(_,U){return ft(U,function(W){return[W,_[W]]})}function Rb(_){return _&&_.slice(0,Ob(_)+1).replace(ph,"")}function xn(_){return function(U){return _(U)}}function Th(_,U){return ft(U,function(W){return _[W]})}function ia(_,U){return _.has(U)}function Tb(_,U){for(var W=-1,pe=_.length;++W<pe&&No(U,_[W],0)>-1;);return W}function Mb(_,U){for(var W=_.length;W--&&No(U,_[W],0)>-1;);return W}function cT(_,U){for(var W=_.length,pe=0;W--;)_[W]===U&&++pe;return pe}var uT=Eh(qR),fT=Eh(GR);function hT(_){return"\\"+XR[_]}function dT(_,U){return _==null?t:_[U]}function Bo(_){return jR.test(_)}function pT(_){return HR.test(_)}function mT(_){for(var U,W=[];!(U=_.next()).done;)W.push(U.value);return W}function Mh(_){var U=-1,W=Array(_.size);return _.forEach(function(pe,Me){W[++U]=[Me,pe]}),W}function Pb(_,U){return function(W){return _(U(W))}}function hi(_,U){for(var W=-1,pe=_.length,Me=0,Qe=[];++W<pe;){var Et=_[W];(Et===U||Et===h)&&(_[W]=h,Qe[Me++]=W)}return Qe}function Gl(_){var U=-1,W=Array(_.size);return _.forEach(function(pe){W[++U]=pe}),W}function gT(_){var U=-1,W=Array(_.size);return _.forEach(function(pe){W[++U]=[pe,pe]}),W}function bT(_,U,W){for(var pe=W-1,Me=_.length;++pe<Me;)if(_[pe]===U)return pe;return-1}function vT(_,U,W){for(var pe=W+1;pe--;)if(_[pe]===U)return pe;return pe}function Fo(_){return Bo(_)?yT(_):rT(_)}function Un(_){return Bo(_)?wT(_):iT(_)}function Ob(_){for(var U=_.length;U--&&cR.test(_.charAt(U)););return U}var xT=Eh(YR);function yT(_){for(var U=xh.lastIndex=0;xh.test(_);)++U;return U}function wT(_){return _.match(xh)||[]}function CT(_){return _.match(zR)||[]}var $T=function _(U){U=U==null?Bt:Vo.defaults(Bt.Object(),U,Vo.pick(Bt,UR));var W=U.Array,pe=U.Date,Me=U.Error,Qe=U.Function,Et=U.Math,nt=U.Object,Ph=U.RegExp,ST=U.String,Dn=U.TypeError,Yl=W.prototype,kT=Qe.prototype,Wo=nt.prototype,Xl=U["__core-js_shared__"],Zl=kT.toString,et=Wo.hasOwnProperty,ET=0,Db=function(){var l=/[^.]+$/.exec(Xl&&Xl.keys&&Xl.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Ql=Wo.toString,AT=Zl.call(nt),RT=Bt._,TT=Ph("^"+Zl.call(et).replace(dh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jl=gb?U.Buffer:t,di=U.Symbol,ec=U.Uint8Array,Ib=Jl?Jl.allocUnsafe:t,tc=Pb(nt.getPrototypeOf,nt),_b=nt.create,Lb=Wo.propertyIsEnumerable,nc=Yl.splice,Nb=di?di.isConcatSpreadable:t,oa=di?di.iterator:t,Zi=di?di.toStringTag:t,rc=function(){try{var l=no(nt,"defineProperty");return l({},"",{}),l}catch{}}(),MT=U.clearTimeout!==Bt.clearTimeout&&U.clearTimeout,PT=pe&&pe.now!==Bt.Date.now&&pe.now,OT=U.setTimeout!==Bt.setTimeout&&U.setTimeout,ic=Et.ceil,oc=Et.floor,Oh=nt.getOwnPropertySymbols,DT=Jl?Jl.isBuffer:t,Bb=U.isFinite,IT=Yl.join,_T=Pb(nt.keys,nt),At=Et.max,jt=Et.min,LT=pe.now,NT=U.parseInt,Fb=Et.random,BT=Yl.reverse,Dh=no(U,"DataView"),sa=no(U,"Map"),Ih=no(U,"Promise"),zo=no(U,"Set"),aa=no(U,"WeakMap"),la=no(nt,"create"),sc=aa&&new aa,jo={},FT=ro(Dh),VT=ro(sa),WT=ro(Ih),zT=ro(zo),jT=ro(aa),ac=di?di.prototype:t,ca=ac?ac.valueOf:t,Vb=ac?ac.toString:t;function R(l){if(mt(l)&&!De(l)&&!(l instanceof Ke)){if(l instanceof In)return l;if(et.call(l,"__wrapped__"))return Wv(l)}return new In(l)}var Ho=function(){function l(){}return function(u){if(!dt(u))return{};if(_b)return _b(u);l.prototype=u;var g=new l;return l.prototype=t,g}}();function lc(){}function In(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}R.templateSettings={escape:rR,evaluate:iR,interpolate:Y0,variable:"",imports:{_:R}},R.prototype=lc.prototype,R.prototype.constructor=R,In.prototype=Ho(lc.prototype),In.prototype.constructor=In;function Ke(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function HT(){var l=new Ke(this.__wrapped__);return l.__actions__=sn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=sn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=sn(this.__views__),l}function UT(){if(this.__filtered__){var l=new Ke(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function KT(){var l=this.__wrapped__.value(),u=this.__dir__,g=De(l),y=u<0,k=g?l.length:0,M=i3(0,k,this.__views__),D=M.start,I=M.end,N=I-D,G=y?I:D-1,Y=this.__iteratees__,J=Y.length,se=0,ge=jt(N,this.__takeCount__);if(!g||!y&&k==N&&ge==N)return uv(l,this.__actions__);var $e=[];e:for(;N--&&se<ge;){G+=u;for(var Fe=-1,Se=l[G];++Fe<J;){var He=Y[Fe],Ge=He.iteratee,Cn=He.type,en=Ge(Se);if(Cn==re)Se=en;else if(!en){if(Cn==Z)continue e;break e}}$e[se++]=Se}return $e}Ke.prototype=Ho(lc.prototype),Ke.prototype.constructor=Ke;function Qi(l){var u=-1,g=l==null?0:l.length;for(this.clear();++u<g;){var y=l[u];this.set(y[0],y[1])}}function qT(){this.__data__=la?la(null):{},this.size=0}function GT(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}function YT(l){var u=this.__data__;if(la){var g=u[l];return g===c?t:g}return et.call(u,l)?u[l]:t}function XT(l){var u=this.__data__;return la?u[l]!==t:et.call(u,l)}function ZT(l,u){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=la&&u===t?c:u,this}Qi.prototype.clear=qT,Qi.prototype.delete=GT,Qi.prototype.get=YT,Qi.prototype.has=XT,Qi.prototype.set=ZT;function Ir(l){var u=-1,g=l==null?0:l.length;for(this.clear();++u<g;){var y=l[u];this.set(y[0],y[1])}}function QT(){this.__data__=[],this.size=0}function JT(l){var u=this.__data__,g=cc(u,l);if(g<0)return!1;var y=u.length-1;return g==y?u.pop():nc.call(u,g,1),--this.size,!0}function eM(l){var u=this.__data__,g=cc(u,l);return g<0?t:u[g][1]}function tM(l){return cc(this.__data__,l)>-1}function nM(l,u){var g=this.__data__,y=cc(g,l);return y<0?(++this.size,g.push([l,u])):g[y][1]=u,this}Ir.prototype.clear=QT,Ir.prototype.delete=JT,Ir.prototype.get=eM,Ir.prototype.has=tM,Ir.prototype.set=nM;function _r(l){var u=-1,g=l==null?0:l.length;for(this.clear();++u<g;){var y=l[u];this.set(y[0],y[1])}}function rM(){this.size=0,this.__data__={hash:new Qi,map:new(sa||Ir),string:new Qi}}function iM(l){var u=wc(this,l).delete(l);return this.size-=u?1:0,u}function oM(l){return wc(this,l).get(l)}function sM(l){return wc(this,l).has(l)}function aM(l,u){var g=wc(this,l),y=g.size;return g.set(l,u),this.size+=g.size==y?0:1,this}_r.prototype.clear=rM,_r.prototype.delete=iM,_r.prototype.get=oM,_r.prototype.has=sM,_r.prototype.set=aM;function Ji(l){var u=-1,g=l==null?0:l.length;for(this.__data__=new _r;++u<g;)this.add(l[u])}function lM(l){return this.__data__.set(l,c),this}function cM(l){return this.__data__.has(l)}Ji.prototype.add=Ji.prototype.push=lM,Ji.prototype.has=cM;function Kn(l){var u=this.__data__=new Ir(l);this.size=u.size}function uM(){this.__data__=new Ir,this.size=0}function fM(l){var u=this.__data__,g=u.delete(l);return this.size=u.size,g}function hM(l){return this.__data__.get(l)}function dM(l){return this.__data__.has(l)}function pM(l,u){var g=this.__data__;if(g instanceof Ir){var y=g.__data__;if(!sa||y.length<i-1)return y.push([l,u]),this.size=++g.size,this;g=this.__data__=new _r(y)}return g.set(l,u),this.size=g.size,this}Kn.prototype.clear=uM,Kn.prototype.delete=fM,Kn.prototype.get=hM,Kn.prototype.has=dM,Kn.prototype.set=pM;function Wb(l,u){var g=De(l),y=!g&&io(l),k=!g&&!y&&vi(l),M=!g&&!y&&!k&&Go(l),D=g||y||k||M,I=D?Rh(l.length,ST):[],N=I.length;for(var G in l)(u||et.call(l,G))&&!(D&&(G=="length"||k&&(G=="offset"||G=="parent")||M&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||Fr(G,N)))&&I.push(G);return I}function zb(l){var u=l.length;return u?l[Uh(0,u-1)]:t}function mM(l,u){return Cc(sn(l),eo(u,0,l.length))}function gM(l){return Cc(sn(l))}function _h(l,u,g){(g!==t&&!qn(l[u],g)||g===t&&!(u in l))&&Lr(l,u,g)}function ua(l,u,g){var y=l[u];(!(et.call(l,u)&&qn(y,g))||g===t&&!(u in l))&&Lr(l,u,g)}function cc(l,u){for(var g=l.length;g--;)if(qn(l[g][0],u))return g;return-1}function bM(l,u,g,y){return pi(l,function(k,M,D){u(y,k,g(k),D)}),y}function jb(l,u){return l&&ur(u,Ot(u),l)}function vM(l,u){return l&&ur(u,ln(u),l)}function Lr(l,u,g){u=="__proto__"&&rc?rc(l,u,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[u]=g}function Lh(l,u){for(var g=-1,y=u.length,k=W(y),M=l==null;++g<y;)k[g]=M?t:gd(l,u[g]);return k}function eo(l,u,g){return l===l&&(g!==t&&(l=l<=g?l:g),u!==t&&(l=l>=u?l:u)),l}function _n(l,u,g,y,k,M){var D,I=u&d,N=u&m,G=u&b;if(g&&(D=k?g(l,y,k,M):g(l)),D!==t)return D;if(!dt(l))return l;var Y=De(l);if(Y){if(D=s3(l),!I)return sn(l,D)}else{var J=Ht(l),se=J==te||J==at;if(vi(l))return dv(l,I);if(J==gt||J==Ee||se&&!k){if(D=N||se?{}:Ov(l),!I)return N?YM(l,vM(D,l)):GM(l,jb(D,l))}else{if(!st[J])return k?l:{};D=a3(l,J,I)}}M||(M=new Kn);var ge=M.get(l);if(ge)return ge;M.set(l,D),a1(l)?l.forEach(function(Se){D.add(_n(Se,u,g,Se,l,M))}):o1(l)&&l.forEach(function(Se,He){D.set(He,_n(Se,u,g,He,l,M))});var $e=G?N?nd:td:N?ln:Ot,Fe=Y?t:$e(l);return On(Fe||l,function(Se,He){Fe&&(He=Se,Se=l[He]),ua(D,He,_n(Se,u,g,He,l,M))}),D}function xM(l){var u=Ot(l);return function(g){return Hb(g,l,u)}}function Hb(l,u,g){var y=g.length;if(l==null)return!y;for(l=nt(l);y--;){var k=g[y],M=u[k],D=l[k];if(D===t&&!(k in l)||!M(D))return!1}return!0}function Ub(l,u,g){if(typeof l!="function")throw new Dn(s);return ba(function(){l.apply(t,g)},u)}function fa(l,u,g,y){var k=-1,M=Kl,D=!0,I=l.length,N=[],G=u.length;if(!I)return N;g&&(u=ft(u,xn(g))),y?(M=Ch,D=!1):u.length>=i&&(M=ia,D=!1,u=new Ji(u));e:for(;++k<I;){var Y=l[k],J=g==null?Y:g(Y);if(Y=y||Y!==0?Y:0,D&&J===J){for(var se=G;se--;)if(u[se]===J)continue e;N.push(Y)}else M(u,J,y)||N.push(Y)}return N}var pi=vv(cr),Kb=vv(Bh,!0);function yM(l,u){var g=!0;return pi(l,function(y,k,M){return g=!!u(y,k,M),g}),g}function uc(l,u,g){for(var y=-1,k=l.length;++y<k;){var M=l[y],D=u(M);if(D!=null&&(I===t?D===D&&!wn(D):g(D,I)))var I=D,N=M}return N}function wM(l,u,g,y){var k=l.length;for(g=Ne(g),g<0&&(g=-g>k?0:k+g),y=y===t||y>k?k:Ne(y),y<0&&(y+=k),y=g>y?0:c1(y);g<y;)l[g++]=u;return l}function qb(l,u){var g=[];return pi(l,function(y,k,M){u(y,k,M)&&g.push(y)}),g}function Ft(l,u,g,y,k){var M=-1,D=l.length;for(g||(g=c3),k||(k=[]);++M<D;){var I=l[M];u>0&&g(I)?u>1?Ft(I,u-1,g,y,k):fi(k,I):y||(k[k.length]=I)}return k}var Nh=xv(),Gb=xv(!0);function cr(l,u){return l&&Nh(l,u,Ot)}function Bh(l,u){return l&&Gb(l,u,Ot)}function fc(l,u){return ui(u,function(g){return Vr(l[g])})}function to(l,u){u=gi(u,l);for(var g=0,y=u.length;l!=null&&g<y;)l=l[fr(u[g++])];return g&&g==y?l:t}function Yb(l,u,g){var y=u(l);return De(l)?y:fi(y,g(l))}function Qt(l){return l==null?l===t?Io:Lt:Zi&&Zi in nt(l)?r3(l):g3(l)}function Fh(l,u){return l>u}function CM(l,u){return l!=null&&et.call(l,u)}function $M(l,u){return l!=null&&u in nt(l)}function SM(l,u,g){return l>=jt(u,g)&&l<At(u,g)}function Vh(l,u,g){for(var y=g?Ch:Kl,k=l[0].length,M=l.length,D=M,I=W(M),N=1/0,G=[];D--;){var Y=l[D];D&&u&&(Y=ft(Y,xn(u))),N=jt(Y.length,N),I[D]=!g&&(u||k>=120&&Y.length>=120)?new Ji(D&&Y):t}Y=l[0];var J=-1,se=I[0];e:for(;++J<k&&G.length<N;){var ge=Y[J],$e=u?u(ge):ge;if(ge=g||ge!==0?ge:0,!(se?ia(se,$e):y(G,$e,g))){for(D=M;--D;){var Fe=I[D];if(!(Fe?ia(Fe,$e):y(l[D],$e,g)))continue e}se&&se.push($e),G.push(ge)}}return G}function kM(l,u,g,y){return cr(l,function(k,M,D){u(y,g(k),M,D)}),y}function ha(l,u,g){u=gi(u,l),l=Lv(l,u);var y=l==null?l:l[fr(Nn(u))];return y==null?t:vn(y,l,g)}function Xb(l){return mt(l)&&Qt(l)==Ee}function EM(l){return mt(l)&&Qt(l)==Gi}function AM(l){return mt(l)&&Qt(l)==ke}function da(l,u,g,y,k){return l===u?!0:l==null||u==null||!mt(l)&&!mt(u)?l!==l&&u!==u:RM(l,u,g,y,da,k)}function RM(l,u,g,y,k,M){var D=De(l),I=De(u),N=D?ze:Ht(l),G=I?ze:Ht(u);N=N==Ee?gt:N,G=G==Ee?gt:G;var Y=N==gt,J=G==gt,se=N==G;if(se&&vi(l)){if(!vi(u))return!1;D=!0,Y=!1}if(se&&!Y)return M||(M=new Kn),D||Go(l)?Tv(l,u,g,y,k,M):t3(l,u,N,g,y,k,M);if(!(g&x)){var ge=Y&&et.call(l,"__wrapped__"),$e=J&&et.call(u,"__wrapped__");if(ge||$e){var Fe=ge?l.value():l,Se=$e?u.value():u;return M||(M=new Kn),k(Fe,Se,g,y,M)}}return se?(M||(M=new Kn),n3(l,u,g,y,k,M)):!1}function TM(l){return mt(l)&&Ht(l)==Re}function Wh(l,u,g,y){var k=g.length,M=k,D=!y;if(l==null)return!M;for(l=nt(l);k--;){var I=g[k];if(D&&I[2]?I[1]!==l[I[0]]:!(I[0]in l))return!1}for(;++k<M;){I=g[k];var N=I[0],G=l[N],Y=I[1];if(D&&I[2]){if(G===t&&!(N in l))return!1}else{var J=new Kn;if(y)var se=y(G,Y,N,l,u,J);if(!(se===t?da(Y,G,x|v,y,J):se))return!1}}return!0}function Zb(l){if(!dt(l)||f3(l))return!1;var u=Vr(l)?TT:xR;return u.test(ro(l))}function MM(l){return mt(l)&&Qt(l)==lr}function PM(l){return mt(l)&&Ht(l)==Pt}function OM(l){return mt(l)&&Rc(l.length)&&!!lt[Qt(l)]}function Qb(l){return typeof l=="function"?l:l==null?cn:typeof l=="object"?De(l)?tv(l[0],l[1]):ev(l):y1(l)}function zh(l){if(!ga(l))return _T(l);var u=[];for(var g in nt(l))et.call(l,g)&&g!="constructor"&&u.push(g);return u}function DM(l){if(!dt(l))return m3(l);var u=ga(l),g=[];for(var y in l)y=="constructor"&&(u||!et.call(l,y))||g.push(y);return g}function jh(l,u){return l<u}function Jb(l,u){var g=-1,y=an(l)?W(l.length):[];return pi(l,function(k,M,D){y[++g]=u(k,M,D)}),y}function ev(l){var u=id(l);return u.length==1&&u[0][2]?Iv(u[0][0],u[0][1]):function(g){return g===l||Wh(g,l,u)}}function tv(l,u){return sd(l)&&Dv(u)?Iv(fr(l),u):function(g){var y=gd(g,l);return y===t&&y===u?bd(g,l):da(u,y,x|v)}}function hc(l,u,g,y,k){l!==u&&Nh(u,function(M,D){if(k||(k=new Kn),dt(M))IM(l,u,D,g,hc,y,k);else{var I=y?y(ld(l,D),M,D+"",l,u,k):t;I===t&&(I=M),_h(l,D,I)}},ln)}function IM(l,u,g,y,k,M,D){var I=ld(l,g),N=ld(u,g),G=D.get(N);if(G){_h(l,g,G);return}var Y=M?M(I,N,g+"",l,u,D):t,J=Y===t;if(J){var se=De(N),ge=!se&&vi(N),$e=!se&&!ge&&Go(N);Y=N,se||ge||$e?De(I)?Y=I:bt(I)?Y=sn(I):ge?(J=!1,Y=dv(N,!0)):$e?(J=!1,Y=pv(N,!0)):Y=[]:va(N)||io(N)?(Y=I,io(I)?Y=u1(I):(!dt(I)||Vr(I))&&(Y=Ov(N))):J=!1}J&&(D.set(N,Y),k(Y,N,y,M,D),D.delete(N)),_h(l,g,Y)}function nv(l,u){var g=l.length;if(g)return u+=u<0?g:0,Fr(u,g)?l[u]:t}function rv(l,u,g){u.length?u=ft(u,function(M){return De(M)?function(D){return to(D,M.length===1?M[0]:M)}:M}):u=[cn];var y=-1;u=ft(u,xn(Ce()));var k=Jb(l,function(M,D,I){var N=ft(u,function(G){return G(M)});return{criteria:N,index:++y,value:M}});return aT(k,function(M,D){return qM(M,D,g)})}function _M(l,u){return iv(l,u,function(g,y){return bd(l,y)})}function iv(l,u,g){for(var y=-1,k=u.length,M={};++y<k;){var D=u[y],I=to(l,D);g(I,D)&&pa(M,gi(D,l),I)}return M}function LM(l){return function(u){return to(u,l)}}function Hh(l,u,g,y){var k=y?sT:No,M=-1,D=u.length,I=l;for(l===u&&(u=sn(u)),g&&(I=ft(l,xn(g)));++M<D;)for(var N=0,G=u[M],Y=g?g(G):G;(N=k(I,Y,N,y))>-1;)I!==l&&nc.call(I,N,1),nc.call(l,N,1);return l}function ov(l,u){for(var g=l?u.length:0,y=g-1;g--;){var k=u[g];if(g==y||k!==M){var M=k;Fr(k)?nc.call(l,k,1):Gh(l,k)}}return l}function Uh(l,u){return l+oc(Fb()*(u-l+1))}function NM(l,u,g,y){for(var k=-1,M=At(ic((u-l)/(g||1)),0),D=W(M);M--;)D[y?M:++k]=l,l+=g;return D}function Kh(l,u){var g="";if(!l||u<1||u>ie)return g;do u%2&&(g+=l),u=oc(u/2),u&&(l+=l);while(u);return g}function We(l,u){return cd(_v(l,u,cn),l+"")}function BM(l){return zb(Yo(l))}function FM(l,u){var g=Yo(l);return Cc(g,eo(u,0,g.length))}function pa(l,u,g,y){if(!dt(l))return l;u=gi(u,l);for(var k=-1,M=u.length,D=M-1,I=l;I!=null&&++k<M;){var N=fr(u[k]),G=g;if(N==="__proto__"||N==="constructor"||N==="prototype")return l;if(k!=D){var Y=I[N];G=y?y(Y,N,I):t,G===t&&(G=dt(Y)?Y:Fr(u[k+1])?[]:{})}ua(I,N,G),I=I[N]}return l}var sv=sc?function(l,u){return sc.set(l,u),l}:cn,VM=rc?function(l,u){return rc(l,"toString",{configurable:!0,enumerable:!1,value:xd(u),writable:!0})}:cn;function WM(l){return Cc(Yo(l))}function Ln(l,u,g){var y=-1,k=l.length;u<0&&(u=-u>k?0:k+u),g=g>k?k:g,g<0&&(g+=k),k=u>g?0:g-u>>>0,u>>>=0;for(var M=W(k);++y<k;)M[y]=l[y+u];return M}function zM(l,u){var g;return pi(l,function(y,k,M){return g=u(y,k,M),!g}),!!g}function dc(l,u,g){var y=0,k=l==null?y:l.length;if(typeof u=="number"&&u===u&&k<=ve){for(;y<k;){var M=y+k>>>1,D=l[M];D!==null&&!wn(D)&&(g?D<=u:D<u)?y=M+1:k=M}return k}return qh(l,u,cn,g)}function qh(l,u,g,y){var k=0,M=l==null?0:l.length;if(M===0)return 0;u=g(u);for(var D=u!==u,I=u===null,N=wn(u),G=u===t;k<M;){var Y=oc((k+M)/2),J=g(l[Y]),se=J!==t,ge=J===null,$e=J===J,Fe=wn(J);if(D)var Se=y||$e;else G?Se=$e&&(y||se):I?Se=$e&&se&&(y||!ge):N?Se=$e&&se&&!ge&&(y||!Fe):ge||Fe?Se=!1:Se=y?J<=u:J<u;Se?k=Y+1:M=Y}return jt(M,Oe)}function av(l,u){for(var g=-1,y=l.length,k=0,M=[];++g<y;){var D=l[g],I=u?u(D):D;if(!g||!qn(I,N)){var N=I;M[k++]=D===0?0:D}}return M}function lv(l){return typeof l=="number"?l:wn(l)?le:+l}function yn(l){if(typeof l=="string")return l;if(De(l))return ft(l,yn)+"";if(wn(l))return Vb?Vb.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}function mi(l,u,g){var y=-1,k=Kl,M=l.length,D=!0,I=[],N=I;if(g)D=!1,k=Ch;else if(M>=i){var G=u?null:JM(l);if(G)return Gl(G);D=!1,k=ia,N=new Ji}else N=u?[]:I;e:for(;++y<M;){var Y=l[y],J=u?u(Y):Y;if(Y=g||Y!==0?Y:0,D&&J===J){for(var se=N.length;se--;)if(N[se]===J)continue e;u&&N.push(J),I.push(Y)}else k(N,J,g)||(N!==I&&N.push(J),I.push(Y))}return I}function Gh(l,u){return u=gi(u,l),l=Lv(l,u),l==null||delete l[fr(Nn(u))]}function cv(l,u,g,y){return pa(l,u,g(to(l,u)),y)}function pc(l,u,g,y){for(var k=l.length,M=y?k:-1;(y?M--:++M<k)&&u(l[M],M,l););return g?Ln(l,y?0:M,y?M+1:k):Ln(l,y?M+1:0,y?k:M)}function uv(l,u){var g=l;return g instanceof Ke&&(g=g.value()),$h(u,function(y,k){return k.func.apply(k.thisArg,fi([y],k.args))},g)}function Yh(l,u,g){var y=l.length;if(y<2)return y?mi(l[0]):[];for(var k=-1,M=W(y);++k<y;)for(var D=l[k],I=-1;++I<y;)I!=k&&(M[k]=fa(M[k]||D,l[I],u,g));return mi(Ft(M,1),u,g)}function fv(l,u,g){for(var y=-1,k=l.length,M=u.length,D={};++y<k;){var I=y<M?u[y]:t;g(D,l[y],I)}return D}function Xh(l){return bt(l)?l:[]}function Zh(l){return typeof l=="function"?l:cn}function gi(l,u){return De(l)?l:sd(l,u)?[l]:Vv(Je(l))}var jM=We;function bi(l,u,g){var y=l.length;return g=g===t?y:g,!u&&g>=y?l:Ln(l,u,g)}var hv=MT||function(l){return Bt.clearTimeout(l)};function dv(l,u){if(u)return l.slice();var g=l.length,y=Ib?Ib(g):new l.constructor(g);return l.copy(y),y}function Qh(l){var u=new l.constructor(l.byteLength);return new ec(u).set(new ec(l)),u}function HM(l,u){var g=u?Qh(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function UM(l){var u=new l.constructor(l.source,X0.exec(l));return u.lastIndex=l.lastIndex,u}function KM(l){return ca?nt(ca.call(l)):{}}function pv(l,u){var g=u?Qh(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function mv(l,u){if(l!==u){var g=l!==t,y=l===null,k=l===l,M=wn(l),D=u!==t,I=u===null,N=u===u,G=wn(u);if(!I&&!G&&!M&&l>u||M&&D&&N&&!I&&!G||y&&D&&N||!g&&N||!k)return 1;if(!y&&!M&&!G&&l<u||G&&g&&k&&!y&&!M||I&&g&&k||!D&&k||!N)return-1}return 0}function qM(l,u,g){for(var y=-1,k=l.criteria,M=u.criteria,D=k.length,I=g.length;++y<D;){var N=mv(k[y],M[y]);if(N){if(y>=I)return N;var G=g[y];return N*(G=="desc"?-1:1)}}return l.index-u.index}function gv(l,u,g,y){for(var k=-1,M=l.length,D=g.length,I=-1,N=u.length,G=At(M-D,0),Y=W(N+G),J=!y;++I<N;)Y[I]=u[I];for(;++k<D;)(J||k<M)&&(Y[g[k]]=l[k]);for(;G--;)Y[I++]=l[k++];return Y}function bv(l,u,g,y){for(var k=-1,M=l.length,D=-1,I=g.length,N=-1,G=u.length,Y=At(M-I,0),J=W(Y+G),se=!y;++k<Y;)J[k]=l[k];for(var ge=k;++N<G;)J[ge+N]=u[N];for(;++D<I;)(se||k<M)&&(J[ge+g[D]]=l[k++]);return J}function sn(l,u){var g=-1,y=l.length;for(u||(u=W(y));++g<y;)u[g]=l[g];return u}function ur(l,u,g,y){var k=!g;g||(g={});for(var M=-1,D=u.length;++M<D;){var I=u[M],N=y?y(g[I],l[I],I,g,l):t;N===t&&(N=l[I]),k?Lr(g,I,N):ua(g,I,N)}return g}function GM(l,u){return ur(l,od(l),u)}function YM(l,u){return ur(l,Mv(l),u)}function mc(l,u){return function(g,y){var k=De(g)?eT:bM,M=u?u():{};return k(g,l,Ce(y,2),M)}}function Uo(l){return We(function(u,g){var y=-1,k=g.length,M=k>1?g[k-1]:t,D=k>2?g[2]:t;for(M=l.length>3&&typeof M=="function"?(k--,M):t,D&&Jt(g[0],g[1],D)&&(M=k<3?t:M,k=1),u=nt(u);++y<k;){var I=g[y];I&&l(u,I,y,M)}return u})}function vv(l,u){return function(g,y){if(g==null)return g;if(!an(g))return l(g,y);for(var k=g.length,M=u?k:-1,D=nt(g);(u?M--:++M<k)&&y(D[M],M,D)!==!1;);return g}}function xv(l){return function(u,g,y){for(var k=-1,M=nt(u),D=y(u),I=D.length;I--;){var N=D[l?I:++k];if(g(M[N],N,M)===!1)break}return u}}function XM(l,u,g){var y=u&w,k=ma(l);function M(){var D=this&&this!==Bt&&this instanceof M?k:l;return D.apply(y?g:this,arguments)}return M}function yv(l){return function(u){u=Je(u);var g=Bo(u)?Un(u):t,y=g?g[0]:u.charAt(0),k=g?bi(g,1).join(""):u.slice(1);return y[l]()+k}}function Ko(l){return function(u){return $h(v1(b1(u).replace(VR,"")),l,"")}}function ma(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var g=Ho(l.prototype),y=l.apply(g,u);return dt(y)?y:g}}function ZM(l,u,g){var y=ma(l);function k(){for(var M=arguments.length,D=W(M),I=M,N=qo(k);I--;)D[I]=arguments[I];var G=M<3&&D[0]!==N&&D[M-1]!==N?[]:hi(D,N);if(M-=G.length,M<g)return kv(l,u,gc,k.placeholder,t,D,G,t,t,g-M);var Y=this&&this!==Bt&&this instanceof k?y:l;return vn(Y,this,D)}return k}function wv(l){return function(u,g,y){var k=nt(u);if(!an(u)){var M=Ce(g,3);u=Ot(u),g=function(I){return M(k[I],I,k)}}var D=l(u,g,y);return D>-1?k[M?u[D]:D]:t}}function Cv(l){return Br(function(u){var g=u.length,y=g,k=In.prototype.thru;for(l&&u.reverse();y--;){var M=u[y];if(typeof M!="function")throw new Dn(s);if(k&&!D&&yc(M)=="wrapper")var D=new In([],!0)}for(y=D?y:g;++y<g;){M=u[y];var I=yc(M),N=I=="wrapper"?rd(M):t;N&&ad(N[0])&&N[1]==(P|E|T|L)&&!N[4].length&&N[9]==1?D=D[yc(N[0])].apply(D,N[3]):D=M.length==1&&ad(M)?D[I]():D.thru(M)}return function(){var G=arguments,Y=G[0];if(D&&G.length==1&&De(Y))return D.plant(Y).value();for(var J=0,se=g?u[J].apply(this,G):Y;++J<g;)se=u[J].call(this,se);return se}})}function gc(l,u,g,y,k,M,D,I,N,G){var Y=u&P,J=u&w,se=u&$,ge=u&(E|A),$e=u&B,Fe=se?t:ma(l);function Se(){for(var He=arguments.length,Ge=W(He),Cn=He;Cn--;)Ge[Cn]=arguments[Cn];if(ge)var en=qo(Se),$n=cT(Ge,en);if(y&&(Ge=gv(Ge,y,k,ge)),M&&(Ge=bv(Ge,M,D,ge)),He-=$n,ge&&He<G){var vt=hi(Ge,en);return kv(l,u,gc,Se.placeholder,g,Ge,vt,I,N,G-He)}var Gn=J?g:this,zr=se?Gn[l]:l;return He=Ge.length,I?Ge=b3(Ge,I):$e&&He>1&&Ge.reverse(),Y&&N<He&&(Ge.length=N),this&&this!==Bt&&this instanceof Se&&(zr=Fe||ma(zr)),zr.apply(Gn,Ge)}return Se}function $v(l,u){return function(g,y){return kM(g,l,u(y),{})}}function bc(l,u){return function(g,y){var k;if(g===t&&y===t)return u;if(g!==t&&(k=g),y!==t){if(k===t)return y;typeof g=="string"||typeof y=="string"?(g=yn(g),y=yn(y)):(g=lv(g),y=lv(y)),k=l(g,y)}return k}}function Jh(l){return Br(function(u){return u=ft(u,xn(Ce())),We(function(g){var y=this;return l(u,function(k){return vn(k,y,g)})})})}function vc(l,u){u=u===t?" ":yn(u);var g=u.length;if(g<2)return g?Kh(u,l):u;var y=Kh(u,ic(l/Fo(u)));return Bo(u)?bi(Un(y),0,l).join(""):y.slice(0,l)}function QM(l,u,g,y){var k=u&w,M=ma(l);function D(){for(var I=-1,N=arguments.length,G=-1,Y=y.length,J=W(Y+N),se=this&&this!==Bt&&this instanceof D?M:l;++G<Y;)J[G]=y[G];for(;N--;)J[G++]=arguments[++I];return vn(se,k?g:this,J)}return D}function Sv(l){return function(u,g,y){return y&&typeof y!="number"&&Jt(u,g,y)&&(g=y=t),u=Wr(u),g===t?(g=u,u=0):g=Wr(g),y=y===t?u<g?1:-1:Wr(y),NM(u,g,y,l)}}function xc(l){return function(u,g){return typeof u=="string"&&typeof g=="string"||(u=Bn(u),g=Bn(g)),l(u,g)}}function kv(l,u,g,y,k,M,D,I,N,G){var Y=u&E,J=Y?D:t,se=Y?t:D,ge=Y?M:t,$e=Y?t:M;u|=Y?T:O,u&=~(Y?O:T),u&S||(u&=-4);var Fe=[l,u,k,ge,J,$e,se,I,N,G],Se=g.apply(t,Fe);return ad(l)&&Nv(Se,Fe),Se.placeholder=y,Bv(Se,l,u)}function ed(l){var u=Et[l];return function(g,y){if(g=Bn(g),y=y==null?0:jt(Ne(y),292),y&&Bb(g)){var k=(Je(g)+"e").split("e"),M=u(k[0]+"e"+(+k[1]+y));return k=(Je(M)+"e").split("e"),+(k[0]+"e"+(+k[1]-y))}return u(g)}}var JM=zo&&1/Gl(new zo([,-0]))[1]==Q?function(l){return new zo(l)}:Cd;function Ev(l){return function(u){var g=Ht(u);return g==Re?Mh(u):g==Pt?gT(u):lT(u,l(u))}}function Nr(l,u,g,y,k,M,D,I){var N=u&$;if(!N&&typeof l!="function")throw new Dn(s);var G=y?y.length:0;if(G||(u&=-97,y=k=t),D=D===t?D:At(Ne(D),0),I=I===t?I:Ne(I),G-=k?k.length:0,u&O){var Y=y,J=k;y=k=t}var se=N?t:rd(l),ge=[l,u,g,y,k,Y,J,M,D,I];if(se&&p3(ge,se),l=ge[0],u=ge[1],g=ge[2],y=ge[3],k=ge[4],I=ge[9]=ge[9]===t?N?0:l.length:At(ge[9]-G,0),!I&&u&(E|A)&&(u&=-25),!u||u==w)var $e=XM(l,u,g);else u==E||u==A?$e=ZM(l,u,I):(u==T||u==(w|T))&&!k.length?$e=QM(l,u,g,y):$e=gc.apply(t,ge);var Fe=se?sv:Nv;return Bv(Fe($e,ge),l,u)}function Av(l,u,g,y){return l===t||qn(l,Wo[g])&&!et.call(y,g)?u:l}function Rv(l,u,g,y,k,M){return dt(l)&&dt(u)&&(M.set(u,l),hc(l,u,t,Rv,M),M.delete(u)),l}function e3(l){return va(l)?t:l}function Tv(l,u,g,y,k,M){var D=g&x,I=l.length,N=u.length;if(I!=N&&!(D&&N>I))return!1;var G=M.get(l),Y=M.get(u);if(G&&Y)return G==u&&Y==l;var J=-1,se=!0,ge=g&v?new Ji:t;for(M.set(l,u),M.set(u,l);++J<I;){var $e=l[J],Fe=u[J];if(y)var Se=D?y(Fe,$e,J,u,l,M):y($e,Fe,J,l,u,M);if(Se!==t){if(Se)continue;se=!1;break}if(ge){if(!Sh(u,function(He,Ge){if(!ia(ge,Ge)&&($e===He||k($e,He,g,y,M)))return ge.push(Ge)})){se=!1;break}}else if(!($e===Fe||k($e,Fe,g,y,M))){se=!1;break}}return M.delete(l),M.delete(u),se}function t3(l,u,g,y,k,M,D){switch(g){case ci:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case Gi:return!(l.byteLength!=u.byteLength||!M(new ec(l),new ec(u)));case Ae:case ke:case Ie:return qn(+l,+u);case Le:return l.name==u.name&&l.message==u.message;case lr:case ai:return l==u+"";case Re:var I=Mh;case Pt:var N=y&x;if(I||(I=Gl),l.size!=u.size&&!N)return!1;var G=D.get(l);if(G)return G==u;y|=v,D.set(l,u);var Y=Tv(I(l),I(u),y,k,M,D);return D.delete(l),Y;case li:if(ca)return ca.call(l)==ca.call(u)}return!1}function n3(l,u,g,y,k,M){var D=g&x,I=td(l),N=I.length,G=td(u),Y=G.length;if(N!=Y&&!D)return!1;for(var J=N;J--;){var se=I[J];if(!(D?se in u:et.call(u,se)))return!1}var ge=M.get(l),$e=M.get(u);if(ge&&$e)return ge==u&&$e==l;var Fe=!0;M.set(l,u),M.set(u,l);for(var Se=D;++J<N;){se=I[J];var He=l[se],Ge=u[se];if(y)var Cn=D?y(Ge,He,se,u,l,M):y(He,Ge,se,l,u,M);if(!(Cn===t?He===Ge||k(He,Ge,g,y,M):Cn)){Fe=!1;break}Se||(Se=se=="constructor")}if(Fe&&!Se){var en=l.constructor,$n=u.constructor;en!=$n&&"constructor"in l&&"constructor"in u&&!(typeof en=="function"&&en instanceof en&&typeof $n=="function"&&$n instanceof $n)&&(Fe=!1)}return M.delete(l),M.delete(u),Fe}function Br(l){return cd(_v(l,t,Hv),l+"")}function td(l){return Yb(l,Ot,od)}function nd(l){return Yb(l,ln,Mv)}var rd=sc?function(l){return sc.get(l)}:Cd;function yc(l){for(var u=l.name+"",g=jo[u],y=et.call(jo,u)?g.length:0;y--;){var k=g[y],M=k.func;if(M==null||M==l)return k.name}return u}function qo(l){var u=et.call(R,"placeholder")?R:l;return u.placeholder}function Ce(){var l=R.iteratee||yd;return l=l===yd?Qb:l,arguments.length?l(arguments[0],arguments[1]):l}function wc(l,u){var g=l.__data__;return u3(u)?g[typeof u=="string"?"string":"hash"]:g.map}function id(l){for(var u=Ot(l),g=u.length;g--;){var y=u[g],k=l[y];u[g]=[y,k,Dv(k)]}return u}function no(l,u){var g=dT(l,u);return Zb(g)?g:t}function r3(l){var u=et.call(l,Zi),g=l[Zi];try{l[Zi]=t;var y=!0}catch{}var k=Ql.call(l);return y&&(u?l[Zi]=g:delete l[Zi]),k}var od=Oh?function(l){return l==null?[]:(l=nt(l),ui(Oh(l),function(u){return Lb.call(l,u)}))}:$d,Mv=Oh?function(l){for(var u=[];l;)fi(u,od(l)),l=tc(l);return u}:$d,Ht=Qt;(Dh&&Ht(new Dh(new ArrayBuffer(1)))!=ci||sa&&Ht(new sa)!=Re||Ih&&Ht(Ih.resolve())!=Do||zo&&Ht(new zo)!=Pt||aa&&Ht(new aa)!=qi)&&(Ht=function(l){var u=Qt(l),g=u==gt?l.constructor:t,y=g?ro(g):"";if(y)switch(y){case FT:return ci;case VT:return Re;case WT:return Do;case zT:return Pt;case jT:return qi}return u});function i3(l,u,g){for(var y=-1,k=g.length;++y<k;){var M=g[y],D=M.size;switch(M.type){case"drop":l+=D;break;case"dropRight":u-=D;break;case"take":u=jt(u,l+D);break;case"takeRight":l=At(l,u-D);break}}return{start:l,end:u}}function o3(l){var u=l.match(fR);return u?u[1].split(hR):[]}function Pv(l,u,g){u=gi(u,l);for(var y=-1,k=u.length,M=!1;++y<k;){var D=fr(u[y]);if(!(M=l!=null&&g(l,D)))break;l=l[D]}return M||++y!=k?M:(k=l==null?0:l.length,!!k&&Rc(k)&&Fr(D,k)&&(De(l)||io(l)))}function s3(l){var u=l.length,g=new l.constructor(u);return u&&typeof l[0]=="string"&&et.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function Ov(l){return typeof l.constructor=="function"&&!ga(l)?Ho(tc(l)):{}}function a3(l,u,g){var y=l.constructor;switch(u){case Gi:return Qh(l);case Ae:case ke:return new y(+l);case ci:return HM(l,g);case Vl:case _o:case Wl:case zl:case ra:case Yi:case Nt:case fh:case hh:return pv(l,g);case Re:return new y;case Ie:case ai:return new y(l);case lr:return UM(l);case Pt:return new y;case li:return KM(l)}}function l3(l,u){var g=u.length;if(!g)return l;var y=g-1;return u[y]=(g>1?"& ":"")+u[y],u=u.join(g>2?", ":" "),l.replace(uR,`{
/* [wrapped with `+u+`] */
`)}function c3(l){return De(l)||io(l)||!!(Nb&&l&&l[Nb])}function Fr(l,u){var g=typeof l;return u=u??ie,!!u&&(g=="number"||g!="symbol"&&wR.test(l))&&l>-1&&l%1==0&&l<u}function Jt(l,u,g){if(!dt(g))return!1;var y=typeof u;return(y=="number"?an(g)&&Fr(u,g.length):y=="string"&&u in g)?qn(g[u],l):!1}function sd(l,u){if(De(l))return!1;var g=typeof l;return g=="number"||g=="symbol"||g=="boolean"||l==null||wn(l)?!0:sR.test(l)||!oR.test(l)||u!=null&&l in nt(u)}function u3(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}function ad(l){var u=yc(l),g=R[u];if(typeof g!="function"||!(u in Ke.prototype))return!1;if(l===g)return!0;var y=rd(g);return!!y&&l===y[0]}function f3(l){return!!Db&&Db in l}var h3=Xl?Vr:Sd;function ga(l){var u=l&&l.constructor,g=typeof u=="function"&&u.prototype||Wo;return l===g}function Dv(l){return l===l&&!dt(l)}function Iv(l,u){return function(g){return g==null?!1:g[l]===u&&(u!==t||l in nt(g))}}function d3(l){var u=Ec(l,function(y){return g.size===f&&g.clear(),y}),g=u.cache;return u}function p3(l,u){var g=l[1],y=u[1],k=g|y,M=k<(w|$|P),D=y==P&&g==E||y==P&&g==L&&l[7].length<=u[8]||y==(P|L)&&u[7].length<=u[8]&&g==E;if(!(M||D))return l;y&w&&(l[2]=u[2],k|=g&w?0:S);var I=u[3];if(I){var N=l[3];l[3]=N?gv(N,I,u[4]):I,l[4]=N?hi(l[3],h):u[4]}return I=u[5],I&&(N=l[5],l[5]=N?bv(N,I,u[6]):I,l[6]=N?hi(l[5],h):u[6]),I=u[7],I&&(l[7]=I),y&P&&(l[8]=l[8]==null?u[8]:jt(l[8],u[8])),l[9]==null&&(l[9]=u[9]),l[0]=u[0],l[1]=k,l}function m3(l){var u=[];if(l!=null)for(var g in nt(l))u.push(g);return u}function g3(l){return Ql.call(l)}function _v(l,u,g){return u=At(u===t?l.length-1:u,0),function(){for(var y=arguments,k=-1,M=At(y.length-u,0),D=W(M);++k<M;)D[k]=y[u+k];k=-1;for(var I=W(u+1);++k<u;)I[k]=y[k];return I[u]=g(D),vn(l,this,I)}}function Lv(l,u){return u.length<2?l:to(l,Ln(u,0,-1))}function b3(l,u){for(var g=l.length,y=jt(u.length,g),k=sn(l);y--;){var M=u[y];l[y]=Fr(M,g)?k[M]:t}return l}function ld(l,u){if(!(u==="constructor"&&typeof l[u]=="function")&&u!="__proto__")return l[u]}var Nv=Fv(sv),ba=OT||function(l,u){return Bt.setTimeout(l,u)},cd=Fv(VM);function Bv(l,u,g){var y=u+"";return cd(l,l3(y,v3(o3(y),g)))}function Fv(l){var u=0,g=0;return function(){var y=LT(),k=ee-(y-g);if(g=y,k>0){if(++u>=z)return arguments[0]}else u=0;return l.apply(t,arguments)}}function Cc(l,u){var g=-1,y=l.length,k=y-1;for(u=u===t?y:u;++g<u;){var M=Uh(g,k),D=l[M];l[M]=l[g],l[g]=D}return l.length=u,l}var Vv=d3(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(aR,function(g,y,k,M){u.push(k?M.replace(mR,"$1"):y||g)}),u});function fr(l){if(typeof l=="string"||wn(l))return l;var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}function ro(l){if(l!=null){try{return Zl.call(l)}catch{}try{return l+""}catch{}}return""}function v3(l,u){return On(Ue,function(g){var y="_."+g[0];u&g[1]&&!Kl(l,y)&&l.push(y)}),l.sort()}function Wv(l){if(l instanceof Ke)return l.clone();var u=new In(l.__wrapped__,l.__chain__);return u.__actions__=sn(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}function x3(l,u,g){(g?Jt(l,u,g):u===t)?u=1:u=At(Ne(u),0);var y=l==null?0:l.length;if(!y||u<1)return[];for(var k=0,M=0,D=W(ic(y/u));k<y;)D[M++]=Ln(l,k,k+=u);return D}function y3(l){for(var u=-1,g=l==null?0:l.length,y=0,k=[];++u<g;){var M=l[u];M&&(k[y++]=M)}return k}function w3(){var l=arguments.length;if(!l)return[];for(var u=W(l-1),g=arguments[0],y=l;y--;)u[y-1]=arguments[y];return fi(De(g)?sn(g):[g],Ft(u,1))}var C3=We(function(l,u){return bt(l)?fa(l,Ft(u,1,bt,!0)):[]}),$3=We(function(l,u){var g=Nn(u);return bt(g)&&(g=t),bt(l)?fa(l,Ft(u,1,bt,!0),Ce(g,2)):[]}),S3=We(function(l,u){var g=Nn(u);return bt(g)&&(g=t),bt(l)?fa(l,Ft(u,1,bt,!0),t,g):[]});function k3(l,u,g){var y=l==null?0:l.length;return y?(u=g||u===t?1:Ne(u),Ln(l,u<0?0:u,y)):[]}function E3(l,u,g){var y=l==null?0:l.length;return y?(u=g||u===t?1:Ne(u),u=y-u,Ln(l,0,u<0?0:u)):[]}function A3(l,u){return l&&l.length?pc(l,Ce(u,3),!0,!0):[]}function R3(l,u){return l&&l.length?pc(l,Ce(u,3),!0):[]}function T3(l,u,g,y){var k=l==null?0:l.length;return k?(g&&typeof g!="number"&&Jt(l,u,g)&&(g=0,y=k),wM(l,u,g,y)):[]}function zv(l,u,g){var y=l==null?0:l.length;if(!y)return-1;var k=g==null?0:Ne(g);return k<0&&(k=At(y+k,0)),ql(l,Ce(u,3),k)}function jv(l,u,g){var y=l==null?0:l.length;if(!y)return-1;var k=y-1;return g!==t&&(k=Ne(g),k=g<0?At(y+k,0):jt(k,y-1)),ql(l,Ce(u,3),k,!0)}function Hv(l){var u=l==null?0:l.length;return u?Ft(l,1):[]}function M3(l){var u=l==null?0:l.length;return u?Ft(l,Q):[]}function P3(l,u){var g=l==null?0:l.length;return g?(u=u===t?1:Ne(u),Ft(l,u)):[]}function O3(l){for(var u=-1,g=l==null?0:l.length,y={};++u<g;){var k=l[u];y[k[0]]=k[1]}return y}function Uv(l){return l&&l.length?l[0]:t}function D3(l,u,g){var y=l==null?0:l.length;if(!y)return-1;var k=g==null?0:Ne(g);return k<0&&(k=At(y+k,0)),No(l,u,k)}function I3(l){var u=l==null?0:l.length;return u?Ln(l,0,-1):[]}var _3=We(function(l){var u=ft(l,Xh);return u.length&&u[0]===l[0]?Vh(u):[]}),L3=We(function(l){var u=Nn(l),g=ft(l,Xh);return u===Nn(g)?u=t:g.pop(),g.length&&g[0]===l[0]?Vh(g,Ce(u,2)):[]}),N3=We(function(l){var u=Nn(l),g=ft(l,Xh);return u=typeof u=="function"?u:t,u&&g.pop(),g.length&&g[0]===l[0]?Vh(g,t,u):[]});function B3(l,u){return l==null?"":IT.call(l,u)}function Nn(l){var u=l==null?0:l.length;return u?l[u-1]:t}function F3(l,u,g){var y=l==null?0:l.length;if(!y)return-1;var k=y;return g!==t&&(k=Ne(g),k=k<0?At(y+k,0):jt(k,y-1)),u===u?vT(l,u,k):ql(l,kb,k,!0)}function V3(l,u){return l&&l.length?nv(l,Ne(u)):t}var W3=We(Kv);function Kv(l,u){return l&&l.length&&u&&u.length?Hh(l,u):l}function z3(l,u,g){return l&&l.length&&u&&u.length?Hh(l,u,Ce(g,2)):l}function j3(l,u,g){return l&&l.length&&u&&u.length?Hh(l,u,t,g):l}var H3=Br(function(l,u){var g=l==null?0:l.length,y=Lh(l,u);return ov(l,ft(u,function(k){return Fr(k,g)?+k:k}).sort(mv)),y});function U3(l,u){var g=[];if(!(l&&l.length))return g;var y=-1,k=[],M=l.length;for(u=Ce(u,3);++y<M;){var D=l[y];u(D,y,l)&&(g.push(D),k.push(y))}return ov(l,k),g}function ud(l){return l==null?l:BT.call(l)}function K3(l,u,g){var y=l==null?0:l.length;return y?(g&&typeof g!="number"&&Jt(l,u,g)?(u=0,g=y):(u=u==null?0:Ne(u),g=g===t?y:Ne(g)),Ln(l,u,g)):[]}function q3(l,u){return dc(l,u)}function G3(l,u,g){return qh(l,u,Ce(g,2))}function Y3(l,u){var g=l==null?0:l.length;if(g){var y=dc(l,u);if(y<g&&qn(l[y],u))return y}return-1}function X3(l,u){return dc(l,u,!0)}function Z3(l,u,g){return qh(l,u,Ce(g,2),!0)}function Q3(l,u){var g=l==null?0:l.length;if(g){var y=dc(l,u,!0)-1;if(qn(l[y],u))return y}return-1}function J3(l){return l&&l.length?av(l):[]}function eP(l,u){return l&&l.length?av(l,Ce(u,2)):[]}function tP(l){var u=l==null?0:l.length;return u?Ln(l,1,u):[]}function nP(l,u,g){return l&&l.length?(u=g||u===t?1:Ne(u),Ln(l,0,u<0?0:u)):[]}function rP(l,u,g){var y=l==null?0:l.length;return y?(u=g||u===t?1:Ne(u),u=y-u,Ln(l,u<0?0:u,y)):[]}function iP(l,u){return l&&l.length?pc(l,Ce(u,3),!1,!0):[]}function oP(l,u){return l&&l.length?pc(l,Ce(u,3)):[]}var sP=We(function(l){return mi(Ft(l,1,bt,!0))}),aP=We(function(l){var u=Nn(l);return bt(u)&&(u=t),mi(Ft(l,1,bt,!0),Ce(u,2))}),lP=We(function(l){var u=Nn(l);return u=typeof u=="function"?u:t,mi(Ft(l,1,bt,!0),t,u)});function cP(l){return l&&l.length?mi(l):[]}function uP(l,u){return l&&l.length?mi(l,Ce(u,2)):[]}function fP(l,u){return u=typeof u=="function"?u:t,l&&l.length?mi(l,t,u):[]}function fd(l){if(!(l&&l.length))return[];var u=0;return l=ui(l,function(g){if(bt(g))return u=At(g.length,u),!0}),Rh(u,function(g){return ft(l,kh(g))})}function qv(l,u){if(!(l&&l.length))return[];var g=fd(l);return u==null?g:ft(g,function(y){return vn(u,t,y)})}var hP=We(function(l,u){return bt(l)?fa(l,u):[]}),dP=We(function(l){return Yh(ui(l,bt))}),pP=We(function(l){var u=Nn(l);return bt(u)&&(u=t),Yh(ui(l,bt),Ce(u,2))}),mP=We(function(l){var u=Nn(l);return u=typeof u=="function"?u:t,Yh(ui(l,bt),t,u)}),gP=We(fd);function bP(l,u){return fv(l||[],u||[],ua)}function vP(l,u){return fv(l||[],u||[],pa)}var xP=We(function(l){var u=l.length,g=u>1?l[u-1]:t;return g=typeof g=="function"?(l.pop(),g):t,qv(l,g)});function Gv(l){var u=R(l);return u.__chain__=!0,u}function yP(l,u){return u(l),l}function $c(l,u){return u(l)}var wP=Br(function(l){var u=l.length,g=u?l[0]:0,y=this.__wrapped__,k=function(M){return Lh(M,l)};return u>1||this.__actions__.length||!(y instanceof Ke)||!Fr(g)?this.thru(k):(y=y.slice(g,+g+(u?1:0)),y.__actions__.push({func:$c,args:[k],thisArg:t}),new In(y,this.__chain__).thru(function(M){return u&&!M.length&&M.push(t),M}))});function CP(){return Gv(this)}function $P(){return new In(this.value(),this.__chain__)}function SP(){this.__values__===t&&(this.__values__=l1(this.value()));var l=this.__index__>=this.__values__.length,u=l?t:this.__values__[this.__index__++];return{done:l,value:u}}function kP(){return this}function EP(l){for(var u,g=this;g instanceof lc;){var y=Wv(g);y.__index__=0,y.__values__=t,u?k.__wrapped__=y:u=y;var k=y;g=g.__wrapped__}return k.__wrapped__=l,u}function AP(){var l=this.__wrapped__;if(l instanceof Ke){var u=l;return this.__actions__.length&&(u=new Ke(this)),u=u.reverse(),u.__actions__.push({func:$c,args:[ud],thisArg:t}),new In(u,this.__chain__)}return this.thru(ud)}function RP(){return uv(this.__wrapped__,this.__actions__)}var TP=mc(function(l,u,g){et.call(l,g)?++l[g]:Lr(l,g,1)});function MP(l,u,g){var y=De(l)?$b:yM;return g&&Jt(l,u,g)&&(u=t),y(l,Ce(u,3))}function PP(l,u){var g=De(l)?ui:qb;return g(l,Ce(u,3))}var OP=wv(zv),DP=wv(jv);function IP(l,u){return Ft(Sc(l,u),1)}function _P(l,u){return Ft(Sc(l,u),Q)}function LP(l,u,g){return g=g===t?1:Ne(g),Ft(Sc(l,u),g)}function Yv(l,u){var g=De(l)?On:pi;return g(l,Ce(u,3))}function Xv(l,u){var g=De(l)?tT:Kb;return g(l,Ce(u,3))}var NP=mc(function(l,u,g){et.call(l,g)?l[g].push(u):Lr(l,g,[u])});function BP(l,u,g,y){l=an(l)?l:Yo(l),g=g&&!y?Ne(g):0;var k=l.length;return g<0&&(g=At(k+g,0)),Tc(l)?g<=k&&l.indexOf(u,g)>-1:!!k&&No(l,u,g)>-1}var FP=We(function(l,u,g){var y=-1,k=typeof u=="function",M=an(l)?W(l.length):[];return pi(l,function(D){M[++y]=k?vn(u,D,g):ha(D,u,g)}),M}),VP=mc(function(l,u,g){Lr(l,g,u)});function Sc(l,u){var g=De(l)?ft:Jb;return g(l,Ce(u,3))}function WP(l,u,g,y){return l==null?[]:(De(u)||(u=u==null?[]:[u]),g=y?t:g,De(g)||(g=g==null?[]:[g]),rv(l,u,g))}var zP=mc(function(l,u,g){l[g?0:1].push(u)},function(){return[[],[]]});function jP(l,u,g){var y=De(l)?$h:Ab,k=arguments.length<3;return y(l,Ce(u,4),g,k,pi)}function HP(l,u,g){var y=De(l)?nT:Ab,k=arguments.length<3;return y(l,Ce(u,4),g,k,Kb)}function UP(l,u){var g=De(l)?ui:qb;return g(l,Ac(Ce(u,3)))}function KP(l){var u=De(l)?zb:BM;return u(l)}function qP(l,u,g){(g?Jt(l,u,g):u===t)?u=1:u=Ne(u);var y=De(l)?mM:FM;return y(l,u)}function GP(l){var u=De(l)?gM:WM;return u(l)}function YP(l){if(l==null)return 0;if(an(l))return Tc(l)?Fo(l):l.length;var u=Ht(l);return u==Re||u==Pt?l.size:zh(l).length}function XP(l,u,g){var y=De(l)?Sh:zM;return g&&Jt(l,u,g)&&(u=t),y(l,Ce(u,3))}var ZP=We(function(l,u){if(l==null)return[];var g=u.length;return g>1&&Jt(l,u[0],u[1])?u=[]:g>2&&Jt(u[0],u[1],u[2])&&(u=[u[0]]),rv(l,Ft(u,1),[])}),kc=PT||function(){return Bt.Date.now()};function QP(l,u){if(typeof u!="function")throw new Dn(s);return l=Ne(l),function(){if(--l<1)return u.apply(this,arguments)}}function Zv(l,u,g){return u=g?t:u,u=l&&u==null?l.length:u,Nr(l,P,t,t,t,t,u)}function Qv(l,u){var g;if(typeof u!="function")throw new Dn(s);return l=Ne(l),function(){return--l>0&&(g=u.apply(this,arguments)),l<=1&&(u=t),g}}var hd=We(function(l,u,g){var y=w;if(g.length){var k=hi(g,qo(hd));y|=T}return Nr(l,y,u,g,k)}),Jv=We(function(l,u,g){var y=w|$;if(g.length){var k=hi(g,qo(Jv));y|=T}return Nr(u,y,l,g,k)});function e1(l,u,g){u=g?t:u;var y=Nr(l,E,t,t,t,t,t,u);return y.placeholder=e1.placeholder,y}function t1(l,u,g){u=g?t:u;var y=Nr(l,A,t,t,t,t,t,u);return y.placeholder=t1.placeholder,y}function n1(l,u,g){var y,k,M,D,I,N,G=0,Y=!1,J=!1,se=!0;if(typeof l!="function")throw new Dn(s);u=Bn(u)||0,dt(g)&&(Y=!!g.leading,J="maxWait"in g,M=J?At(Bn(g.maxWait)||0,u):M,se="trailing"in g?!!g.trailing:se);function ge(vt){var Gn=y,zr=k;return y=k=t,G=vt,D=l.apply(zr,Gn),D}function $e(vt){return G=vt,I=ba(He,u),Y?ge(vt):D}function Fe(vt){var Gn=vt-N,zr=vt-G,w1=u-Gn;return J?jt(w1,M-zr):w1}function Se(vt){var Gn=vt-N,zr=vt-G;return N===t||Gn>=u||Gn<0||J&&zr>=M}function He(){var vt=kc();if(Se(vt))return Ge(vt);I=ba(He,Fe(vt))}function Ge(vt){return I=t,se&&y?ge(vt):(y=k=t,D)}function Cn(){I!==t&&hv(I),G=0,y=N=k=I=t}function en(){return I===t?D:Ge(kc())}function $n(){var vt=kc(),Gn=Se(vt);if(y=arguments,k=this,N=vt,Gn){if(I===t)return $e(N);if(J)return hv(I),I=ba(He,u),ge(N)}return I===t&&(I=ba(He,u)),D}return $n.cancel=Cn,$n.flush=en,$n}var JP=We(function(l,u){return Ub(l,1,u)}),e5=We(function(l,u,g){return Ub(l,Bn(u)||0,g)});function t5(l){return Nr(l,B)}function Ec(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new Dn(s);var g=function(){var y=arguments,k=u?u.apply(this,y):y[0],M=g.cache;if(M.has(k))return M.get(k);var D=l.apply(this,y);return g.cache=M.set(k,D)||M,D};return g.cache=new(Ec.Cache||_r),g}Ec.Cache=_r;function Ac(l){if(typeof l!="function")throw new Dn(s);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}function n5(l){return Qv(2,l)}var r5=jM(function(l,u){u=u.length==1&&De(u[0])?ft(u[0],xn(Ce())):ft(Ft(u,1),xn(Ce()));var g=u.length;return We(function(y){for(var k=-1,M=jt(y.length,g);++k<M;)y[k]=u[k].call(this,y[k]);return vn(l,this,y)})}),dd=We(function(l,u){var g=hi(u,qo(dd));return Nr(l,T,t,u,g)}),r1=We(function(l,u){var g=hi(u,qo(r1));return Nr(l,O,t,u,g)}),i5=Br(function(l,u){return Nr(l,L,t,t,t,u)});function o5(l,u){if(typeof l!="function")throw new Dn(s);return u=u===t?u:Ne(u),We(l,u)}function s5(l,u){if(typeof l!="function")throw new Dn(s);return u=u==null?0:At(Ne(u),0),We(function(g){var y=g[u],k=bi(g,0,u);return y&&fi(k,y),vn(l,this,k)})}function a5(l,u,g){var y=!0,k=!0;if(typeof l!="function")throw new Dn(s);return dt(g)&&(y="leading"in g?!!g.leading:y,k="trailing"in g?!!g.trailing:k),n1(l,u,{leading:y,maxWait:u,trailing:k})}function l5(l){return Zv(l,1)}function c5(l,u){return dd(Zh(u),l)}function u5(){if(!arguments.length)return[];var l=arguments[0];return De(l)?l:[l]}function f5(l){return _n(l,b)}function h5(l,u){return u=typeof u=="function"?u:t,_n(l,b,u)}function d5(l){return _n(l,d|b)}function p5(l,u){return u=typeof u=="function"?u:t,_n(l,d|b,u)}function m5(l,u){return u==null||Hb(l,u,Ot(u))}function qn(l,u){return l===u||l!==l&&u!==u}var g5=xc(Fh),b5=xc(function(l,u){return l>=u}),io=Xb(function(){return arguments}())?Xb:function(l){return mt(l)&&et.call(l,"callee")&&!Lb.call(l,"callee")},De=W.isArray,v5=bb?xn(bb):EM;function an(l){return l!=null&&Rc(l.length)&&!Vr(l)}function bt(l){return mt(l)&&an(l)}function x5(l){return l===!0||l===!1||mt(l)&&Qt(l)==Ae}var vi=DT||Sd,y5=vb?xn(vb):AM;function w5(l){return mt(l)&&l.nodeType===1&&!va(l)}function C5(l){if(l==null)return!0;if(an(l)&&(De(l)||typeof l=="string"||typeof l.splice=="function"||vi(l)||Go(l)||io(l)))return!l.length;var u=Ht(l);if(u==Re||u==Pt)return!l.size;if(ga(l))return!zh(l).length;for(var g in l)if(et.call(l,g))return!1;return!0}function $5(l,u){return da(l,u)}function S5(l,u,g){g=typeof g=="function"?g:t;var y=g?g(l,u):t;return y===t?da(l,u,t,g):!!y}function pd(l){if(!mt(l))return!1;var u=Qt(l);return u==Le||u==_e||typeof l.message=="string"&&typeof l.name=="string"&&!va(l)}function k5(l){return typeof l=="number"&&Bb(l)}function Vr(l){if(!dt(l))return!1;var u=Qt(l);return u==te||u==at||u==de||u==ta}function i1(l){return typeof l=="number"&&l==Ne(l)}function Rc(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=ie}function dt(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}function mt(l){return l!=null&&typeof l=="object"}var o1=xb?xn(xb):TM;function E5(l,u){return l===u||Wh(l,u,id(u))}function A5(l,u,g){return g=typeof g=="function"?g:t,Wh(l,u,id(u),g)}function R5(l){return s1(l)&&l!=+l}function T5(l){if(h3(l))throw new Me(o);return Zb(l)}function M5(l){return l===null}function P5(l){return l==null}function s1(l){return typeof l=="number"||mt(l)&&Qt(l)==Ie}function va(l){if(!mt(l)||Qt(l)!=gt)return!1;var u=tc(l);if(u===null)return!0;var g=et.call(u,"constructor")&&u.constructor;return typeof g=="function"&&g instanceof g&&Zl.call(g)==AT}var md=yb?xn(yb):MM;function O5(l){return i1(l)&&l>=-9007199254740991&&l<=ie}var a1=wb?xn(wb):PM;function Tc(l){return typeof l=="string"||!De(l)&&mt(l)&&Qt(l)==ai}function wn(l){return typeof l=="symbol"||mt(l)&&Qt(l)==li}var Go=Cb?xn(Cb):OM;function D5(l){return l===t}function I5(l){return mt(l)&&Ht(l)==qi}function _5(l){return mt(l)&&Qt(l)==na}var L5=xc(jh),N5=xc(function(l,u){return l<=u});function l1(l){if(!l)return[];if(an(l))return Tc(l)?Un(l):sn(l);if(oa&&l[oa])return mT(l[oa]());var u=Ht(l),g=u==Re?Mh:u==Pt?Gl:Yo;return g(l)}function Wr(l){if(!l)return l===0?l:0;if(l=Bn(l),l===Q||l===-1/0){var u=l<0?-1:1;return u*q}return l===l?l:0}function Ne(l){var u=Wr(l),g=u%1;return u===u?g?u-g:u:0}function c1(l){return l?eo(Ne(l),0,he):0}function Bn(l){if(typeof l=="number")return l;if(wn(l))return le;if(dt(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=dt(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=Rb(l);var g=vR.test(l);return g||yR.test(l)?QR(l.slice(2),g?2:8):bR.test(l)?le:+l}function u1(l){return ur(l,ln(l))}function B5(l){return l?eo(Ne(l),-9007199254740991,ie):l===0?l:0}function Je(l){return l==null?"":yn(l)}var F5=Uo(function(l,u){if(ga(u)||an(u)){ur(u,Ot(u),l);return}for(var g in u)et.call(u,g)&&ua(l,g,u[g])}),f1=Uo(function(l,u){ur(u,ln(u),l)}),Mc=Uo(function(l,u,g,y){ur(u,ln(u),l,y)}),V5=Uo(function(l,u,g,y){ur(u,Ot(u),l,y)}),W5=Br(Lh);function z5(l,u){var g=Ho(l);return u==null?g:jb(g,u)}var j5=We(function(l,u){l=nt(l);var g=-1,y=u.length,k=y>2?u[2]:t;for(k&&Jt(u[0],u[1],k)&&(y=1);++g<y;)for(var M=u[g],D=ln(M),I=-1,N=D.length;++I<N;){var G=D[I],Y=l[G];(Y===t||qn(Y,Wo[G])&&!et.call(l,G))&&(l[G]=M[G])}return l}),H5=We(function(l){return l.push(t,Rv),vn(h1,t,l)});function U5(l,u){return Sb(l,Ce(u,3),cr)}function K5(l,u){return Sb(l,Ce(u,3),Bh)}function q5(l,u){return l==null?l:Nh(l,Ce(u,3),ln)}function G5(l,u){return l==null?l:Gb(l,Ce(u,3),ln)}function Y5(l,u){return l&&cr(l,Ce(u,3))}function X5(l,u){return l&&Bh(l,Ce(u,3))}function Z5(l){return l==null?[]:fc(l,Ot(l))}function Q5(l){return l==null?[]:fc(l,ln(l))}function gd(l,u,g){var y=l==null?t:to(l,u);return y===t?g:y}function J5(l,u){return l!=null&&Pv(l,u,CM)}function bd(l,u){return l!=null&&Pv(l,u,$M)}var eO=$v(function(l,u,g){u!=null&&typeof u.toString!="function"&&(u=Ql.call(u)),l[u]=g},xd(cn)),tO=$v(function(l,u,g){u!=null&&typeof u.toString!="function"&&(u=Ql.call(u)),et.call(l,u)?l[u].push(g):l[u]=[g]},Ce),nO=We(ha);function Ot(l){return an(l)?Wb(l):zh(l)}function ln(l){return an(l)?Wb(l,!0):DM(l)}function rO(l,u){var g={};return u=Ce(u,3),cr(l,function(y,k,M){Lr(g,u(y,k,M),y)}),g}function iO(l,u){var g={};return u=Ce(u,3),cr(l,function(y,k,M){Lr(g,k,u(y,k,M))}),g}var oO=Uo(function(l,u,g){hc(l,u,g)}),h1=Uo(function(l,u,g,y){hc(l,u,g,y)}),sO=Br(function(l,u){var g={};if(l==null)return g;var y=!1;u=ft(u,function(M){return M=gi(M,l),y||(y=M.length>1),M}),ur(l,nd(l),g),y&&(g=_n(g,d|m|b,e3));for(var k=u.length;k--;)Gh(g,u[k]);return g});function aO(l,u){return d1(l,Ac(Ce(u)))}var lO=Br(function(l,u){return l==null?{}:_M(l,u)});function d1(l,u){if(l==null)return{};var g=ft(nd(l),function(y){return[y]});return u=Ce(u),iv(l,g,function(y,k){return u(y,k[0])})}function cO(l,u,g){u=gi(u,l);var y=-1,k=u.length;for(k||(k=1,l=t);++y<k;){var M=l==null?t:l[fr(u[y])];M===t&&(y=k,M=g),l=Vr(M)?M.call(l):M}return l}function uO(l,u,g){return l==null?l:pa(l,u,g)}function fO(l,u,g,y){return y=typeof y=="function"?y:t,l==null?l:pa(l,u,g,y)}var p1=Ev(Ot),m1=Ev(ln);function hO(l,u,g){var y=De(l),k=y||vi(l)||Go(l);if(u=Ce(u,4),g==null){var M=l&&l.constructor;k?g=y?new M:[]:dt(l)?g=Vr(M)?Ho(tc(l)):{}:g={}}return(k?On:cr)(l,function(D,I,N){return u(g,D,I,N)}),g}function dO(l,u){return l==null?!0:Gh(l,u)}function pO(l,u,g){return l==null?l:cv(l,u,Zh(g))}function mO(l,u,g,y){return y=typeof y=="function"?y:t,l==null?l:cv(l,u,Zh(g),y)}function Yo(l){return l==null?[]:Th(l,Ot(l))}function gO(l){return l==null?[]:Th(l,ln(l))}function bO(l,u,g){return g===t&&(g=u,u=t),g!==t&&(g=Bn(g),g=g===g?g:0),u!==t&&(u=Bn(u),u=u===u?u:0),eo(Bn(l),u,g)}function vO(l,u,g){return u=Wr(u),g===t?(g=u,u=0):g=Wr(g),l=Bn(l),SM(l,u,g)}function xO(l,u,g){if(g&&typeof g!="boolean"&&Jt(l,u,g)&&(u=g=t),g===t&&(typeof u=="boolean"?(g=u,u=t):typeof l=="boolean"&&(g=l,l=t)),l===t&&u===t?(l=0,u=1):(l=Wr(l),u===t?(u=l,l=0):u=Wr(u)),l>u){var y=l;l=u,u=y}if(g||l%1||u%1){var k=Fb();return jt(l+k*(u-l+ZR("1e-"+((k+"").length-1))),u)}return Uh(l,u)}var yO=Ko(function(l,u,g){return u=u.toLowerCase(),l+(g?g1(u):u)});function g1(l){return vd(Je(l).toLowerCase())}function b1(l){return l=Je(l),l&&l.replace(CR,uT).replace(WR,"")}function wO(l,u,g){l=Je(l),u=yn(u);var y=l.length;g=g===t?y:eo(Ne(g),0,y);var k=g;return g-=u.length,g>=0&&l.slice(g,k)==u}function CO(l){return l=Je(l),l&&nR.test(l)?l.replace(G0,fT):l}function $O(l){return l=Je(l),l&&lR.test(l)?l.replace(dh,"\\$&"):l}var SO=Ko(function(l,u,g){return l+(g?"-":"")+u.toLowerCase()}),kO=Ko(function(l,u,g){return l+(g?" ":"")+u.toLowerCase()}),EO=yv("toLowerCase");function AO(l,u,g){l=Je(l),u=Ne(u);var y=u?Fo(l):0;if(!u||y>=u)return l;var k=(u-y)/2;return vc(oc(k),g)+l+vc(ic(k),g)}function RO(l,u,g){l=Je(l),u=Ne(u);var y=u?Fo(l):0;return u&&y<u?l+vc(u-y,g):l}function TO(l,u,g){l=Je(l),u=Ne(u);var y=u?Fo(l):0;return u&&y<u?vc(u-y,g)+l:l}function MO(l,u,g){return g||u==null?u=0:u&&(u=+u),NT(Je(l).replace(ph,""),u||0)}function PO(l,u,g){return(g?Jt(l,u,g):u===t)?u=1:u=Ne(u),Kh(Je(l),u)}function OO(){var l=arguments,u=Je(l[0]);return l.length<3?u:u.replace(l[1],l[2])}var DO=Ko(function(l,u,g){return l+(g?"_":"")+u.toLowerCase()});function IO(l,u,g){return g&&typeof g!="number"&&Jt(l,u,g)&&(u=g=t),g=g===t?he:g>>>0,g?(l=Je(l),l&&(typeof u=="string"||u!=null&&!md(u))&&(u=yn(u),!u&&Bo(l))?bi(Un(l),0,g):l.split(u,g)):[]}var _O=Ko(function(l,u,g){return l+(g?" ":"")+vd(u)});function LO(l,u,g){return l=Je(l),g=g==null?0:eo(Ne(g),0,l.length),u=yn(u),l.slice(g,g+u.length)==u}function NO(l,u,g){var y=R.templateSettings;g&&Jt(l,u,g)&&(u=t),l=Je(l),u=Mc({},u,y,Av);var k=Mc({},u.imports,y.imports,Av),M=Ot(k),D=Th(k,M),I,N,G=0,Y=u.interpolate||jl,J="__p += '",se=Ph((u.escape||jl).source+"|"+Y.source+"|"+(Y===Y0?gR:jl).source+"|"+(u.evaluate||jl).source+"|$","g"),ge="//# sourceURL="+(et.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++KR+"]")+`
`;l.replace(se,function(Se,He,Ge,Cn,en,$n){return Ge||(Ge=Cn),J+=l.slice(G,$n).replace($R,hT),He&&(I=!0,J+=`' +
__e(`+He+`) +
'`),en&&(N=!0,J+=`';
`+en+`;
__p += '`),Ge&&(J+=`' +
((__t = (`+Ge+`)) == null ? '' : __t) +
'`),G=$n+Se.length,Se}),J+=`';
`;var $e=et.call(u,"variable")&&u.variable;if(!$e)J=`with (obj) {
`+J+`
}
`;else if(pR.test($e))throw new Me(a);J=(N?J.replace(QA,""):J).replace(JA,"$1").replace(eR,"$1;"),J="function("+($e||"obj")+`) {
`+($e?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+J+`return __p
}`;var Fe=x1(function(){return Qe(M,ge+"return "+J).apply(t,D)});if(Fe.source=J,pd(Fe))throw Fe;return Fe}function BO(l){return Je(l).toLowerCase()}function FO(l){return Je(l).toUpperCase()}function VO(l,u,g){if(l=Je(l),l&&(g||u===t))return Rb(l);if(!l||!(u=yn(u)))return l;var y=Un(l),k=Un(u),M=Tb(y,k),D=Mb(y,k)+1;return bi(y,M,D).join("")}function WO(l,u,g){if(l=Je(l),l&&(g||u===t))return l.slice(0,Ob(l)+1);if(!l||!(u=yn(u)))return l;var y=Un(l),k=Mb(y,Un(u))+1;return bi(y,0,k).join("")}function zO(l,u,g){if(l=Je(l),l&&(g||u===t))return l.replace(ph,"");if(!l||!(u=yn(u)))return l;var y=Un(l),k=Tb(y,Un(u));return bi(y,k).join("")}function jO(l,u){var g=F,y=K;if(dt(u)){var k="separator"in u?u.separator:k;g="length"in u?Ne(u.length):g,y="omission"in u?yn(u.omission):y}l=Je(l);var M=l.length;if(Bo(l)){var D=Un(l);M=D.length}if(g>=M)return l;var I=g-Fo(y);if(I<1)return y;var N=D?bi(D,0,I).join(""):l.slice(0,I);if(k===t)return N+y;if(D&&(I+=N.length-I),md(k)){if(l.slice(I).search(k)){var G,Y=N;for(k.global||(k=Ph(k.source,Je(X0.exec(k))+"g")),k.lastIndex=0;G=k.exec(Y);)var J=G.index;N=N.slice(0,J===t?I:J)}}else if(l.indexOf(yn(k),I)!=I){var se=N.lastIndexOf(k);se>-1&&(N=N.slice(0,se))}return N+y}function HO(l){return l=Je(l),l&&tR.test(l)?l.replace(q0,xT):l}var UO=Ko(function(l,u,g){return l+(g?" ":"")+u.toUpperCase()}),vd=yv("toUpperCase");function v1(l,u,g){return l=Je(l),u=g?t:u,u===t?pT(l)?CT(l):oT(l):l.match(u)||[]}var x1=We(function(l,u){try{return vn(l,t,u)}catch(g){return pd(g)?g:new Me(g)}}),KO=Br(function(l,u){return On(u,function(g){g=fr(g),Lr(l,g,hd(l[g],l))}),l});function qO(l){var u=l==null?0:l.length,g=Ce();return l=u?ft(l,function(y){if(typeof y[1]!="function")throw new Dn(s);return[g(y[0]),y[1]]}):[],We(function(y){for(var k=-1;++k<u;){var M=l[k];if(vn(M[0],this,y))return vn(M[1],this,y)}})}function GO(l){return xM(_n(l,d))}function xd(l){return function(){return l}}function YO(l,u){return l==null||l!==l?u:l}var XO=Cv(),ZO=Cv(!0);function cn(l){return l}function yd(l){return Qb(typeof l=="function"?l:_n(l,d))}function QO(l){return ev(_n(l,d))}function JO(l,u){return tv(l,_n(u,d))}var e6=We(function(l,u){return function(g){return ha(g,l,u)}}),t6=We(function(l,u){return function(g){return ha(l,g,u)}});function wd(l,u,g){var y=Ot(u),k=fc(u,y);g==null&&!(dt(u)&&(k.length||!y.length))&&(g=u,u=l,l=this,k=fc(u,Ot(u)));var M=!(dt(g)&&"chain"in g)||!!g.chain,D=Vr(l);return On(k,function(I){var N=u[I];l[I]=N,D&&(l.prototype[I]=function(){var G=this.__chain__;if(M||G){var Y=l(this.__wrapped__),J=Y.__actions__=sn(this.__actions__);return J.push({func:N,args:arguments,thisArg:l}),Y.__chain__=G,Y}return N.apply(l,fi([this.value()],arguments))})}),l}function n6(){return Bt._===this&&(Bt._=RT),this}function Cd(){}function r6(l){return l=Ne(l),We(function(u){return nv(u,l)})}var i6=Jh(ft),o6=Jh($b),s6=Jh(Sh);function y1(l){return sd(l)?kh(fr(l)):LM(l)}function a6(l){return function(u){return l==null?t:to(l,u)}}var l6=Sv(),c6=Sv(!0);function $d(){return[]}function Sd(){return!1}function u6(){return{}}function f6(){return""}function h6(){return!0}function d6(l,u){if(l=Ne(l),l<1||l>ie)return[];var g=he,y=jt(l,he);u=Ce(u),l-=he;for(var k=Rh(y,u);++g<l;)u(g);return k}function p6(l){return De(l)?ft(l,fr):wn(l)?[l]:sn(Vv(Je(l)))}function m6(l){var u=++ET;return Je(l)+u}var g6=bc(function(l,u){return l+u},0),b6=ed("ceil"),v6=bc(function(l,u){return l/u},1),x6=ed("floor");function y6(l){return l&&l.length?uc(l,cn,Fh):t}function w6(l,u){return l&&l.length?uc(l,Ce(u,2),Fh):t}function C6(l){return Eb(l,cn)}function $6(l,u){return Eb(l,Ce(u,2))}function S6(l){return l&&l.length?uc(l,cn,jh):t}function k6(l,u){return l&&l.length?uc(l,Ce(u,2),jh):t}var E6=bc(function(l,u){return l*u},1),A6=ed("round"),R6=bc(function(l,u){return l-u},0);function T6(l){return l&&l.length?Ah(l,cn):0}function M6(l,u){return l&&l.length?Ah(l,Ce(u,2)):0}return R.after=QP,R.ary=Zv,R.assign=F5,R.assignIn=f1,R.assignInWith=Mc,R.assignWith=V5,R.at=W5,R.before=Qv,R.bind=hd,R.bindAll=KO,R.bindKey=Jv,R.castArray=u5,R.chain=Gv,R.chunk=x3,R.compact=y3,R.concat=w3,R.cond=qO,R.conforms=GO,R.constant=xd,R.countBy=TP,R.create=z5,R.curry=e1,R.curryRight=t1,R.debounce=n1,R.defaults=j5,R.defaultsDeep=H5,R.defer=JP,R.delay=e5,R.difference=C3,R.differenceBy=$3,R.differenceWith=S3,R.drop=k3,R.dropRight=E3,R.dropRightWhile=A3,R.dropWhile=R3,R.fill=T3,R.filter=PP,R.flatMap=IP,R.flatMapDeep=_P,R.flatMapDepth=LP,R.flatten=Hv,R.flattenDeep=M3,R.flattenDepth=P3,R.flip=t5,R.flow=XO,R.flowRight=ZO,R.fromPairs=O3,R.functions=Z5,R.functionsIn=Q5,R.groupBy=NP,R.initial=I3,R.intersection=_3,R.intersectionBy=L3,R.intersectionWith=N3,R.invert=eO,R.invertBy=tO,R.invokeMap=FP,R.iteratee=yd,R.keyBy=VP,R.keys=Ot,R.keysIn=ln,R.map=Sc,R.mapKeys=rO,R.mapValues=iO,R.matches=QO,R.matchesProperty=JO,R.memoize=Ec,R.merge=oO,R.mergeWith=h1,R.method=e6,R.methodOf=t6,R.mixin=wd,R.negate=Ac,R.nthArg=r6,R.omit=sO,R.omitBy=aO,R.once=n5,R.orderBy=WP,R.over=i6,R.overArgs=r5,R.overEvery=o6,R.overSome=s6,R.partial=dd,R.partialRight=r1,R.partition=zP,R.pick=lO,R.pickBy=d1,R.property=y1,R.propertyOf=a6,R.pull=W3,R.pullAll=Kv,R.pullAllBy=z3,R.pullAllWith=j3,R.pullAt=H3,R.range=l6,R.rangeRight=c6,R.rearg=i5,R.reject=UP,R.remove=U3,R.rest=o5,R.reverse=ud,R.sampleSize=qP,R.set=uO,R.setWith=fO,R.shuffle=GP,R.slice=K3,R.sortBy=ZP,R.sortedUniq=J3,R.sortedUniqBy=eP,R.split=IO,R.spread=s5,R.tail=tP,R.take=nP,R.takeRight=rP,R.takeRightWhile=iP,R.takeWhile=oP,R.tap=yP,R.throttle=a5,R.thru=$c,R.toArray=l1,R.toPairs=p1,R.toPairsIn=m1,R.toPath=p6,R.toPlainObject=u1,R.transform=hO,R.unary=l5,R.union=sP,R.unionBy=aP,R.unionWith=lP,R.uniq=cP,R.uniqBy=uP,R.uniqWith=fP,R.unset=dO,R.unzip=fd,R.unzipWith=qv,R.update=pO,R.updateWith=mO,R.values=Yo,R.valuesIn=gO,R.without=hP,R.words=v1,R.wrap=c5,R.xor=dP,R.xorBy=pP,R.xorWith=mP,R.zip=gP,R.zipObject=bP,R.zipObjectDeep=vP,R.zipWith=xP,R.entries=p1,R.entriesIn=m1,R.extend=f1,R.extendWith=Mc,wd(R,R),R.add=g6,R.attempt=x1,R.camelCase=yO,R.capitalize=g1,R.ceil=b6,R.clamp=bO,R.clone=f5,R.cloneDeep=d5,R.cloneDeepWith=p5,R.cloneWith=h5,R.conformsTo=m5,R.deburr=b1,R.defaultTo=YO,R.divide=v6,R.endsWith=wO,R.eq=qn,R.escape=CO,R.escapeRegExp=$O,R.every=MP,R.find=OP,R.findIndex=zv,R.findKey=U5,R.findLast=DP,R.findLastIndex=jv,R.findLastKey=K5,R.floor=x6,R.forEach=Yv,R.forEachRight=Xv,R.forIn=q5,R.forInRight=G5,R.forOwn=Y5,R.forOwnRight=X5,R.get=gd,R.gt=g5,R.gte=b5,R.has=J5,R.hasIn=bd,R.head=Uv,R.identity=cn,R.includes=BP,R.indexOf=D3,R.inRange=vO,R.invoke=nO,R.isArguments=io,R.isArray=De,R.isArrayBuffer=v5,R.isArrayLike=an,R.isArrayLikeObject=bt,R.isBoolean=x5,R.isBuffer=vi,R.isDate=y5,R.isElement=w5,R.isEmpty=C5,R.isEqual=$5,R.isEqualWith=S5,R.isError=pd,R.isFinite=k5,R.isFunction=Vr,R.isInteger=i1,R.isLength=Rc,R.isMap=o1,R.isMatch=E5,R.isMatchWith=A5,R.isNaN=R5,R.isNative=T5,R.isNil=P5,R.isNull=M5,R.isNumber=s1,R.isObject=dt,R.isObjectLike=mt,R.isPlainObject=va,R.isRegExp=md,R.isSafeInteger=O5,R.isSet=a1,R.isString=Tc,R.isSymbol=wn,R.isTypedArray=Go,R.isUndefined=D5,R.isWeakMap=I5,R.isWeakSet=_5,R.join=B3,R.kebabCase=SO,R.last=Nn,R.lastIndexOf=F3,R.lowerCase=kO,R.lowerFirst=EO,R.lt=L5,R.lte=N5,R.max=y6,R.maxBy=w6,R.mean=C6,R.meanBy=$6,R.min=S6,R.minBy=k6,R.stubArray=$d,R.stubFalse=Sd,R.stubObject=u6,R.stubString=f6,R.stubTrue=h6,R.multiply=E6,R.nth=V3,R.noConflict=n6,R.noop=Cd,R.now=kc,R.pad=AO,R.padEnd=RO,R.padStart=TO,R.parseInt=MO,R.random=xO,R.reduce=jP,R.reduceRight=HP,R.repeat=PO,R.replace=OO,R.result=cO,R.round=A6,R.runInContext=_,R.sample=KP,R.size=YP,R.snakeCase=DO,R.some=XP,R.sortedIndex=q3,R.sortedIndexBy=G3,R.sortedIndexOf=Y3,R.sortedLastIndex=X3,R.sortedLastIndexBy=Z3,R.sortedLastIndexOf=Q3,R.startCase=_O,R.startsWith=LO,R.subtract=R6,R.sum=T6,R.sumBy=M6,R.template=NO,R.times=d6,R.toFinite=Wr,R.toInteger=Ne,R.toLength=c1,R.toLower=BO,R.toNumber=Bn,R.toSafeInteger=B5,R.toString=Je,R.toUpper=FO,R.trim=VO,R.trimEnd=WO,R.trimStart=zO,R.truncate=jO,R.unescape=HO,R.uniqueId=m6,R.upperCase=UO,R.upperFirst=vd,R.each=Yv,R.eachRight=Xv,R.first=Uv,wd(R,function(){var l={};return cr(R,function(u,g){et.call(R.prototype,g)||(l[g]=u)}),l}(),{chain:!1}),R.VERSION=r,On(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){R[l].placeholder=R}),On(["drop","take"],function(l,u){Ke.prototype[l]=function(g){g=g===t?1:At(Ne(g),0);var y=this.__filtered__&&!u?new Ke(this):this.clone();return y.__filtered__?y.__takeCount__=jt(g,y.__takeCount__):y.__views__.push({size:jt(g,he),type:l+(y.__dir__<0?"Right":"")}),y},Ke.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),On(["filter","map","takeWhile"],function(l,u){var g=u+1,y=g==Z||g==ue;Ke.prototype[l]=function(k){var M=this.clone();return M.__iteratees__.push({iteratee:Ce(k,3),type:g}),M.__filtered__=M.__filtered__||y,M}}),On(["head","last"],function(l,u){var g="take"+(u?"Right":"");Ke.prototype[l]=function(){return this[g](1).value()[0]}}),On(["initial","tail"],function(l,u){var g="drop"+(u?"":"Right");Ke.prototype[l]=function(){return this.__filtered__?new Ke(this):this[g](1)}}),Ke.prototype.compact=function(){return this.filter(cn)},Ke.prototype.find=function(l){return this.filter(l).head()},Ke.prototype.findLast=function(l){return this.reverse().find(l)},Ke.prototype.invokeMap=We(function(l,u){return typeof l=="function"?new Ke(this):this.map(function(g){return ha(g,l,u)})}),Ke.prototype.reject=function(l){return this.filter(Ac(Ce(l)))},Ke.prototype.slice=function(l,u){l=Ne(l);var g=this;return g.__filtered__&&(l>0||u<0)?new Ke(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),u!==t&&(u=Ne(u),g=u<0?g.dropRight(-u):g.take(u-l)),g)},Ke.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Ke.prototype.toArray=function(){return this.take(he)},cr(Ke.prototype,function(l,u){var g=/^(?:filter|find|map|reject)|While$/.test(u),y=/^(?:head|last)$/.test(u),k=R[y?"take"+(u=="last"?"Right":""):u],M=y||/^find/.test(u);k&&(R.prototype[u]=function(){var D=this.__wrapped__,I=y?[1]:arguments,N=D instanceof Ke,G=I[0],Y=N||De(D),J=function(He){var Ge=k.apply(R,fi([He],I));return y&&se?Ge[0]:Ge};Y&&g&&typeof G=="function"&&G.length!=1&&(N=Y=!1);var se=this.__chain__,ge=!!this.__actions__.length,$e=M&&!se,Fe=N&&!ge;if(!M&&Y){D=Fe?D:new Ke(this);var Se=l.apply(D,I);return Se.__actions__.push({func:$c,args:[J],thisArg:t}),new In(Se,se)}return $e&&Fe?l.apply(this,I):(Se=this.thru(J),$e?y?Se.value()[0]:Se.value():Se)})}),On(["pop","push","shift","sort","splice","unshift"],function(l){var u=Yl[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",y=/^(?:pop|shift)$/.test(l);R.prototype[l]=function(){var k=arguments;if(y&&!this.__chain__){var M=this.value();return u.apply(De(M)?M:[],k)}return this[g](function(D){return u.apply(De(D)?D:[],k)})}}),cr(Ke.prototype,function(l,u){var g=R[u];if(g){var y=g.name+"";et.call(jo,y)||(jo[y]=[]),jo[y].push({name:u,func:g})}}),jo[gc(t,$).name]=[{name:"wrapper",func:t}],Ke.prototype.clone=HT,Ke.prototype.reverse=UT,Ke.prototype.value=KT,R.prototype.at=wP,R.prototype.chain=CP,R.prototype.commit=$P,R.prototype.next=SP,R.prototype.plant=EP,R.prototype.reverse=AP,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=RP,R.prototype.first=R.prototype.head,oa&&(R.prototype[oa]=kP),R},Vo=$T();Xi?((Xi.exports=Vo)._=Vo,yh._=Vo):Bt._=Vo}).call(xa)})(xf,xf.exports);xf.exports;const Qs=(n,e)=>{const t=p.createContext(e),r=o=>{const{children:s,...a}=o,c=p.useMemo(()=>a,Object.values(a));return C.jsx(t.Provider,{value:c,children:s})};function i(o){const s=p.useContext(t);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return r.displayName=`${n}Provider`,[r,i]};function fK(n,e){return typeof n=="string"?!1:e in n}function Du(n,e,t){return n&&e&&fK(n,e)?n[e]:t}const yw={padding:["padding-block-start","padding-inline-end","padding-block-end","padding-inline-start"],paddingTop:"padding-block-start",paddingRight:"padding-inline-end",paddingBottom:"padding-block-end",paddingLeft:"padding-inline-start",margin:["margin-block-start","margin-inline-end","margin-block-end","margin-inline-start"],marginLeft:"margin-inline-start",marginRight:"margin-inline-end",marginTop:"margin-block-start",marginBottom:"margin-block-end",borderRadius:"border-radius",borderStyle:"border-style",borderWidth:"border-width",borderColor:"border-color",fontSize:"font-size",fontWeight:"font-weight",lineHeight:"line-height",zIndex:"z-index",boxShadow:"box-shadow",pointerEvents:"pointer-events",textAlign:"text-align",textTransform:"text-transform",textDecoration:"text-decoration",flexGrow:"flex-grow",flexShrink:"flex-shrink",flexBasis:"flex-basis",minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height",flexDirection:"flex-direction",flexWrap:"flex-wrap",justifyContent:"justify-content",alignItems:"align-items"},hK=n=>{const[e,t,r,i]=n,o=t??e;return[e,o,r??e,i??o]};function dK(n,e){switch(n){case"gap":case"padding":case"margin":case"paddingTop":case"paddingLeft":case"paddingRight":case"paddingBottom":case"marginTop":case"marginLeft":case"marginRight":case"marginBottom":case"left":case"right":case"top":case"bottom":case"width":case"maxWidth":case"minWidth":case"height":case"maxHeight":case"minHeight":case"borderRadius":case"borderWidth":return e.spaces;case"color":case"background":case"borderColor":return e.colors;case"fontSize":return e.fontSizes;case"fontWeight":return e.fontWeights;case"lineHeight":return e.lineHeights;case"zIndex":return e.zIndices;case"boxShadow":return e.shadows;default:return null}}const oh=(n,e)=>{const t=Object.entries(n).reduce((r,i)=>{const[o,s]=i,a=dK(o,e),c=Object.prototype.hasOwnProperty.call(yw,o)?yw[o]:o;return c&&(s||s===0)&&(typeof s=="object"&&!Array.isArray(s)?Object.entries(s).forEach(([f,h])=>{r[f]={...r[f],...ww(c,h,a)}}):r.initial={...r.initial,...ww(c,s,a)}),r},{initial:{},small:{},medium:{},large:{}});return Object.entries(t).reduce((r,[i,o])=>{if(o&&Object.keys(o).length>0){const s=Object.entries(o).reduce((a,[c,f])=>(a.push(`${c}: ${f};`),a),[]).join(`
`);i==="initial"?r.push(s):r.push(`${e.breakpoints[i]}{ ${s} }`)}return r},[]).join(`
`)},ww=(n,e,t)=>{if(Array.isArray(n)&&Array.isArray(e)){const r=hK(e);return n.reduce((i,o,s)=>(i[o]=Du(t,r[s],r[s]),i),{})}else return Array.isArray(n)&&!Array.isArray(e)?n.reduce((r,i)=>(r[i]=Du(t,e,e),r),{}):!Array.isArray(n)&&!Array.isArray(e)?{[n]:Du(t,e,e)}:(console.warn("You've passed an array of values to a property that does not support it. Please check the property and value you're passing."),{})},on=p.forwardRef,xe=on((n,e)=>{const{background:t,basis:r,borderColor:i,color:o,flex:s,fontSize:a,grow:c,hasRadius:f,padding:h,paddingBottom:d,paddingLeft:m,paddingRight:b,paddingTop:x,margin:v,marginLeft:w,marginBottom:$,marginRight:S,marginTop:E,shadow:A,shrink:T,lineHeight:O,fontWeight:P,width:L,minWidth:B,maxWidth:F,height:K,minHeight:z,maxHeight:ee,top:Z,left:re,bottom:ue,right:Q,borderRadius:ie,borderStyle:q,borderWidth:le,tag:he,pointerEvents:Oe,display:ve,position:Ue,zIndex:Ee,overflow:ze,cursor:de,transition:Ae,transform:ke,animation:_e,textAlign:Le,textTransform:te,...at}=n,Re=he||"div",Ie={$background:t,$basis:r,$borderColor:i,$color:o,$flex:s,$fontSize:a,$grow:c,$hasRadius:f,$padding:h,$paddingBottom:d,$paddingLeft:m,$paddingRight:b,$paddingTop:x,$margin:v,$marginLeft:w,$marginBottom:$,$marginRight:S,$marginTop:E,$shadow:A,$shrink:T,$lineHeight:O,$fontWeight:P,$width:L,$minWidth:B,$maxWidth:F,$height:K,$minHeight:z,$maxHeight:ee,$top:Z,$left:re,$bottom:ue,$right:Q,$borderRadius:ie,$borderStyle:q,$borderWidth:le,$pointerEvents:Oe,$display:ve,$position:Ue,$zIndex:Ee,$overflow:ze,$cursor:de,$transition:Ae,$transform:ke,$animation:_e,$textAlign:Le,$textTransform:te};return C.jsx(pK,{as:Re,ref:e,...Ie,...at})}),pK=V.div`
  ${({theme:n,...e})=>oh({padding:e.$padding,paddingTop:e.$paddingTop,paddingBottom:e.$paddingBottom,paddingLeft:e.$paddingLeft,paddingRight:e.$paddingRight,margin:e.$margin,marginTop:e.$marginTop,marginBottom:e.$marginBottom,marginLeft:e.$marginLeft,marginRight:e.$marginRight,top:e.$top,left:e.$left,bottom:e.$bottom,right:e.$right,width:e.$width,minWidth:e.$minWidth,maxWidth:e.$maxWidth,height:e.$height,minHeight:e.$minHeight,maxHeight:e.$maxHeight,color:e.$color,background:e.$background,fontSize:e.$fontSize,fontWeight:e.$fontWeight,lineHeight:e.$lineHeight,borderRadius:e.$hasRadius?n.borderRadius:e.$borderRadius,borderStyle:e.$borderColor&&!e.$borderStyle?"solid":e.$borderStyle,borderWidth:e.$borderColor&&!e.$borderWidth?"1px":e.$borderWidth,borderColor:e.$borderColor,zIndex:e.$zIndex,boxShadow:e.$shadow,display:e.$display,pointerEvents:e.$pointerEvents,cursor:e.$cursor,textAlign:e.$textAlign,textTransform:e.$textTransform,transition:e.$transition,transform:e.$transform,animation:e.$animation,position:e.$position,overflow:e.$overflow,flex:e.$flex,flexShrink:e.$shrink,flexGrow:e.$grow,flexBasis:e.$basis},n)};
`,be=on((n,e)=>{const{className:t,alignItems:r,direction:i,inline:o,gap:s,justifyContent:a,wrap:c,...f}=n,h={$alignItems:r,$direction:i,$gap:s,$justifyContent:a,$wrap:c,$inline:o};return C.jsx(mK,{className:t,ref:e,...h,...f})}),mK=V(xe)`
  ${({theme:n,$display:e="flex",$alignItems:t="center",$direction:r="row",...i})=>oh({gap:i.$gap,alignItems:t,justifyContent:i.$justifyContent,flexWrap:i.$wrap,flexDirection:r,display:i.$inline?"inline-flex":e},n)};
`,gK="alpha",bK="beta",vK="delta",xK="epsilon",Cw="omega",yK="pi",wK="sigma",sA=Te`
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,CK=({$variant:n=Cw,theme:e})=>{switch(n){case gK:return`
        font-weight: ${e.fontWeights.bold};
        font-size: ${e.fontSizes[5]};
        line-height: ${e.lineHeights[2]};
      `;case bK:return`
        font-weight: ${e.fontWeights.bold};
        font-size: ${e.fontSizes[4]};
        line-height: ${e.lineHeights[1]};
      `;case vK:return`
        font-weight: ${e.fontWeights.semiBold};
        font-size: ${e.fontSizes[3]};
        line-height: ${e.lineHeights[2]};
      `;case xK:return`
        font-size: ${e.fontSizes[3]};
        line-height: ${e.lineHeights[6]};
      `;case Cw:return`
        font-size: ${e.fontSizes[2]};
        line-height: ${e.lineHeights[4]};
      `;case yK:return`
        font-size: ${e.fontSizes[1]};
        line-height: ${e.lineHeights[3]};
      `;case wK:return`
        font-weight: ${e.fontWeights.bold};
        font-size: ${e.fontSizes[0]};
        line-height: ${e.lineHeights[5]};
        text-transform: uppercase;
      `;default:return`
        font-size: ${e.fontSizes[2]};
      `}},Be=on((n,e)=>{const{ellipsis:t,textColor:r="currentcolor",textDecoration:i,textTransform:o,variant:s,lineHeight:a,fontWeight:c,fontSize:f,...h}=n,d={$ellipsis:t,$textColor:r,$textDecoration:i,$textTransform:o,$variant:s,$lineHeight:a,$fontWeight:c,$fontSize:f};return C.jsx($K,{ref:e,tag:"span",...d,...h})}),$K=V(xe)`
  ${CK}
  ${({$ellipsis:n})=>n?sA:""}

  ${({theme:n,...e})=>oh({color:e.$textColor,textDecoration:e.$textDecoration,textTransform:e.$textTransform,lineHeight:e.$lineHeight,fontWeight:e.$fontWeight,fontSize:e.$fontSize},n)}
`,[SK,L0]=Qs("Accordion");p.forwardRef(({children:n,size:e="S",...t},r)=>C.jsx(kK,{ref:r,$size:e,collapsible:!0,...t,type:"single",children:C.jsx(SK,{size:e,children:n})}));const kK=V(V8)`
  background-color: ${n=>n.theme.colors.neutral0};

  ${n=>n.$size==="S"?Te`
        border-radius: ${e=>e.theme.borderRadius};
        border: solid 1px ${e=>e.theme.colors.neutral200};
      `:Te``}
`;p.forwardRef((n,e)=>{const{size:t}=L0("Item");return C.jsx(EK,{$size:t,"data-size":t,ref:e,...n})});const EK=V(W8)`
  overflow: hidden;
  margin: 1px 0;

  &:first-child {
    border-top-left-radius: 0.3rem;
    border-top-right-radius: 0.3rem;
    margin-top: 0;
  }

  &:last-child {
    border-bottom-left-radius: 0.3rem;
    border-bottom-right-radius: 0.3rem;
    margin-bottom: 0;
  }

  &[data-size='S'] {
    & + & {
      border-top: solid 1px ${n=>n.theme.colors.neutral200};
    }
  }

  &[data-state='open'] {
    box-shadow: 0 0 0 1px ${n=>n.theme.colors.primary600};
  }

  &:not([data-disabled]):hover {
    box-shadow: 0 0 0 1px ${n=>n.theme.colors.primary600};
  }

  /* This applies our desired focus effect correctly. */
  &:focus-within {
    position: relative;
    z-index: 1;
    box-shadow: 0 0 0 1px ${n=>n.theme.colors.primary600};
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: box-shadow ${n=>n.theme.motion.timings[120]}
      ${n=>n.theme.motion.easings.easeOutQuad};
  }
`;p.forwardRef(({caretPosition:n="left",description:e,icon:t,iconProps:r,children:i,...o},s)=>{const{size:a}=L0("Trigger");return C.jsxs(lA,{$caretPosition:n,$size:a,ref:s,...o,children:[n==="left"?C.jsx(yf,{$size:a,children:C.jsx(go,{width:a==="S"?"1.2rem":"1.6rem",height:a==="S"?"1.2rem":"1.6rem"})}):null,C.jsxs(be,{tag:"span",gap:2,overflow:"hidden",children:[t&&a==="S"?C.jsx(aA,{children:C.jsx(t,{...r})}):null,C.jsxs(be,{alignItems:"flex-start",direction:"column",tag:"span",ref:s,overflow:"hidden",children:[C.jsx(Be,{fontWeight:a==="S"?"bold":void 0,ellipsis:!0,variant:a==="M"?"delta":void 0,textAlign:"left",width:"100%",children:i}),e&&a==="M"?C.jsx(Be,{textAlign:"left",children:e}):null]})]}),n==="right"?C.jsx(yf,{$size:a,children:C.jsx(go,{width:a==="S"?"1.2rem":"1.6rem",height:a==="S"?"1.2rem":"1.6rem"})}):null]})});const aA=V(xe)`
  color: ${n=>n.theme.colors.neutral500};
  display: flex;

  @media (prefers-reduced-motion: no-preference) {
    transition: ${n=>n.theme.transitions.color};
  }
`,yf=V(be).attrs(n=>({...n,tag:"span"}))`
  background-color: ${n=>n.theme.colors.neutral200};
  width: ${n=>n.$size==="S"?"2.4rem":"3.2rem"};
  height: ${n=>n.$size==="S"?"2.4rem":"3.2rem"};
  flex: ${n=>n.$size==="S"?"0 0 2.4rem":"0 0 3.2rem"};
  border-radius: 50%;
  justify-content: center;

  @media (prefers-reduced-motion: no-preference) {
    transition:
      transform ${n=>n.theme.motion.timings[200]} ${n=>n.theme.motion.easings.authenticMotion},
      ${n=>n.theme.transitions.backgroundColor};
  }
`,lA=V(j8)`
  display: flex;
  align-items: center;
  justify-content: ${n=>n.$caretPosition==="left"?"flex-start":"space-between"};
  width: 100%;
  gap: ${n=>n.theme.spaces[4]};
  padding-inline: ${n=>n.$size==="S"?n.theme.spaces[4]:n.theme.spaces[6]};
  padding-block: ${n=>n.$size==="S"?n.theme.spaces[3]:n.theme.spaces[6]};
  cursor: pointer;
  color: ${n=>n.theme.colors.neutral800};
  overflow: hidden;

  &[data-disabled] {
    cursor: default;
    color: ${n=>n.theme.colors.neutral600};
  }

  &[data-state='open'] > ${yf} {
    transform: rotate(180deg);
  }

  /* we remove the default focus because the entire item should have the focus style and the default would be hidden. */
  &:focus-visible {
    outline: none;
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: ${n=>n.theme.transitions.color};
  }
`;p.forwardRef((n,e)=>{const{size:t}=L0("Trigger");return C.jsx(cA,{$size:t,...n,ref:e})});const cA=V(be).attrs(n=>({...n,tag:"span"}))`
  padding-inline: ${n=>n.$size==="S"?n.theme.spaces[2]:n.theme.spaces[6]};
  padding-block: ${n=>n.$size==="S"?n.theme.spaces[2]:n.theme.spaces[6]};

  // Remove default IconButton styles so there are no backgrounds or borders.
  & > button {
    border: none;
    background: none;
    color: ${n=>n.theme.colors.neutral600};

    @media (prefers-reduced-motion: no-preference) {
      transition: ${n=>n.theme.transitions.color};
    }
  }
`;p.forwardRef(({variant:n="primary",...e},t)=>C.jsx(AK,{$variant:n,ref:t,...e}));const AK=V(z8)`
  display: flex;
  align-items: center;
  background-color: ${n=>n.$variant==="primary"?n.theme.colors.neutral0:n.theme.colors.neutral100};

  &[data-disabled] {
    background-color: ${n=>n.theme.colors.neutral150};
  }

  &:not([data-disabled]) {
    &:hover,
    &[data-state='open'] {
      background-color: ${n=>n.theme.colors.primary100};

      & > ${lA} {
        color: ${n=>n.theme.colors.primary600};

        & ${aA} {
          color: ${n=>n.theme.colors.primary600};
        }

        & ${yf} {
          background-color: ${n=>n.theme.colors.primary200};
        }
      }

      & > ${cA} > button {
        color: ${n=>n.theme.colors.primary600};
      }
    }
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: ${n=>n.theme.transitions.backgroundColor};
  }
`;p.forwardRef((n,e)=>C.jsx(MK,{ref:e,...n}));const RK=Ut`
  from {
    height: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
  }
`,TK=Ut`
  from {
    height: var(--radix-accordion-content-height);
  }
  to {
    height: 0;
  }
`,MK=V(H8)`
  overflow: hidden;

  @media (prefers-reduced-motion: no-preference) {
    &[data-state='open'] {
      animation: ${RK} ${n=>n.theme.motion.timings[320]}
        ${n=>n.theme.motion.easings.authenticMotion};
    }

    &[data-state='closed'] {
      animation: ${TK} ${n=>n.theme.motion.timings[320]}
        ${n=>n.theme.motion.easings.authenticMotion};
    }
  }
`,sh=Te`
  position: relative;
  outline: none;

  &:after {
    transition-property: all;
    transition-duration: 0.2s;
    border-radius: 8px;
    content: '';
    position: absolute;
    top: -4px;
    bottom: -4px;
    left: -4px;
    right: -4px;
    border: 2px solid transparent;
  }

  &:focus-visible {
    outline: none;

    &:after {
      border-radius: 8px;
      content: '';
      position: absolute;
      top: -5px;
      bottom: -5px;
      left: -5px;
      right: -5px;
      border: 2px solid ${n=>n.theme.colors.primary600};
    }
  }
`,Js=({tag:n,...e})=>{const t=n||"span";return C.jsx(PK,{...e,as:t})},PK=V.span`
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
`,fl=({children:n,label:e})=>{const t=p.Children.only(n);return C.jsxs(C.Fragment,{children:[p.cloneElement(t,{"aria-hidden":"true",focusable:"false"}),C.jsx(Js,{children:e})]})};fl.displayName="AccessibleIcon";const qm=({theme:n,$variant:e})=>e==="danger"?n.colors.danger700:e==="success"?n.colors.success700:e==="warning"?n.colors.warning700:n.colors.primary700;V(xe)`
  ${sh};
`;V(be)`
  svg {
    height: 100%;
    width: 100%;

    path {
      fill: ${qm};
    }
  }
`;V(xe)`
  & a > span {
    color: ${qm};
  }

  svg path {
    fill: ${qm};
  }
`;function $r({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=uA({defaultProp:e,onChange:t}),o=n!==void 0,s=o?n:r,a=St(t),c=p.useCallback(f=>{if(o){const d=typeof f=="function"?f(n):f;d!==n&&a(d)}else i(f)},[o,n,i,a]);return[s,c]}function uA({defaultProp:n,onChange:e}){const t=p.useState(n),[r]=t,i=p.useRef(r),o=St(e);return p.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}const $w={easeOutQuad:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},Sw={120:"120ms"};`${Sw[120]}${$w.easeOutQuad}`,`${Sw[120]}${$w.easeOutQuad}`;const yt={overlayFadeIn:Ut`
    from {
      opacity: 0;
    }
    to {
      opacity: 0.2;
    }
  `,modalPopIn:Ut`
    from {
      transform:translate(-50%, -50%)  scale(0.8);
      opacity: 0;
    }
    to {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
  `,modalPopOut:Ut`
    from {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
    to {
      transform:translate(-50%, -50%)  scale(0.8);
      opacity: 0;
    }
  `,popIn:Ut`
    from {
      transform: scale(0.8);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  `,popOut:Ut`
    from {
      transform: scale(1);
      opacity: 1;
    }
    to {
      transform: scale(0.8);
      opacity: 0;
    }
  `,slideDownIn:Ut`
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideDownOut:Ut`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  `,slideUpIn:Ut`
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideUpOut:Ut`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  `,fadeIn:Ut`
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  `,fadeOut:Ut`
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  `},hl=32,kw=2;p.forwardRef(({onLoadingStatusChange:n,delayMs:e=600,src:t,alt:r,fallback:i,preview:o=!1,...s},a)=>{const[c,f]=$r({onChange:n}),[h,d]=p.useState(!1),m=o&&c==="loaded",b=x=>{m&&d(x)};return C.jsxs(IC,{onOpenChange:b,children:[C.jsx(_C,{asChild:!0,children:C.jsxs(Gm,{ref:a,...s,children:[m?C.jsx(OK,{width:"100%",height:"100%",position:"absolute",background:"neutral0",zIndex:"overlay",style:{opacity:h?.4:0}}):null,C.jsx(DK,{src:t,alt:r,onLoadingStatusChange:f}),C.jsx(t_,{delayMs:e,children:C.jsx(Be,{fontWeight:"bold",textTransform:"uppercase",children:i})})]})}),m?C.jsx(LC,{children:C.jsx(IK,{side:"top",sideOffset:4,children:C.jsx(_K,{src:t,alt:r})})}):null]})});const fA=Te`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  overflow: hidden;
  user-select: none;
  overflow: hidden;
  border-radius: 50%;
`,hA=Te`
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: inherit;
`,Gm=V(J8)`
  position: relative;
  z-index: 0;
  ${fA}
  width: ${hl/10}rem;
  height: ${hl/10}rem;
  /* TODO: we should get the user email & hash it to turn it into a hex-value so different emails can consistently get a different background */
  background-color: ${n=>n.theme.colors.primary600};
  color: ${n=>n.theme.colors.neutral0};
`,OK=V(xe)`
  @media (prefers-reduced-motion: no-preference) {
    transition: opacity ${n=>n.theme.motion.timings[200]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,DK=V(e_)`
  ${hA}
`,IK=V(NC)`
  ${fA}
  width: ${hl*kw/10}rem;
  height: ${hl*kw/10}rem;

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.fadeIn} ${n=>n.theme.motion.timings[200]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,_K=V.img`
  ${hA}
`;p.forwardRef((n,e)=>C.jsx(LK,{...n,ref:e,tag:"div"}));const LK=V(be)`
  & > ${Gm} + ${Gm} {
    margin-left: -${hl/10/2}rem;
  }
`,NK=({active:n=!1,size:e="M",textColor:t="neutral600",backgroundColor:r="neutral150",variant:i,children:o,minWidth:s=5,...a})=>{const c=e==="S"?1:2,f=i?{backgroundColor:`${i}200`,textColor:`${i}700`}:{backgroundColor:r,textColor:t};return C.jsx(BK,{inline:!0,alignItems:"center",justifyContent:"center",minWidth:s,paddingLeft:c,paddingRight:c,background:n?"primary200":f.backgroundColor,$size:e,...a,children:C.jsx(Be,{variant:"sigma",textColor:n?"primary600":f.textColor,lineHeight:"1rem",children:o})})},BK=V(be)`
  border-radius: ${({theme:n,$size:e})=>e==="S"?"2px":n.borderRadius};
  ${({$size:n,theme:e})=>n==="S"?Te`
        padding-block: 0.3rem;
        padding-inline ${e.spaces[1]}
      `:Te`
      padding-block: 0.7rem;
      padding-inline ${e.spaces[2]}
    `};
`,FK=V(xe)`
  text-decoration: none;

  &:visited {
    color: inherit;
  }
`,_l=on(({href:n,disabled:e=!1,isExternal:t=!1,...r},i)=>C.jsx(FK,{tag:"a",ref:i,target:t?"_blank":void 0,rel:t?"noreferrer noopener":void 0,href:n,tabIndex:e?-1:void 0,"aria-disabled":e,pointerEvents:e?"none":void 0,cursor:e?void 0:"pointer",...r})),dA=()=>C.jsx(xe,{"aria-hidden":!0,paddingLeft:1,paddingRight:1,children:C.jsx(Be,{variant:"pi",textColor:"neutral500",children:"/"})});dA.displayName="Divider";const VK=V(be)`
  // CrumbLinks do have padding-x, because they need to have a
  // interaction effect, which mis-aligns the breadcrumbs on the left.
  // This normalizes the behavior by moving the first item to left by
  // the same amount it has inner padding
  & > *:first-child {
    margin-left: ${({theme:n})=>`calc(-1*${n.spaces[2]})`};
  }
`,WK=p.forwardRef(({label:n,children:e,...t},r)=>{const i=p.Children.toArray(e);return C.jsx(xe,{"aria-label":n,tag:"nav",...t,ref:r,children:C.jsx(VK,{tag:"ol",children:p.Children.map(i,(o,s)=>{const a=i.length>1&&s+1<i.length;return C.jsxs(be,{inline:!0,tag:"li",children:[o,a&&C.jsx(dA,{})]})})})})});WK.displayName="Breadcrumbs";const zK=p.forwardRef(({children:n,isCurrent:e=!1,...t},r)=>C.jsx(xe,{paddingLeft:2,paddingRight:2,paddingTop:1,paddingBottom:1,ref:r,children:C.jsx(Be,{variant:"pi",textColor:"neutral800",fontWeight:e?"bold":"regular","aria-current":e,...t,children:n})}));zK.displayName="Crumb";const jK=V(_l)`
  border-radius: ${({theme:n})=>n.borderRadius};
  color: ${({theme:n})=>n.colors.neutral600};
  font-size: ${({theme:n})=>n.fontSizes[1]};
  line-height: ${({theme:n})=>n.lineHeights[4]};
  padding: ${({theme:n})=>`${n.spaces[1]} ${n.spaces[2]}`};
  text-decoration: none;

  :hover,
  :focus {
    background-color: ${({theme:n})=>n.colors.neutral200};
    color: ${({theme:n})=>n.colors.neutral700};
  }
`,HK=p.forwardRef(({children:n,...e},t)=>C.jsx(jK,{ref:t,...e,children:n}));HK.displayName="CrumbLink";const Ns=n=>n.replaceAll(":","");function UK(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function pA(...n){return e=>n.forEach(t=>UK(t,e))}function bn(...n){return p.useCallback(pA(...n),n)}const KK=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Mi=KK()?p.useEffect:p.useLayoutEffect,qK=zw.useId||(()=>{});let GK=0;const ar=n=>{const[e,t]=p.useState(qK());return Mi(()=>{n||t(r=>r??String(GK++))},[n]),n?.toString()??(e||"")},Ll=(n,e,{selectorToWatch:t,skipWhen:r=!1})=>{const i=Sg(e);p.useEffect(()=>{if(r||!n.current)return;const o={root:n.current,rootMargin:"0px"},s=f=>{f.forEach(h=>{h.isIntersecting&&n.current&&n.current.scrollHeight>n.current.clientHeight&&i(h)})},a=new IntersectionObserver(s,o),c=n.current.querySelector(t);return c&&a.observe(c),()=>{a.disconnect()}},[r,i,t,n])},N0="success-light",B0="danger-light",ah="default",Nl="tertiary",Bl="secondary",mA="danger",gA="success",lh="ghost",F0=[N0,B0],YK=[ah,Nl,Bl,mA,gA,lh,...F0],XK=["XS","S","M","L"],Yn=n=>n===N0||n===B0?`${n.substring(0,n.lastIndexOf("-"))}`:n===Nl?"neutral":n===ah||n===Bl||YK.every(e=>e!==n)?"primary":`${n}`,bA=({theme:n})=>Te`
    border: 1px solid ${n.colors.neutral200};
    background: ${n.colors.neutral150};
    color: ${n.colors.neutral600};
    cursor: default;
  `,vA=({theme:n,$variant:e})=>[...F0,Bl].includes(e)?Te`
      background-color: ${n.colors.neutral0};
    `:e===Nl?Te`
      background-color: ${n.colors.neutral100};
    `:e===lh?Te`
      background-color: ${n.colors.neutral100};
    `:e===ah?Te`
      border: 1px solid ${n.colors.buttonPrimary500};
      background: ${n.colors.buttonPrimary500};
    `:Te`
    border: 1px solid ${n.colors[`${Yn(e)}500`]};
    background: ${n.colors[`${Yn(e)}500`]};
  `,xA=({theme:n,$variant:e})=>[...F0,Bl].includes(e)?Te`
      background-color: ${n.colors.neutral0};
      border: 1px solid ${n.colors[`${Yn(e)}600`]};
      color: ${n.colors[`${Yn(e)}600`]};
    `:e===Nl||e===lh?Te`
      background-color: ${n.colors.neutral150};
    `:Te`
    border: 1px solid ${n.colors[`${Yn(e)}600`]};
    background: ${n.colors[`${Yn(e)}600`]};
  `,yA=({theme:n,$variant:e})=>{switch(e){case B0:case N0:case Bl:return Te`
        border: 1px solid ${n.colors[`${Yn(e)}200`]};
        background: ${n.colors[`${Yn(e)}100`]};
        color: ${n.colors[`${Yn(e)}700`]};
      `;case Nl:return Te`
        border: 1px solid ${n.colors.neutral200};
        background: ${n.colors.neutral0};
        color: ${n.colors.neutral800};
      `;case lh:return Te`
        border: 1px solid transparent;
        background: transparent;
        color: ${n.colors.neutral800};

        svg {
          fill: ${n.colors.neutral500};
        }
      `;case gA:case mA:return Te`
        border: 1px solid ${n.colors[`${Yn(e)}600`]};
        background: ${n.colors[`${Yn(e)}600`]};
        color: ${n.colors.neutral0};
      `;default:return Te`
        border: 1px solid ${n.colors.buttonPrimary600};
        background: ${n.colors.buttonPrimary600};
        color: ${n.colors.buttonNeutral0};
      `}},dl=on(({variant:n=ah,startIcon:e,endIcon:t,disabled:r=!1,children:i,onClick:o,size:s=XK[1],loading:a=!1,fullWidth:c=!1,type:f="button",...h},d)=>{const m=r||a,b=w=>{!m&&o&&o(w)},x=h.tag??"button",v=x==="button"||x==="input"?f:void 0;return C.jsxs(JK,{ref:d,"aria-disabled":m,disabled:m,$size:s,$variant:n,tag:"button",onClick:b,hasRadius:!0,gap:2,inline:!0,alignItems:"center",justifyContent:"center",width:c?"100%":void 0,paddingLeft:4,paddingRight:4,cursor:"pointer",type:v,...h,children:[(e||a)&&C.jsx(be,{tag:"span","aria-hidden":!0,children:a?C.jsx(QK,{}):e}),C.jsx(Be,{variant:s==="S"?"pi":void 0,fontWeight:"bold",children:i}),t&&C.jsx(be,{tag:"span","aria-hidden":!0,children:t})]})}),ZK=Ut`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,QK=V(jw)`
  animation: ${ZK} 2s infinite linear;
  will-change: transform;
`,JK=V(be)`
  height: ${({theme:n,$size:e})=>n.sizes.button[e]};
  text-decoration: none;
  ${yA}

  &:hover {
    ${vA}
  }

  &:active {
    ${xA}
  }

  &[aria-disabled='true'] {
    ${bA}
  }

  @media (prefers-reduced-motion: no-preference) {
    transition:
      ${n=>n.theme.transitions.backgroundColor},
      ${n=>n.theme.transitions.color},
      border-color ${n=>n.theme.motion.timings[200]} ${n=>n.theme.motion.easings.easeOutQuad};
  }
`,wA=p.forwardRef(({children:n,description:e,label:t,defaultOpen:r,open:i,onOpenChange:o,delayDuration:s=500,disableHoverableContent:a,...c},f)=>!t&&!e?n:C.jsxs(IC,{defaultOpen:r,open:i,onOpenChange:o,delayDuration:s,disableHoverableContent:a,children:[C.jsx(_C,{asChild:!0,children:n}),C.jsx(LC,{children:C.jsx(eq,{ref:f,sideOffset:8,...c,children:C.jsx(Be,{variant:"pi",fontWeight:"bold",children:t||e})})})]})),eq=V(NC)`
  background-color: ${n=>n.theme.colors.neutral900};
  color: ${n=>n.theme.colors.neutral0};
  padding-inline: ${n=>n.theme.spaces[2]};
  padding-block: ${n=>n.theme.spaces[2]};
  border-radius: ${n=>n.theme.borderRadius};
  z-index: ${n=>n.theme.zIndices.tooltip};
  will-change: opacity;
  transform-origin: var(--radix-tooltip-content-transform-origin);

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.fadeIn} ${n=>n.theme.motion.timings[200]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,Ao=on(({label:n,background:e,children:t,disabled:r=!1,onClick:i,size:o="S",variant:s="tertiary",withTooltip:a=!0,type:c="button",...f},h)=>{const d=b=>{!r&&i&&i(b)},m=C.jsx(_a,{"aria-disabled":r,background:r?"neutral150":e,tag:"button",display:"inline-flex",justifyContent:"center",hasRadius:!0,cursor:"pointer",...f,ref:h,$size:o,onClick:d,$variant:s,type:c,children:C.jsx(fl,{label:n,children:t})});return a?C.jsx(wA,{label:n,children:m}):m}),_a=V(be)`
  text-decoration: none;

  ${n=>{switch(n.$size){case"XS":return Te`
          padding-block: 0.2rem;
          padding-inline: 0.2rem;
        `;case"S":return Te`
          padding-block: 0.7rem;
          padding-inline: 0.7rem;
        `;case"M":return Te`
          padding-block: 0.9rem;
          padding-inline: 0.9rem;
        `;case"L":return Te`
          padding-block: 1.1rem;
          padding-inline: 1.1rem;
        `}}}
  ${yA}
  ${n=>n.$variant==="tertiary"?Te`
          color: ${n.theme.colors.neutral500};
        `:""}

  &:hover {
    ${vA}
    ${n=>n.$variant==="tertiary"?Te`
            color: ${n.theme.colors.neutral600};
          `:""}
  }

  &:active {
    ${xA}
  }

  &[aria-disabled='true'] {
    ${bA}
  }

  @media (prefers-reduced-motion: no-preference) {
    transition:
      ${n=>n.theme.transitions.backgroundColor},
      ${n=>n.theme.transitions.color},
      border-color ${n=>n.theme.motion.timings[200]} ${n=>n.theme.motion.easings.easeOutQuad};
  }
`;V(be)`
  & ${_a}:first-child {
    border-radius: ${({theme:n})=>`${n.borderRadius} 0 0 ${n.borderRadius}`};
  }

  & ${_a}:last-child {
    border-radius: ${({theme:n})=>`0 ${n.borderRadius} ${n.borderRadius} 0`};
  }

  & ${_a} {
    border-radius: 0;

    & + ${_a} {
      border-left: none;
    }
  }
`;const tq=on(({children:n,href:e,disabled:t=!1,startIcon:r,endIcon:i,isExternal:o=!1,color:s="primary600",activeColor:a="primary700",...c},f)=>C.jsxs(nq,{ref:f,href:e,disabled:t,isExternal:o,$activeColor:a,$color:s,...c,children:[r,C.jsx(Be,{textColor:t?"neutral600":s,children:n}),i,e&&!i&&o&&C.jsx(O6,{fill:s})]})),nq=V(_l)`
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  gap: ${({theme:n})=>n.spaces[2]};
  pointer-events: ${({disabled:n})=>n?"none":void 0};

  svg {
    font-size: 1rem;

    path {
      fill: ${({disabled:n,$color:e,theme:t})=>n?t.colors.neutral600:t.colors[e||"primary600"]};
    }
  }

  &:hover {
    & > span {
      color: ${({theme:n,$color:e})=>n.colors[e||"primary600"]};
    }

    svg path {
      fill: ${({theme:n,$color:e})=>n.colors[e||"primary600"]};
    }
  }

  &:active {
    color: ${({theme:n,$activeColor:e})=>n.colors[e||"primary700"]};
  }

  ${sh};
`,rq=n=>{switch(n){case"danger":return"danger100";default:return"primary100"}},iq=(n,e)=>{switch(n){case"danger":return"danger700";default:return"neutral800"}},xp=(n,e)=>{switch(n){case"danger":return e?"danger500":"danger700";default:return e?"neutral300":"neutral500"}},oq=$9,sq=p.forwardRef(({label:n,endIcon:e=C.jsx(go,{width:"1.2rem",height:"1.2rem","aria-hidden":!0}),tag:t=dl,icon:r,...i},o)=>{const s={...i,ref:o,type:"button"};return C.jsx(S9,{asChild:!0,disabled:s.disabled,children:t===Ao?C.jsx(Ao,{label:n,variant:"tertiary",...s,children:r}):C.jsx(dl,{endIcon:e,variant:"ghost",...s})})}),aq=p.forwardRef(({children:n,intersectionId:e,onCloseAutoFocus:t,popoverPlacement:r="bottom-start",...i},o)=>{const[s,a]=r.split("-");return C.jsx(Q$,{children:C.jsx(lq,{align:a,side:s,loop:!0,onCloseAutoFocus:t,asChild:!0,children:C.jsxs(CA,{ref:o,direction:"column",borderColor:"neutral150",hasRadius:!0,background:"neutral0",shadow:"filterShadow",maxHeight:"15rem",padding:1,marginTop:1,marginBottom:1,alignItems:"flex-start",position:"relative",overflow:"auto",...i,children:[n,C.jsx(xe,{id:e,width:"100%",height:"1px"})]})})})}),CA=V(be)`
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
  z-index: ${n=>n.theme.zIndices.popover};

  &::-webkit-scrollbar {
    display: none;
  }
`,lq=V(k9)`
  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${n=>n.theme.motion.timings[200]};

    &[data-state='open'] {
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,$A=({theme:n,$variant:e})=>Te`
  text-align: left;
  width: 100%;
  border-radius: ${n.borderRadius};
  padding: ${n.spaces[2]} ${n.spaces[4]};

  &[aria-disabled='true'] {
    cursor: not-allowed;
  }

  &[data-highlighted] {
    background-color: ${n.colors[rq(e)]};
  }

  &:focus-visible {
    outline: none;

    &:after {
      content: none;
    }
  }

  color: ${n.colors[iq(e)]};
`,cq=V(be)`
  ${({theme:n,$variant:e})=>$A({theme:n,$variant:e})}
`;V(tq)`
  /* We include this here again because typically when people use OptionLink they provide an as prop which cancels the Box props */
  color: ${({theme:n,color:e})=>Du(n.colors,e,void 0)};
  text-decoration: none;

  &:hover {
    color: unset;

    > svg {
      path {
        fill: ${({theme:n,$variant:e})=>n.colors[xp(e,!1)]};
      }
    }
  }
  > svg {
    path {
      fill: ${({theme:n,$variant:e})=>n.colors[xp(e,!1)]};
    }
  }
  &[aria-disabled='true'] {
    pointer-events: none;

    > svg {
      path {
        fill: ${({theme:n,$variant:e})=>n.colors[xp(e,!0)]};
      }
    }
  }

  ${({theme:n,$variant:e})=>$A({theme:n,$variant:e})}
`;const uq=V(xe)`
  /* Negative horizontal margin to compensate Menu.Content's padding */
  margin: ${({theme:n})=>n.spaces[1]} -${({theme:n})=>n.spaces[1]};
  width: calc(100% + ${({theme:n})=>n.spaces[2]});
  /* Hide separator if there's nothing above in the menu */
  &:first-child {
    display: none;
  }
`;p.forwardRef((n,e)=>C.jsx(A9,{...n,asChild:!0,children:C.jsx(uq,{height:"1px",shrink:0,background:"neutral150",ref:e})}));p.forwardRef((n,e)=>C.jsx(E9,{asChild:!0,children:C.jsx(fq,{ref:e,variant:"sigma",textColor:"neutral600",...n})}));const fq=V(Be)`
  padding: ${({theme:n})=>n.spaces[2]} ${({theme:n})=>n.spaces[4]};
`;p.forwardRef(({disabled:n=!1,...e},t)=>C.jsx(R9,{asChild:!0,disabled:n,children:C.jsxs(hq,{ref:t,color:"neutral800",tag:"button",type:"button",background:"transparent",borderStyle:"none",gap:5,...e,children:[C.jsx(Be,{children:e.children}),C.jsx(Jm,{fill:"neutral500",height:"1.2rem",width:"1.2rem"})]})}));const hq=V(cq)`
  &[data-state='open'] {
    background-color: ${({theme:n})=>n.colors.primary100};
  }
`;p.forwardRef((n,e)=>C.jsx(Q$,{children:C.jsx(T9,{sideOffset:8,asChild:!0,children:C.jsx(CA,{ref:e,direction:"column",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral150",hasRadius:!0,background:"neutral0",shadow:"filterShadow",maxHeight:"15rem",padding:1,alignItems:"flex-start",overflow:"auto",...n})})}));const dq=oq,pq=sq,mq=aq,gq=p.forwardRef(({children:n,onOpen:e,onClose:t,popoverPlacement:r,onReachEnd:i,...o},s)=>{const a=p.useRef(null),c=bn(s,a),f=p.useRef(null),[h,d]=p.useState(!1),m=w=>{i&&i(w)},b=w=>{w&&typeof e=="function"?e():!w&&typeof t=="function"&&t(),d(w)},x=ar(),v=`intersection-${Ns(x)}`;return Ll(f,m,{selectorToWatch:`#${v}`,skipWhen:!h}),C.jsxs(dq,{onOpenChange:b,children:[C.jsx(pq,{ref:c,...o,children:o.label}),C.jsx(mq,{ref:f,intersectionId:v,popoverPlacement:r,children:n})]})}),bq=V(gq)`
  padding: ${({theme:n})=>`${n.spaces[1]} ${n.spaces[2]}`};
  height: unset;

  :hover,
  :focus {
    background-color: ${({theme:n})=>n.colors.neutral200};
  }
`,vq=p.forwardRef(({children:n,...e},t)=>C.jsx(bq,{ref:t,endIcon:null,size:"S",...e,children:n}));vq.displayName="CrumbSimpleMenu";const SA=p.createContext({id:""}),xq=()=>p.useContext(SA);p.forwardRef(({id:n,...e},t)=>{const r=ar(n),i=p.useMemo(()=>({id:r}),[r]);return C.jsx(SA.Provider,{value:i,children:C.jsx(xe,{ref:t,id:n,tabIndex:0,hasRadius:!0,background:"neutral0",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral150",shadow:"tableShadow",tag:"article","aria-labelledby":`${r}-title`,...e})})});const yq=p.forwardRef(({position:n,...e},t)=>C.jsx(wq,{ref:t,$position:n,...e,direction:"row",gap:2})),wq=V(be)`
  position: absolute;
  top: ${({theme:n})=>n.spaces[3]};
  right: ${({$position:n,theme:e})=>{if(n==="end")return e.spaces[3]}};
  left: ${({$position:n,theme:e})=>{if(n==="start")return e.spaces[3]}};
`;V.img`
  // inline flows is based on typography and displays an extra white space below the image
  // switch to block is required in order to make the img stick the bottom of the container
  // addition infos: https://stackoverflow.com/questions/5804256/image-inside-div-has-extra-space-below-the-image
  margin: 0;
  padding: 0;
  max-height: 100%;
  max-width: 100%;
  object-fit: contain;
`;V.div`
  display: flex;
  justify-content: center;
  height: ${({$size:n})=>n==="S"?"8.8rem":"16.4rem"};
  width: 100%;
  background: repeating-conic-gradient(${({theme:n})=>n.colors.neutral100} 0% 25%, transparent 0% 50%) 50% / 20px
    20px;
  border-top-left-radius: ${({theme:n})=>n.borderRadius};
  border-top-right-radius: ${({theme:n})=>n.borderRadius};
`;V.div`
  margin-left: auto;
  flex-shrink: 0;
`;V(NK)`
  margin-left: ${({theme:n})=>n.spaces[1]};
`;const Cq=({fill:n,...e})=>{const{colors:t}=B6();return C.jsx(xe,{tag:"svg",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:n?t[n]:void 0,...e,children:C.jsx("path",{d:"M29.0613 10.0613L13.0613 26.0613C12.9219 26.2011 12.7563 26.3121 12.574 26.3878C12.3917 26.4635 12.1962 26.5024 11.9988 26.5024C11.8013 26.5024 11.6059 26.4635 11.4235 26.3878C11.2412 26.3121 11.0756 26.2011 10.9363 26.0613L3.93626 19.0613C3.79673 18.9217 3.68605 18.7561 3.61053 18.5738C3.53502 18.3915 3.49615 18.1961 3.49615 17.9988C3.49615 17.8014 3.53502 17.606 3.61053 17.4237C3.68605 17.2414 3.79673 17.0758 3.93626 16.9363C4.07579 16.7967 4.24143 16.686 4.42374 16.6105C4.60604 16.535 4.80143 16.4962 4.99876 16.4962C5.19608 16.4962 5.39147 16.535 5.57378 16.6105C5.75608 16.686 5.92173 16.7967 6.06126 16.9363L12 22.875L26.9388 7.93876C27.2205 7.65697 27.6027 7.49866 28.0013 7.49866C28.3998 7.49866 28.782 7.65697 29.0638 7.93876C29.3455 8.22055 29.5039 8.60274 29.5039 9.00126C29.5039 9.39977 29.3455 9.78197 29.0638 10.0638L29.0613 10.0613Z"})})},Ew=p.forwardRef(({defaultChecked:n,checked:e,onCheckedChange:t,...r},i)=>{const o=p.useRef(null),[s,a]=$r({defaultProp:n,prop:e,onChange:t}),c=bn(o,i);return C.jsx($q,{ref:c,checked:s,onCheckedChange:a,...r,children:C.jsxs(Sq,{forceMount:!0,children:[s===!0?C.jsx(Cq,{width:"1.6rem",fill:"neutral0"}):null,s==="indeterminate"?C.jsx(D6,{fill:"neutral0"}):null]})})}),$q=V(N9)`
  background: ${n=>n.theme.colors.neutral0};
  width: 2rem;
  height: 2rem;
  border-radius: ${n=>n.theme.borderRadius};
  border: 1px solid ${n=>n.theme.colors.neutral300};
  position: relative;
  z-index: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  // this ensures the checkbox is always a square even in flex-containers.
  flex: 0 0 2rem;

  &[data-state='checked']:not([data-disabled]),
  &[data-state='indeterminate']:not([data-disabled]) {
    border: 1px solid ${n=>n.theme.colors.primary600};
    background-color: ${n=>n.theme.colors.primary600};
  }

  &[data-disabled] {
    background-color: ${n=>n.theme.colors.neutral200};
  }

  /* increase target size for touch devices https://www.w3.org/WAI/WCAG21/Understanding/target-size.html */
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    z-index: -1;
    min-width: 44px;
    min-height: 44px;
  }
`,Sq=V(B9)`
  display: inline-flex;
  pointer-events: auto !important;
  width: 100%;
  height: 100%;
  cursor: pointer;
  justify-content: center;
  align-items: center;

  &[data-disabled] {
    cursor: not-allowed;
  }
`,V0=p.forwardRef(({children:n,...e},t)=>{const r=ar(e.id);return n?C.jsxs(be,{gap:2,children:[C.jsx(Ew,{id:r,...e}),C.jsx(Be,{tag:"label",textColor:"neutral800",htmlFor:r,children:n})]}):C.jsx(Ew,{ref:t,...e})});p.forwardRef((n,e)=>{const{id:t}=xq();return C.jsx(yq,{position:"start",children:C.jsx(V0,{"aria-labelledby":`${t}-title`,...n,ref:e})})});V(xe)`
  word-break: break-all;
`;V(be)`
  border-bottom: 1px solid ${({theme:n})=>n.colors.neutral150};
`;const Kt={DOWN:"ArrowDown",UP:"ArrowUp",RIGHT:"ArrowRight",LEFT:"ArrowLeft",ESCAPE:"Escape",ENTER:"Enter",END:"End",HOME:"Home",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},kq=V(xe)`
  grid-template-columns: auto 1fr auto;
  grid-template-areas: 'startAction slides endAction';
`,Eq=V(be)`
  grid-area: slides;
`,Aw=V(xe)`
  grid-area: ${({$area:n})=>n};

  &:focus svg path,
  &:hover svg path {
    fill: ${({theme:n})=>n.colors.neutral900};
  }
`,Aq=p.forwardRef(({actions:n,children:e,label:t,nextLabel:r,onNext:i,onPrevious:o,previousLabel:s,secondaryLabel:a,selectedSlide:c,...f},h)=>{const d=p.useRef(null),m=p.useRef(null),b=p.Children.map(e,(v,w)=>p.cloneElement(v,{selected:w===c})),x=v=>{switch(v.key){case Kt.RIGHT:{v.preventDefault(),m?.current&&m.current.focus(),i&&i();break}case Kt.LEFT:{v.preventDefault(),d?.current&&d.current.focus(),o&&o();break}}};return C.jsx(xe,{ref:h,...f,onKeyDown:x,children:C.jsxs(xe,{padding:2,borderColor:"neutral200",hasRadius:!0,background:"neutral100",children:[C.jsxs(kq,{tag:"section","aria-roledescription":"carousel","aria-label":t,display:"grid",position:"relative",children:[b&&b.length>1&&C.jsxs(C.Fragment,{children:[C.jsx(Aw,{tag:"button",onClick:o,$area:"startAction",ref:d,type:"button",children:C.jsx(fl,{label:s,children:C.jsx(Hw,{width:"1.6rem",height:"1.6rem",fill:"neutral600"})})}),C.jsx(Aw,{tag:"button",onClick:i,$area:"endAction",ref:m,type:"button",children:C.jsx(fl,{label:r,children:C.jsx(Jm,{width:"1.6rem",height:"1.6rem",fill:"neutral600"})})})]}),C.jsx(Eq,{"aria-live":"polite",paddingLeft:2,paddingRight:2,width:"100%",overflow:"hidden",children:b}),n]}),a&&C.jsx(xe,{paddingTop:2,paddingLeft:4,paddingRight:4,children:C.jsx(wA,{label:a,children:C.jsx(be,{justifyContent:"center",children:C.jsx(Be,{variant:"pi",textColor:"neutral600",ellipsis:!0,children:a})})})})]})})}),Ki=(n="&")=>({theme:e,$hasError:t=!1})=>Te`
    outline: none;
    box-shadow: none;
    transition-property: border-color, box-shadow, fill;
    transition-duration: 0.2s;

    ${n}:focus-within {
      border: 1px solid ${t?e.colors.danger600:e.colors.primary600};
      box-shadow: ${t?e.colors.danger600:e.colors.primary600} 0px 0px 0px 2px;
    }
  `,[Rq,Mn]=Qs("Field",{}),Bs=p.forwardRef(({children:n,name:e,error:t=!1,hint:r,id:i,required:o=!1,...s},a)=>{const c=ar(i),[f,h]=p.useState();return C.jsx(Rq,{name:e,id:c,error:t,hint:r,required:o,labelNode:f,setLabelNode:h,children:C.jsx(be,{direction:"column",alignItems:"stretch",gap:1,ref:a,...s,children:n})})}),kA=p.forwardRef(({children:n,action:e,...t},r)=>{const{id:i,required:o,setLabelNode:s}=Mn("Label"),a=bn(r,s);return n?C.jsxs(Tq,{ref:a,variant:"pi",textColor:"neutral800",fontWeight:"bold",...t,id:`${i}-label`,htmlFor:i,tag:"label",ellipsis:!0,children:[n,o&&C.jsx(Be,{"aria-hidden":!0,lineHeight:"1em",textColor:"danger600",children:"*"}),e&&C.jsx(Mq,{marginLeft:1,children:e})]}):null}),Tq=V(Be)`
  display: flex;
`,Mq=V(be)`
  line-height: 0;
  color: ${({theme:n})=>n.colors.neutral500};
`,W0=p.forwardRef(({endAction:n,startAction:e,disabled:t=!1,onChange:r,hasError:i,required:o,className:s,size:a="M",...c},f)=>{const{id:h,error:d,hint:m,name:b,required:x}=Mn("Input");let v;d?v=`${h}-error`:m&&(v=`${h}-hint`);const w=!!d,$=p.useRef(null),S=p.useRef(null),E=bn(S,f),A=T=>{!t&&r&&r(T)};return p.useLayoutEffect(()=>{if($.current&&S.current){const T=$.current.offsetWidth,O=S.current;if(O){const P=T+8+16;O.style.paddingRight=`${P}px`}}},[n]),C.jsxs(Dq,{gap:2,justifyContent:"space-between",$hasError:w||i,$disabled:t,$size:a,$hasLeftAction:!!e,$hasRightAction:!!n,className:s,children:[e,C.jsx(Pq,{id:h,name:b,ref:E,$size:a,"aria-describedby":v,"aria-invalid":w||i,"aria-disabled":t,disabled:t,"data-disabled":t?"":void 0,onChange:A,"aria-required":x||o,$hasLeftAction:!!e,$hasRightAction:!!n,...c}),n&&C.jsx(Oq,{ref:$,children:n})]})}),Pq=V.input`
  border: none;
  border-radius: ${({theme:n})=>n.borderRadius};
  cursor: ${n=>n["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:n})=>n.colors.neutral800};
  font-weight: 400;
  font-size: ${n=>n.theme.fontSizes[2]};
  line-height: 2.2rem;
  display: block;
  width: 100%;
  background: inherit;

  &::placeholder {
    color: ${({theme:n})=>n.colors.neutral600};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }

  ${n=>{switch(n.$size){case"S":return Te`
          padding-inline-start: ${n.$hasLeftAction?0:n.theme.spaces[4]};
          padding-inline-end: ${n.$hasRightAction?0:n.theme.spaces[4]};
          padding-block: ${n.theme.spaces[1]};
        `;default:return Te`
          padding-inline-start: ${n.$hasLeftAction?0:n.theme.spaces[4]};
          padding-inline-end: ${n.$hasRightAction?0:n.theme.spaces[4]};
          padding-block: ${n.theme.spaces[2]};
        `}}}
`,Oq=V(be)`
  position: absolute;
  right: ${({theme:n})=>n.spaces[4]};
  top: 50%;
  transform: translateY(-50%);
`,Dq=V(be)`
  border: 1px solid ${({theme:n,$hasError:e})=>e?n.colors.danger600:n.colors.neutral200};
  border-radius: ${({theme:n})=>n.borderRadius};
  background: ${({theme:n})=>n.colors.neutral0};
  padding-inline-start: ${({$hasLeftAction:n,theme:e})=>n?e.spaces[4]:0};
  position: relative;

  ${Ki()}
  ${({theme:n,$disabled:e})=>e?Te`
          color: ${n.colors.neutral600};
          background: ${n.colors.neutral150};
        `:void 0};
`,Iq=()=>{const{id:n,hint:e,error:t}=Mn("Hint");return!e||t?null:C.jsx(Be,{variant:"pi",tag:"p",id:`${n}-hint`,textColor:"neutral600",children:e})},_q=()=>{const{id:n,error:e}=Mn("Error");return!e||typeof e!="string"?null:C.jsx(Be,{variant:"pi",tag:"p",id:`${n}-error`,textColor:"danger600","data-strapi-field-error":!0,children:e})};p.forwardRef(({label:n,children:e,...t},r)=>C.jsx(Lq,{justifyContent:"unset",background:"transparent",borderStyle:"none",...t,type:"button",tag:"button",ref:r,children:C.jsx(fl,{label:n,children:e})}));const Lq=V(be)`
  font-size: 1.6rem;
  padding: 0;
`;p.forwardRef(({actions:n,children:e,error:t,hint:r,label:i,labelAction:o,nextLabel:s,onNext:a,onPrevious:c,previousLabel:f,required:h,secondaryLabel:d,selectedSlide:m,id:b,...x},v)=>{const w=ar(b);return C.jsx(Bs,{hint:r,error:t,id:w,required:h,children:C.jsxs(be,{direction:"column",alignItems:"stretch",gap:1,children:[i&&C.jsx(kA,{action:o,children:i}),C.jsx(Aq,{ref:v,actions:n,label:i,nextLabel:s,onNext:a,onPrevious:c,previousLabel:f,secondaryLabel:d,selectedSlide:m,id:w,...x,children:e}),C.jsx(Iq,{}),C.jsx(_q,{})]})})});V(xe)`
  ${sA}
`;V(be)`
  display: ${({$selected:n})=>n?"flex":"none"};
`;const ch=p.forwardRef(({children:n,viewportRef:e,...t},r)=>C.jsxs(Nq,{ref:r,...t,children:[C.jsx(Bq,{ref:e,children:n}),C.jsx(Rw,{orientation:"vertical",children:C.jsx(Tw,{})}),C.jsx(Rw,{orientation:"horizontal",children:C.jsx(Tw,{})})]})),Nq=V(eL)`
  width: 100%;
  height: 100%;
  overflow: hidden;
  display: flex;
`,Bq=V(tL)`
  min-width: 100%;
`,Rw=V(nL)`
  display: flex;
  /* ensures no selection */
  user-select: none;
  /* disable browser handling of all panning and zooming gestures on touch devices */
  touch-action: none;

  &[data-orientation='vertical'] {
    width: 0.4rem;
    margin: 0.4rem;
  }

  &[data-orientation='horizontal'] {
    flex-direction: column;
    height: 0.4rem;
    margin: 0.4rem;
  }
`,Tw=V(rL)`
  position: relative;
  flex: 1;
  background-color: ${n=>n.theme.colors.neutral150};
  border-radius: 0.4rem;

  /* increase target size for touch devices https://www.w3.org/WAI/WCAG21/Understanding/target-size.html */
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    min-width: 44px;
    min-height: 44px;
  }
`,Fq="data:image/svg+xml,%3csvg%20width='63'%20height='63'%20viewBox='0%200%2063%2063'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M42.5563%2011.9816C39.484%2010.3071%2035.8575%209.29097%2032.3354%209.13521C28.6443%208.92888%2024.8295%209.72318%2021.3336%2011.4129C20.9123%2011.5901%2020.5376%2011.8101%2020.1722%2012.0249L20.0108%2012.1179C19.8774%2012.1951%2019.7441%2012.2724%2019.608%2012.3536C19.3253%2012.5146%2019.0492%2012.6744%2018.7544%2012.8792C18.5463%2013.0329%2018.3395%2013.1759%2018.1301%2013.323C17.5658%2013.7208%2016.9868%2014.1317%2016.4983%2014.5979C14.8476%2015.9524%2013.5571%2017.6075%2012.6071%2018.9214C10.4365%2022.1566%209.08622%2025.9567%208.80702%2029.6143L8.7764%2030.1588C8.73328%2030.9196%208.68476%2031.7057%208.75353%2032.4555C8.76648%2032.6084%208.7661%2032.7638%208.77506%2032.914C8.78895%2033.229%208.80152%2033.5373%208.846%2033.8672L9.07396%2035.4221C9.09756%2035.5764%209.1198%2035.7413%209.1633%2035.9263L9.65919%2037.9272L10.138%2039.2823C10.2729%2039.6673%2010.4158%2040.0751%2010.6%2040.43C12.0292%2043.637%2014.1425%2046.4578%2016.7063%2048.585C19.0508%2050.5296%2021.824%2052.0023%2024.7491%2052.8452L26.2371%2053.2376C26.3781%2053.2693%2026.4926%2053.2889%2026.6031%2053.3058L26.7775%2053.3311C27.0052%2053.3636%2027.2195%2053.3986%2027.4445%2053.435C27.8598%2053.5076%2028.2672%2053.5748%2028.7079%2053.6183L30.5641%2053.7229C30.9516%2053.7249%2031.3352%2053.7068%2031.7081%2053.6874C31.9039%2053.681%2032.0984%2053.6681%2032.3288%2053.662C34.5253%2053.4772%2036.5106%2053.0634%2038.0516%2052.4652C38.1769%2052.4171%2038.3008%2052.3796%2038.4234%2052.3355C38.6727%2052.2499%2038.9259%2052.167%2039.1432%2052.0599L40.8591%2051.2626L42.5702%2050.266C42.9009%2050.0682%2043.0205%2049.6414%2042.8282%2049.2984C42.632%2048.9526%2042.2034%2048.8308%2041.8634%2049.0166L40.1792%2049.9218L38.4995%2050.6224C38.3169%2050.6953%2038.121%2050.7534%2037.9224%2050.8155C37.7838%2050.8489%2037.6518%2050.8983%2037.5012%2050.9408C36.0711%2051.435%2034.2445%2051.7425%2032.244%2051.8346C32.0442%2051.8383%2031.8471%2051.8379%2031.654%2051.8403C31.3051%2051.8414%2030.9602%2051.8451%2030.6392%2051.8305L28.9177%2051.6725C28.5476%2051.619%2028.1695%2051.5427%2027.7848%2051.4678C27.5639%2051.4167%2027.3376%2051.3737%2027.1299%2051.3374L26.9529%2051.2987C26.8704%2051.2834%2026.7772%2051.2667%2026.7333%2051.2543L25.3466%2050.8322C22.7651%2049.9789%2020.33%2048.5729%2018.2942%2046.7557C16.1056%2044.7951%2014.3339%2042.2335%2013.1742%2039.3582C12.0276%2036.6013%2011.5988%2033.2792%2011.9716%2030.0076C12.3145%2027.0213%2013.3948%2024.1635%2015.1858%2021.5083C15.3034%2021.3339%2015.421%2021.1596%2015.5212%2021.0196C16.4309%2019.8688%2017.5408%2018.5589%2018.9483%2017.496C19.3367%2017.1525%2019.7862%2016.856%2020.2611%2016.5478C20.4878%2016.4009%2020.7079%2016.2553%2020.8907%2016.1306C21.0974%2016.0048%2021.3188%2015.8831%2021.5348%2015.7694C21.6761%2015.6975%2021.8162%2015.619%2021.9388%2015.5576L22.1002%2015.4646C22.4002%2015.3037%2022.6749%2015.1546%2022.9908%2015.039L24.1186%2014.5715C24.3399%2014.4844%2024.5718%2014.4159%2024.7997%2014.3447C24.953%2014.2982%2025.0982%2014.2635%2025.2635%2014.2078C25.786%2014.0182%2026.3283%2013.9112%2026.9105%2013.7965C27.117%2013.7571%2027.3302%2013.7163%2027.5608%2013.6585C27.7553%2013.611%2027.9737%2013.5969%2028.2082%2013.5762C28.364%2013.5603%2028.5172%2013.5483%2028.6318%2013.5333C28.7876%2013.5173%2028.9342%2013.5066%2029.0927%2013.4867C29.3285%2013.4555%2029.5456%2013.4347%2029.7494%2013.4337C30.0237%2013.44%2030.2994%2013.4357%2030.5777%2013.4274C31.0811%2013.421%2031.5579%2013.4197%2032.0318%2013.4914C34.9664%2013.7352%2037.7144%2014.6085%2040.2052%2016.0868C42.3489%2017.3655%2044.2716%2019.1525%2045.7607%2021.264C47.0255%2023.0628%2047.9756%2025.0528%2048.4928%2027.0393C48.572%2027.3176%2048.6299%2027.5931%2048.6839%2027.8659C48.7154%2028.0428%2048.7563%2028.2145%2048.7892%2028.3636C48.8037%2028.4541%2048.8208%2028.5406%2048.8445%2028.6258C48.8749%2028.7443%2048.8986%2028.864%2048.9116%2028.9651L48.9793%2029.6047C48.9922%2029.7748%2049.0132%2029.9331%2049.0301%2030.0887C49.0668%2030.3268%2049.0889%2030.5608%2049.0964%2030.7561L49.1083%2031.9001C49.1312%2032.3307%2049.089%2032.7116%2049.0522%2033.0673C49.0384%2033.2598%2049.0126%2033.4443%2049.0123%2033.5824C48.9961%2033.6926%2048.9918%2033.7935%2048.9836%2033.8917C48.9753%2034.0072%2048.9724%2034.1148%2048.9414%2034.2554L48.5449%2036.3059C48.3134%2037.8623%2049.3793%2039.3365%2050.9488%2039.5822C52.0417%2039.7601%2053.1536%2039.2819%2053.7711%2038.3664C54.0063%2038.0176%2054.1604%2037.6257%2054.2227%2037.2064L54.5217%2035.2574C54.5514%2035.0756%2054.572%2034.83%2054.5846%2034.5791L54.6028%2034.2338C54.6098%2034.0598%2054.6223%2033.8779%2054.6347%2033.6788C54.6734%2033.1052%2054.7163%2032.4479%2054.6619%2031.8058L54.5867%2030.4289C54.5622%2030.0952%2054.5097%2029.76%2054.4559%2029.4181C54.431%2029.2572%2054.4048%2029.0896%2054.3826%2028.9074L54.2687%2028.104C54.2332%2027.9244%2054.1804%2027.7273%2054.1329%2027.5396L54.0643%2027.2454C54.0195%2027.071%2053.9773%2026.8927%2053.9338%2026.7076C53.8455%2026.3309%2053.7479%2025.9422%2053.613%2025.5571C52.84%2023.0292%2051.5383%2020.5194%2049.8338%2018.2799C47.8544%2015.682%2045.3333%2013.5087%2042.5563%2011.9816Z'%20fill='%234945FF'/%3e%3c/svg%3e",Vq=p.forwardRef(({children:n,small:e=!1,...t},r)=>C.jsxs("div",{role:"alert","aria-live":"assertive",ref:r,...t,children:[C.jsx(Js,{children:n}),C.jsx(zq,{src:Fq,"aria-hidden":!0,$small:e})]})),Wq=Ut`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,zq=V.img`
  animation: ${Wq} 1s infinite linear;
  will-change: transform;
  ${({$small:n,theme:e})=>n&&`width: ${e.spaces[6]}; height: ${e.spaces[6]};`}
`;function cs(n,e,t){let r=t.initialDeps??[],i;function o(){var s,a,c,f;let h;t.key&&((s=t.debug)!=null&&s.call(t))&&(h=Date.now());const d=n();if(!(d.length!==r.length||d.some((x,v)=>r[v]!==x)))return i;r=d;let b;if(t.key&&((a=t.debug)!=null&&a.call(t))&&(b=Date.now()),i=e(...d),t.key&&((c=t.debug)!=null&&c.call(t))){const x=Math.round((Date.now()-h)*100)/100,v=Math.round((Date.now()-b)*100)/100,w=v/16,$=(S,E)=>{for(S=String(S);S.length<E;)S=" "+S;return S};console.info(`%c⏱ ${$(v,5)} /${$(x,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,t?.key)}return(f=t?.onChange)==null||f.call(t,i),i}return o.updateDeps=s=>{r=s},o}function Mw(n,e){if(n===void 0)throw new Error("Unexpected undefined");return n}const jq=(n,e)=>Math.abs(n-e)<1.01,Hq=(n,e,t)=>{let r;return function(...i){n.clearTimeout(r),r=n.setTimeout(()=>e.apply(this,i),t)}},Pw=n=>{const{offsetWidth:e,offsetHeight:t}=n;return{width:e,height:t}},Uq=n=>n,Kq=n=>{const e=Math.max(n.startIndex-n.overscan,0),t=Math.min(n.endIndex+n.overscan,n.count-1),r=[];for(let i=e;i<=t;i++)r.push(i);return r},qq=(n,e)=>{const t=n.scrollElement;if(!t)return;const r=n.targetWindow;if(!r)return;const i=s=>{const{width:a,height:c}=s;e({width:Math.round(a),height:Math.round(c)})};if(i(Pw(t)),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=()=>{const c=s[0];if(c?.borderBoxSize){const f=c.borderBoxSize[0];if(f){i({width:f.inlineSize,height:f.blockSize});return}}i(Pw(t))};n.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return o.observe(t,{box:"border-box"}),()=>{o.unobserve(t)}},Ow={passive:!0},Dw=typeof window>"u"?!0:"onscrollend"in window,Gq=(n,e)=>{const t=n.scrollElement;if(!t)return;const r=n.targetWindow;if(!r)return;let i=0;const o=n.options.useScrollendEvent&&Dw?()=>{}:Hq(r,()=>{e(i,!1)},n.options.isScrollingResetDelay),s=h=>()=>{const{horizontal:d,isRtl:m}=n.options;i=d?t.scrollLeft*(m&&-1||1):t.scrollTop,o(),e(i,h)},a=s(!0),c=s(!1);c(),t.addEventListener("scroll",a,Ow);const f=n.options.useScrollendEvent&&Dw;return f&&t.addEventListener("scrollend",c,Ow),()=>{t.removeEventListener("scroll",a),f&&t.removeEventListener("scrollend",c)}},Yq=(n,e,t)=>{if(e?.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[t.options.horizontal?"inlineSize":"blockSize"])}return n[t.options.horizontal?"offsetWidth":"offsetHeight"]},Xq=(n,{adjustments:e=0,behavior:t},r)=>{var i,o;const s=n+e;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:t})};class Zq{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const r=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{const s=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),t=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([r,i])=>{typeof i>"u"&&delete t[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Uq,rangeExtractor:Kq,onChange:()=>{},measureElement:Yq,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,t)},this.maybeNotify=cs(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:"maybeNotify",debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=t[s];if(i.has(a.lane))continue;const c=o.get(a.lane);if(c==null||a.end>c.end?o.set(a.lane,a):a.end<c.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=cs(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,r,i,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=cs(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const f=this.measurementsCache.slice(0,c);for(let h=c;h<t;h++){const d=o(h),m=this.options.lanes===1?f[h-1]:this.getFurthestMeasurement(f,h),b=m?m.end+this.options.gap:r+i,x=a.get(d),v=typeof x=="number"?x:this.options.estimateSize(h),w=b+v,$=m?m.lane:h%this.options.lanes;f[h]={index:h,start:b,size:v,end:w,key:d,lane:$}}return this.measurementsCache=f,f},{key:"getMeasurements",debug:()=>this.options.debug}),this.calculateRange=cs(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,r,i,o)=>this.range=t.length>0&&r>0?Qq({measurements:t,outerSize:r,scrollOffset:i,lanes:o}):null,{key:"calculateRange",debug:()=>this.options.debug}),this.getVirtualIndexes=cs(()=>{let t=null,r=null;const i=this.calculateRange();return i&&(t=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,r]},(t,r,i,o,s)=>o===null||s===null?[]:t({startIndex:o,endIndex:s,overscan:r,count:i}),{key:"getVirtualIndexes",debug:()=>this.options.debug}),this.indexFromElement=t=>{const r=this.options.indexAttribute,i=t.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(t,r)=>{const i=this.indexFromElement(t),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==t&&(a&&this.observer.unobserve(a),this.observer.observe(t),this.elementsCache.set(s,t)),t.isConnected&&this.resizeItem(i,this.options.measureElement(t,r,this))},this.resizeItem=(t,r)=>{const i=this.measurementsCache[t];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&(this.options.debug&&console.info("correction",s),this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0})),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(t,void 0)},this.getVirtualItems=cs(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,r)=>{const i=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],c=r[a];i.push(c)}return i},{key:"getVirtualItems",debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const r=this.getMeasurements();if(r.length!==0)return Mw(r[EA(0,r.length-1,i=>Mw(r[i]).start,t)])},this.getOffsetForAlignment=(t,r,i=0)=>{const o=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=t>=s+o?"end":"start"),r==="center"?t+=(i-o)/2:r==="end"&&(t-=o);const a=this.getTotalSize()+this.options.scrollMargin-o;return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,r="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const i=this.measurementsCache[t];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(t,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let o=0;const s=10,a=f=>{if(!this.targetWindow)return;const h=this.getOffsetForIndex(t,f);if(!h){console.warn("Failed to get offset for index:",t);return}const[d,m]=h;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const b=this.getScrollOffset(),x=this.getOffsetForIndex(t,m);if(!x){console.warn("Failed to get offset for index:",t);return}jq(x[0],b)||c(m)})},c=f=>{this.targetWindow&&(o++,o<s?(this.options.debug&&console.info("Schedule retry",o,s),this.targetWindow.requestAnimationFrame(()=>a(f))):console.warn(`Failed to scroll to index ${t} after ${s} attempts.`))};a(r)},this.scrollBy=(t,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var t;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((t=r[r.length-1])==null?void 0:t.end)??0;else{const o=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&o.some(a=>a===null);){const a=r[s];o[a.lane]===null&&(o[a.lane]=a.end),s--}i=Math.max(...o.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:r,behavior:i})=>{this.options.scrollToFn(t,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const EA=(n,e,t,r)=>{for(;n<=e;){const i=(n+e)/2|0,o=t(i);if(o<r)n=i+1;else if(o>r)e=i-1;else return i}return n>0?n-1:0};function Qq({measurements:n,outerSize:e,scrollOffset:t,lanes:r}){const i=n.length-1,o=c=>n[c].start;if(n.length<=r)return{startIndex:0,endIndex:i};let s=EA(0,i,o,t),a=s;if(r===1)for(;a<i&&n[a].end<t+e;)a++;else if(r>1){const c=Array(r).fill(0);for(;a<i&&c.some(h=>h<t+e);){const h=n[a];c[h.lane]=h.end,a++}const f=Array(r).fill(t+e);for(;s>=0&&f.some(h=>h>=t);){const h=n[s];f[h.lane]=h.start,s--}s=Math.max(0,s-s%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:s,endIndex:a}}const Iw=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Jq(n){const e=p.useReducer(()=>({}),{})[1],t={...n,onChange:(i,o)=>{var s;o?Ar.flushSync(e):e(),(s=n.onChange)==null||s.call(n,i,o)}},[r]=p.useState(()=>new Zq(t));return r.setOptions(t),Iw(()=>r._didMount(),[]),Iw(()=>r._willUpdate()),r}function eG(n){return Jq({observeElementRect:qq,observeElementOffset:Gq,scrollToFn:Xq,...n})}on((n,e)=>{const{gap:t=0,gridCols:r=12,...i}=n;return C.jsx(tG,{ref:e,$gap:t,$gridCols:r,...i})});const tG=V(xe)`
  display: grid;
  grid-template-columns: repeat(${({$gridCols:n})=>n}, 1fr);
  ${({theme:n,$gap:e})=>oh({gap:e},n)}
`;on(({col:n,s:e,xs:t,m:r,...i},o)=>C.jsx(nG,{ref:o,$col:n,$s:e,$xs:t,$m:r,...i}));const nG=V(be)`
  grid-column: span ${({$xs:n,$col:e})=>n??e??12};
  max-width: 100%;

  ${({theme:n})=>n.breakpoints.small} {
    grid-column: span ${({$s:n,$xs:e,$col:t})=>n??e??t??12};
  }

  ${({theme:n})=>n.breakpoints.medium} {
    grid-column: span ${({$m:n,$s:e,$xs:t,$col:r})=>n??e??t??r??12};
  }

  ${({theme:n})=>n.breakpoints.large} {
    grid-column: span ${({$col:n,$m:e,$s:t,$xs:r})=>n??e??t??r??12};
  }
`,rG=({children:n,estimatedItemSize:e=40,overscan:t=10,itemCount:r,renderItem:i})=>{const o=p.useRef(null),[s,a]=p.useState(!1),c=p.useRef(!0);p.useEffect(()=>(c.current=!0,typeof p.startTransition=="function"&&p.startTransition(()=>{c.current&&a(!0)}),()=>{c.current=!1}),[]);const f=p.useMemo(()=>i&&r!==void 0?[]:p.Children.toArray(n),[n,i,r]),h=r??f.length,d=eG({count:h,getScrollElement:()=>o.current??null,estimateSize:p.useCallback(()=>e,[e]),overscan:t,scrollMargin:0,measureElement:void 0,lanes:1}),m=s&&c.current?d.getVirtualItems():[];return s?C.jsx(xe,{ref:o,height:`${d.getTotalSize()>0?d.getTotalSize():0}px`,width:"100%",position:"relative","data-testid":"virtualized-list",style:{willChange:"transform"},children:m.map(b=>{const x=i?i(b.index):f[b.index];return C.jsx(xe,{"data-index":b.index,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translate3d(0, ${b.start}px, 0)`},children:x},b.key)})}):C.jsx(xe,{ref:o,height:"40px",width:"100%",position:"relative"})},iG=p.forwardRef(({allowCustomValue:n,autocomplete:e,children:t,className:r,clearLabel:i="Clear",creatable:o=!1,creatableDisabled:s=!1,creatableStartIcon:a,createMessage:c=ve=>`Create "${ve}"`,defaultFilterValue:f,defaultTextValue:h,defaultOpen:d=!1,open:m,onOpenChange:b,disabled:x=!1,hasError:v,id:w,filterValue:$,hasMoreItems:S=!1,isPrintableCharacter:E,loading:A=!1,loadingMessage:T="Loading content...",name:O,noOptionsMessage:P=()=>"No results found",onChange:L,onClear:B,onCreateOption:F,onFilterValueChange:K,onInputChange:z,onTextValueChange:ee,onLoadMore:Z,placeholder:re="Select or enter a value",required:ue=!1,size:Q="M",startIcon:ie,textValue:q,value:le,...he},Oe)=>{const[ve,Ue]=$r({prop:m,defaultProp:d,onChange:b}),[Ee,ze]=$r({prop:q,defaultProp:n&&!h?le:h,onChange:ee}),[de,Ae]=$r({prop:$,defaultProp:f,onChange:K}),ke=p.useRef(null),_e=p.useRef(null),Le=bn(_e,Oe),te=p.useRef(null),at=Nt=>{B&&!x&&(ze(""),Ae(""),B(Nt),_e.current.focus())},Re=Nt=>{Ue(Nt)},Ie=Nt=>{ze(Nt)},Lt=Nt=>{Ae(Nt)},gt=Nt=>{z&&z(Nt)},Do=Nt=>{L&&L(Nt)},ta=Nt=>{Z&&S&&!A&&Z(Nt)},lr=()=>{F&&Ee&&o!=="visible"?F(Ee):F&&o==="visible"&&(F(),Ue(!1))},Pt=ar(),ai=`intersection-${Ns(Pt)}`;Ll(ke,ta,{selectorToWatch:`#${ai}`,skipWhen:!ve});const{error:li,...Io}=Mn("Combobox"),qi=!!li||v,na=Io.id??w,Gi=Io.name??O,ci=Io.required||ue,_o=p.Children.toArray(t).filter(Boolean).length,ra=!!!(Ee&&Ee!==""||de&&de!=="")&&_o>100;let Yi;return li?Yi=`${na}-error`:Io.hint&&(Yi=`${na}-hint`),C.jsxs(Zn.Root,{autocomplete:e||(o===!0?"list":"both"),onOpenChange:Re,open:ve,onTextValueChange:Ie,textValue:Ee,allowCustomValue:!!o||n,disabled:x,required:ci,value:le,onValueChange:Do,filterValue:de,onFilterValueChange:Lt,isPrintableCharacter:E,visible:o==="visible",children:[C.jsxs(oG,{$hasError:qi,$size:Q,className:r,children:[C.jsxs(be,{flex:"1",tag:"span",gap:3,children:[ie?C.jsx(be,{flex:"0 0 1.6rem",tag:"span","aria-hidden":!0,children:ie}):null,C.jsx(sG,{placeholder:re,id:na,"aria-invalid":!!li,onChange:gt,ref:Le,name:Gi,"aria-describedby":Yi,...he})]}),C.jsxs(be,{tag:"span",gap:3,children:[Ee&&B?C.jsx(Ao,{size:"XS",variant:"ghost",onClick:at,"aria-disabled":x,"aria-label":i,label:i,ref:te,children:C.jsx(Fs,{})}):null,C.jsx(aG,{children:C.jsx(go,{fill:"neutral500"})})]})]}),C.jsx(Zn.Portal,{children:C.jsx(lG,{sideOffset:4,children:C.jsxs(Zn.Viewport,{ref:ke,children:[C.jsxs(uG,{children:[ra?C.jsx(rG,{itemCount:_o,children:t}):t,o!==!0&&!A?C.jsx(Zn.NoValueFound,{asChild:!0,children:C.jsx(Ym,{$hasHover:!1,children:C.jsx(Be,{children:P(Ee??"")})})}):null,A?C.jsx(be,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2,children:C.jsx(Vq,{small:!0,children:T})}):null,C.jsx(xe,{id:ai,width:"100%",height:"1px"})]}),o?C.jsx(cG,{onPointerUp:lr,onClick:lr,disabled:s,asChild:!0,children:C.jsx(Ym,{children:C.jsxs(be,{gap:2,children:[a&&C.jsx(xe,{tag:"span","aria-hidden":!0,display:"inline-flex",children:a}),C.jsx(Be,{children:c(Ee??"")})]})})}):null]})})})]})}),oG=V(Zn.Trigger)`
  position: relative;
  border: 1px solid ${({theme:n,$hasError:e})=>e?n.colors.danger600:n.colors.neutral200};
  border-radius: ${({theme:n})=>n.borderRadius};
  background: ${({theme:n})=>n.colors.neutral0};
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: ${({theme:n})=>n.spaces[4]};

  ${n=>{switch(n.$size){case"S":return Te`
          padding-inline-start: ${({theme:e})=>e.spaces[4]};
          padding-inline-end: ${({theme:e})=>e.spaces[3]};
          padding-block: ${({theme:e})=>e.spaces[1]};
        `;default:return Te`
          padding-inline-start: ${({theme:e})=>e.spaces[4]};
          padding-inline-end: ${({theme:e})=>e.spaces[3]};
          padding-block: ${({theme:e})=>e.spaces[2]};
        `}}}

  &[data-disabled] {
    color: ${({theme:n})=>n.colors.neutral600};
    background: ${({theme:n})=>n.colors.neutral150};
    cursor: not-allowed;
  }

  /* Required to ensure the below inputFocusStyles are adhered too */
  &:focus-visible {
    outline: none;
  }

  ${({theme:n,$hasError:e})=>Ki()({theme:n,$hasError:e})};
`,sG=V(Zn.TextInput)`
  width: 100%;
  font-size: 1.4rem;
  line-height: 2.2rem;
  color: ${({theme:n})=>n.colors.neutral800};
  padding: 0;
  border: none;
  background-color: transparent;

  &:focus-visible {
    outline: none;
  }

  &::placeholder {
    color: ${({theme:n})=>n.colors.neutral600};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    cursor: inherit;
  }
`,aG=V(Zn.Icon)`
  border: none;
  background: transparent;
  padding: 0;
  color: ${({theme:n})=>n.colors.neutral600};
  display: flex;

  &[aria-disabled='true'] {
    cursor: inherit;
  }
`,lG=V(Zn.Content)`
  background: ${({theme:n})=>n.colors.neutral0};
  box-shadow: ${({theme:n})=>n.shadows.filterShadow};
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
  border-radius: ${({theme:n})=>n.borderRadius};
  width: var(--radix-combobox-trigger-width);
  /* This is from the design-system figma file. */
  max-height: 15rem;
  z-index: ${({theme:n})=>n.zIndices.popover};

  &:focus-visible {
    outline: ${({theme:n})=>`2px solid ${n.colors.primary600}`};
    outline-offset: 2px;
  }

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${n=>n.theme.motion.timings[200]};

    /* The select can't animate out yet, watch https://github.com/radix-ui/primitives/issues/1893, or take a look and solve it yourself. */
    &[data-state='open'] {
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,cG=V(Zn.CreateItem)`
  && {
    border-top: 1px solid ${({theme:n})=>n.colors.neutral150};
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    background: ${({theme:n})=>n.colors.neutral0};
    cursor: pointer;
    padding: ${({theme:n})=>n.spaces[1]};
    position: sticky;
    bottom: 0;
    left: 0;
  }
  &&:hover,
  &&[data-highlighted] {
    background: ${({theme:n})=>n.colors.neutral0};
  }
  &&[data-disabled] {
    color: ${({theme:n})=>n.colors.neutral600};
    cursor: not-allowed;
  }
  &&[data-disabled] svg {
    fill: ${({theme:n})=>n.colors.neutral300};
  }
  && > div {
    padding: ${({theme:n})=>n.spaces[2]} ${({theme:n})=>n.spaces[4]};
  }
  && > div:hover,
  &&[data-highlighted] > div {
    background-color: ${({theme:n})=>n.colors.primary100};
    border-radius: ${({theme:n})=>n.borderRadius};
  }
  &&[data-disabled] > div {
    background-color: inherit;
  }
`,uG=V(ch)`
  padding: ${({theme:n})=>n.spaces[1]};
`,fG=p.forwardRef(({children:n,value:e,disabled:t,textValue:r,...i},o)=>C.jsx(Zn.ComboboxItem,{asChild:!0,value:e,disabled:t,textValue:r,children:C.jsx(Ym,{ref:o,...i,children:C.jsx(Zn.ItemText,{asChild:!0,children:C.jsx(Be,{children:n})})})})),Ym=V.div`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  padding: ${({theme:n})=>n.spaces[2]} ${({theme:n})=>n.spaces[4]};
  background-color: ${({theme:n})=>n.colors.neutral0};
  border-radius: ${({theme:n})=>n.borderRadius};
  user-select: none;

  &[data-state='checked'] {
    background-color: ${({theme:n})=>n.colors.primary100};
    color: ${({theme:n})=>n.colors.primary600};
    font-weight: bold;
  }

  &:hover,
  &[data-highlighted] {
    outline: none;
    background-color: ${({theme:n,$hasHover:e=!0})=>e?n.colors.primary100:n.colors.neutral0};
  }

  &[data-highlighted] {
    color: ${({theme:n})=>n.colors.primary600};
    font-weight: bold;
  }
`,AA=(n,e)=>`${n}${Math.floor(e*255).toString(16).padStart(2,"0")}`;p.forwardRef((n,e)=>C.jsx(qL,{...n,asChild:!0,ref:e}));p.forwardRef((n,e)=>C.jsx(GL,{children:C.jsx(hG,{children:C.jsx(dG,{ref:e,...n})})}));const hG=V(YL)`
  background: ${n=>AA(n.theme.colors.neutral800,.2)};
  position: fixed;
  inset: 0;
  z-index: ${n=>n.theme.zIndices.overlay};
  will-change: opacity;

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.overlayFadeIn} ${n=>n.theme.motion.timings[200]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,dG=V(XL)`
  max-width: 42rem;
  height: min-content;
  width: calc(100% - ${({theme:n})=>n.spaces[8]});
  overflow: hidden;
  margin: 0 auto;
  display: flex;
  flex-direction: column;

  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  border-radius: ${n=>n.theme.borderRadius};
  background-color: ${n=>n.theme.colors.neutral0};
  box-shadow: ${n=>n.theme.shadows.popupShadow};
  z-index: ${n=>n.theme.zIndices.modal};

  @media (prefers-reduced-motion: no-preference) {
    &[data-state='open'] {
      animation-duration: ${n=>n.theme.motion.timings[200]};
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};
      animation-name: ${yt.modalPopIn};
    }

    &[data-state='closed'] {
      animation-duration: ${n=>n.theme.motion.timings[120]};
      animation-timing-function: ${n=>n.theme.motion.easings.easeOutQuad};
      animation-name: ${yt.modalPopOut};
    }
  }
`;p.forwardRef(({children:n,...e},t)=>C.jsx(JL,{asChild:!0,children:C.jsx(pG,{tag:"h2",variant:"beta",ref:t,padding:6,fontWeight:"bold",...e,children:n})}));const pG=V(Be)`
  display: flex;
  justify-content: center;
  border-bottom: solid 1px ${n=>n.theme.colors.neutral150};
`;p.forwardRef(({children:n,icon:e,...t},r)=>C.jsx(be,{ref:r,gap:2,direction:"column",paddingTop:8,paddingBottom:8,paddingLeft:6,paddingRight:6,...t,children:typeof n=="string"?C.jsxs(C.Fragment,{children:[e?p.cloneElement(e,{width:24,height:24}):null,C.jsx(mG,{children:n})]}):n}));const mG=p.forwardRef((n,e)=>C.jsx(eN,{asChild:!0,children:C.jsx(Be,{ref:e,variant:"omega",...n,tag:"p"})}));p.forwardRef((n,e)=>C.jsx(gG,{ref:e,gap:2,padding:4,justifyContent:"space-between",...n,tag:"footer"}));const gG=V(be)`
  border-top: solid 1px ${n=>n.theme.colors.neutral150};
  flex: 1;
`;p.forwardRef((n,e)=>C.jsx(QL,{...n,asChild:!0,ref:e}));p.forwardRef((n,e)=>C.jsx(ZL,{...n,asChild:!0,ref:e}));function Yr(n,e){const t=p.useRef(null);return e&&t.current&&bG(e,t.current)&&(e=t.current),t.current=e??null,p.useMemo(()=>new gD(n,e),[n,e])}function bG(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t)if(e[i]!==n[i])return!1;return!0}I6`
${Te`
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  * {
    margin: 0;
  }

  html {
    /* Sets 1rem === 10px */
    font-size: 62.5%;
  }

  body {
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
      'Helvetica Neue', sans-serif;
    color: ${({theme:n})=>n.colors.neutral800};
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
  }

  img,
  picture,
  video,
  canvas {
    display: block;
    max-width: 100%;
  }

  input,
  button,
  textarea,
  select {
    padding: 0;
    font: inherit;
  }

  button {
    border: unset;
    background: unset;
    padding: unset;
    margin: unset;
  }

  p,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    overflow-wrap: break-word;
    font: unset;
  }

  #root {
    isolation: isolate;
  }

  ol,
  ul {
    list-style: none;
    padding: unset;
    margin: unset;
  }

  table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  *:focus-visible {
    outline: 2px solid ${({theme:n})=>n.colors.primary600};
    outline-offset: 2px;
  }

  *:has(> :disabled:not(button)) {
    cursor: not-allowed !important;
  }

  [aria-disabled='true']:not(button) {
    cursor: not-allowed !important;
  }

  /* Focusing the button with a mouse, touch, or stylus will show a subtle drop shadow. */
  *:focus:not(:focus-visible) {
    outline: none;
  }

  .lock-body-scroll {
    height: 100vh;
    overflow-y: hidden;
  }
`}
`;const _w="en-EN",vG=()=>typeof navigator>"u"?_w:navigator.language?navigator.language:_w,[oZ,uh]=Qs("StrapiDesignSystem",{locale:vG()}),xG=DD,RA=p.forwardRef(({container:n=globalThis?.document?.body,...e},t)=>n?Ar.createPortal(C.jsx(xe,{ref:t,...e}),n):null);RA.displayName="Portal";const yG=p.forwardRef(({onClear:n,clearLabel:e="Clear",startIcon:t,disabled:r,hasError:i,children:o,id:s,size:a="M",withTags:c,...f},h)=>{const d=p.useRef(null),m=v=>{n&&!r&&(n(v),d.current.focus())},{labelNode:b}=Mn("SelectTrigger"),x=bn(d,h);return C.jsx(ir.Trigger,{asChild:!0,children:C.jsxs(wG,{"aria-disabled":r,$hasError:i,ref:x,alignItems:"center",justifyContent:"space-between",position:"relative",overflow:"hidden",hasRadius:!0,background:r?"neutral150":"neutral0",gap:4,cursor:"default","aria-labelledby":b?`${s}-label`:void 0,$size:a,$withTags:c,...f,children:[C.jsxs(be,{flex:"1",tag:"span",gap:3,children:[t&&C.jsx(be,{tag:"span","aria-hidden":!0,children:t}),o]}),C.jsxs(be,{tag:"span",gap:3,children:[n?C.jsx(Ao,{size:"XS",variant:"ghost",onClick:m,"aria-disabled":r,"aria-label":e,label:e,children:C.jsx(Fs,{})}):null,C.jsx(CG,{children:C.jsx(go,{})})]})]})})}),wG=V(be)`
  border: 1px solid ${({theme:n,$hasError:e})=>e?n.colors.danger600:n.colors.neutral200};
  ${n=>{switch(n.$size){case"S":return Te`
          padding-block: ${n.theme.spaces[1]};
          padding-inline-start: ${n.$withTags?n.theme.spaces[1]:n.theme.spaces[4]};
          padding-inline-end: ${n.theme.spaces[3]};
        `;default:return Te`
          padding-block: ${n.$withTags?"0.3rem":n.theme.spaces[2]};
          padding-inline-start: ${n.$withTags?n.theme.spaces[1]:n.theme.spaces[4]};
          padding-inline-end: ${n.theme.spaces[3]};
        `}}}
  cursor: pointer;

  &[aria-disabled='true'] {
    color: ${n=>n.theme.colors.neutral500};
  }

  /* Required to ensure the below inputFocusStyles are adhered too */
  &:focus-visible {
    outline: none;
  }

  ${({theme:n,$hasError:e})=>Ki()({theme:n,$hasError:e})};
`,CG=V(ir.Icon)`
  display: flex;
  & > svg {
    fill: ${({theme:n})=>n.colors.neutral500};
  }
`,$G=p.forwardRef(({children:n,placeholder:e,...t},r)=>C.jsx(SG,{ref:r,ellipsis:!0,...t,children:C.jsx(kG,{placeholder:e,children:n})})),SG=V(Be)`
  flex: 1;
  font-size: 1.4rem;
  line-height: 2.2rem;
  min-height: 2.2rem;
`,kG=V(ir.Value)`
  display: flex;
  gap: ${({theme:n})=>n.spaces[1]};
  flex-wrap: wrap;
`,EG=p.forwardRef((n,e)=>C.jsx(AG,{ref:e,...n,children:C.jsx(ch,{children:n.children})})),AG=V(ir.Content)`
  background: ${({theme:n})=>n.colors.neutral0};
  box-shadow: ${({theme:n})=>n.shadows.filterShadow};
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
  border-radius: ${({theme:n})=>n.borderRadius};
  min-width: var(--radix-select-trigger-width);
  max-height: 15.6rem;
  z-index: ${({theme:n})=>n.zIndices.popover};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${n=>n.theme.motion.timings[200]};

    /* The select can't animate out yet, watch https://github.com/radix-ui/primitives/issues/1893, or take a look and solve it yourself. */
    &[data-state='open'] {
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,RG=V(ir.Viewport)`
  padding: ${({theme:n})=>n.spaces[1]};
`,TG=p.forwardRef((n,e)=>C.jsx(PG,{ref:e,...n})),MG=Te`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  border-radius: ${n=>n.theme.borderRadius};
  padding: ${n=>`${n.theme.spaces[2]} ${n.theme.spaces[4]}`};
  padding-left: ${({theme:n})=>n.spaces[4]};
  background-color: ${({theme:n})=>n.colors.neutral0};
  display: flex;
  align-items: center;
  gap: ${({theme:n})=>n.spaces[2]};
  white-space: nowrap;
  user-select: none;
  color: ${({theme:n})=>n.colors.neutral800};

  &:focus-visible {
    outline: none;
    background-color: ${({theme:n})=>n.colors.primary100};
    cursor: pointer;
  }
`,PG=V(ir.Item)`
  ${MG}

  &:hover {
    background-color: ${({theme:n})=>n.colors.primary100};
    cursor: pointer;
  }
`,TA=ir.Root,MA=yG,PA=$G,OA=ir.Portal,DA=EG,IA=RG,z0=TG,_A=ir.ItemIndicator,LA=ir.ItemText,OG=ir.Group,Lw=p.forwardRef(({children:n,clearLabel:e="Clear",customizeContent:t,disabled:r,hasError:i,id:o,name:s,onChange:a,onClear:c,onCloseAutoFocus:f,onReachEnd:h,placeholder:d,required:m,size:b,startIcon:x,value:v,...w},$)=>{const[S,E]=p.useState(),[A,T]=p.useState(!1),O=he=>{T(he)},P=he=>{c&&c(he),a||E("")},L=he=>{a?a(typeof v=="number"?Number(he):he):E(he)},B=p.useRef(null),F=ar(),K=`intersection-${Ns(F)}`;Ll(B,he=>{h&&h(he)},{selectorToWatch:`#${K}`,skipWhen:!A});const{error:ee,required:Z,...re}=Mn("SingleSelect"),ue=!!ee||i,Q=re.id??o,ie=re.name??s;let q;ee?q=`${Q}-error`:re.hint&&(q=`${Q}-hint`);const le=(typeof v<"u"&&v!==null?v.toString():S)??"";return C.jsxs(TA,{onOpenChange:O,disabled:r,required:Z??m,onValueChange:L,value:le,...w,children:[C.jsx(MA,{ref:$,id:Q,name:ie,startIcon:x,hasError:ue,disabled:r,clearLabel:e,onClear:le&&c?P:void 0,"aria-label":w["aria-label"],"aria-describedby":q??w["aria-describedby"],size:b,children:C.jsx(PA,{placeholder:d,textColor:le?"neutral800":"neutral600",children:le&&t?t(le):void 0})}),C.jsx(OA,{children:C.jsx(DA,{position:"popper",sideOffset:4,onCloseAutoFocus:f,children:C.jsxs(IA,{ref:B,children:[n,C.jsx(xe,{id:K,width:"100%",height:"1px"})]})})})]})}),Nw=p.forwardRef(({value:n,startIcon:e,children:t,...r},i)=>C.jsxs(z0,{ref:i,value:n.toString(),...r,children:[e&&C.jsx(be,{tag:"span","aria-hidden":!0,children:e}),C.jsx(Be,{lineHeight:"20px",width:"100%",children:C.jsx(LA,{children:t})})]})),DG=200,Bw=15,[IG,ea]=Qs("DatePicker"),_G=p.forwardRef(({calendarLabel:n,className:e,initialDate:t,locale:r,maxDate:i,minDate:o,monthSelectLabel:s="Month",onChange:a,value:c,yearSelectLabel:f="Year",hasError:h,id:d,name:m,disabled:b=!1,required:x=!1,onClear:v,clearLabel:w="Clear",size:$="M",...S},E)=>{const A=Ss(),T=uh("DatePicker"),O=r??T.locale,P=Yr(O,{day:"2-digit",month:"2-digit",year:"numeric"}),[L,B]=p.useState(!1),[F,K]=p.useState(null),[z,ee]=p.useState(null),[Z,re]=p.useState(null),[ue,Q]=p.useState(),[ie,q]=$r({defaultProp:t?so(t):void 0,prop:c?so(c):void 0,onChange(Ie){a&&a(Ie?.toDate(A))}}),[le,he]=p.useMemo(()=>{const Ie=t?so(t):tg("UTC"),Lt=o?so(o):Ie.set({day:1,month:1,year:Ie.year-DG});let gt=i?so(i):Ie.set({day:31,month:12,year:Ie.year+Bw});return gt.compare(Lt)<0&&(gt=Lt.set({day:31,month:12,year:Lt.year+Bw})),[Lt,gt]},[o,i,t]),[Oe,ve]=p.useState(LG({currentValue:ie,minDate:le,maxDate:he})),Ue=ar(),Ee=p.useRef(null),ze=Ie=>{v&&!b&&(Q(""),q(void 0),v(Ie),z?.focus())},de=p.useCallback(Ie=>{Ie&&ie&&ve(ie),B(Ie)},[ie]);Mi(()=>{if(c){const Ie=so(c);Q(P.format(Ie.toDate(A))),ve(Ie)}else Q("")},[c,P,A]),Mi(()=>{if(t&&ue===void 0){const Ie=so(t);Q(P.format(Ie.toDate(A)))}},[t,ue,P,A]);const{error:Ae,...ke}=Mn("Combobox"),_e=!!Ae||h,Le=ke.id??d,te=ke.name??m,at=ke.required||x;let Re;return Ae?Re=`${Le}-error`:ke.hint&&(Re=`${Le}-hint`),C.jsxs(IG,{calendarDate:Oe,content:Z,contentId:Ue,disabled:b,locale:O,minDate:le,maxDate:he,open:L,onCalendarDateChange:ve,onContentChange:re,onOpenChange:de,onTextInputChange:ee,onTextValueChange:Q,onTriggerChange:K,onValueChange:q,onClear:v,required:at,textInput:z,textValue:ue,timeZone:A,trigger:F,value:ie,children:[C.jsxs(BG,{className:e,hasError:_e,size:$,children:[C.jsx(_6,{fill:"neutral500","aria-hidden":!0}),C.jsx(WG,{ref:E,"aria-describedby":Re,id:Le,name:te,...S}),ue&&v?C.jsx(Ao,{size:"XS",variant:"ghost",onClick:ze,"aria-disabled":b,"aria-label":w,label:w,ref:Ee,children:C.jsx(Fs,{})}):null]}),C.jsx(RA,{children:C.jsx(UG,{label:n,children:C.jsx(QG,{monthSelectLabel:s,yearSelectLabel:f})})})]})}),Fw=n=>!!n.match(/^[^a-zA-Z]*$/),LG=({currentValue:n,minDate:e,maxDate:t})=>{const r=tg("UTC");return n||(Cp(e,r)===e&&$p(t,r)===t?r:Cp(e,r)===r?e:$p(t,r)===r?t:r)},NG="DatePickerTrigger",BG=p.forwardRef(({hasError:n,size:e,...t},r)=>{const i=ea(NG),o=bn(r,a=>i.onTriggerChange(a)),s=()=>{i.disabled||i.onOpenChange(!0)};return C.jsx(Hs,{asChild:!0,trapped:i.open,onMountAutoFocus:a=>{a.preventDefault()},onUnmountAutoFocus:a=>{document.getSelection()?.empty(),a.preventDefault()},children:C.jsx(FG,{ref:o,$hasError:n,$size:e,$hasOnClear:!!i.onClear,...t,hasRadius:!0,gap:3,overflow:"hidden",background:i.disabled?"neutral150":"neutral0",onClick:fo(t.onClick,()=>{i.textInput?.focus()}),onPointerDown:fo(t.onPointerDown,a=>{const c=a.target;c.hasPointerCapture(a.pointerId)&&c.releasePointerCapture(a.pointerId),(c.closest("button")??c.closest("div"))===a.currentTarget&&a.button===0&&a.ctrlKey===!1&&(s(),i.textInput?.focus())})})})}),FG=V(be)`
  min-width: ${({$hasOnClear:n})=>n?"160px":"130px"};
  border: 1px solid ${({theme:n,$hasError:e})=>e?n.colors.danger600:n.colors.neutral200};
  ${n=>{switch(n.$size){case"S":return Te`
          padding-block: ${n.theme.spaces[1]};
          padding-inline: ${n.theme.spaces[3]};
        `;default:return Te`
          padding-block: ${n.theme.spaces[2]};
          padding-inline: ${n.theme.spaces[3]};
        `}}}

  & > svg {
    flex: 1 0 auto;
  }

  &[data-disabled] {
    color: ${({theme:n})=>n.colors.neutral600};
    background: ${({theme:n})=>n.colors.neutral150};
    cursor: not-allowed;
  }

  /* Required to ensure the below inputFocusStyles are adhered too */
  &:focus-visible {
    outline: none;
  }

  ${({theme:n,$hasError:e})=>Ki()({theme:n,$hasError:e})};
`,VG="DatePickerTextInput",WG=p.forwardRef(({placeholder:n,...e},t)=>{const r=ea(VG),{onTextValueChange:i,textValue:o,onTextInputChange:s,onOpenChange:a,disabled:c,locale:f}=r,h=bn(t,$=>s($)),d=()=>{c||a(!0)},m=Yr(f,{year:"numeric",month:"2-digit",day:"2-digit"}),[b,x,v]=p.useMemo(()=>{const $=m.formatToParts(new Date),S=$.filter(T=>T.type==="year"||T.type==="month"||T.type==="day"),E=S.map(T=>{switch(T.type){case"day":return"DD";case"month":return"MM";case"year":return"YYYY";default:return""}}),A=$.find(T=>T.type==="literal")?.value??"";return[E,A,S]},[m]),w=b.map($=>`\\d{${$.length}}`).join(`\\${x}`);return C.jsx(jG,{role:"combobox",type:"text",inputMode:"numeric",ref:h,"aria-autocomplete":"none","aria-controls":r.contentId,"aria-disabled":r.disabled,"aria-expanded":r.open,"aria-required":r.required,"aria-haspopup":"dialog","data-state":r.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,pattern:w,placeholder:n??b.join(x),...e,value:o??"",onBlur:fo(e.onBlur,()=>{if(!r.textValue){r.onValueChange(void 0);return}r.onTextValueChange(m.format(r.calendarDate.toDate(r.timeZone))),r.onValueChange(r.calendarDate)}),onChange:fo(e.onChange,$=>{if(Fw($.target.value)){const S=$.target.value.split(x),[E,A,T]=v.map((ee,Z)=>{const re=S[Z];return{...ee,value:re}}).sort((ee,Z)=>ee.type==="year"?1:Z.type==="year"?-1:ee.type==="month"?1:Z.type==="month"?-1:0).map(ee=>ee.value),O=r.calendarDate.year;let P=r.calendarDate.year;if(T){const ee=T.length===1?`0${T}`:T;P=T.length<3?Number(`${O}`.slice(0,4-ee.length)+ee):Number(ee)}T&&T.length<3&&P>r.maxDate.year&&(P-=100);const L=r.calendarDate.set({year:P}),B=L.calendar.getMonthsInYear(L),F=L.set({month:A&&Number(A)<=B?Number(A):void 0}),K=F.calendar.getDaysInMonth(F),z=F.set({day:E&&Number(E)<=K?Number(E):void 0});r.onCalendarDateChange(zG(z,r.minDate,r.maxDate)),r.onTextValueChange($.target.value)}}),onKeyDown:fo(e.onKeyDown,$=>{if(!r.open&&(Fw($.key)||["ArrowDown","Backspace"].includes($.key)))d();else if(["Tab"].includes($.key)&&r.open)$.preventDefault();else if(["Escape"].includes($.key))r.open?r.onOpenChange(!1):(r.onValueChange(void 0),r.onTextValueChange("")),$.preventDefault();else if(r.open&&["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes($.key))switch($.preventDefault(),$.key){case"ArrowDown":{const S=r.calendarDate.add({weeks:1});if(r.maxDate&&S.compare(r.maxDate)>0)return;r.onCalendarDateChange(S);return}case"ArrowRight":{const S=r.calendarDate.add({days:1});if(r.maxDate&&S.compare(r.maxDate)>0)return;r.onCalendarDateChange(S);return}case"ArrowUp":{const S=r.calendarDate.subtract({weeks:1});if(r.minDate&&S.compare(r.minDate)<0)return;r.onCalendarDateChange(S);return}case"ArrowLeft":{const S=r.calendarDate.subtract({days:1});if(r.minDate&&S.compare(r.minDate)<0)return;r.onCalendarDateChange(S)}}else r.open&&["Enter"].includes($.key)&&($.preventDefault(),i(m.format(r.calendarDate.toDate(r.timeZone))),r.onValueChange(r.calendarDate),r.onOpenChange(!1))})})});function zG(n,e,t){return e&&(n=$p(n,e)),t&&(n=Cp(n,t)),n}const jG=V.input`
  width: 100%;
  font-size: 1.4rem;
  line-height: 2.2rem;
  color: ${({theme:n})=>n.colors.neutral800};
  border: none;
  background-color: transparent;

  &:focus-visible {
    outline: none;
  }

  &::placeholder {
    color: ${({theme:n})=>n.colors.neutral600};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    cursor: inherit;
  }
`,HG="DatePickerContent",UG=p.forwardRef((n,e)=>{const t=ea(HG),[r,i]=p.useState(!1);return p.useEffect(()=>{t.open&&!r&&i(!0)},[t.open,r]),!t.open&&!r||!t.open?null:C.jsx(qG,{...n,ref:e})}),KG="DatePickerContent",qG=p.forwardRef((n,e)=>{const{label:t="Choose date",...r}=n,{onOpenChange:i,...o}=ea(KG),{x:s,y:a,refs:c,strategy:f,placement:h}=CC({strategy:"fixed",placement:"bottom-start",middleware:[$C({mainAxis:4}),SC(),kC()],elements:{reference:o.trigger},whileElementsMounted:yC});p.useEffect(()=>{const m=()=>{i(!1)};return window.addEventListener("blur",m),window.addEventListener("resize",m),()=>{window.removeEventListener("blur",m),window.removeEventListener("resize",m)}},[i]);const d=bn(e,m=>o.onContentChange(m),c.setFloating);return js(),C.jsx(P2,{allowPinchZoom:!0,children:C.jsx(xG,{asChild:!0,onFocusOutside:m=>{m.preventDefault()},onDismiss:()=>{i(!1)},children:C.jsx(GG,{ref:d,"data-state":o.open?"open":"closed","data-side":h.includes("top")?"top":"bottom",onContextMenu:m=>m.preventDefault(),id:o.contentId,role:"dialog","aria-modal":"true","aria-label":t,style:{left:s,top:a,position:f},hasRadius:!0,background:"neutral0",padding:1,...r})})})}),GG=V(xe)`
  box-shadow: ${({theme:n})=>n.shadows.filterShadow};
  z-index: ${({theme:n})=>n.zIndices.popover};
  border: 1px solid ${({theme:n})=>n.colors.neutral150};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${n=>n.theme.motion.timings[200]};

    &[data-state='open'] {
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }
  }
`,YG="DatePickerCalendar",[XG,ZG]=Qs("DateFormatters"),QG=p.forwardRef(({monthSelectLabel:n,yearSelectLabel:e,...t},r)=>{const{locale:i,timeZone:o,minDate:s,maxDate:a,calendarDate:c,onCalendarDateChange:f}=ea(YG),h=K6(c),d=p.useMemo(()=>{const O=s.year,P=a.year;return[...Array(P-O+1).keys()].map(L=>(O+L).toString())},[s,a]),m=Yr(i,{month:"long"}),b=p.useMemo(()=>[...Array(c.calendar.getMonthsInYear(c)).keys()].map(O=>m.format(c.set({month:O+1}).toDate(o))),[c,m,o]),x=Yr(i,{weekday:"short"}),v=p.useMemo(()=>{const O=Yw(tg(o),i);return[...new Array(7).keys()].map(P=>{const B=O.add({days:P}).toDate(o);return x.format(B)})},[o,i,x]),w=Yr(i,{weekday:"long",day:"numeric",month:"long",year:"numeric"}),$=Yr(i,{day:"numeric",calendar:c.calendar.identifier}),S=Yr(i,{day:"2-digit",month:"2-digit",year:"numeric"}),E=O=>{if(typeof O=="number")return;const P=c.set({month:b.indexOf(O)+1});f(P)},A=O=>{if(typeof O=="number")return;const P=c.set({year:parseInt(O,10)});f(P)},T=JG(h,i);return C.jsx(XG,{dateFormatter:w,cellDateFormatter:$,textValueFormatter:S,children:C.jsxs(be,{ref:r,direction:"column",alignItems:"stretch",padding:4,...t,children:[C.jsxs(eY,{justifyContent:"flex-start",paddingBottom:4,paddingLeft:2,paddingRight:2,gap:2,children:[C.jsx(Bs,{children:C.jsx(Lw,{"aria-label":n,value:b[c.month-1],onChange:E,children:b.map(O=>C.jsx(Nw,{value:O,children:O},O))})}),C.jsx(Bs,{children:C.jsx(Lw,{value:c.year.toString(),"aria-label":e,onChange:A,children:d.map(O=>C.jsx(Nw,{value:O,children:O},O))})})]}),C.jsxs("table",{role:"grid",children:[C.jsx("thead",{"aria-hidden":!0,children:C.jsx("tr",{"aria-rowindex":0,children:v.map((O,P)=>C.jsx(tY,{"aria-colindex":P,children:O},O))})}),C.jsx("tbody",{children:[...new Array(6).keys()].map(O=>C.jsx("tr",{"aria-rowindex":O+2,children:T(O).map((P,L)=>P?C.jsx(iY,{"aria-colindex":L+1,date:P,startDate:h,disabled:s.compare(P)>0||P.compare(a)>0},P.toString()):C.jsx(NA,{"aria-colindex":L+1},L+1))},O))})]})]})})}),JG=(n,e)=>t=>{let r=n.add({weeks:t});const i=[];r=Yw(r,e);const o=qw(r,e);for(let s=0;s<o;s++)i.push(null);for(;i.length<7;){i.push(r);const s=r.add({days:1});if(Kw(r,s))break;r=s}for(;i.length<7;)i.push(null);return i},eY=V(be)`
  div[role='combobox'] {
    border: 1px solid transparent;
    background: transparent;
    font-weight: ${n=>n.theme.fontWeights.bold};

    svg {
      fill: ${({theme:n})=>n.colors.neutral500};
    }

    &:hover {
      background-color: ${({theme:n})=>n.colors.neutral100};
    }
  }
`,tY=p.forwardRef(({children:n,...e},t)=>C.jsx(nY,{tag:"th",role:"gridcell",ref:t,...e,height:"2.4rem",width:"3.2rem",children:C.jsx(Be,{variant:"pi",fontWeight:"bold",color:"neutral800",children:n.slice(0,2)})})),nY=V(xe)`
  border-radius: ${({theme:n})=>n.borderRadius};
  text-transform: capitalize;
`,rY="DatePickerCalendarCell",iY=p.forwardRef(({date:n,startDate:e,disabled:t,...r},i)=>{const{timeZone:o,calendarDate:s,onValueChange:a,onOpenChange:c,onTextValueChange:f,onCalendarDateChange:h}=ea(rY),{dateFormatter:d,cellDateFormatter:m,textValueFormatter:b}=ZG("DatePickerCalendarCell"),x=Kw(s,n),v=p.useMemo(()=>d.format(n.toDate(o)),[d,n,o]),w=p.useMemo(()=>m.formatToParts(n.toDate(o)).find(A=>A.type==="day").value,[m,n,o]),$=q6(e),S=n.compare(e)<0||n.compare($)>0;let E="neutral900";return x?E="primary600":S&&(E="neutral600"),C.jsx(NA,{tag:"td",role:"gridcell",ref:i,"aria-selected":x,...r,hasRadius:!0,"aria-label":v,tabIndex:x?0:-1,background:x?"primary100":"neutral0",cursor:"pointer",onPointerDown:fo(r.onPointerDown,A=>{A.preventDefault(),h(n),a(n),f(b.format(n.toDate(o))),c(!1)}),"aria-disabled":t,children:C.jsx(Be,{variant:"pi",textColor:E,children:w})})}),NA=V(xe)`
  text-align: center;
  padding: 0.7rem;
  // Trick to prevent the outline from overflowing because of the general outline-offset
  outline-offset: -2px !important;
  &[aria-disabled='true'] {
    pointer-events: none;
    opacity: 0.5;
  }

  &[aria-disabled='false'] {
    &:hover {
      background: ${({theme:n})=>n.colors.primary100};
      color: ${({theme:n})=>n.colors.primary600};
    }
  }
`,so=n=>{const e=n.toISOString(),t=sC(e,"UTC");return Jw(t)},oY=p.memo(_G),yp=n=>!!n.match(/^[^a-zA-Z]*$/);function sY(n=""){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const aY=V(iG)`
  min-width: ${({onClear:n})=>n?"160px":"130px"};
`,lY=p.forwardRef(({step:n=15,value:e,defaultValue:t,onChange:r,...i},o)=>{const s=uh("TimePicker"),[a,c]=p.useState(""),[f,h]=$r({prop:e,defaultProp:t,onChange:r}),d=Yr(s.locale,{hour:"2-digit",minute:"2-digit",hour12:!1}),m=p.useMemo(()=>{const A=d.formatToParts(new Date),{value:T}=A.find(O=>O.type==="literal");return T},[d]),b=p.useMemo(()=>{const A=60/n;return[...Array(24).keys()].flatMap(T=>[...Array(A).keys()].map(O=>d.format(new Date(0,0,0,T,O*n))))},[n,d]),x=A=>{(!A||yp(A))&&c(A)},v=A=>{const[T,O]=A.split(m);if(!T&&!O)return;const P=Number(T??"0"),L=Number(O??"0");if(!(P>23||L>59))return d.format(new Date(0,0,0,P,L))},w=A=>{const T=v(A.target.value);T?(c(T),h(T)):c(f)},$=A=>{if(typeof A<"u"){const T=v(A);h(T)}else h(A)};p.useEffect(()=>{const A=typeof e>"u"?"":e;yp(A)&&c(A)},[e,c]);const E=`\\d{2}${sY(m)}\\d{2}`;return C.jsx(aY,{...i,ref:o,value:f,onChange:$,isPrintableCharacter:yp,allowCustomValue:!0,placeholder:`--${m}--`,autocomplete:"none",startIcon:C.jsx(L6,{fill:"neutral500"}),inputMode:"numeric",pattern:E,textValue:a,onTextValueChange:x,onBlur:w,children:b.map(A=>C.jsx(fG,{value:A,children:A},A))})});p.forwardRef(({clearLabel:n="clear",dateLabel:e="Choose date",timeLabel:t="Choose time",disabled:r=!1,hasError:i,onChange:o,onClear:s,required:a=!1,step:c,value:f,initialDate:h,size:d,...m},b)=>{const x=p.useRef(null),[v,w]=p.useState(!1),$=f?Aa(f,!1):void 0,[S,E]=$r({defaultProp:h?Aa(h,!1):void 0,prop:v?void 0:$,onChange(Q){o&&o(Q?.toDate(Ss()))}}),A=uh("DateTimePicker"),T=Yr(A.locale,{hour:"2-digit",minute:"2-digit",hour12:!1}),O=S?T.format(S.toDate(Ss())):"",P=p.useRef(f);Mi(()=>{v&&S&&E(void 0)},[v,S,E]),Mi(()=>{const Q=P.current;f==null&&Q!=null&&S&&E(void 0),v&&f!==Q&&w(!1),P.current=f},[f,S,v,E,w]),Mi(()=>{v&&S===void 0&&f==null&&w(!1)},[v,S,f,w]);const L=Q=>{let ie=Q?Aa(Q):void 0;if(O&&ie){const[q,le]=O.split(":");ie=ie.set({hour:parseInt(q,10),minute:parseInt(le,10)})}E(ie)},B=Q=>{if(!Q)return;const[ie,q]=Q.split(":"),le=S?S.set({hour:parseInt(ie,10),minute:parseInt(q,10)}):Aa(new Date).set({hour:parseInt(ie,10),minute:parseInt(q,10)});E(le)},F=Q=>{Q.preventDefault(),w(!0),s&&s(Q)},K=()=>{const Q=S?S.set({hour:0,minute:0}):Aa(new Date);E(Q)},z=bn(x,b),{error:ee,id:Z,labelNode:re}=Mn("DateTimePicker"),ue=!!ee||i;return C.jsxs(be,{"aria-labelledby":re?`${Z}-label`:void 0,role:"group",flex:"1",gap:1,wrap:"wrap",children:[C.jsx(Bs,{flex:"1",children:C.jsx(oY,{...m,hasError:ue,size:d,value:S?.toDate("UTC"),onChange:L,required:a,onClear:s?F:void 0,clearLabel:`${n} date`,disabled:r,ref:z,"aria-label":e})}),C.jsx(Bs,{flex:"1",children:C.jsx(lY,{size:d,hasError:ue,value:O,onChange:B,onClear:s&&O!==void 0&&O!=="00:00"?K:void 0,clearLabel:`${n} time`,required:a,disabled:r,step:c,"aria-label":t})})]})});const Aa=(n,e=!0)=>{const t=n.toISOString();let r=lD(t);return e&&(r=r.set({hour:0,minute:0})),bo(r)},cY=p.forwardRef((n,e)=>C.jsx(uY,{ref:e,background:"neutral150",...n,"data-orientation":"horizontal",role:"separator",tag:"div"})),uY=V(xe)`
  height: 1px;
  border: none;
  /* If contained in a Flex parent we want to prevent the Divider to shink */
  flex-shrink: 0;
`,fY=V(xe)`
  svg {
    height: 8.8rem;
  }
`;p.forwardRef(({icon:n,content:e,action:t,hasRadius:r=!0,shadow:i="tableShadow"},o)=>C.jsxs(be,{ref:o,alignItems:"center",direction:"column",padding:11,background:"neutral0",hasRadius:r,shadow:i,children:[n?C.jsx(fY,{paddingBottom:6,"aria-hidden":!0,children:n}):null,C.jsx(xe,{paddingBottom:4,children:C.jsx(Be,{variant:"delta",tag:"p",textAlign:"center",textColor:"neutral600",children:e})}),t]}));const BA=Pe.define(),FA=Pe.define(),hY=ye.mark({attributes:{style:"background-color: yellow; color: black"}}),dY=_t.define({create(){return ye.none},update(n,e){return n=n.map(e.changes),e.effects.forEach(t=>{t.is(BA)?n=n.update({add:t.value,sort:!0}):t.is(FA)&&(n=n.update({filter:t.value}))}),n},provide:n=>ae.decorations.from(n)});p.forwardRef(({hasError:n,required:e,id:t,value:r="",disabled:i=!1,onChange:o=()=>null,...s},a)=>{const c=p.useRef(),f=p.useRef(),h=p.useRef(),{error:d,...m}=Mn("JsonInput"),b=!!d||n,x=m.id??t,v=m.required||e;let w;d?w=`${x}-error`:m.hint&&(w=`${x}-hint`);const $=B=>{const F=f.current?.doc;if(F){const{text:K,to:z}=F.line(B),ee=z-K.trimStart().length;z>ee&&h.current?.dispatch({effects:BA.of([hY.range(ee,z)])})}},S=()=>{const B=f.current?.doc;if(B){const F=B.length||0;h.current?.dispatch({effects:FA.of((K,z)=>z<=0||K>=F)})}},E=({state:B,view:F})=>{h.current=F,f.current=B,S();const z=OW()(F);z.length&&$(B.doc.lineAt(z[0].from).number)},A=(B,F)=>{E(F),o(B)},T=(B,F)=>{h.current=B,f.current=F,E({view:B,state:F})},{setContainer:O,view:P}=TE({value:r,onCreateEditor:T,container:c.current,editable:!i,extensions:[_W(),dY],onChange:A,theme:"dark",basicSetup:{lineNumbers:!0,bracketMatching:!0,closeBrackets:!0,indentOnInput:!0,syntaxHighlighting:!0,highlightSelectionMatches:!0,tabSize:2}}),L=bn(c,O);return p.useImperativeHandle(a,()=>({...P?.dom,focus(){P&&P.focus()},scrollIntoView(B){P&&P.dom.scrollIntoView(B)}}),[P]),C.jsx(pY,{ref:L,$disabled:i,$hasError:b,alignItems:"stretch",fontSize:2,hasRadius:!0,"aria-required":v,id:x,"aria-describedby":w,...s})});const pY=V(be)`
  line-height: ${({theme:n})=>n.lineHeights[2]};

  .cm-editor {
    /** 
     * Hard coded since the color is the same between themes,
     * theme.colors.neutral800 changes between themes 
     */
    background-color: #32324d;
    width: 100%;
    outline: none;
    cursor: ${({$disabled:n})=>n?"not-allowed":"text"};
  }

  .cm-scroller {
    border: 1px solid ${({theme:n,$hasError:e})=>e?n.colors.danger600:n.colors.neutral200};
    /* inputFocusStyle will receive hasError prop */
    ${Ki()}
  }

  .cm-editor,
  .cm-scroller {
    border-radius: ${({theme:n})=>n.borderRadius};
  }

  .cm-gutters,
  .cm-activeLineGutter {
    /** 
     * Hard coded since the color is the same between themes,
     * theme.colors.neutral700 changes between themes 
     */
    background-color: #4a4a6a;
  }
`;on(({disabled:n,...e},t)=>C.jsx(dl,{ref:t,tag:_l,tabIndex:n?-1:void 0,disabled:n,...e}));const mY=V(xe)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,gY=({labelledBy:n="main-content-title",...e})=>C.jsx(mY,{"aria-labelledby":n,tag:"main",id:"main-content",tabIndex:-1,...e});V(xe)`
  text-decoration: none;

  &:focus {
    left: ${({theme:n})=>n.spaces[3]};
    top: ${({theme:n})=>n.spaces[3]};
  }
`;p.forwardRef((n,e)=>C.jsx(w2,{...n,asChild:!0,ref:e}));p.forwardRef((n,e)=>C.jsx(C2,{children:C.jsx(bY,{children:C.jsx(vY,{ref:e,...n})})}));const bY=V($2)`
  background: ${n=>AA(n.theme.colors.neutral800,.2)};
  position: fixed;
  inset: 0;
  z-index: ${n=>n.theme.zIndices.overlay};
  will-change: opacity;

  @media (prefers-reduced-motion: no-preference) {
    animation: ${yt.overlayFadeIn} ${n=>n.theme.motion.timings[200]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,vY=V(S2)`
  max-width: 83rem;
  max-height: 90vh;
  height: auto;
  width: calc(100% - ${({theme:n})=>n.spaces[8]});
  overflow: hidden;
  margin: 0 auto;
  display: flex;
  flex-direction: column;

  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  border-radius: ${n=>n.theme.borderRadius};
  background-color: ${n=>n.theme.colors.neutral0};
  box-shadow: ${n=>n.theme.shadows.popupShadow};
  z-index: ${n=>n.theme.zIndices.modal};

  ${({theme:n})=>n.breakpoints.medium} {
    width: calc(100% - ${({theme:n})=>n.spaces[9]});
  }
  > form {
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
  @media (prefers-reduced-motion: no-preference) {
    &[data-state='open'] {
      animation-duration: ${n=>n.theme.motion.timings[200]};
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};
      animation-name: ${yt.modalPopIn};
    }

    &[data-state='closed'] {
      animation-duration: ${n=>n.theme.motion.timings[120]};
      animation-timing-function: ${n=>n.theme.motion.easings.easeOutQuad};
      animation-name: ${yt.modalPopOut};
    }
  }
`,xY=p.forwardRef((n,e)=>C.jsx(t0,{...n,asChild:!0,ref:e}));p.forwardRef(({children:n,closeLabel:e="Close modal",...t},r)=>C.jsxs(yY,{ref:r,padding:4,paddingLeft:5,paddingRight:5,background:"neutral100",justifyContent:"space-between",...t,tag:"header",children:[n,C.jsx(xY,{children:C.jsx(Ao,{withTooltip:!1,label:e,children:C.jsx(Fs,{})})})]}));const yY=V(be)`
  border-bottom: solid 1px ${n=>n.theme.colors.neutral150};
`;p.forwardRef((n,e)=>C.jsx(k2,{asChild:!0,children:C.jsx(Be,{tag:"h2",variant:"omega",fontWeight:"bold",ref:e,...n})}));p.forwardRef(({children:n,...e},t)=>C.jsx(wY,{ref:t,...e,children:n}));const wY=V(ch)`
  padding-inline: ${n=>n.theme.spaces[7]};

  & > div {
    padding-block: ${n=>n.theme.spaces[8]};
    /* Add negative margin and padding to avoid cropping the box shadow when the inputs are focused */
    margin: 0 -2px 0 -2px;
    padding-left: 2px;
    padding-right: 2px;

    & > div {
      // the scroll area component applies a display: table to the child, which we don't want.
      display: block !important;
    }
  }
`;p.forwardRef((n,e)=>C.jsx(CY,{ref:e,padding:4,paddingLeft:5,paddingRight:5,background:"neutral100",justifyContent:"space-between",...n,tag:"footer"}));const CY=V(be)`
  border-top: solid 1px ${n=>n.theme.colors.neutral150};
  flex: 1;
`,$Y="";p.forwardRef(({startAction:n,locale:e,onValueChange:t,value:r,step:i=1,disabled:o=!1,...s},a)=>{const c=uh("NumberInput"),f=e||c.locale,h=p.useRef(new OE(f,{style:"decimal"})),d=p.useRef(new PE(f,{maximumFractionDigits:20})),[m,b]=SY({prop(O){const P=String(r);return isNaN(Number(P))||P!==O&&O!==""?O:d.current.format(Number(r))},defaultProp:$Y,onChange(O){if(!t)return;const P=h.current.parse(O??"");t(isNaN(P)?void 0:P)}}),x=O=>{b(String(O))},v=({target:{value:O}})=>{h.current.isValidPartialNumber(O)&&x(O)},$=(O=>{const P=O.toString();return P.includes(".")?P.split(".")[1].length:0})(i),S=()=>{if(!m){x(i);return}const O=h.current.parse(m),P=isNaN(O)?i:O+i,L=parseFloat(P.toFixed($));x(d.current.format(L))},E=()=>{if(!m){x(-i);return}const O=h.current.parse(m),P=isNaN(O)?-i:O-i,L=parseFloat(P.toFixed($));x(d.current.format(L))},A=O=>{if(!o)switch(O.key){case Kt.DOWN:{O.preventDefault(),E();break}case Kt.UP:{O.preventDefault(),S();break}}},T=()=>{if(m){const O=h.current.parse(m),P=isNaN(O)?"":d.current.format(O);x(P)}};return C.jsx(W0,{ref:a,startAction:n,disabled:o,type:"text",inputMode:"decimal",onChange:v,onKeyDown:A,onBlur:T,value:m,endAction:C.jsxs(be,{direction:"column",children:[C.jsx(Vw,{disabled:o,"aria-hidden":!0,$reverse:!0,onClick:S,tabIndex:-1,type:"button","data-testid":"ArrowUp",children:C.jsx(go,{fill:"neutral500"})}),C.jsx(Vw,{disabled:o,"aria-hidden":!0,onClick:E,tabIndex:-1,type:"button","data-testid":"ArrowDown",children:C.jsx(go,{fill:"neutral500"})})]}),...s})});const Vw=V.button`
  display: flex;
  justify-content: center;
  align-items: center;
  transform: translateY(${({$reverse:n})=>n?"-2px":"2px"});
  cursor: ${({disabled:n})=>n?"not-allowed":void 0};
  height: 1.1rem;

  svg {
    width: 1.2rem;
    transform: ${({$reverse:n})=>n?"rotateX(180deg)":void 0};
  }
`;function SY({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=uA({defaultProp:e,onChange:t}),o=n!==void 0,s=n instanceof Function?n(r):n,a=o?s:r,c=Sg(t),f=p.useCallback(h=>{if(o){const m=typeof h=="function"?h(s):h;m!==s&&(c(m),i(h))}else i(h)},[o,s,i,c]);return[a,f]}const kY=p.createContext({activePage:1,pageCount:1}),j0=()=>p.useContext(kY);on(({children:n,...e},t)=>{const{activePage:r}=j0(),i=r===1;return C.jsxs(WA,{ref:t,"aria-disabled":i,tabIndex:i?-1:void 0,...e,children:[C.jsx(Js,{children:n}),C.jsx(Hw,{"aria-hidden":!0})]})});on(({children:n,...e},t)=>{const{activePage:r,pageCount:i}=j0(),o=r===i;return C.jsxs(WA,{ref:t,"aria-disabled":o,tabIndex:o?-1:void 0,...e,children:[C.jsx(Js,{children:n}),C.jsx(Jm,{"aria-hidden":!0})]})});const VA=V(_l)`
  padding: ${({theme:n})=>n.spaces[3]};
  border-radius: ${({theme:n})=>n.borderRadius};
  box-shadow: ${({$active:n,theme:e})=>n?e.shadows.filterShadow:void 0};
  text-decoration: none;
  display: flex;

  ${sh}
`,WA=V(VA)`
  font-size: 1.1rem;

  svg path {
    fill: ${n=>n["aria-disabled"]?n.theme.colors.neutral300:n.theme.colors.neutral600};
  }

  &:focus,
  &:hover {
    svg path {
      fill: ${n=>n["aria-disabled"]?n.theme.colors.neutral300:n.theme.colors.neutral700};
    }
  }

  ${n=>n["aria-disabled"]?`
  pointer-events: none;
    `:void 0}
`;on(({number:n,children:e,...t},r)=>{const{activePage:i}=j0(),o=i===n;return C.jsxs(EY,{ref:r,...t,"aria-current":o,$active:o,children:[C.jsx(Js,{children:e}),C.jsx(Be,{"aria-hidden":!0,fontWeight:o?"bold":void 0,lineHeight:"revert",variant:"pi",children:n})]})});const EY=V(VA)`
  color: ${({theme:n,$active:e})=>e?n.colors.primary700:n.colors.neutral800};
  background: ${({theme:n,$active:e})=>e?n.colors.neutral0:void 0};

  &:hover {
    box-shadow: ${({theme:n})=>n.shadows.filterShadow};
  }
`;p.forwardRef((n,e)=>C.jsx(hU,{...n,asChild:!0,ref:e}));p.forwardRef((n,e)=>C.jsx(dU,{children:C.jsx(AY,{sideOffset:4,side:"bottom",align:"start",...n,ref:e})}));const AY=V(pU)`
  box-shadow: ${({theme:n})=>n.shadows.filterShadow};
  z-index: ${({theme:n})=>n.zIndices.popover};
  background-color: ${n=>n.theme.colors.neutral0};
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
  border-radius: ${({theme:n})=>n.borderRadius};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: ${n=>n.theme.motion.timings[200]};

    &[data-state='open'] {
      animation-timing-function: ${n=>n.theme.motion.easings.authenticMotion};

      &[data-side='top'] {
        animation-name: ${yt.slideUpIn};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownIn};
      }
    }

    &[data-state='closed'] {
      animation-timing-function: ${n=>n.theme.motion.easings.easeOutQuad};

      &[data-side='top'] {
        animation-name: ${yt.slideUpOut};
      }

      &[data-side='bottom'] {
        animation-name: ${yt.slideDownOut};
      }
    }
  }
`;p.forwardRef(({children:n,intersectionId:e,onReachEnd:t,...r},i)=>{const o=p.useRef(null),s=bn(o,i),a=ar();return Ll(o,t??(()=>{}),{selectorToWatch:`#${Ns(a)}`,skipWhen:!e||!t}),C.jsxs(RY,{ref:s,...r,children:[n,e&&t&&C.jsx(xe,{id:Ns(a),width:"100%",height:"1px"})]})});const RY=V(ch)`
  height: 20rem;
`;p.forwardRef(({size:n="M",value:e,...t},r)=>C.jsx(TY,{ref:r,$size:n,...t,children:C.jsx(MY,{style:{transform:`translate3D(-${100-(e??0)}%, 0, 0)`}})}));const TY=V($U)`
  position: relative;
  overflow: hidden;
  width: ${n=>n.$size==="S"?"7.8rem":"10.2rem"};
  height: ${n=>n.$size==="S"?"0.4rem":"0.8rem"};
  background-color: ${n=>n.theme.colors.neutral600};
  border-radius: ${n=>n.theme.borderRadius};

  /* Fix overflow clipping in Safari */
  /* https://gist.github.com/domske/b66047671c780a238b51c51ffde8d3a0 */
  transform: translateZ(0);
`,MY=V(SU)`
  background-color: ${({theme:n})=>n.colors.neutral0};
  border-radius: ${({theme:n})=>n.borderRadius};
  width: 100%;
  height: 100%;

  @media (prefers-reduced-motion: no-preference) {
    transition: transform ${n=>n.theme.motion.timings[320]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`;p.forwardRef((n,e)=>C.jsx(PY,{ref:e,...n}));const PY=V(VU)`
  display: flex;
  flex-direction: column;
  gap: ${n=>n.theme.spaces[3]};
`;p.forwardRef(({children:n,id:e,...t},r)=>{const i=ar(e);return C.jsxs(be,{gap:2,children:[C.jsx(OY,{id:i,ref:r,...t,children:C.jsx(DY,{})}),C.jsx(Be,{tag:"label",htmlFor:i,children:n})]})});const OY=V(WU)`
  background: ${n=>n.theme.colors.neutral0};
  width: 2rem;
  height: 2rem;
  flex: 0 0 2rem;
  border-radius: 50%;
  border: 1px solid ${n=>n.theme.colors.neutral300};
  position: relative;
  cursor: pointer;
  z-index: 0;

  @media (prefers-reduced-motion: no-preference) {
    transition: border-color ${n=>n.theme.motion.timings[120]}
      ${n=>n.theme.motion.easings.easeOutQuad};
  }

  &[data-state='checked'] {
    border: 1px solid ${n=>n.theme.colors.primary600};
  }

  &[data-disabled] {
    cursor: not-allowed;
    background-color: ${n=>n.theme.colors.neutral200};
  }

  /* increase target size for touch devices https://www.w3.org/WAI/WCAG21/Understanding/target-size.html */
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    min-width: 44px;
    min-height: 44px;
  }
`,DY=V(zU)`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  position: relative;

  &[data-state='checked'] {
    @media (prefers-reduced-motion: no-preference) {
      animation: ${yt.popIn} ${n=>n.theme.motion.timings[200]};
    }
  }

  &::after {
    content: '';
    display: block;
    width: 1rem;
    height: 1rem;
    border-radius: 50%;
    background: ${n=>n.theme.colors.primary600};
  }
`,IY=n=>{const e=n.querySelector('[tabindex="0"]');e&&e.focus()},zA=p.createContext({rowIndex:0,colIndex:0,setTableValues(){throw new Error("setTableValues must be initialized via the RawTableContext.Provider")}}),_Y=()=>p.useContext(zA),LY=p.forwardRef(({colCount:n,rowCount:e,jumpStep:t=3,initialCol:r=0,initialRow:i=0,...o},s)=>{const a=p.useRef(null),c=p.useRef(!1),f=bn(a,s),[h,d]=p.useState(i),[m,b]=p.useState(r),x=p.useCallback(({colIndex:$,rowIndex:S})=>{b($),d(S)},[]);p.useEffect(()=>{c.current&&IY(a.current),c.current||(c.current=!0)},[m,h]);const v=$=>{switch($.key){case Kt.RIGHT:{$.preventDefault(),b(S=>S<n-1?S+1:S);break}case Kt.LEFT:{$.preventDefault(),b(S=>S>0?S-1:S);break}case Kt.UP:{$.preventDefault(),d(S=>S>0?S-1:S);break}case Kt.DOWN:{$.preventDefault(),d(S=>S<e-1?S+1:S);break}case Kt.HOME:{$.preventDefault(),$.ctrlKey&&d(0),b(0);break}case Kt.END:{$.preventDefault(),$.ctrlKey&&d(e-1),b(n-1);break}case Kt.PAGE_DOWN:{$.preventDefault(),d(S=>S+t<e?S+t:e-1);break}case Kt.PAGE_UP:{$.preventDefault(),d(S=>S-t>0?S-t:0);break}}},w=p.useMemo(()=>({rowIndex:h,colIndex:m,setTableValues:x}),[m,h,x]);return C.jsx(zA.Provider,{value:w,children:C.jsx("table",{role:"grid",ref:f,"aria-rowcount":e,"aria-colcount":n,onKeyDown:v,...o})})}),Ra=(n,e)=>[...n.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')].filter(i=>!i.hasAttribute("disabled")),wp=n=>n.filter(e=>e.tagName==="INPUT"?e.type!=="checkbox"&&e.type!=="radio":!1),jA=p.forwardRef(({coords:n={col:0,row:0},tag:e="td",...t},r)=>{const i=p.useRef(null),o=bn(r,i),{rowIndex:s,colIndex:a,setTableValues:c}=_Y(),[f,h]=p.useState(!1),d=x=>{const v=Ra(i.current);if(v.length===0||v.length===1&&wp(v).length===0)return;if(v.length>1&&!v.find($=>$.tagName!=="BUTTON")){x.preventDefault();const $=v.findIndex(S=>S===document.activeElement);if(x.key===Kt.RIGHT){const S=v[$+1];S&&(x.stopPropagation(),S.focus())}else if(x.key===Kt.LEFT){const S=v[$-1];S&&(x.stopPropagation(),S.focus())}return}const w=x.key===Kt.ENTER;if(w&&!f)h(!0);else if((x.key===Kt.ESCAPE||w)&&f){if(w&&document.activeElement?.tagName==="A")return;h(!1),i.current.focus()}else f&&x.stopPropagation()},m=s===n.row-1&&a===n.col-1;Mi(()=>{const x=Ra(i.current);x.length===0||x.length===1&&wp(x).length!==0||x.length>1&&x.find(v=>v.tagName!=="BUTTON")?(i.current.setAttribute("tabIndex",!f&&m?"0":"-1"),x.forEach((v,w)=>{v.setAttribute("tabIndex",f?"0":"-1"),f&&w===0&&v.focus()})):x.forEach(v=>{v.setAttribute("tabIndex",m?"0":"-1")})},[f,m]);const b=p.useCallback(()=>{const x=Ra(i.current);x.length>=1&&(wp(x).length!==0||!x.find(v=>v.tagName!=="BUTTON"))&&h(!0),c({rowIndex:n.row-1,colIndex:n.col-1})},[n,c]);return Mi(()=>{const x=i.current;return Ra(x).forEach(w=>{w.addEventListener("focus",b)}),()=>{Ra(x).forEach($=>{$.removeEventListener("focus",b)})}},[b]),C.jsx(xe,{role:"gridcell",tag:e,ref:o,onKeyDown:d,...t})}),NY=n=>C.jsx(jA,{...n,tag:"th"}),BY=({children:n,...e})=>{const t=p.Children.toArray(n).map(r=>p.isValidElement(r)?p.cloneElement(r,{"aria-rowindex":1}):r);return C.jsx("thead",{...e,children:t})},FY=({children:n,...e})=>{const t=p.Children.toArray(n).map((r,i)=>p.isValidElement(r)?p.cloneElement(r,{"aria-rowindex":i+2}):r);return C.jsx("tbody",{...e,children:t})},VY=({children:n,...e})=>{const t=p.Children.toArray(n).map((r,i)=>p.isValidElement(r)?p.cloneElement(r,{"aria-colindex":i+1,coords:{col:i+1,row:e["aria-rowindex"]}}):r);return C.jsx(xe,{tag:"tr",...e,children:t})},WY=V(Fs)`
  font-size: 0.5rem;
  path {
    fill: ${({theme:n})=>n.colors.neutral500};
  }
`,HA=V(N6)`
  font-size: 1rem;
  path {
    fill: ${({theme:n})=>n.colors.neutral500};
  }
`,zY=V.div`
  border-radius: ${({theme:n})=>n.borderRadius};
  border: 1px solid ${({theme:n})=>n.colors.neutral150};

  &:focus-within {
    ${HA} {
      fill: ${({theme:n})=>n.colors.primary600};
    }
  }
`,jY=V(W0)`
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
  padding: 0 0 0 8px;
  color: ${({theme:n})=>n.colors.neutral800};

  &:hover {
    button {
      cursor: pointer;
    }
  }

  ${Ki()}

  > input::-ms-clear {
    display: none;
    width: 0;
    height: 0;
  }

  > input::-ms-reveal {
    display: none;
    width: 0;
    height: 0;
  }

  > input::-webkit-search-decoration,
  > input::-webkit-search-cancel-button,
  > input::-webkit-search-results-button,
  > input::-webkit-search-results-decoration {
    display: none;
  }
`;p.forwardRef(({name:n,children:e,value:t="",onClear:r,clearLabel:i="Clear",...o},s)=>{const a=p.useRef(null),c=t.length>0,f=d=>{r(d),a.current.focus()},h=pA(s,a);return C.jsx(zY,{children:C.jsxs(Bs,{name:n,children:[C.jsx(Js,{children:C.jsx(kA,{children:e})}),C.jsx(jY,{size:"S",type:"search",ref:h,value:t,startAction:C.jsx(HA,{"aria-hidden":!0}),onKeyDown:d=>{d.stopPropagation(),d.key==="Escape"&&c&&f(d)},endAction:c?C.jsx(Ao,{onClick:f,onMouseDown:d=>{d.preventDefault()},label:i,size:"XS",variant:"ghost",type:"button",children:C.jsx(WY,{})}):void 0,...o})]})})});const HY=V(xe)`
  display: inline-flex;
  border: none;

  & > svg {
    height: 1.2rem;
    width: 1.2rem;
  }

  & > svg path {
    fill: ${({theme:n,...e})=>e["aria-disabled"]?n.colors.neutral600:n.colors.primary600};
  }

  &:hover {
    cursor: ${({$iconAction:n})=>n?"pointer":"initial"};
  }
`,UY=({children:n,icon:e,label:t,disabled:r=!1,onClick:i,...o})=>{const s=a=>{r||!i||i(a)};return C.jsxs(be,{inline:!0,background:r?"neutral200":"primary100",color:r?"neutral700":"primary600",paddingLeft:3,paddingRight:1,borderColor:r?"neutral300":"primary200",hasRadius:!0,height:"3.2rem",...o,children:[C.jsx(KY,{$disabled:r,variant:"pi",fontWeight:"bold",children:n}),C.jsx(HY,{tag:"button",disabled:r,"aria-disabled":r,"aria-label":t,padding:2,onClick:s,$iconAction:!!i,children:e})]})},KY=V(Be)`
  color: inherit;
  border-right: 1px solid ${({theme:n,$disabled:e})=>e?n.colors.neutral300:n.colors.primary200};
  padding-right: ${({theme:n})=>n.spaces[2]};
`;p.forwardRef(({children:n,clearLabel:e="Clear",customizeContent:t,disabled:r,hasError:i,id:o,name:s,onChange:a,onClear:c,onCloseAutoFocus:f,onReachEnd:h,placeholder:d,required:m,size:b,startIcon:x,value:v,withTags:w,...$},S)=>{const E=p.useRef(null),[A,T]=p.useState(),[O,P]=p.useState(!1),L=ve=>{a?a(ve):T(ve)},B=ve=>()=>{const Ue=Array.isArray(v)?v.filter(Ee=>Ee!==ve):(A??[]).filter(Ee=>Ee!==ve);a?a(Ue):T(Ue)},F=ve=>{P(ve)},K=ar(),z=`intersection-${Ns(K)}`;Ll(E,ve=>{h&&h(ve)},{selectorToWatch:`#${z}`,skipWhen:!O});const Z=typeof v<"u"&&v!==null?v:A,re=ve=>ve&&typeof ve=="object"&&ve.value?C.jsx(UY,{tabIndex:-1,disabled:r,icon:C.jsx(Fs,{width:`${14/16}rem`,height:`${14/16}rem`}),onClick:B(ve.value),children:ve.textValue},ve.value):null,{error:ue,...Q}=Mn("MultiSelect"),ie=!!ue||i,q=Q.id??o,le=Q.name??s,he=Q.required??m;let Oe;return ue?Oe=`${q}-error`:Q.hint&&(Oe=`${q}-hint`),C.jsxs(TA,{onOpenChange:F,disabled:r,required:he,onValueChange:L,value:Z,...$,multi:!0,children:[C.jsx(MA,{ref:S,id:q,name:le,"aria-label":$["aria-label"],"aria-describedby":Oe??$["aria-describedby"],startIcon:x,hasError:ie,disabled:r,clearLabel:e,onClear:Z?.length?c:void 0,withTags:!!(w&&(Z?.length??!1)),size:b,children:C.jsx(PA,{placeholder:d,textColor:Z?.length?"neutral800":"neutral600",children:Z?.length?w?re:t?t(Z):void 0:void 0})}),C.jsx(OA,{children:C.jsx(DA,{position:"popper",sideOffset:4,onCloseAutoFocus:f,children:C.jsxs(IA,{ref:E,children:[n,C.jsx(xe,{id:z,width:"100%",height:"1px"})]})})})]})});const qY=p.forwardRef(({value:n,children:e,startIcon:t,...r},i)=>C.jsxs(z0,{ref:i,value:n.toString(),...r,children:[t&&C.jsx(xe,{tag:"span","aria-hidden":!0,children:t}),C.jsx(_A,{children:({isSelected:o,isIntermediate:s})=>C.jsx(V0,{checked:s?"indeterminate":o})}),C.jsx(Be,{children:C.jsx(LA,{children:e})})]}));p.forwardRef(({children:n,label:e,startIcon:t,values:r=[],...i},o)=>C.jsxs(OG,{ref:o,children:[C.jsxs(z0,{value:r,...i,children:[t&&C.jsx(xe,{tag:"span","aria-hidden":!0,children:t}),C.jsx(_A,{children:({isSelected:s,isIntermediate:a})=>C.jsx(V0,{checked:a?"indeterminate":s})}),C.jsx(Be,{children:e})]}),n]}));V(qY)`
  padding-left: ${({theme:n})=>n.spaces[7]};
`;const GY="23.2rem";p.forwardRef(({...n},e)=>C.jsx(YY,{ref:e,...n,tag:"nav"}));const YY=V(xe)`
  width: ${GY};
  background: ${({theme:n})=>n.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:n})=>n.colors.neutral200};
  z-index: 1;
`;V(cY)`
  width: 2.4rem;
  background-color: ${({theme:n})=>n.colors.neutral200};
`;on(({active:n,children:e,icon:t=null,withBullet:r=!1,isSubSectionChild:i=!1,...o},s)=>C.jsxs(XY,{background:"neutral100",paddingLeft:i?9:7,paddingBottom:2,paddingTop:2,ref:s,...o,children:[C.jsxs(be,{children:[t?C.jsx(ZY,{children:t}):C.jsx(Xm,{$active:n}),C.jsx(Be,{paddingLeft:2,children:e})]}),r&&C.jsx(be,{paddingRight:4,children:C.jsx(Xm,{$active:!0})})]}));const Xm=V.span`
  width: 0.4rem;
  height: 0.4rem;
  background-color: ${({theme:n,$active:e})=>e?n.colors.primary600:n.colors.neutral600};
  border-radius: 50%;
`,XY=V(_l)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:n})=>n.colors.neutral800};
  svg > * {
    fill: ${({theme:n})=>n.colors.neutral600};
  }

  &.active {
    ${({theme:n})=>Te`
        background-color: ${n.colors.primary100};
        border-right: 2px solid ${n.colors.primary600};
        color: ${n.colors.primary700};
        font-weight: 500;
      `}

    ${Xm} {
      background-color: ${({theme:n})=>n.colors.primary600};
    }
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,ZY=V.div`
  svg {
    height: 1.6rem;
    width: 1.6rem;
  }
`;V.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`;V(xe)`
  & > svg {
    height: 0.4rem;
    fill: ${({theme:n})=>n.colors.neutral500};
  }
`;p.forwardRef(({visibleLabels:n,onLabel:e="On",offLabel:t="Off",onCheckedChange:r,checked:i,defaultChecked:o,disabled:s,...a},c)=>{const[f,h]=$r({prop:i,defaultProp:o}),d=m=>{h(m)};return C.jsxs(be,{gap:3,children:[C.jsx(QY,{ref:c,onCheckedChange:fo(r,d),checked:f,disabled:s,...a,children:C.jsx(JY,{})}),n?C.jsx(eX,{"aria-hidden":!0,"data-disabled":s,"data-state":f?"checked":"unchecked",children:f?e:t}):null]})});const QY=V(XU)`
  width: 4rem;
  height: 2.4rem;
  border-radius: 1.2rem;
  background-color: ${({theme:n})=>n.colors.danger500};

  &[data-state='checked'] {
    background-color: ${({theme:n})=>n.colors.success500};
  }

  &[data-disabled] {
    background-color: ${({theme:n})=>n.colors.neutral300};
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: ${n=>n.theme.transitions.backgroundColor};
  }
`,JY=V(ZU)`
  display: block;
  height: 1.6rem;
  width: 1.6rem;
  border-radius: 50%;
  background-color: ${({theme:n})=>n.colors.neutral0};
  transform: translateX(4px);

  &[data-state='checked'] {
    transform: translateX(20px);
  }

  @media (prefers-reduced-motion: no-preference) {
    transition: transform ${n=>n.theme.motion.timings[120]}
      ${n=>n.theme.motion.easings.authenticMotion};
  }
`,eX=V(Be)`
  color: ${n=>n.theme.colors.danger600};

  &[data-state='checked'] {
    color: ${n=>n.theme.colors.success600};
  }

  &[data-disabled='true'] {
    color: ${({theme:n})=>n.colors.neutral500};
  }
`,[tX,H0]=Qs("Tabs");p.forwardRef(({disabled:n=!1,variant:e="regular",hasError:t,...r},i)=>C.jsx(tX,{disabled:n,hasError:t,variant:e,children:C.jsx(nX,{ref:i,...r})}));const nX=V(aK)`
  width: 100%;
  position: relative;
`;p.forwardRef((n,e)=>{const{variant:t}=H0("List");return C.jsx(rX,{ref:e,...n,$variant:t})});const rX=V(lK)`
  display: flex;
  align-items: ${n=>n.$variant==="regular"?"flex-end":"unset"};
  position: relative;
  z-index: 0;
`;p.forwardRef(({children:n,disabled:e,...t},r)=>{const{disabled:i,variant:o,hasError:s}=H0("Trigger"),a=i===!0||i===t.value||e,c=s===t.value;return C.jsxs(iX,{ref:r,...t,$hasError:c,$variant:o,disabled:a,children:[C.jsx(KA,{fontWeight:"bold",variant:o==="simple"?"sigma":void 0,children:n}),o==="simple"?C.jsx(UA,{}):null]})});const UA=V.span`
  display: block;
  width: 100%;
  background-color: currentColor;
  position: absolute;
  bottom: 0;
  left: 0;
  opacity: 0;
  height: 0.2rem;
`,KA=V(Be)``,iX=V(cK)`
  position: relative;
  color: ${n=>n.$hasError?n.theme.colors.danger600:n.theme.colors.neutral600};
  cursor: pointer;
  z-index: 0;

  ${n=>n.$variant==="simple"?Te`
        padding-block: ${e=>e.theme.spaces[4]};
        padding-inline: ${e=>e.theme.spaces[4]};

        & > ${KA} {
          line-height: 1.2rem;
        }

        &[data-state='active'] {
          color: ${n.$hasError?n.theme.colors.danger600:n.theme.colors.primary700};

          & > ${UA} {
            opacity: 1;
          }
        }
      `:Te`
        padding-block: ${e=>e.theme.spaces[3]};
        padding-inline: ${e=>e.theme.spaces[3]};
        flex: 1;
        background-color: ${e=>e.theme.colors.neutral100};
        border-bottom: solid 1px ${e=>e.theme.colors.neutral150};

        &:not([data-state='active']) + &:not([data-state='active']) {
          border-left: solid 1px ${e=>e.theme.colors.neutral150};
        }

        &[data-state='active'] {
          padding-block: ${e=>e.theme.spaces[4]};
          padding-inline: ${e=>e.theme.spaces[4]};
          color: ${n.$hasError?n.theme.colors.danger600:n.theme.colors.primary700};
          border-top-right-radius: ${e=>e.theme.borderRadius};
          border-top-left-radius: ${e=>e.theme.borderRadius};
          background-color: ${e=>e.theme.colors.neutral0};
          border-bottom: solid 1px ${e=>e.theme.colors.neutral0};
          box-shadow: ${n.theme.shadows.tableShadow};
          z-index: 1;
        }
      `}

  &[data-disabled] {
    cursor: not-allowed;
    color: ${n=>n.theme.colors.neutral400};
  }
`;p.forwardRef((n,e)=>{const{variant:t}=H0("Content");return C.jsx(oX,{$variant:t,ref:e,...n})});const oX=V(uK)`
  ${n=>n.$variant==="simple"?Te``:Te`
        position: relative;
        z-index: 1;
        background-color: ${e=>e.theme.colors.neutral0};
      `}
`,sX=V(xe)`
  overflow: hidden;
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
`,aX=V(LY)`
  width: 100%;
  white-space: nowrap;
`,lX=V(xe)`
  &:before {
    // TODO: make sure to add a token for this weird stuff
    background: linear-gradient(90deg, #c0c0cf 0%, rgba(0, 0, 0, 0) 100%);
    opacity: 0.2;
    position: absolute;
    height: 100%;
    content: ${({$overflowing:n})=>n==="both"||n==="left"?"''":void 0};
    box-shadow: ${({theme:n})=>n.shadows.tableShadow};
    width: ${({theme:n})=>n.spaces[2]};
    left: 0;
  }

  &:after {
    // TODO: make sure to add a token for this weird stuff
    background: linear-gradient(270deg, #c0c0cf 0%, rgba(0, 0, 0, 0) 100%);
    opacity: 0.2;
    position: absolute;
    height: 100%;
    content: ${({$overflowing:n})=>n==="both"||n==="right"?"''":void 0};
    box-shadow: ${({theme:n})=>n.shadows.tableShadow};
    width: ${({theme:n})=>n.spaces[2]};
    right: 0;
    top: 0;
  }
`,cX=V(xe)`
  overflow-x: auto;
`;p.forwardRef(({footer:n,...e},t)=>{const r=p.useRef(null),[i,o]=p.useState(),s=a=>{const c=a.target.scrollWidth-a.target.clientWidth;if(a.target.scrollLeft===0){o("right");return}if(a.target.scrollLeft===c){o("left");return}a.target.scrollLeft>0&&o("both")};return p.useEffect(()=>{r.current.scrollWidth>r.current.clientWidth&&o("right")},[]),C.jsxs(sX,{shadow:"tableShadow",hasRadius:!0,background:"neutral0",children:[C.jsx(lX,{$overflowing:i,position:"relative",children:C.jsx(cX,{ref:r,onScroll:s,paddingLeft:6,paddingRight:6,children:C.jsx(aX,{ref:t,...e})})}),n]})});V(FY)`
  & tr:last-of-type {
    border-bottom: none;
  }
`;V(BY)`
  border-bottom: 1px solid ${({theme:n})=>n.colors.neutral150};
`;V(VY)`
  border-bottom: 1px solid ${({theme:n})=>n.colors.neutral150};

  & td,
  & th {
    padding: ${({theme:n})=>n.spaces[4]};
  }

  & td:first-of-type,
  & th:first-of-type {
    padding: 0 ${({theme:n})=>n.spaces[1]};
  }

  // Resetting padding values and fixing a height
  th {
    padding-top: 0;
    padding-bottom: 0;
    height: 5.6rem;
  }
`;const qA=V(jA)`
  vertical-align: middle;
  text-align: left;
  outline-offset: -4px;

  /**
  * Hack to make sure the checkbox looks aligned
  */
  input {
    vertical-align: sub;
  }
`;p.forwardRef(({children:n,action:e,...t},r)=>C.jsx(qA,{color:"neutral600",as:NY,ref:r,...t,children:C.jsxs(be,{children:[n,e]})}));p.forwardRef(({children:n,...e},t)=>C.jsx(qA,{color:"neutral800",ref:t,...e,children:n}));V(xe)`
  height: 2.4rem;
  width: 2.4rem;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;

  svg {
    height: 1rem;
    width: 1rem;
  }

  svg path {
    fill: ${({theme:n})=>n.colors.primary600};
  }
`;V(xe)`
  border-radius: 0 0 ${({theme:n})=>n.borderRadius} ${({theme:n})=>n.borderRadius};
  display: block;
  width: 100%;
  border: none;
`;on(({children:n,startIcon:e,endIcon:t,disabled:r=!1,loading:i=!1,type:o="button",...s},a)=>{const c=r||i;return C.jsxs(hX,{ref:a,disabled:c,"aria-disabled":c,tag:"button",type:o,gap:2,...s,children:[i?C.jsx(fX,{"aria-hidden":!0,children:C.jsx(jw,{})}):e,C.jsx(Be,{variant:"pi",children:n}),t]})});const uX=Ut`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,fX=V.span`
  display: flex;
  animation: ${uX} 2s infinite linear;
  will-change: transform;
`,hX=V(be)`
  border: none;
  background-color: transparent;
  color: ${n=>n.theme.colors.primary600};
  cursor: pointer;

  &[aria-disabled='true'] {
    pointer-events: none;
    color: ${n=>n.theme.colors.neutral600};
  }

  ${sh}
`,dX=p.forwardRef((n,e)=>C.jsx(W0,{ref:e,...n}));dX.displayName="TextInput";p.forwardRef(({disabled:n,hasError:e,id:t,name:r,required:i,resizable:o=!0,...s},a)=>{const{error:c,...f}=Mn("Textarea"),h=!!c||e,d=f.id??t,m=f.name??r,b=f.required||i;let x;return c?x=`${d}-error`:f.hint&&(x=`${d}-hint`),C.jsx(pX,{borderColor:h?"danger600":"neutral200",$hasError:h,hasRadius:!0,children:C.jsx(mX,{"aria-invalid":h,"aria-required":b,tag:"textarea",background:n?"neutral150":"neutral0",color:n?"neutral600":"neutral800",disabled:n,fontSize:2,hasRadius:!0,ref:a,lineHeight:4,padding:4,width:"100%",height:"100%",id:d,name:m,"aria-describedby":x,$resizable:o,...s})})});const pX=V(xe)`
  ${Ki()}
`,mX=V(xe)`
  display: block;
  border: none;
  resize: ${({$resizable:n})=>n?"vertical":"none"};
  min-height: ${({minHeight:n})=>n||"10.5rem"};

  &::placeholder {
    color: ${({theme:n})=>n.colors.neutral600};
    font-size: ${({theme:n})=>n.fontSizes[2]};
    opacity: 1;
  }

  &:focus-within {
    outline: none;
  }

  &:disabled {
    cursor: not-allowed;
  }
`;p.forwardRef(({offLabel:n,onLabel:e,disabled:t,hasError:r,required:i,id:o,name:s,checked:a,onChange:c,...f},h)=>{const[d=!1,m]=$r({prop:a}),b=d!==null&&!d,{error:x,...v}=Mn("Toggle"),w=!!x||r,$=v.id??o,S=v.name??s,E=v.required||i;let A;return x?A=`${$}-error`:v.hint&&(A=`${$}-hint`),C.jsxs(gX,{position:"relative",hasRadius:!0,padding:1,background:t?"neutral150":"neutral100",borderStyle:"solid",borderWidth:"1px",borderColor:w?"danger600":"neutral200",wrap:"wrap",cursor:t?"not-allowed":"pointer",$hasError:w,children:[C.jsx(Ww,{hasRadius:!0,flex:"1 1 50%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,justifyContent:"center",background:t&&b?"neutral200":b?"neutral0":"transparent",borderColor:t&&b?"neutral300":b?"neutral200":t?"neutral150":"neutral100",children:C.jsx(Be,{variant:"pi",fontWeight:"bold",textTransform:"uppercase",textColor:t?"neutral700":b?"danger700":"neutral600",children:n})}),C.jsx(Ww,{hasRadius:!0,flex:"1 1 50%",paddingLeft:3,paddingRight:3,justifyContent:"center",background:t&&d?"neutral200":d?"neutral0":"transparent",borderColor:t&&d?"neutral300":d?"neutral200":t?"neutral150":"neutral100",children:C.jsx(Be,{variant:"pi",fontWeight:"bold",textTransform:"uppercase",textColor:t?"neutral700":d?"primary600":"neutral600",children:e})}),C.jsx(bX,{...f,id:$,name:S,ref:h,onChange:T=>{m(T.currentTarget.checked),c?.(T)},type:"checkbox","aria-required":E,disabled:t,"aria-disabled":t,checked:!!d,"aria-describedby":A})]})});const gX=V(be)`
  ${Ki()}
`,Ww=V(be)`
  padding-block: 0.6rem;
`,bX=V.input`
  height: 100%;
  left: 0;
  opacity: 0;
  position: absolute;
  top: 0;
  z-index: 0;
  width: 100%;
`;var vX=function(n){console.error(n)},xX=function(n){console.warn(n)},yX={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:vX,onWarn:xX};function wX(n,e,t){if(t===void 0&&(t=Error),!n)throw new t(e)}function CX(n){wX(n,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}qe(qe({},yX),{textComponent:p.Fragment});var GA={exports:{}},tt={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,a=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,x=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,$=n?Symbol.for("react.responder"):60118,S=n?Symbol.for("react.scope"):60119;function E(te){return typeof te=="string"||typeof te=="function"||te===r||te===f||te===o||te===i||te===d||te===m||typeof te=="object"&&te!==null&&(te.$$typeof===x||te.$$typeof===b||te.$$typeof===s||te.$$typeof===a||te.$$typeof===h||te.$$typeof===w||te.$$typeof===$||te.$$typeof===S||te.$$typeof===v)}function A(te){if(typeof te=="object"&&te!==null){var at=te.$$typeof;switch(at){case e:var Re=te.type;switch(Re){case c:case f:case r:case o:case i:case d:return Re;default:var Ie=Re&&Re.$$typeof;switch(Ie){case a:case h:case x:case b:case s:return Ie;default:return at}}case t:return at}}}var T=c,O=f,P=a,L=s,B=e,F=h,K=r,z=x,ee=b,Z=t,re=o,ue=i,Q=d,ie=!1;function q(te){return ie||(ie=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),le(te)||A(te)===c}function le(te){return A(te)===f}function he(te){return A(te)===a}function Oe(te){return A(te)===s}function ve(te){return typeof te=="object"&&te!==null&&te.$$typeof===e}function Ue(te){return A(te)===h}function Ee(te){return A(te)===r}function ze(te){return A(te)===x}function de(te){return A(te)===b}function Ae(te){return A(te)===t}function ke(te){return A(te)===o}function _e(te){return A(te)===i}function Le(te){return A(te)===d}tt.AsyncMode=T,tt.ConcurrentMode=O,tt.ContextConsumer=P,tt.ContextProvider=L,tt.Element=B,tt.ForwardRef=F,tt.Fragment=K,tt.Lazy=z,tt.Memo=ee,tt.Portal=Z,tt.Profiler=re,tt.StrictMode=ue,tt.Suspense=Q,tt.isAsyncMode=q,tt.isConcurrentMode=le,tt.isContextConsumer=he,tt.isContextProvider=Oe,tt.isElement=ve,tt.isForwardRef=Ue,tt.isFragment=Ee,tt.isLazy=ze,tt.isMemo=de,tt.isPortal=Ae,tt.isProfiler=ke,tt.isStrictMode=_e,tt.isSuspense=Le,tt.isValidElementType=E,tt.typeOf=A})();GA.exports=tt;var $X=GA.exports,YA=$X,SX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kX={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XA={};XA[YA.ForwardRef]=SX;XA[YA.Memo]=kX;var U0=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=p.createContext(null)):p.createContext(null);U0.Consumer;U0.Provider;var EX=U0;function K0(){var n=p.useContext(EX);return CX(n),n}var Zm;(function(n){n.formatDate="FormattedDate",n.formatTime="FormattedTime",n.formatNumber="FormattedNumber",n.formatList="FormattedList",n.formatDisplayName="FormattedDisplayName"})(Zm||(Zm={}));var Qm;(function(n){n.formatDate="FormattedDateParts",n.formatTime="FormattedTimeParts",n.formatNumber="FormattedNumberParts",n.formatList="FormattedListParts"})(Qm||(Qm={}));function ZA(n){var e=function(t){var r=K0(),i=t.value,o=t.children,s=Vi(t,["value","children"]),a=typeof i=="string"?new Date(i||0):i,c=n==="formatDate"?r.formatDateToParts(a,s):r.formatTimeToParts(a,s);return o(c)};return e.displayName=Qm[n],e}function Fl(n){var e=function(t){var r=K0(),i=t.value,o=t.children,s=Vi(t,["value","children"]),a=r[n](i,s);if(typeof o=="function")return o(a);var c=r.textComponent||p.Fragment;return p.createElement(c,null,a)};return e.displayName=Zm[n],e}Fl("formatDate");Fl("formatTime");Fl("formatNumber");Fl("formatList");Fl("formatDisplayName");ZA("formatDate");ZA("formatTime");const AX=n=>`${V6}.${n}`,RX=()=>{const{formatMessage:n}=K0(),[e,t]=p.useState(null),[r,i]=p.useState(!1),[o,s]=p.useState(""),a=f=>{f.target.files&&f.target.files.length>0&&t(f.target.files[0])},c=async()=>{if(!e){s("Please select a file first.");return}i(!0),s("");const f=new FormData;f.append("file",e);try{const h=await fetch("/api/vetgroup-product/upload",{method:"POST",body:f});if(!h.ok)throw new Error("Upload failed");const d=await h.json();s(JSON.stringify(d.message)||"File uploaded successfully!")}catch(h){s(`Error uploading file. Please try again. ${h}`)}finally{i(!1)}};return C.jsxs(gY,{children:[C.jsxs(xe,{padding:6,children:[C.jsxs(Be,{variant:"alpha",children:["Welcome to"," ",n({id:AX("plugin.name"),defaultMessage:"VetGroup Product Sync"})]}),C.jsx(xe,{paddingTop:4,children:C.jsx("input",{type:"file",accept:".csv",onChange:a,disabled:r})}),C.jsx(xe,{paddingTop:4,children:C.jsx(dl,{onClick:c,loading:r,children:"Upload"})}),o&&C.jsx(xe,{paddingTop:4,children:C.jsx(Be,{variant:"epsilon",children:o})})]}),C.jsx(dl,{variant:"secondary",onClick:async()=>{i(!0),s("");try{const h=await(await fetch("/api/vetgroup-product/sync",{method:"GET"})).json();s(h.message||"Sync completed successfully")}catch(f){s("Sync failed: "+f)}finally{i(!1)}},children:"Sync with 1C"})]})},TX=()=>C.jsx("div",{children:"Page Not Found"}),sZ=()=>C.jsxs(F6,{children:[C.jsx(C1,{index:!0,element:C.jsx(RX,{})}),C.jsx(C1,{path:"*",element:C.jsx(TX,{})})]});export{sZ as default};
